bplist00Ó ˆ_WebSubframeArchives_WebSubresources_WebMainResource¤ÑÕ	
_WebResourceMIMEType_WebResourceTextEncodingName_WebResourceFrameName^WebResourceURL_WebResourceDataYtext/htmlUUTF-8_fb_xdm_frame_https_thttps://staticxx.facebook.com/connect/xd_arbiter.php?version=42#channel=f2cbd50d0&origin=https%3A%2F%2Fworkflowy.comO„-<!DOCTYPE html><html><head><title>Facebook Cross-Domain Messaging helper</title></head><body><script>document.domain = 'facebook.com';__transform_includes = {};function emptyFunction() {};if(!Array.from)Array.from=function(a){if(a==null)throw new TypeError('Object is null or undefined');var b=arguments[1],c=arguments[2],d=this,e=Object(a),f=typeof Symbol==='function'?typeof Symbol==='function'?Symbol.iterator:'@@iterator':'@@iterator',g=typeof b==='function',h=typeof e[f]==='function',i=0,j,k;if(h){j=typeof d==='function'?new d():[];var l=e[f](),m;while(!(m=l.next()).done){k=m.value;if(g)k=b.call(c,k,i);j[i]=k;i+=1;}j.length=i;return j;}var n=e.length;if(isNaN(n)||n<0)n=0;j=typeof d==='function'?new d(n):new Array(n);while(i<n){k=e[i];if(g)k=b.call(c,k,i);j[i]=k;i+=1;}j.length=i;return j;};
if(!Array.isArray)Array.isArray=function(a){return Object.prototype.toString.call(a)=='[object Array]';};
self.__DEV__=self.__DEV__||0;
(function(a){function b(c,d){if(this==null)throw new TypeError('Array.prototype.findIndex called on null or undefined');if(typeof c!=='function')throw new TypeError('predicate must be a function');var e=Object(this),f=e.length>>>0;for(var g=0;g<f;g++)if(c.call(d,e[g],g,e))return g;return -1;}if(!Array.prototype.findIndex)Array.prototype.findIndex=b;if(!Array.prototype.find)Array.prototype.find=function(c,d){if(this==null)throw new TypeError('Array.prototype.find called on null or undefined');var e=b.call(this,c,d);return e===-1?a:this[e];};if(!Array.prototype.fill)Array.prototype.fill=function(c){if(this==null)throw new TypeError('Array.prototype.fill called on null or undefined');var d=Object(this),e=d.length>>>0,f=arguments[1],g=f>>0,h=g<0?Math.max(e+g,0):Math.min(g,e),i=arguments[2],j=i===a?e:i>>0,k=j<0?Math.max(e+j,0):Math.min(j,e);while(h<k){d[h]=c;h++;}return d;};})();
(function(){var a=Object.prototype.toString,b=Object("a"),c=b[0]!="a";function d(e){e=+e;if(e!==e){e=0;}else if(e!==0&&e!==1/0&&e!==-(1/0))e=(e>0||-1)*Math.floor(Math.abs(e));return e;}if(!Array.prototype.map)Array.prototype.map=function(e,f){if(typeof e!='function')throw new TypeError();var g,h=this.length,i=new Array(h);for(g=0;g<h;++g)if(g in this)i[g]=e.call(f,this[g],g,this);return i;};if(!Array.prototype.forEach)Array.prototype.forEach=function(e,f){this.map(e,f);};if(!Array.prototype.filter)Array.prototype.filter=function(e,f){if(typeof e!='function')throw new TypeError();var g,h,i=this.length,j=[];for(g=0;g<i;++g)if(g in this){h=this[g];if(e.call(f,h,g,this))j.push(h);}return j;};if(!Array.prototype.every)Array.prototype.every=function(e,f){if(typeof e!='function')throw new TypeError();var g=new Object(this),h=g.length;for(var i=0;i<h;i++)if(i in g)if(!e.call(f,g[i],i,g))return false;return true;};if(!Array.prototype.some)Array.prototype.some=function(e,f){if(typeof e!='function')throw new TypeError();var g=new Object(this),h=g.length;for(var i=0;i<h;i++)if(i in g)if(e.call(f,g[i],i,g))return true;return false;};if(!Array.prototype.indexOf)Array.prototype.indexOf=function(e,f){var g=this.length;f|=0;if(f<0)f+=g;for(;f<g;f++)if(f in this&&this[f]===e)return f;return -1;};if(!Array.prototype.lastIndexOf||[0,1].lastIndexOf(0,-3)!=-1)Array.prototype.lastIndexOf=function(e){var f=c&&a.call(this)=="[object String]"?this.split(""):Object(this),g=f.length>>>0;if(!g)return -1;var h=g-1;if(arguments.length>1)h=Math.min(h,d(arguments[1]));h=h>=0?h:g-Math.abs(h);for(;h>=0;h--)if(h in f&&e===f[h])return h;return -1;};if(!Array.prototype.reduce)Array.prototype.reduce=function(e){if(typeof e!=='function')throw new TypeError(e+' is not a function');var f=this.length>>>0,g,h,i=arguments.length===2;if(i)g=arguments[1];for(h=0;h<f;++h)if(this.hasOwnProperty(h))if(i===false){g=this[h];i=true;}else g=e(g,this[h],h,this);if(i===false)throw new TypeError('Reduce of empty array with no initial value');return g;};if(!Array.prototype.reduceRight)Array.prototype.reduceRight=function(e){if(typeof e!=='function')throw new TypeError(e+' is not a function');var f=this.length>>>0,g,h,i=arguments.length===2;if(i)g=arguments[1];for(h=f-1;h>-1;--h)if(this.hasOwnProperty(h))if(i===false){g=this[h];i=true;}else g=e(g,this[h],h,this);if(i===false)throw new TypeError('Reduce of empty array with no initial value');return g;};})();
if(!Date.now)Date.now=function(){return new Date().getTime();};
(function(){if(!Date.prototype.toISOString){var a=function(b){if(b<10)return '0'+b;return b;};Date.prototype.toISOString=function(){if(!isFinite(this))throw new Error('Invalid time value');var b=this.getUTCFullYear();b=(b<0?'-':b>9999?'+':'')+('00000'+Math.abs(b)).slice(0<=b&&b<=9999?-4:-6);return b+'-'+a(this.getUTCMonth()+1)+'-'+a(this.getUTCDate())+'T'+a(this.getUTCHours())+':'+a(this.getUTCMinutes())+':'+a(this.getUTCSeconds())+'.'+(this.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+'Z';};}})();
if(!Function.prototype.bind)Function.prototype.bind=function(a){if(typeof this!='function')throw new TypeError('Bind must be called on a function');var b=this,c=Array.prototype.slice,d=c.call(arguments,1);function e(){var f=b.prototype&&this instanceof b;return b.apply(!f&&a||this,d.concat(c.call(arguments)));}e.prototype=b.prototype;e.displayName='bound:'+(b.displayName||b.name||'(?)');e.toString=function f(){return 'bound: '+b;};return e;};

(function(){var a={},b=function(i,j){if(!i&&!j)return null;var k={};if(typeof i!=='undefined')k.type=i;if(typeof j!=='undefined')k.signature=j;return k;},c=function(i,j){return b(i&&/^[A-Z]/.test(i)?i:undefined,j&&(j.params&&j.params.length||j.returns)?'function('+(j.params?j.params.map(function(k){return (/\?/.test(k)?'?'+k.replace('?',''):k);}).join(','):'')+')'+(j.returns?':'+j.returns:''):undefined);},d=function(i,j,k){return i;},e=function(i,j,k){if('sourcemeta' in __transform_includes)i.__SMmeta=j;if('typechecks' in __transform_includes){var l=c(j?j.name:undefined,k);if(l)__w(i,l);}return i;},f=function(i,j,k){return k.apply(i,j);},g=function(i,j,k,l){if(l&&l.params)__t.apply(i,l.params);var m=k.apply(i,j);if(l&&l.returns)__t([m,l.returns]);return m;},h=function(i,j,k,l,m){if(m){if(!m.callId)m.callId=m.module+':'+(m.line||0)+':'+(m.column||0);var n=m.callId;a[n]=(a[n]||0)+1;}return k.apply(i,j);};if(typeof __transform_includes==='undefined'){__annotator=d;__bodyWrapper=f;}else{__annotator=e;if('codeusage' in __transform_includes){__annotator=d;__bodyWrapper=h;__bodyWrapper.getCodeUsage=function(){return a;};__bodyWrapper.clearCodeUsage=function(){a={};};}else if('typechecks' in __transform_includes){__bodyWrapper=g;}else __bodyWrapper=f;}})();
var JSON;if(!JSON)JSON={};(function(){'use strict';function f(n){return n<10?'0'+n:n;}if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'Z':null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function')value=value.toJSON(key);if(typeof rep==='function')value=rep.call(holder,key,value);switch(typeof value){case 'string':return quote(value);case 'number':return isFinite(value)?String(value):'null';case 'boolean':case 'null':return String(value);case 'object':if(!value)return 'null';gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1)partial[i]=str(i,value)||'null';v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v;}if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1)if(typeof rep[i]==='string'){k=rep[i];v=str(k,value);if(v)partial.push(quote(k)+(gap?': ':':')+v);}}else for(k in value)if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v)partial.push(quote(k)+(gap?': ':':')+v);}v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}if(typeof JSON.stringify!=='function')JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1)indent+=' ';}else if(typeof space==='string')indent=space;rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number'))throw new Error('JSON.stringify');return str('',{'':value});};if(typeof JSON.parse!=='function')JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object')for(k in value)if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else delete value[k];}return reviver.call(holder,key,value);}text=String(text);cx.lastIndex=0;if(cx.test(text))text=text.replace(cx,function(a){return '\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);});if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}throw new SyntaxError('JSON.parse');};})();
if(JSON.stringify(["\u2028\u2029"])==='["\u2028\u2029"]')JSON.stringify=(function(a){var b=/\u2028/g,c=/\u2029/g;return function d(e,f,g){var h=a.call(this,e,f,g);if(h){if(-1<h.indexOf('\u2028'))h=h.replace(b,'\\u2028');if(-1<h.indexOf('\u2029'))h=h.replace(c,'\\u2029');}return h;};})(JSON.stringify);
if(typeof JSON==='object'&&typeof JSON.parse==='function')try{JSON.parse(null);}catch(e){JSON.originalParse=JSON.parse;JSON.parse=function(a){return a===null?null:JSON.originalParse(a);};}
if(typeof Math.log2!=='function')Math.log2=function(a){return Math.log(a)/Math.LN2;};if(typeof Math.log10!=='function')Math.log10=function(a){return Math.log(a)/Math.LN10;};
if(typeof Number.isFinite!=='function')Number.isFinite=function(a){return typeof a==='number'&&isFinite(a);};if(typeof Number.isNaN!=='function')Number.isNaN=function(a){return typeof a==='number'&&isNaN(a);};if(typeof Number.EPSILON!=='number')Number.EPSILON=Math.pow(2,-52);if(typeof Number.MAX_SAFE_INTEGER!=='number')Number.MAX_SAFE_INTEGER=Math.pow(2,53)-1;if(typeof Number.MIN_SAFE_INTEGER!=='number')Number.MIN_SAFE_INTEGER=-1*Number.MAX_SAFE_INTEGER;if(typeof Number.isInteger!=='function')Number.isInteger=function(a){return Number.isFinite(a)&&Math.floor(a)===a;};if(typeof Number.isSafeInteger!=='function')Number.isSafeInteger=function(a){return Number.isFinite(a)&&a>=Number.MIN_SAFE_INTEGER&&a<=Number.MAX_SAFE_INTEGER&&Math.floor(a)===a;};
(function(){var a=!({toString:true}).propertyIsEnumerable('toString');if(!a)return;var b=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','constructor'];Object.keys=function(c){var d=typeof c;if(d!='object'&&d!='function'||c===null)throw new TypeError('Object.keys called on non-object');var e=Object.prototype.hasOwnProperty,f=[];for(var g in c)if(e.call(c,g))f.push(g);for(var h=0;h<b.length;h++){var i=b[h];if(e.call(c,i))f.push(i);}return f;};Object.assign=function(c,d){if(c==null)throw new TypeError('Object.assign target cannot be null or undefined');var e=Object(c),f=Object.prototype.hasOwnProperty;for(var g=1;g<arguments.length;g++){var h=arguments[g];if(h==null)continue;var i=Object(h);for(var j in i)if(f.call(i,j))e[j]=i[j];for(var k=0;k<b.length;k++){var l=b[k];if(f.call(i,l))e[l]=i[l];}}return e;};})();
if(!Object.create)Object.create=function(a){var b=typeof a;if(b!='object'&&b!='function')throw new TypeError('Object prototype may only be a Object or null');var c=function(){if(a===null){this.__proto__=a;delete this.__proto__;}};c.prototype=a;return new c();};if(!Object.keys)Object.keys=function a(b){var c=typeof b;if(c!='object'&&c!='function'||b===null)throw new TypeError('Object.keys called on non-object');var d=Object.prototype.hasOwnProperty,e=[];for(var f in b)if(d.call(b,f))e.push(f);return e;};if(!Object.freeze)Object.freeze=function(a){return a;};if(!Object.seal)Object.seal=function(a){return a;};
(function(){if(Object.assign)return;var a=Object.prototype.hasOwnProperty,b;if(Object.keys&&Object.keys.name!=='object_keys_polyfill'){b=function(c,d){var e=Object.keys(d);for(var f=0;f<e.length;f++)c[e[f]]=d[e[f]];};}else b=function(c,d){for(var e in d)if(a.call(d,e))c[e]=d[e];};Object.assign=function(c,d){if(c==null)throw new TypeError('Object.assign target cannot be null or undefined');var e=Object(c);for(var f=1;f<arguments.length;f++){var g=arguments[f];if(g!=null)b(e,Object(g));}return e;};})();
(function(){var a=Object.prototype.hasOwnProperty;if(typeof Object.entries!=='function')Object.entries=function(b){if(b==null)throw new TypeError('Object.entries called on non-object');var c=[];for(var d in b)if(a.call(b,d))c.push([d,b[d]]);return c;};if(typeof Object.values!=='function')Object.values=function(b){if(b==null)throw new TypeError('Object.values called on non-object');var c=[];for(var d in b)if(a.call(b,d))c.push(b[d]);return c;};})();
(function(){if(!Object.is)Object.is=function(a,b){if(a===b){return a!==0||1/a===1/b;}else return a!==a&&b!==b;};})();
if(({}).hasOwnProperty('__proto__'))Object.prototype.hasOwnProperty=(function(a){return function b(c){return c!='__proto__'&&a.call(this,c);};})(Object.prototype.hasOwnProperty);
(function(a){a.__m=function(b,c){b.__SMmeta=c;return b;};})(this);
if(typeof String.fromCodePoint!=='function')String.fromCodePoint=function(){'use strict';var a=[];for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];for(var e=0;e<c.length;e++){var f=Number(c[e]);if(!isFinite(f)||Math.floor(f)!=f||f<0||1114111<f)throw RangeError('Invalid code point '+f);if(f<65536){a.push(String.fromCharCode(f));}else{f-=65536;a.push(String.fromCharCode((f>>10)+55296),String.fromCharCode(f%1024+56320));}}return a.join('');};
if(!String.prototype.startsWith)String.prototype.startsWith=function(a){"use strict";if(this==null)throw TypeError();var b=String(this),c=arguments.length>1?Number(arguments[1])||0:0,d=Math.min(Math.max(c,0),b.length);return b.indexOf(String(a),c)==d;};if(!String.prototype.endsWith)String.prototype.endsWith=function(a){"use strict";if(this==null)throw TypeError();var b=String(this),c=b.length,d=String(a),e=arguments.length>1?Number(arguments[1])||0:c,f=Math.min(Math.max(e,0),c),g=f-d.length;if(g<0)return false;return b.lastIndexOf(d,g)==g;};if(!String.prototype.contains)String.prototype.contains=function(a){"use strict";if(this==null)throw TypeError();var b=String(this),c=arguments.length>1?Number(arguments[1])||0:0;return b.indexOf(String(a),c)!=-1;};if(!String.prototype.repeat)String.prototype.repeat=function(a){"use strict";if(this==null)throw TypeError();var b=String(this);a=Number(a)||0;if(a<0||a===Infinity)throw RangeError();if(a===1)return b;var c='';while(a){if(a&1)c+=b;if(a>>=1)b+=b;}return c;};if(!String.prototype.codePointAt)String.prototype.codePointAt=function(a){'use strict';if(this==null)throw TypeError('Invalid context: '+this);var b=String(this),c=b.length;a=Number(a)||0;if(a<0||c<=a)return undefined;var d=b.charCodeAt(a);if(55296<=d&&d<=56319&&c>a+1){var e=b.charCodeAt(a+1);if(56320<=e&&e<=57343)return (d-55296)*1024+e-56320+65536;}return d;};
if(!String.prototype.trimLeft)String.prototype.trimLeft=function(){return this.replace(/^\s+/,'');};if(!String.prototype.trimRight)String.prototype.trimRight=function(){return this.replace(/\s+$/,'');};
if(!String.prototype.trim)String.prototype.trim=function(){if(this==null)throw new TypeError('String.prototype.trim called on null or undefined');return String.prototype.replace.call(this,/^\s+|\s+$/g,'');};
(function(){var a,b=String.prototype.split,c=/()??/.exec("")[1]===a;String.prototype.split=function(d,e){var f=this;if(Object.prototype.toString.call(d)!=="[object RegExp]")return b.call(f,d,e);var g=[],h=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.extended?"x":"")+(d.sticky?"y":""),i=0,d=new RegExp(d.source,h+"g"),j,k,l,m;f+="";if(!c)j=new RegExp("^"+d.source+"$(?!\\s)",h);e=e===a?-1>>>0:e>>>0;while(k=d.exec(f)){l=k.index+k[0].length;if(l>i){g.push(f.slice(i,k.index));if(!c&&k.length>1)k[0].replace(j,function(){for(var n=1;n<arguments.length-2;n++)if(arguments[n]===a)k[n]=a;});if(k.length>1&&k.index<f.length)Array.prototype.push.apply(g,k.slice(1));m=k[0].length;i=l;if(g.length>=e)break;}if(d.lastIndex===k.index)d.lastIndex++;}if(i===f.length){if(m||!d.test(""))g.push("");}else g.push(f.slice(i));return g.length>e?g.slice(0,e):g;};})();
__t=function(a){return a[0];};__w=function(a){return a;};
(function(a){var b=a.babelHelpers={},c=Object.prototype.hasOwnProperty;b.inherits=function(d,e){Object.assign(d,e);d.prototype=Object.create(e&&e.prototype);d.prototype.constructor=d;d.__superConstructor__=e;return e;};b._extends=Object.assign;b['extends']=b._extends;b.objectWithoutProperties=function(d,e){var f={};for(var g in d){if(!c.call(d,g)||e.indexOf(g)>=0)continue;f[g]=d[g];}return f;};b.taggedTemplateLiteralLoose=function(d,e){d.raw=e;return d;};b.bind=Function.prototype.bind;})(typeof global==='undefined'?self:global);
if(typeof console=='undefined')(function(){function a(){}console={log:a,info:a,warn:a,debug:a,dir:a,error:a};})();
var require,__d;(function(a){var b={},c={},d=['global','require','requireDynamic','requireLazy','module','exports'];require=function(e,f){if(c.hasOwnProperty(e))return c[e];if(!b.hasOwnProperty(e)){if(f)return null;throw new Error('Module '+e+' has not been defined');}var g=b[e],h=g.deps,i=g.factory.length,j,k=[];for(var l=0;l<i;l++){switch(h[l]){case 'module':j=g;break;case 'exports':j=g.exports;break;case 'global':j=a;break;case 'require':j=require;break;case 'requireDynamic':j=null;break;case 'requireLazy':j=null;break;default:j=require.call(null,h[l]);}k.push(j);}g.factory.apply(a,k);c[e]=g.exports;return g.exports;};require.__markCompiled=function(){};__d=function(e,f,g,h){if(typeof g=='function'){b[e]={factory:g,deps:d.concat(f),exports:{}};if(h===3)require.call(null,e);}else c[e]=g;};})(this);
__d("sprintf",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){for(var j=arguments.length,k=Array(j>1?j-1:0),l=1;l<j;l++)k[l-1]=arguments[l];var m=0;return i.replace(/%s/g,function(n){return k[m++];});}f.exports=h;},null);
__d('Log',['sprintf'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={DEBUG:3,INFO:2,WARNING:1,ERROR:0};function j(l,m){var n=Array.prototype.slice.call(arguments,2),o=h.apply(null,n),p=window.console;if(p&&k.level>=m)p[l in p?l:'log'](o);}var k={level:-1,Level:i,debug:j.bind(null,'debug',i.DEBUG),info:j.bind(null,'info',i.INFO),warn:j.bind(null,'warn',i.WARNING),error:j.bind(null,'error',i.ERROR)};f.exports=k;},null);
__d('QueryString',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(l){var m=[];Object.keys(l).sort().forEach(function(n){var o=l[n];if(typeof o==='undefined')return;if(o===null){m.push(n);return;}m.push(encodeURIComponent(n)+'='+encodeURIComponent(o));});return m.join('&');}function i(l,m){var n={};if(l==='')return n;var o=l.split('&');for(var p=0;p<o.length;p++){var q=o[p].split('=',2),r=decodeURIComponent(q[0]);if(m&&n.hasOwnProperty(r))throw new URIError('Duplicate key: '+r);n[r]=q.length===2?decodeURIComponent(q[1]):null;}return n;}function j(l,m){return l+(l.indexOf('?')!==-1?'&':'?')+(typeof m==='string'?m:k.encode(m));}var k={encode:h,decode:i,appendToUrl:j};f.exports=k;},null);
__d('wrapFunction',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};function i(j,k,l){k=k||'default';return function(){var m=k in h?h[k](j,l):j;return m.apply(this,arguments);};}i.setWrapper=function(j,k){k=k||'default';h[k]=j;};f.exports=i;},null);
__d('DOMEventListener',['wrapFunction'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;if(window.addEventListener){i=function(l,m,n){n.wrapper=h(n,'entry','DOMEventListener.add '+m);l.addEventListener(m,n.wrapper,false);};j=function(l,m,n){l.removeEventListener(m,n.wrapper,false);};}else if(window.attachEvent){i=function(l,m,n){n.wrapper=h(n,'entry','DOMEventListener.add '+m);l.attachEvent('on'+m,n.wrapper);};j=function(l,m,n){l.detachEvent('on'+m,n.wrapper);};}else j=i=function(){};var k={add:function(l,m,n){i(l,m,n);return {remove:function(){j(l,m,n);l=null;}};},remove:j};f.exports=k;},null);
__d("DOMWrapper",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h,i,j={setRoot:function(k){h=k;},getRoot:function(){return h||document.body;},setWindow:function(k){i=k;},getWindow:function(){return i||self;}};f.exports=j;},null);
__d('UserAgent_DEPRECATED',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=false,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;function x(){if(h)return;h=true;var z=navigator.userAgent,aa=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(z),ba=/(Mac OS X)|(Windows)|(Linux)/.exec(z);t=/\b(iPhone|iP[ao]d)/.exec(z);u=/\b(iP[ao]d)/.exec(z);r=/Android/i.exec(z);v=/FBAN\/\w+;/i.exec(z);w=/Mobile/i.exec(z);s=!!/Win64/.exec(z);if(aa){i=aa[1]?parseFloat(aa[1]):aa[5]?parseFloat(aa[5]):NaN;if(i&&document&&document.documentMode)i=document.documentMode;var ca=/(?:Trident\/(\d+.\d+))/.exec(z);n=ca?parseFloat(ca[1])+4:i;j=aa[2]?parseFloat(aa[2]):NaN;k=aa[3]?parseFloat(aa[3]):NaN;l=aa[4]?parseFloat(aa[4]):NaN;if(l){aa=/(?:Chrome\/(\d+\.\d+))/.exec(z);m=aa&&aa[1]?parseFloat(aa[1]):NaN;}else m=NaN;}else i=j=k=m=l=NaN;if(ba){if(ba[1]){var da=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(z);o=da?parseFloat(da[1].replace('_','.')):true;}else o=false;p=!!ba[2];q=!!ba[3];}else o=p=q=false;}var y={ie:function(){return x()||i;},ieCompatibilityMode:function(){return x()||n>i;},ie64:function(){return y.ie()&&s;},firefox:function(){return x()||j;},opera:function(){return x()||k;},webkit:function(){return x()||l;},safari:function(){return y.webkit();},chrome:function(){return x()||m;},windows:function(){return x()||p;},osx:function(){return x()||o;},linux:function(){return x()||q;},iphone:function(){return x()||t;},mobile:function(){return x()||(t||u||r||w);},nativeApp:function(){return x()||v;},android:function(){return x()||r;},ipad:function(){return x()||u;}};f.exports=y;},null);
__d('guid',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){return 'f'+(Math.random()*(1<<30)).toString(16).replace('.','');}f.exports=h;},null);
__d('htmlSpecialChars',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=/&/g,i=/</g,j=/>/g,k=/"/g,l=/'/g;function m(n){if(typeof n=='undefined'||n===null||!n.toString)return '';if(n===false){return '0';}else if(n===true)return '1';return n.toString().replace(h,'&amp;').replace(k,'&quot;').replace(l,'&#039;').replace(i,'&lt;').replace(j,'&gt;');}f.exports=m;},null);
__d('Flash',['DOMEventListener','DOMWrapper','QueryString','UserAgent_DEPRECATED','guid','htmlSpecialChars'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n={},o,p=i.getWindow().document;function q(v){var w=p.getElementById(v);if(w)w.parentNode.removeChild(w);delete n[v];}function r(){for(var v in n)if(n.hasOwnProperty(v))q(v);}function s(v){return v.replace(/\d+/g,function(w){return '000'.substring(w.length)+w;});}function t(v){if(!o){if(k.ie()>=9)h.add(window,'unload',r);o=true;}n[v]=v;}var u={embed:function(v,w,x,y){var z=l();v=m(v).replace(/&amp;/g,'&');x=babelHelpers._extends({allowscriptaccess:'always',flashvars:y,movie:v},x);if(typeof x.flashvars=='object')x.flashvars=j.encode(x.flashvars);var aa=[];for(var ba in x)if(x.hasOwnProperty(ba)&&x[ba])aa.push('<param name="'+m(ba)+'" value="'+m(x[ba])+'">');var ca=w.appendChild(p.createElement('span')),da='<object '+(k.ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+v+'" '+(x.height?'height="'+x.height+'" ':'')+(x.width?'width="'+x.width+'" ':'')+'id="'+z+'">'+aa.join('')+'</object>';ca.innerHTML=da;var ea=ca.firstChild;t(z);return ea;},remove:q,getVersion:function(){var v='Shockwave Flash',w='application/x-shockwave-flash',x='ShockwaveFlash.ShockwaveFlash',y;if(navigator.plugins&&typeof navigator.plugins[v]=='object'){var z=navigator.plugins[v].description;if(z&&navigator.mimeTypes&&navigator.mimeTypes[w]&&navigator.mimeTypes[w].enabledPlugin)y=z.match(/\d+/g);}if(!y)try{y=new ActiveXObject(x).GetVariable('$version').match(/(\d+),(\d+),(\d+),(\d+)/);y=Array.prototype.slice.call(y,1);}catch(aa){}return y;},getVersionString:function(){var v=u.getVersion();return v?v.join('.'):'';},checkMinVersion:function(v){var w=u.getVersion();if(!w)return false;return s(w.join('.'))>=s(v);},isAvailable:function(){return !!u.getVersion();}};f.exports=u;},null);
__d('dotAccess',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){var l=j.split('.');do{var m=l.shift();i=i[m]||k&&(i[m]={});}while(l.length&&i);return i;}f.exports=h;},null);
__d('GlobalCallback',['DOMWrapper','dotAccess','guid','wrapFunction'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m,n={setPrefix:function(o){l=i(h.getWindow(),o,true);m=o;},create:function(o,p){if(!l)this.setPrefix('__globalCallbacks');var q=j();l[q]=k(o,'entry',p||'GlobalCallback');return m+'.'+q;},remove:function(o){var p=o.substring(m.length+1);delete l[p];}};f.exports=n;},null);
__d("emptyFunction",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){return function(){return j;};}function i(){}i.thatReturns=h;i.thatReturnsFalse=h(false);i.thatReturnsTrue=h(true);i.thatReturnsNull=h(null);i.thatReturnsThis=function(){return this;};i.thatReturnsArgument=function(j){return j;};f.exports=i;},null);
__d('XDM',['DOMEventListener','DOMWrapper','emptyFunction','Flash','GlobalCallback','guid','Log','UserAgent_DEPRECATED','wrapFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q={},r={transports:[]},s=i.getWindow();function t(w){var x={},y=w.length,z=r.transports;while(y--)x[w[y]]=1;y=z.length;while(y--){var aa=z[y],ba=q[aa];if(!x[aa]&&ba.isAvailable())return aa;}}var u={register:function(w,x){n.debug('Registering %s as XDM provider',w);r.transports.push(w);q[w]=x;},create:function(w){if(!w.whenReady&&!w.onMessage){n.error('An instance without whenReady or onMessage makes no sense');throw new Error('An instance without whenReady or '+'onMessage makes no sense');}if(!w.channel){n.warn('Missing channel name, selecting at random');w.channel=m();}if(!w.whenReady)w.whenReady=j;if(!w.onMessage)w.onMessage=j;var x=w.transport||t(w.blacklist||[]),y=q[x];if(y&&y.isAvailable()){n.debug('%s is available',x);y.init(w);return x;}}};u.register('flash',(function(){var w=false,x,y=false,z=15000,aa;return {isAvailable:function(){return k.checkMinVersion('8.0.24');},init:function(ba){n.debug('init flash: '+ba.channel);var ca={send:function(fa,ga,ha,ia){n.debug('sending to: %s (%s)',ga,ia);x.postMessage(fa,ga,ia);}};if(w){ba.whenReady(ca);return;}var da=ba.root.appendChild(s.document.createElement('div')),ea=l.create(function(){l.remove(ea);clearTimeout(aa);n.info('xdm.swf called the callback');var fa=l.create(function(ga,ha){ga=decodeURIComponent(ga);ha=decodeURIComponent(ha);n.debug('received message %s from %s',ga,ha);ba.onMessage(ga,ha);},'xdm.swf:onMessage');x.init(ba.channel,fa);ba.whenReady(ca);},'xdm.swf:load');x=k.embed(ba.flashUrl,da,null,{protocol:location.protocol.replace(':',''),host:location.host,callback:ea,log:y});aa=setTimeout(function(){n.warn('The Flash component did not load within %s ms - '+'verify that the container is not set to hidden or invisible '+'using CSS as this will cause some browsers to not load '+'the components',z);},z);w=true;}};})());var v=/\.facebook\.com(\/|$)/;u.register('postmessage',(function(){var w=false;return {isAvailable:function(){return !!s.postMessage;},init:function(x){n.debug('init postMessage: '+x.channel);var y='_FB_'+x.channel,z={send:function(aa,ba,ca,da){if(s===ca){n.error('Invalid windowref, equal to window (self)');throw new Error();}n.debug('sending to: %s (%s)',ba,da);var ea=function(){ca.postMessage('_FB_'+da+aa,ba);};if(o.ie()==8||o.ieCompatibilityMode()){setTimeout(ea,0);}else ea();}};if(w){x.whenReady(z);return;}h.add(s,'message',p(function(event){var aa=event.data,ba=event.origin||'native';if(!/^(https?:\/\/|native$)/.test(ba)){n.debug('Received message from invalid origin type: %s',ba);return;}if(ba!=='native'&&!(v.test(location.hostname)||v.test(event.origin)))return;if(typeof aa!='string'){n.warn('Received message of type %s from %s, expected a string',typeof aa,ba);return;}n.debug('received message %s from %s',aa,ba);if(aa.substring(0,y.length)==y)aa=aa.substring(y.length);x.onMessage(aa,ba);},'entry','onMessage'));x.whenReady(z);w=true;}};})());f.exports=u;},null);
__d('resolveWindow',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){var j=window,k=i.split('.');try{for(var m=0;m<k.length;m++){var n=k[m],o=/^frames\[['"]?([a-zA-Z0-9\-_]+)['"]?\]$/.exec(n);if(o){j=j.frames[o[1]];}else if(n==='opener'||n==='parent'||n==='top'){j=j[n];}else return null;}}catch(l){return null;}return j;}f.exports=h;},null);
__d('initXdArbiter',['QueryString','resolveWindow','Log','XDM','XDMConfig'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();(function(){var h=c('QueryString'),i=c('resolveWindow'),j=c('Log'),k=c('XDM'),l=c('XDMConfig');function m(aa){return aa?aa.replace(/["'<>\(\)\\@]/g,''):aa;}function n(){if(!window.chrome||!location.ancestorOrigins)return false;return !/\.facebook\.com$/.test(location.ancestorOrigins[1]);}function o(aa,ba){if(n())return '';if(window!=parent&&window.parent!=window.parent.parent)try{return parent.parent.XdArbiter.register(window,aa,ba);}catch(ca){j.error('Could not register with XdArbiter in parent.parent');}return '';}function p(aa,ba,ca){if(!aa&&n()){j.error('Can not use parent.parent to reach facebook.com');return;}var da=aa?i(aa):parent.parent;try{da.XdArbiter.handleMessage(ba,ca,window);}catch(ea){j.error('Could not reach facebook.com using %s',aa);}}function q(aa,ba){var ca=50,da=function(){if(!--ca)clearInterval(ea);try{aa();clearInterval(ea);}catch(fa){}},ea=setInterval(da,50);da();}function r(){var aa=/^https?:\/\/[^\/]*/.exec(u.origin)[0];q(function(){var ba=i(u.relation).frames['fb_xdm_frame_'+v];if(typeof ba.location.search==='undefined')throw new Error('Proxy not ready');if(location.search===ba.location.search){ba.proxyMessage(t,aa);}else j.error('Version mismatch: %s, %s',location.search,ba.location.search);},50);}function s(){var aa=/^(.*)\/(.*)$/.exec(u.origin)[1];if(window.__fbNative&&window.__fbNative.postMessage){window.__fbNative.postMessage(t,aa);}else{var ba=function(ca){window.removeEventListener('fbNativeReady',ba);window.__fbNative.postMessage(t,aa);};window.addEventListener('fbNativeReady',ba);}}var t=/#(.*)|$/.exec(location.href)[1];if(window==top)location.hash='';if(!t){j.error('xd_arbiter.php loaded without a valid hash, referrer: %s',document.referrer);return;}var u=h.decode(t,true),v=location.protocol.replace(':','');if(u.relation){if(window==top&&/FBAN\/\w+;/i.test(navigator.userAgent)){j.info('Native proxy');s();}else{j.info('Legacy proxy to %s',u.relation);r();}return;}if(v!=/https?/.exec(window.name)[0]){j.info('Redirection to %s detected, aborting',v);return;}var w=m(u.transport),x=m(u.channel),y=m(u.origin),z=m(u.xd_name);if(!/^https?/.test(y)){j.error('Invalid origin presented, aborting.');return;}k.create({root:document.body,transport:w,channel:x+'_'+v,flashUrl:l.Flash.path,onMessage:function(aa,ba){if(y!==ba){j.info('Received message from unknown origin %s, expected %s.',ba,y);return;}if(!/^FB_RPC:/.test(aa))aa=h.decode(aa);p(aa.relation,aa,y);},whenReady:function(aa){window.proxyMessage=function(ea,fa){if(fa===y){aa.send(ea,y,parent,x);}else j.error('Failed proxying to %s, expected %s',fa,y);};var ba=null,ca={xd_action:'proxy_ready',logged_in:/\bc_user=/.test(document.cookie),data:ba},da=o(z,y);if(da)ca.registered=da;aa.send(h.encode(ca),y,parent,x);}});})();},null);__d("XDMConfig",[],{"Flash":{"path":"https:\/\/connect.facebook.net\/rsrc.php\/v1\/yW\/r\/yOZN1vHw3Z_.swf"}});require("initXdArbiter"); require('initXdArbiter'); </script><b id="warning" style="display: none; color:red"> SECURITY WARNING: Please treat the URL above as you would your password and do not share it with anyone. See the <a href="http://l.facebook.com/l.php?u=http%3A%2F%2Fon.fb.me%2F1mXNHhm&amp;h=oAQGiUpAQ&amp;s=1" target="_blank" rel="nofollow" onmouseover="LinkshimAsyncLink.swap(this, &quot;http:\/\/on.fb.me\/1mXNHhm&quot;);" onclick="LinkshimAsyncLink.swap(this, &quot;http:\/\/l.facebook.com\/l.php?u=http\u00253A\u00252F\u00252Fon.fb.me\u00252F1mXNHhm&amp;h=oAQGiUpAQ&amp;s=1&quot;);">Facebook Help Center</a> for more information. </b><script>if (window == top) {  setTimeout(function() {    document.getElementById("warning").style.display = 'block';  }, 2000);}</script></body></html>ÑÕ	
Xf81eba56_vhttps://www.facebook.com/plugins/like.php?app_id=178263507018&channel=https%3A%2F%2Fstaticxx.facebook.com%2Fconnect%2Fxd_arbiter.php%3Fversion%3D42%23cb%3Df3b6bf521%26domain%3Dworkflowy.com%26origin%3Dhttps%253A%252F%252Fworkflowy.com%252Ff2cbd50d0%26relation%3Dparent.parent&container_width=0&href=http%3A%2F%2Fwww.workflowy.com%2F&layout=button_count&locale=en_US&sdk=joeyOSx<!DOCTYPE html><html lang="en" id="facebook" class="highContrastSetting svg no_js"><head><meta charset="utf-8"><meta name="referrer" content="default" id="meta_referrer"><script></script><title>Facebook</title><style>body.plugin{background:transparent;overflow:hidden;-webkit-text-size-adjust:none}body{background:#fff;color:#141823;line-height:1.28;margin:0;padding:0;direction:ltr;unicode-bidi:embed}body,button,input,label,select,td,textarea{font-family:'lucida grande',tahoma,verdana,arial,sans-serif;font-size:11px}h1,h2,h3,h4,h5,h6{font-size:13px;color:#141823;margin:0;padding:0}h1{font-size:14px}h4,h5,h6{font-size:11px}p{margin:1em 0}a{color:#3b5998;cursor:pointer;text-decoration:none}button{margin:0}a:hover{text-decoration:underline}img{border:0}td,td.label{text-align:left}dd{color:#000}dt{color:#777}ul{list-style-type:none;margin:0;padding:0}abbr{border-bottom:none;text-decoration:none}hr{background:#d9d9d9;border-width:0;color:#d9d9d9;height:1px}.clearfix:after{clear:both;content:".";display:block;font-size:0;height:0;line-height:0;visibility:hidden}.clearfix{zoom:1}.datawrap{word-wrap:break-word}.word_break{display:inline-block}.ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.aero{opacity:.5}.column{float:left}.center{margin-left:auto;margin-right:auto}#facebook .hidden_elem{display:none !important}#facebook .invisible_elem{visibility:hidden}#facebook .accessible_elem{clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;width:1px}.direction_ltr{direction:ltr}.direction_rtl{direction:rtl}.text_align_ltr{text-align:left}.text_align_rtl{text-align:right}.pluginFontArial,.pluginFontArial button,.pluginFontArial input,.pluginFontArial label,.pluginFontArial select,.pluginFontArial td,.pluginFontArial textarea{font-family:Arial, sans-serif}.pluginFontLucida,.pluginFontLucida button,.pluginFontLucida input,.pluginFontLucida label,.pluginFontLucida select,.pluginFontLucida td,.pluginFontLucida textarea{font-family:Lucida Grande, sans-serif}.pluginFontSegoe,.pluginFontSegoe button,.pluginFontSegoe input,.pluginFontSegoe label,.pluginFontSegoe select,.pluginFontSegoe td,.pluginFontSegoe textarea{font-family:Segoe UI, sans-serif}.pluginFontTahoma,.pluginFontTahoma button,.pluginFontTahoma input,.pluginFontTahoma label,.pluginFontTahoma select,.pluginFontTahoma td,.pluginFontTahoma textarea{font-family:Tahoma, sans-serif}.pluginFontTrebuchet,.pluginFontTrebuchet button,.pluginFontTrebuchet input,.pluginFontTrebuchet label,.pluginFontTrebuchet select,.pluginFontTrebuchet td,.pluginFontTrebuchet textarea{font-family:Trebuchet MS, sans-serif}.pluginFontVerdana,.pluginFontVerdana button,.pluginFontVerdana input,.pluginFontVerdana label,.pluginFontVerdana select,.pluginFontVerdana td,.pluginFontVerdana textarea{font-family:Verdana, sans-serif}.pluginFontHelvetica,.pluginFontHelvetica button,.pluginFontHelvetica input,.pluginFontHelvetica label,.pluginFontHelvetica select,.pluginFontHelvetica td,.pluginFontHelvetica textarea{font-family:helvetica, arial, sans-serif}._1f8a{display:inline;float:left}._1f8b{float:left}._51mz{border:0;border-collapse:collapse;border-spacing:0}._5f0n{table-layout:fixed;width:100%}.uiGrid .vTop{vertical-align:top}.uiGrid .vMid{vertical-align:middle}.uiGrid .vBot{vertical-align:bottom}.uiGrid .hLeft{text-align:left}.uiGrid .hCent{text-align:center}.uiGrid .hRght{text-align:right}._51mx:first-child>._51m-{padding-top:0}._51mx:last-child>._51m-{padding-bottom:0}._51mz ._51mw{padding-right:0}._51mz ._51m-:first-child{padding-left:0}.pluginErrorLink{color:#f03d25}.fss{font-size:9px}.fsm{font-size:11px}.fsl{font-size:13px}.fsxl{font-size:16px}.fsxxl{font-size:18px}.fwn{font-weight:normal}.fwb{font-weight:bold}.fcb{color:#333}.fcg{color:#7f7f7f}.fcw{color:#fff}form{margin:0;padding:0}label{cursor:pointer;color:#666;font-weight:bold;vertical-align:middle}label input{font-weight:normal}textarea,.inputtext,.inputpassword{border:1px solid #bdc7d8;margin:0;padding:3px;-webkit-appearance:none;-webkit-border-radius:0}textarea{max-width:100%}select{border:1px solid #bdc7d8;padding:2px}.inputtext,.inputpassword{padding-bottom:4px}.inputtext:invalid,.inputpassword:invalid{box-shadow:none}.inputradio{padding:0;margin:0 5px 0 0;vertical-align:middle}.inputcheckbox{border:0;vertical-align:middle}.inputbutton,.inputsubmit{border-style:solid;border-width:1px;border-color:#dcdee3 #0e1f5b #0e1f5b #d9dfea;background-color:#3b5998;color:#fff;padding:2px 15px 3px 15px;text-align:center}.inputsubmit_disabled{background-color:#999;border-bottom:1px solid #000;border-right:1px solid #666;color:#fff}.inputaux{background:#e9eaed;border-color:#e9eaed #666 #666 #e7e7e7;color:#000}.inputaux_disabled{color:#999}.inputsearch{background:#ffffff url(https://static.xx.fbcdn.net/rsrc.php/v2/yL/r/unHwF9CkMyM.png) no-repeat left 4px;padding-left:17px}.pluginButtonSpacer{padding-left:4px}.pluginButton{background:#4c69ba;background:linear-gradient(#4c69ba, #3b55a0);border:none;border-radius:2px;color:#fff;cursor:pointer;font-weight:bold;height:20px;line-height:20px;padding:0;text-shadow:0 -1px 0 #354c8c;white-space:nowrap}.pluginButtonLight{background:linear-gradient(#0084ff, #006fff);text-shadow:0 -1px 0 #005ecf}.pluginButtonInline{display:inline-block}.pluginButtonX{cursor:default}.pluginButton button{background:transparent;border:0;color:inherit;cursor:pointer;font:inherit;font-weight:bold;margin:0;outline:none;padding:0;text-shadow:0 -1px 0 #354c8c}.pluginButtonIcon{height:14px;left:0;margin:0 4px 0 4px;position:relative;top:3px;vertical-align:top;width:14px}.pluginButtonImage{display:inline-block}.pluginButtonIconSVG{height:14px;width:14px}.no_svg .pluginButtonIconSVG,.svg .pluginButtonIconPNG{display:none}.pluginButtonContainer{-webkit-font-smoothing:antialiased}.pluginButtonIconPlaceholder{display:block;height:14px;width:7px}.pluginButton .pluginButtonLabel{padding:0 5px 0 0;position:relative;vertical-align:top}.android .pluginButton .pluginButtonLabel{top:1px}.pluginButton:hover{background:#5b7bd5;background:linear-gradient(#5b7bd5, #4864b1);border-color:#5874c3 #4961a8 #41599f;box-shadow:inset 0 0 1px #607fd6}.pluginButtonLight:hover{background:linear-gradient(#009bff, #0084ff);box-shadow:inset 0 0 1px #006fff}.pluginButtonPressed,.pluginButtonPressed:hover{background:#355089;background:linear-gradient(#415ca9, #4c69ba);border-color:#385490 #ddd #374f92;box-shadow:inset 0 0 1px #3e58a3;opacity:.7}.pluginButtonPressedLight,.pluginButtonPressedLight:hover{background:linear-gradient(#006fff, #0084ff)}.pluginButtonErrorLink{color:#a00;font-weight:bold}.pluginButtonX .pluginButtonXOff,.pluginButtonX button:hover .pluginButtonXOn,.pluginButtonX button:focus .pluginButtonXOn{display:inline-block}.pluginButtonX .pluginButtonXOn,.pluginButtonX button:hover .pluginButtonXOff,.pluginButtonX button:focus .pluginButtonXOff{display:none}.pluginButton .pluginButtonThrobber,form.async_saving .pluginButtonIconWithThrobber{display:none}form.async_saving .pluginButtonThrobber{display:inline-block;margin-top:2px;margin-bottom:1px;max-width:14px}.sp_plugin-button{background-image:url(https://static.xx.fbcdn.net/rsrc.php/v2/y1/r/LVx-xkvaJ0b.png);background-size:auto;background-repeat:no-repeat;display:inline-block;height:14px;width:14px}.sp_plugin-button.sx_plugin-button_favblue{background-position:0 -42px}.sp_plugin-button.sx_plugin-button_chblue{background-position:0 -27px}.sp_plugin-button.sx_plugin-button_xblue{background-position:-15px -27px}.sp_plugin-button.sx_plugin-button_thumb{width:13px;height:13px;background-position:-15px -57px}.sp_plugin-button.sx_plugin-button_bigthumb{width:29px;height:26px;background-position:0 0}.sp_plugin-button.sx_plugin-button_fav{background-position:-15px -42px}.sp_plugin-button.sx_plugin-button_favgrey{background-position:0 -57px}i.img{-ms-high-contrast-adjust:none;_overflow:hidden}i.img u{left:-999999px;position:absolute}.pluginCountButton{background:white;border:1px solid #9197a3;border-radius:2px;color:#4e5665;display:inline-block;font-size:11px;height:auto;line-height:18px;margin-left:6px;min-width:15px;padding:0 3px;text-align:center;white-space:nowrap}.pluginCountButtonNub{height:0;left:2px;position:relative;top:-15px;width:5px;z-index:2}.pluginCountButtonNub s,.pluginCountButtonNub i{border-color:transparent #9197a3;border-style:solid;border-width:4px 5px 4px 0;display:block;position:relative;top:1px}.pluginCountButtonNub i{border-right-color:#fff;left:2px;top:-7px}.pluginCountTextConnected,.pluginCountConnected .pluginCountTextDisconnected{display:none}.pluginCountConnected .pluginCountTextConnected{display:inline}._li._li._li{overflow:initial}._4qba{font-style:normal}._4qbb,._4qbc,._4qbd{background:none;font-style:normal;padding:0;width:auto}._4qbd{border-bottom:1px solid #f99}._4qbb,._4qbc{border-bottom:1px solid #999}._4qbb:hover,._4qbc:hover,._4qbd:hover{background-color:#fcc;border-top:1px solid #ccc;cursor:help}._5f0v{outline:none}._3oxt{outline:1px dotted #3b5998;outline-color:invert}.webkit ._3oxt{outline:5px auto #5b9dd9}.win.webkit ._3oxt{outline-color:#e59700}.uiLayer{outline:none}._42ft{cursor:pointer;display:inline-block;text-decoration:none;white-space:nowrap}._42ft:hover{text-decoration:none}._42ft+._42ft{margin-left:4px}._42fr,._42fs{cursor:default}.textMetrics{border:none;height:1px;overflow:hidden;padding:0;position:absolute;top:-9999999px}.textMetricsInline{white-space:pre}._32qa button{opacity:.4}._59ov{height:100%;height:910px;position:relative;top:-10px;width:100%}._5ti_{background-size:cover;height:100%;width:100%}._5tj2{height:900px}._2mm3 ._5a8u .uiBoxGray{background:#fff;margin:0;padding:12px}</style><script>window.ServerJSQueue=(function(){var a=[],b,c;return {add:function(d){if(!b){a.push(d);}else typeof d==='function'?d():b.handle(d);},run:function(){if(!window.require)return;var d;c=window.require('ServerJSDefine');for(d=0;d<a.length;d++)if(a[d].define&&typeof a[d]!=='function'){c.handleDefines(a[d].define);delete a[d].define;}b=new (window.require('ServerJS'))();for(d=0;d<a.length;d++)typeof a[d]==='function'?a[d]():b.handle(a[d]);}};})();document.write=function(){};window.onloadRegister_DEPRECATED=function(){};window.onafterloadRegister_DEPRECATED=function(){};window.ServerJSAsyncLoader=(function(){var a=false,b=false,c={loaded:1,complete:1},d=function(){},e=document,f=false,g=false;function h(){if(e.readyState in c){e.detachEvent('onreadystatechange',h);d('t_domcontent');}}function i(){if(!g&&window._cavalry&&a&&b){d('t_layout');d('t_onload');d('t_paint');_cavalry.send();g=true;}}function j(){if(!f&&b){f=true;ServerJSQueue.run();}}function k(o,p){if('onreadystatechange' in o){o.onreadystatechange=function(){if(o.readyState in c){o.onreadystatechange=null;p();}};}else if(o.addEventListener){var q=function(){p();o.removeEventListener('load',q,false);};o.addEventListener('load',q,false);}}function l(o){var p=e.createElement("script");if(p.readyState&&p.readyState==="uninitialized"){k(p,function(){b=true;i();});p.src=o;return true;}else if(typeof XMLHttpRequest!=='undefined'){var q=new XMLHttpRequest();if("withCredentials" in q){q.onloadend=function(){b=true;i();};q.open("GET",o,true);q.send(null);return true;}}}function m(){e.onkeydown=e.onmouseover=e.onclick=onfocus=null;ServerJSAsyncLoader.execute();}function n(){if(e.body.offsetWidth===0||e.body.offsetHeight===0)m();}if(window._cavalry){d=function(o){_cavalry.log(o);};if(window.addEventListener){window.addEventListener('DOMContentLoaded',function(){d('t_domcontent');},false);}else if(e.attachEvent)e.attachEvent('onreadystatechange',h);}window.onload=function(){a=true;j();i();};return {ondemandjs:null,run:function(o){this.file=o;this.execute();},load:function(o){this.file=o;if(!l(o)){this.run(o);return;}window.onload=function(){a=true;i();n();};e.onkeydown=e.onmouseover=e.onclick=onfocus=m;},execute:function(o){var p=e.createElement('script');p.src=ServerJSAsyncLoader.file;p.async=true;k(p,function(){b=true;j();o&&o();i();});e.getElementsByTagName('head')[0].appendChild(p);},wakeUp:function(o,p,q){function r(){window.require("Arbiter").inform(o,p,q);}if(f){r();}else this.execute(r);}};})();ServerJSAsyncLoader.load("https:\/\/static.xx.fbcdn.net\/rsrc.php\/v2iaFb3\/yR\/l\/en_US\/VFmPV0w-wnF.js");</script><script>ServerJSQueue.add({"require":[["markJSEnabled"],["lowerDomain"]]});</script><script>(function(){var a=document.createElement('div');a.innerHTML='<svg/>';if(a.firstChild&&a.firstChild.namespaceURI==='http://www.w3.org/2000/svg'){var b=document.documentElement;b.className=b.className.replace('no_svg','svg');}})();</script></head><body dir="ltr" class="plugin safari webkit mac x1 Locale_en_US"><div class="_li"><div class="pluginSkinLight pluginFontHelvetica"><div><table class="uiGrid _51mz pluginConnectButtonLayoutRoot _3c9t" cellspacing="0" cellpadding="0" id="u_0_0"><tbody><tr class="_51mx"><td class="_51m- hCent"><div><form rel="async" ajaxify="/plugins/like/connect" method="post" action="/plugins/like/connect" onsubmit="return window.Event &amp;&amp; Event.__inlineSubmit &amp;&amp; Event.__inlineSubmit(this,event)" id="u_0_1"><input type="hidden" name="lsd" value="AVqhbT5B" autocomplete="off"><input type="hidden" autocomplete="off" name="href" value="http://www.workflowy.com/"><input type="hidden" autocomplete="off" name="action" value="like"><input type="hidden" autocomplete="off" name="nobootload"><input type="hidden" autocomplete="off" name="iframe_referer" value="https://workflowy.com/"><input type="hidden" autocomplete="off" name="r_ts" value="1455407576"><input type="hidden" autocomplete="off" name="ref"><input type="hidden" autocomplete="off" name="xfbml"><input type="hidden" autocomplete="off" name="app_id" value="178263507018"><div class="pluginConnectButton"><div class="pluginButton pluginButtonSmall pluginButtonInline pluginConnectButtonDisconnected" title="Like"><div><div class="pluginButtonContainer"><div class="pluginButtonImage"><button type="submit" title="Like"><span class="pluginButtonIcon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 216 216" class="pluginButtonIconSVG"><path fill="white" d="
          M204.1 0H11.9C5.3 0 0 5.3 0 11.9v192.2c0 6.6 5.3 11.9 11.9
          11.9h103.5v-83.6H87.2V99.8h28.1v-24c0-27.9 17-43.1 41.9-43.1
          11.9 0 22.2.9 25.2 1.3v29.2h-17.3c-13.5 0-16.2 6.4-16.2
          15.9v20.8h32.3l-4.2 32.6h-28V216h55c6.6 0 11.9-5.3
          11.9-11.9V11.9C216 5.3 210.7 0 204.1 0z"></path></svg><i class="pluginButtonIconPNG img sp_plugin-button sx_plugin-button_favblue"></i></span></button></div><span class="pluginButtonLabel">Like</span></div></div></div><div class="pluginButton pluginButtonSmall pluginButtonPressed pluginButtonInline pluginButtonX pluginConnectButtonConnected hidden_elem" title="Unlike"><div><div class="pluginButtonContainer"><div class="pluginButtonImage"><button type="submit" title="Like"><i class="pluginButtonIcon pluginButtonXOff img sp_plugin-button sx_plugin-button_chblue"></i><i class="pluginButtonIcon pluginButtonXOn img sp_plugin-button sx_plugin-button_xblue" title="Unlike"></i></button></div><span class="pluginButtonLabel">Like</span></div></div></div></div></form></div></td><td class="_51m-"><div><div class="pluginCountButton pluginCountNum"><span id="u_0_2"><span class="pluginCountTextConnected">67K</span><span class="pluginCountTextDisconnected">67K</span></span></div><div class="pluginCountButtonNub"><s></s><i></i></div></div></td></tr></tbody></table><script>(function(width, height, id, callback, origin, domain) { if(id){var e=document.getElementById(id);if(width!==-1){e.style.width=width+'px';}else{width=e.offsetWidth;if(window.getComputedStyle){var computed=getComputedStyle(e);if(computed)width=Math.ceil(parseFloat(computed.width))||e.offsetWidth;}}if(height===-1)height=e.offsetHeight;}var message='type=resize&cb='+callback+'&width='+width+'&height='+height;; var captures=window.location.hostname.match(/\.(facebook\.sg|facebookcorewwwi\.onion)$/);document.domain=captures?captures[1]:'facebook.com';(function(){var a=window.opener||window.parent,b='fb_xdm_frame_'+location.protocol.replace(':','');function c(){try{a.frames[b].proxyMessage(message,origin);}catch(e){setTimeout(c,100);}}function d(){__fbNative.postMessage(message,origin);}if(window==top&&/FBAN\/\w+;/i.test(navigator.userAgent)){if(window.__fbNative&&__fbNative.postMessage){d();}else window.addEventListener('fbNativeReady',d);}else c();})();; })(-1, -1, "u_0_0", "f3b6bf521", "https:\/\/workflowy.com", "workflowy.com");</script></div></div></div><script>function envFlush(a){function b(c){for(var d in a)c[d]=a[d];}if(window.requireLazy){window.requireLazy(['Env'],b);}else{window.Env=window.Env||{};b(window.Env);}}envFlush({"ajaxpipe_token":"AXjTIEyg2Z248ug0","no_cookies":1,"lhsh":"BAQHSF7NM"});</script><script>ServerJSQueue.add({"instances":[["__inst_4a444623_0_0",["PluginConnectButtonResize","__elem_e6069d9f_0_0"],[{"__m":"__elem_e6069d9f_0_0"},null,null],1],["__inst_efbc88d4_0_0",["PluginConnectButton","__elem_835c633a_0_0"],[{"plugin":"like","pluginaction":"like","identifier":"http:\/\/www.workflowy.com\/","connected":false,"canpersonalize":false,"autosubmit":false,"form":{"__m":"__elem_835c633a_0_0"},"buttontype":1}],1]],"elements":[["__elem_e6069d9f_0_0","u_0_0",1],["__elem_835c633a_0_0","u_0_1",1],["__elem_85b7cbf7_0_0","u_0_1",1],["__elem_da4ef9a3_0_0","u_0_2",1]],"require":[["UnverifiedXD","setChannelUrl",[],["https:\/\/staticxx.facebook.com\/connect\/xd_arbiter.php?version=42#cb=f3b6bf521&domain=workflowy.com&origin=https\u00253A\u00252F\u00252Fworkflowy.com\u00252Ff2cbd50d0&relation=parent.parent"],[]],["PluginXDReady"],["__inst_4a444623_0_0"],["PluginReturn","syncPlugins",[],[],[]],["__inst_efbc88d4_0_0"],["PluginConnection","init",["__elem_da4ef9a3_0_0"],[[["http:\/\/www.workflowy.com\/",{"__m":"__elem_da4ef9a3_0_0"},"pluginCountConnected"]]],[]],["AsyncSignal"]],"define":[["ErrorSignalConfig",[],{"uri":"https:\/\/error.facebook.com\/common\/scribe_endpoint.php"},319],["BigPipeExperiments",[],{"prefetch":"none","download_js":"blocked_by_dom_ready","link_images_to_pagelets":false},907],["AsyncRequestConfig",[],{"pkgCohort":"EXP1:connect_lite_pkg","PKG_COHORT_KEY":"__pc","retryOnNetworkError":"1"},328],["IntlViewerContext",[],{"GENDER":50331648},772],["ZeroCategoryHeader",[],{},1127],["FbtResultGK",[],{"shouldReturnFbtResult":false,"inlineMode":false},876],["FbtLogger",[],{"logger":null},288],["LinkReactUnsafeHrefConfig",[],{"log_unsafe_href":false},1182],["SiteData",[],{"revision":2181183,"tier":"","push_phase":"V3","pkg_cohort":"EXP1:connect_lite_pkg","spdy_enabled":false,"haste_site":"www","vip":"2a03:2880:f00d:1e:face:b00c:0:25de"},317],["LSD",[],{"token":"AVqhbT5B"},323],["ISB",[],{},330],["DTSGInitialData",[],{},258],["PlatformVersions",[],{"LATEST":"v2.5","versions":{"UNVERSIONED":"unversioned","V1_0":"v1.0","V2_0":"v2.0","V2_1":"v2.1","V2_2":"v2.2","V2_3":"v2.3","V2_4":"v2.4","V2_5":"v2.5"}},1254],["UserAgentData",[],{"browserArchitecture":"32","browserFullVersion":"9.0.3","browserMinorVersion":0,"browserName":"Safari","browserVersion":9,"deviceName":"Unknown","engineName":"WebKit","engineVersion":"601.4.4","platformArchitecture":"32","platformName":"Mac OS X","platformVersion":"10.10","platformFullVersion":"10.10.5"},527],["CurrentUserInitialData",[],{"USER_ID":"0","ACCOUNT_ID":"0"},270],["LinkshimHandlerConfig",[],{"supports_meta_referrer":true,"default_meta_referrer_policy":"default","switched_meta_referrer_policy":"origin","render_verification_rate":1000},27],["BanzaiConfig",[],{"EXPIRY":86400000,"MAX_SIZE":10000,"MAX_WAIT":150000,"RESTORE_WAIT":150000,"blacklist":["time_spent"],"gks":{"boosted_component":true,"boosted_pagelikes":true,"boosted_posts":true,"boosted_website":true,"jslogger":true,"mercury_send_error_logging":true,"pages_client_logging":true,"platform_oauth_client_events":true,"time_spent_bit_array":true,"useraction":true,"videos":true,"visibility_tracking":true,"vitals":true,"allow_userid_mismatch":true,"graphexplorer":true}},7],["WebSpeedExperiments",[],{"non_blocking_tracker":false,"non_blocking_logger":false},1160],["ReactGK",[],{"logTopLevelRenders":false,"useCreateElement":true},998],["CoreWarningGK",[],{"forceWarning":false},725],["CSSLoaderConfig",[],{"timeout":5000,"modulePrefix":"BLCSS:","loadEventSupported":true},619],["FbtQTOverrides",[],{"overrides":{"1_539bf175108659676097349f8b511a1d":"Donate to International Medical Corps now and Facebook will match your donation.","1_d1c1f6116da4d8f993a151fda3072cb5":"Donate to International Medical Corps today and join us in supporting relief efforts","1_6f7acce98bbf4cfdac77ebf5b9bad304":"100\u0025 of your donation will go to {=International Medical Corps} and their work in response to the Nepal earthquake. Facebook will also donate $2 million to local relief efforts.","1_8b130114c0a07a35b47bebd218149f60":"Support earthquake relief efforts","1_65c3391ebe4a1af8364ca4fbb8cb54d1":"Mobile Number or Email:","1_8d7e2c77c3375ec57db92d101f139964":"Donate to International Medical Corps now and support earthquake relief efforts."}},551],["BootloaderConfig",[],{"maxJsRetries":0,"jsRetries":null,"jsRetryAbortNum":2,"jsRetryAbortTime":5},329],["TrackingConfig",[],{"domain":"https:\/\/pixel.facebook.com"},325],["CurrentCommunityInitialData",[],{},490]]});</script></body></html>ÑÕ	
_twitter-widget-0_Ùhttps://platform.twitter.com/widgets/follow_button.baa54ded21a982344c4ced326592f3de.en.html#dnt=false&id=twitter-widget-0&lang=en&screen_name=WorkFlowy&show_count=false&show_screen_name=false&size=m&time=1455407576145OŒú<!DOCTYPE html><html data-scribe="page:button" lang="en" class=" en"><head><meta charset="utf-8"><title>Twitter Follow Button</title><base target="_blank"><link rel="dns-prefetch" href="//twitter.com"><link rel="profile" href="http://microformats.org/profile/hcard"><style type="text/css">html{padding:0;margin:0;font:normal normal normal 11px/18px 'Helvetica Neue',Arial,sans-serif;color:#333;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}body{padding:0;margin:0;background:transparent}a{text-decoration:none;outline:0}body.rtl{direction:rtl}#widget{display:inline-block;overflow:hidden;text-align:left;white-space:nowrap}.btn-o,.count-o,.btn,.btn .label,#count{display:inline-block;vertical-align:top;zoom:1}.btn-o{max-width:100%}.btn{position:relative;height:20px;padding:1px 8px 1px 6px;font-weight:500;color:#fff;cursor:pointer;background-color:#1b95e0;border-radius:3px;box-sizing:border-box}.rtl .btn{padding:1px 6px 1px 8px}.btn:focus,.btn:hover,.btn:active{background-color:#0c7abf}.btn:active{box-shadow:inset 0 3px 5px rgba(0,0,0,0.1)}.xl .btn:active{box-shadow:inset 0 3px 7px rgba(0,0,0,0.1)}.btn i{position:relative;top:2px;display:inline-block;width:14px;height:14px;background:transparent 0 0 no-repeat;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2072%2072%22%3E%3Cpath%20fill%3D%22none%22%20d%3D%22M0%200h72v72H0z%22%2F%3E%3Cpath%20class%3D%22icon%22%20fill%3D%22%23fff%22%20d%3D%22M68.812%2015.14c-2.348%201.04-4.87%201.744-7.52%202.06%202.704-1.62%204.78-4.186%205.757-7.243-2.53%201.5-5.33%202.592-8.314%203.176C56.35%2010.59%2052.948%209%2049.182%209c-7.23%200-13.092%205.86-13.092%2013.093%200%201.026.118%202.02.338%202.98C25.543%2024.527%2015.9%2019.318%209.44%2011.396c-1.125%201.936-1.77%204.184-1.77%206.58%200%204.543%202.312%208.552%205.824%2010.9-2.146-.07-4.165-.658-5.93-1.64-.002.056-.002.11-.002.163%200%206.345%204.513%2011.638%2010.504%2012.84-1.1.298-2.256.457-3.45.457-.845%200-1.666-.078-2.464-.23%201.667%205.2%206.5%208.985%2012.23%209.09-4.482%203.51-10.13%205.605-16.26%205.605-1.055%200-2.096-.06-3.122-.184%205.794%203.717%2012.676%205.882%2020.067%205.882%2024.083%200%2037.25-19.95%2037.25-37.25%200-.565-.013-1.133-.038-1.693%202.558-1.847%204.778-4.15%206.532-6.774z%22%2F%3E%3C%2Fsvg%3E")}.btn .label{margin-left:3px;white-space:nowrap}.btn .label b{font-weight:500;white-space:nowrap}.rtl .btn .label{margin-right:3px}.rtl .btn .label b{display:inline-block;direction:ltr}.xl{font-size:13px;line-height:26px}.xl .btn{height:28px;padding:1px 10px 1px 9px;border-radius:4px}.rtl.xl .btn{padding:1px 9px 1px 10px}.xl .btn i{top:4px;width:18px;height:18px}.xl .btn .label{margin-left:4px}.rtl.xl .btn .label{margin-right:4px}.aria{position:absolute;left:-999em}.rtl .aria{right:-999em;left:auto}.count-o{position:relative;min-width:15px;min-height:18px;text-align:center;background:#fff;border:#8799a6 solid 1px;border-radius:3px;visibility:hidden}#count{color:#292f33;white-space:nowrap}#count:hover,#count:focus{color:#333;text-decoration:underline}.ncount .count-o{display:none}.count-ready .count-o{visibility:visible}.count-o i,.count-o u{position:absolute;top:50%;left:0;width:0;height:0;margin:-4px 0 0 -4px;line-height:0;border:4px transparent solid;border-left:0;border-right-color:#66757f;zoom:1}.count-o u{margin-left:-3px;border-right-color:#fff}.rtl .count-o i,.rtl .count-o u{right:0;left:auto;margin:-4px -4px 0 0;border:4px transparent solid;border-right:0;border-left-color:#66757f}.rtl .count-o u{margin-right:-3px;border-left-color:#fff}.hcount .count-o{margin:0 0 0 5px}.hcount.rtl .count-o{margin:0 5px 0 0}.hcount #count{padding:0 5px}.xl .count-o{font-size:11px;border-radius:4px}.xl.hcount .count-o{margin:0 0 0 6px}.xl.rtl.hcount .count-o{margin:0 6px 0 0}.xl.hcount .count-o i,.xl.hcount .count-o u{margin:-5px 0 0 -5px;border-width:5px 5px 5px 0}.xl.hcount .count-o u{margin-left:-4px}.xl.rtl.hcount .count-o i,.xl.rtl.hcount .count-o u{margin:-5px -5px 0 0;border-width:5px 0 5px 5px}.xl.rtl.hcount .count-o u{margin-right:-4px}.xl #count{padding:0 7px}</style></head><body data-scribe="section:follow" class=" ltr ready ncount"><div id="widget"><div class="btn-o" contextmenu="menu" data-scribe="component:button"><a id="follow-button" class="btn" title="Follow @WorkFlowy on Twitter" href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fworkflowy.com%2F&amp;ref_src=twsrc%5Etfw&amp;region=follow_link&amp;screen_name=WorkFlowy&amp;tw_p=followbutton"><i></i><span class="label" id="l">Follow</span></a></div><div class="count-o" id="c" data-scribe="component:count"><i></i><u></u><a id="count" class="note" href="https://twitter.com/intent/user?original_referer=https%3A%2F%2Fworkflowy.com%2F&amp;ref_src=twsrc%5Etfw&amp;region=count_link&amp;screen_name=WorkFlowy&amp;tw_p=followbutton"></a></div></div><div style="display:none"><menu type="context" id="menu" data-scribe="component:contextmenu"><menuitem id="m-follow" label="Follow user"></menuitem><menuitem id="m-profile" label="View user on Twitter"></menuitem><menuitem id="m-tweet" label="Send Tweet to user"></menuitem></menu></div><script type="text/javascript">window.__twttr=window.__twttr||{};var i18n = {};window._=function(s,reps){s=__twttr.lang&&i18n[__twttr.lang]&&i18n[__twttr.lang][s]||s;if(!reps)return s;return s.replace(/\%\{([a-z0-9_]+)\}/gi,function(m,k){return reps[k]||m})};</script><script>!function(){Function&&Function.prototype&&Function.prototype.bind&&(/MSIE [678]/.test(navigator.userAgent)||!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="https://platform.twitter.com/",e(0)}([function(t,e,n){function r(t){if(t&&/^[\w_]{1,20}$/.test(t))return t;throw new Error("Invalid screen name")}function o(t,e){t.className+=" "+e}function i(t){return t&&"false"===t.toLowerCase()}function s(t){return rt.getElementById(t)}function a(t){return t=t||U.event,t&&t.preventDefault?t.preventDefault():t.returnValue=!1,t&&t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,!1}function c(t){var e=x&&x.name?x.name+" (@"+it+")":"@"+it;return b?void(I.title=_("View your profile on Twitter")):t?(o(R,"following"),void(I.title=_("You are following %{name} on Twitter",{name:e}))):(R.className=R.className.replace(/ ?following/,""),void(I.title=_("Follow %{name} on Twitter",{name:e})))}function u(){return/following/.test(R.className)}function f(t,e,n){var r="scrollbars=yes,resizable=yes,toolbar=no,location=yes",o=e||550,i=n||500,s=U.screen.height,a=U.screen.width,c=Math.round(a/2-o/2),u=0;return s>i&&(u=Math.round(s/2-i/2)),U.open(t,null,r+",width="+o+",height="+i+",left="+c+",top="+u)}function l(t){return{screen_name:it,original_referer:Y,region:t,partner:ut,tw_p:G,ref_src:"twsrc^tfw"}}function p(){var t=K.get("config.followURL")+"?"+F.encode(l());f(t,520,550)}function d(t){var e=K.get("config.userIntentURL")+"?"+F.encode(l(t));f(e)}function h(t){var e=K.get("config.mentionIntentURL")+"?"+F.encode(l(t));f(e)}function g(){var t=J(V.asNumber(W.time)),e="@"+it;t||D.clientEvent({page:"button",section:"follow",action:"impression"},{language:W.lang,message:[W.size,at?"withcount":"nocount"].join(":")+":",widget_origin:Y,widget_frame:rt.location},!1),rt.title=_("Twitter Follow Button"),L.innerHTML=st?_("Follow %{screen_name}",{screen_name:"<b>"+e+"</b>"}):_("Follow"),st&&!W.time&&R.offsetWidth<L.offsetWidth-10&&(st=!1,L.innerHTML=_("Follow")),c(!1),C.label=_("%{name} on Twitter",{name:e}),O.label=_("Follow"),j.label=_("Tweet to %{name}",{name:e}),I.href=K.get("config.followURL")+"?"+F.encode(l(X)),N.href=K.get("config.userIntentURL")+"?"+F.encode(l(et)),o(R,"ready"),o(R.parentNode,ct),at||o(R,"ncount"),q.triggerResize(P)}function v(){function t(t,e){return D.interaction(t,{},!1),q.trigger("click",e),q.trigger("follow",e),t.altKey||t.shiftKey||t.metaKey||B.ios()||B.android()?void 0:(y?U.open(K.get("config.twitterHost")+"/"+it+"?"+F.encode(l())):b||u()?d(e):p(),a(t))}function e(t,e){return D.interaction(t,{},!1),q.trigger("click",e),t.altKey||t.shiftKey||t.metaKey||B.ios()||B.android()?void 0:(d(e),a(t))}I.onclick=function(e){return t(e||U.event,u()?Z:Q)},O.onclick=function(e){return t(e||U.event,nt)},N.onclick=function(t){return e(t||U.event,tt)},C.onclick=function(t){return e(t||U.event,nt)},j.onclick=function(){return h(nt)}}function m(){var t,e;M.isLoggedIn()?e=F.url(K.get("config.followersInfoURL"),{screen_names:it,requester_id:M.getUserId(),lang:ct,callback:K.fullPath("setFollowersCountAndFollowing")}):at&&(e=F.url(K.get("config.cdnFollowersInfoURL"),{screen_names:it,lang:ct,callback:K.fullPath("setFollowersCountAndFollowing")})),e&&(t=rt.createElement("script"),t.src=e,R.appendChild(t))}var w,y,b,E,T,x,R,P,I,L,N,O,C,j,S=n(1),A=n(2),U=n(3),F=n(4),k=n(7),M=n(8),D=n(10),B=n(23),$=n(26),z=n(11),V=n(5),H=n(6),K=n(21),q=n(27),J=n(38),W=k.combined(A),Y=W.original_redirect_referrer||S.referrer,G="followbutton",Q="follow",X="follow_link",Z="following",tt="count",et="count_link",nt="context_menu",rt=S,ot="true"==W.preview?!0:!1,it=r(W.screen_name),st=!i(W.show_screen_name),at=!i(W.show_count),ct=W.lang&&W.lang.toLowerCase(),ut=W.partner;V.asBoolean(W.dnt)&&z.setOn(),M.forwardSSL(Y)||(K.aug("config",{cdnFollowersInfoURL:"https://cdn.syndication.twimg.com/widgets/followbutton/info.json",followersInfoURL:"https://syndication.twitter.com/widgets/followbutton/info.json",userIntentURL:"https://twitter.com/intent/user",followURL:"https://twitter.com/intent/follow",mentionIntentURL:"https://twitter.com/intent/tweet",twitterHost:"https://twitter.com"}),R=rt.body,P=s("widget"),I=s("follow-button"),L=s("l"),N=s("count"),O=s("m-follow"),C=s("m-profile"),j=s("m-tweet"),ct=H.contains($,ct)?ct:"en",K.set("lang",ct),R.parentNode.lang=ct,T=_("ltr"),o(R,T),"l"==W.size&&o(R,"xl"),K.set("setFollowersCountAndFollowing",function(t){return t.error?void c(!1):void(t.length&&(x=t[0],N.innerHTML=x.formatted_followers_count||"",o(R,"hcount count-ready"),w=x["protected"],y=x.age_gated,E=x.id,E!==M.getUserId()||ot||(b=!0,c(!1)),c(x.following),q.triggerResize(P)))}),g(),v(),m())},function(t,e){t.exports=document},function(t,e){t.exports=location},function(t,e){t.exports=window},function(t,e,n){function r(t){return encodeURIComponent(t).replace(/\+/g,"%2B").replace(/'/g,"%27")}function o(t){return decodeURIComponent(t)}function i(t){var e=[];return f.forIn(t,function(t,n){var o=r(t);f.isType("array",n)||(n=[n]),n.forEach(function(t){u.hasValue(t)&&e.push(o+"="+r(t))})}),e.sort().join("&")}function s(t){var e,n={};return t?(e=t.split("&"),e.forEach(function(t){var e=t.split("="),r=o(e[0]),i=o(e[1]);return 2==e.length?f.isType("array",n[r])?void n[r].push(i):r in n?(n[r]=[n[r]],void n[r].push(i)):void(n[r]=i):void 0}),n):{}}function a(t,e){var n=i(e);return n.length>0?f.contains(t,"?")?t+"&"+i(e):t+"?"+i(e):t}function c(t){var e=t&&t.split("?");return 2==e.length?s(e[1]):{}}var u=n(5),f=n(6);t.exports={url:a,decodeURL:c,decode:s,encode:i,encodePart:r,decodePart:o}},function(t,e,n){function r(t){return void 0!==t&&null!==t&&""!==t}function o(t){return s(t)&&t%1===0}function i(t){return s(t)&&!o(t)}function s(t){return r(t)&&!isNaN(t)}function a(t){return r(t)&&"array"==h.toType(t)}function c(t){return h.contains(v,t)}function u(t){return h.contains(g,t)}function f(t){return r(t)?u(t)?!0:c(t)?!1:!!t:!1}function l(t){return s(t)?t:void 0}function p(t){return i(t)?t:void 0}function d(t){return o(t)?parseInt(t,10):void 0}var h=n(6),g=[!0,1,"1","on","ON","true","TRUE","yes","YES"],v=[!1,0,"0","off","OFF","false","FALSE","no","NO"];t.exports={hasValue:r,isInt:o,isFloat:i,isNumber:s,isArray:a,isTruthValue:u,isFalseValue:c,asInt:d,asFloat:p,asNumber:l,asBoolean:f}},function(t,e,n){function r(t){return l(arguments).slice(1).forEach(function(e){i(e,function(e,n){t[e]=n})}),t}function o(t){return i(t,function(e,n){c(n)&&(o(n),u(n)&&delete t[e]),(void 0===n||null===n||""===n)&&delete t[e]}),t}function i(t,e){for(var n in t)(!t.hasOwnProperty||t.hasOwnProperty(n))&&e(n,t[n]);return t}function s(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function a(t,e){return t==s(e)}function c(t){return t===Object(t)}function u(t){if(!c(t))return!1;if(Object.keys)return!Object.keys(t).length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function f(t,e){d.setTimeout(function(){t.call(e||null)},0)}function l(t){return t?Array.prototype.slice.call(t):[]}function p(t,e){return t&&t.indexOf?t.indexOf(e)>-1:!1}var d=n(3);t.exports={aug:r,async:f,compact:o,contains:p,forIn:i,isObject:c,isEmptyObject:u,toType:s,isType:a,toRealArray:l}},function(t,e,n){var r,o,i,s=n(4);r=function(t){var e=t.search.substr(1);return s.decode(e)},o=function(t){var e=t.href,n=e.indexOf("#"),r=0>n?"":e.substring(n+1);return s.decode(r)},i=function(t){var e,n={},i=r(t),s=o(t);for(e in i)i.hasOwnProperty(e)&&(n[e]=i[e]);for(e in s)s.hasOwnProperty(e)&&(n[e]=s[e]);return n},t.exports={combined:i,fromQuery:r,fromFragment:o}},function(t,e,n){function r(t){var e=c("secure_session");return"true"==e||"default"==e?t?"https:"===s.protocol:!0:c("auth_token_session")?!0:!1}function o(t){return r()&&"https:"!==s.protocol?(a.onload=function(){s.replace("https://"+s.host+s.pathname+s.search+s.hash+"&original_redirect_referrer="+t)},!0):void 0}function i(){var t,e,n=c("twid");return n&&(t=n.split("|")[0])?(e=u.decode(t),e.c?e.c:e.u):void 0}var s=n(2),a=n(3),c=n(9),u=n(4);t.exports={isLoggedIn:r,forwardSSL:o,getUserId:i}},function(t,e,n){var r=n(1),o=n(6);t.exports=function(t,e,n){var i,s,a,c,u=o.aug({},n);return arguments.length>1&&"[object Object]"!==String(e)?((null===e||void 0===e)&&(u.expires=-1),"number"==typeof u.expires&&(i=u.expires,s=new Date((new Date).getTime()+60*i*1e3),u.expires=s),e=String(e),r.cookie=[encodeURIComponent(t),"=",u.raw?e:encodeURIComponent(e),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")):(u=e||{},c=u.raw?function(t){return t}:decodeURIComponent,(a=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(r.cookie))?c(a[1]):null)}},function(t,e,n){function r(t,e,n){return o(t,e,n,2)}function o(t,e,n,r){var o=!v.isObject(t),i=e?!v.isObject(e):!1;o||i||s(g.formatClientEventNamespace(t),g.formatClientEventData(e,n,r),g.CLIENT_EVENT_ENDPOINT)}function i(t,e,n,r){var i=g.extractTermsFromDOM(t.target||t.srcElement);i.action=r||"click",o(i,e,n)}function s(t,e,n){var r,o;n&&v.isObject(t)&&v.isObject(e)&&(r=g.flattenClientEventPayload(t,e),o={l:g.stringify(r)},r.dnt&&(o.dnt=1),p(h.url(n,o)))}function a(t,e,n,r){var o,i=!v.isObject(t),s=e?!v.isObject(e):!1;if(!i&&!s)return o=g.flattenClientEventPayload(g.formatClientEventNamespace(t),g.formatClientEventData(e,n,r)),c(o)}function c(t){return w.push(t),w}function u(){var t,e;return w.length>1&&a({page:"widgets_js",component:"scribe_pixel",action:"batch_log"},{}),t=w,w=[],e=t.reduce(function(e,n,r){var o=e.length,i=o&&e[o-1],s=r+1==t.length;return s&&n.event_namespace&&"batch_log"==n.event_namespace.action&&(n.message=["entries:"+r,"requests:"+o].join("/")),f(n).forEach(function(t){var n=l(t);(!i||i.urlLength+n>m)&&(i={urlLength:_,items:[]},e.push(i)),i.urlLength+=n,i.items.push(t)}),e},[]),e.map(function(t){var e={l:t.items};return d.enabled()&&(e.dnt=1),p(h.url(g.CLIENT_EVENT_ENDPOINT,e))})}function f(t){return Array.isArray(t)||(t=[t]),t.reduce(function(t,e){var n,r=g.stringify(e),o=l(r);return m>_+o?t=t.concat(r):(n=g.splitLogEntry(e),n.length>1&&(t=t.concat(f(n)))),t},[])}function l(t){return encodeURIComponent(t).length+3}function p(t){var e=new Image;return e.src=t}var d=n(11),h=n(4),g=n(18),v=n(6),m=2083,w=[],y=h.url(g.CLIENT_EVENT_ENDPOINT,{dnt:0,l:""}),_=encodeURIComponent(y).length;t.exports={_enqueueRawObject:c,scribe:s,clientEvent:o,clientEvent2:r,enqueueClientEvent:a,flushClientEvents:u,interaction:i}},function(t,e,n){function r(){p=!0}function o(t,e){return p?!0:f.asBoolean(l.val("dnt"))?!0:!a||1!=a.doNotTrack&&1!=a.msDoNotTrack?u.isUrlSensitive(e||s.host)?!0:c.isFramed()&&u.isUrlSensitive(c.rootDocumentLocation())?!0:(t=d.test(t||i.referrer)&&RegExp.$1,t&&u.isUrlSensitive(t)?!0:!1):!0}var i=n(1),s=n(2),a=n(12),c=n(13),u=n(16),f=n(5),l=n(17),p=!1,d=/https?:\/\/([^\/]+).*/i;t.exports={setOn:r,enabled:o}},function(t,e){t.exports=navigator},function(t,e,n){function r(t){return t&&c.isType("string",t)&&(u=t),u}function o(){return f}function i(){return u!==f}var s=n(2),a=n(14),c=n(6),u=a.getCanonicalURL()||s.href,f=u;t.exports={isFramed:i,rootDocumentLocation:r,currentDocumentLocation:o}},function(t,e,n){function r(t,e){var n,r;return e=e||a,/^https?:\/\//.test(t)?t:/^\/\//.test(t)?e.protocol+t:(n=e.host+(e.port.length?":"+e.port:""),0!==t.indexOf("/")&&(r=e.pathname.split("/"),r.pop(),r.push(t),t="/"+r.join("/")),[e.protocol,"//",n,t].join(""))}function o(){for(var t,e=s.getElementsByTagName("link"),n=0;t=e[n];n++)if("canonical"==t.rel)return r(t.href)}function i(){for(var t,e,n,r=s.getElementsByTagName("a"),o=s.getElementsByTagName("link"),i=[r,o],a=0,u=0,f=/\bme\b/;t=i[a];a++)for(u=0;e=t[u];u++)if(f.test(e.rel)&&(n=c.screenName(e.href)))return n}var s=n(1),a=n(2),c=n(15);t.exports={absolutize:r,getCanonicalURL:o,getScreenNameFromPage:i}},function(t,e,n){function r(t){return"string"==typeof t&&w.test(t)&&RegExp.$1.length<=20}function o(t){return r(t)?RegExp.$1:void 0}function i(t,e){var n=m.decodeURL(t);return e=e||!1,n.screen_name=o(t),n.screen_name?m.url("https://twitter.com/intent/"+(e?"follow":"user"),n):void 0}function s(t){return i(t,!0)}function a(t){return"string"==typeof t&&E.test(t)}function c(t,e){return e=void 0===e?!0:e,a(t)?(e?"#":"")+RegExp.$1:void 0}function u(t){return"string"==typeof t&&y.test(t)}function f(t){return u(t)&&RegExp.$1}function l(t){return _.test(t)}function p(t){return b.test(t)}function d(t){return T.test(t)}function h(t){return R.test(t)&&RegExp.$1}function g(t){return x.test(t)&&RegExp.$1}function v(t){return T.test(t)&&RegExp.$1}var m=n(4),w=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?(?:\/intent\/(?:follow|user)\/?\?screen_name=|(?:\/#!)?\/))@?([\w]+)(?:\?|&|$)/i,y=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?\/(?:#!\/)?[\w_]+\/status(?:es)?\/)(\d+)/i,_=/^http(s?):\/\/(\w+\.)*twitter\.com([\:\/]|$)/i,b=/^http(s?):\/\/pbs\.twimg\.com\//,E=/^#?([^.,<>!\s\/#\-\(\)\'\"]+)$/,T=/twitter\.com(?:\:\d{2,4})?\/intent\/(\w+)/,x=/^https?:\/\/(?:www\.)?twitter\.com\/\w+\/timelines\/(\d+)/i,R=/^https?:\/\/(?:www\.)?twitter\.com\/i\/moments\/(\d+)/i;t.exports={isHashTag:a,hashTag:c,isScreenName:r,screenName:o,isStatus:u,status:f,intentForProfileURL:i,intentForFollowURL:s,isTwitterURL:l,isTwimgURL:p,isIntentURL:d,regexen:{profile:w},momentId:h,collectionId:g,intentType:v}},function(t,e,n){function r(t){return t in a?a[t]:a[t]=s.test(t)}function o(){return r(i.host)}var i=n(2),s=/^[^#?]*\.(gov|mil)(:\d+)?([#?].*)?$/i,a={};t.exports={isUrlSensitive:r,isHostPageSensitive:o}},function(t,e,n){function r(t){var e,n,r,o=0;for(i={},t=t||s,e=t.getElementsByTagName("meta");n=e[o];o++)/^twitter:/.test(n.name)&&(r=n.name.replace(/^twitter:/,""),i[r]=n.content)}function o(t){return i[t]}var i,s=n(1);r(),t.exports={init:r,val:o}},function(t,e,n){function r(t,e){var n;return e=e||{},t&&t.nodeType===Node.ELEMENT_NODE?((n=t.getAttribute("data-scribe"))&&n.split(" ").forEach(function(t){var n=t.trim().split(":"),r=n[0],o=n[1];r&&o&&!e[r]&&(e[r]=o)}),r(t.parentNode,e)):e}function o(t){return h.aug({client:"tfw"},t||{})}function i(t,e,n){var r=t&&t.widget_origin||l.referrer;return t=s("tfw_client_event",t,r),t.client_version=m,t.format_version=void 0!==n?n:1,e||(t.widget_origin=r),t}function s(t,e,n){return e=e||{},h.aug({},e,{_category_:t,triggered_on:e.triggered_on||+new Date,dnt:d.enabled(n)})}function a(t,e){var n={};return e=e||{},e.association_namespace=o(t),n[b]=e,n}function c(t,e){return h.aug({},e,{event_namespace:t})}function u(t){var e,n=Array.prototype.toJSON;return delete Array.prototype.toJSON,e=p.stringify(t),n&&(Array.prototype.toJSON=n),e}function f(t){if(t.item_ids&&t.item_ids.length>1){var e=Math.floor(t.item_ids.length/2),n=t.item_ids.slice(0,e),r={},o=t.item_ids.slice(e),i={};n.forEach(function(e){r[e]=t.item_details[e]}),o.forEach(function(e){i[e]=t.item_details[e]});var s=[h.aug({},t,{item_ids:n,item_details:r}),h.aug({},t,{item_ids:o,item_details:i})];return s}return[t]}var l=n(1),p=n(19),d=n(11),h=n(6),g=n(20),v=n(21),m=g.version,w=v.get("endpoints.rufous")||"https://syndication.twitter.com/i/jot",y=v.get("endpoints.rufousAudience")||"https://syndication.twitter.com/i/jot/syndication",_=v.get("endpoints.rufousRedirect")||"https://platform.twitter.com/jot.html",b=1;t.exports={extractTermsFromDOM:r,flattenClientEventPayload:c,formatGenericEventData:s,formatClientEventData:i,formatClientEventNamespace:o,formatTweetAssociation:a,splitLogEntry:f,stringify:u,AUDIENCE_ENDPOINT:y,CLIENT_EVENT_ENDPOINT:w,RUFOUS_REDIRECT:_}},function(t,e,n){var r=n(3),o=r.JSON;t.exports={stringify:o.stringify||o.encode,parse:o.parse||o.decode}},function(t,e){t.exports={version:"1caccb10:1453413307309"}},function(t,e,n){var r=n(22);t.exports=new r("__twttr")},function(t,e,n){function r(t){return a.isType("string",t)?t.split("."):a.isType("array",t)?t:[]}function o(t,e){var n=r(e),o=n.slice(0,-1);return o.reduce(function(t,e,n){if(t[e]=t[e]||{},!a.isObject(t[e]))throw new Error(o.slice(0,n+1).join(".")+" is already defined with a value.");return t[e]},t)}function i(t,e){e=e||s,e[t]=e[t]||{},Object.defineProperty(this,"base",{value:e[t]}),Object.defineProperty(this,"name",{value:t})}var s=n(3),a=n(6);a.aug(i.prototype,{get:function(t){var e=r(t);return e.reduce(function(t,e){return a.isObject(t)?t[e]:void 0},this.base)},set:function(t,e,n){var i=r(t),s=o(this.base,t),a=i.slice(-1);return n&&a in s?s[a]:s[a]=e},init:function(t,e){return this.set(t,e,!0)},unset:function(t){var e=r(t),n=this.get(e.slice(0,-1));n&&delete n[e.slice(-1)]},aug:function(t){var e=this.get(t),n=a.toRealArray(arguments).slice(1);if(e="undefined"!=typeof e?e:{},n.unshift(e),!n.every(a.isObject))throw new Error("Cannot augment non-object.");return this.set(t,a.aug.apply(null,n))},call:function(t){var e=this.get(t),n=a.toRealArray(arguments).slice(1);if(!a.isType("function",e))throw new Error("Function "+t+"does not exist.");return e.apply(null,n)},fullPath:function(t){var e=r(t);return e.unshift(this.name),e.join(".")}}),t.exports=i},function(t,e,n){function r(t){return t=t||v,t.devicePixelRatio?t.devicePixelRatio>=1.5:t.matchMedia?t.matchMedia("only screen and (min-resolution: 144dpi)").matches:!1}function o(t){return t=t||T,/(Trident|MSIE \d)/.test(t)}function i(t){return t=t||T,/MSIE 9/.test(t)}function s(t){return t=t||T,/(iPad|iPhone|iPod)/.test(t)}function a(t){return t=t||T,/^Mozilla\/5\.0 \(Linux; (U; )?Android/.test(t)}function c(){return x}function u(t,e){return t=t||v,e=e||T,t.postMessage&&!(o(e)&&t.opener)}function f(t){t=t||g;try{return!!t.plugins["Shockwave Flash"]||!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){return!1}}function l(t,e,n){return t=t||v,e=e||g,n=n||T,"ontouchstart"in t||/Opera Mini/.test(n)||e.msMaxTouchPoints>0}function p(){var t=h.body.style;return void 0!==t.transition||void 0!==t.webkitTransition||void 0!==t.mozTransition||void 0!==t.oTransition||void 0!==t.msTransition}function d(){return!!(v.Promise&&v.Promise.resolve&&v.Promise.reject&&v.Promise.all&&v.Promise.race&&function(){var t;return new v.Promise(function(e){t=e}),_.isType("function",t)}())}var h=n(1),g=n(12),v=n(3),m=n(24),w=n(25),y=n(5),_=n(6),b=n(17),E=n(21),T=g.userAgent,x=!1,R=!1,P="twitter-csp-test";E.set("verifyCSP",function(t){var e=h.getElementById(P);R=!0,x=!!t,e&&e.parentNode.removeChild(e)}),m(function(){var t;return y.asBoolean(b.val("widgets:csp"))?x=!0:(t=h.createElement("script"),t.id=P,t.text=E.fullPath("verifyCSP")+"(false);",h.body.appendChild(t),void v.setTimeout(function(){R||(w.warn('TWITTER: Content Security Policy restrictions may be applied to your site. Add <meta name="twitter:widgets:csp" content="on"> to supress this warning.'),w.warn("TWITTER: Please note: Not all embedded timeline and embedded Tweet functionality is supported when CSP is applied."))},5e3))}),t.exports={retina:r,anyIE:o,ie9:i,ios:s,android:a,cspEnabled:c,flashEnabled:f,canPostMessage:u,touch:l,cssTransitions:p,hasPromiseSupport:d}},function(t,e,n){function r(){u=1;for(var t=0,e=f.length;e>t;t++)f[t]()}var o,i,s,a=n(1),c=n(3),u=0,f=[],l=!1,p=a.createElement("a");/^loade|c/.test(a.readyState)&&(u=1),a.addEventListener&&a.addEventListener("DOMContentLoaded",i=function(){a.removeEventListener("DOMContentLoaded",i,l),r()},l),p.doScroll&&a.attachEvent("onreadystatechange",o=function(){/^c/.test(a.readyState)&&(a.detachEvent("onreadystatechange",o),r())}),s=p.doScroll?function(t){c.self!=c.top?u?t():f.push(t):!function(){try{p.doScroll("left")}catch(e){return setTimeout(function(){s(t)},50)}t()}()}:function(t){u?t():f.push(t)},t.exports=s},function(t,e,n){function r(){u("info",p.toRealArray(arguments))}function o(){u("warn",p.toRealArray(arguments))}function i(){u("error",p.toRealArray(arguments))}function s(t){g&&(h[t]=c())}function a(t){var e;g&&(h[t]?(e=c(),r("_twitter",t,e-h[t])):i("timeEnd() called before time() for id: ",t))}function c(){return l.performance&&+l.performance.now()||+new Date}function u(t,e){if(l[d]&&l[d][t])switch(e.length){case 1:l[d][t](e[0]);break;case 2:l[d][t](e[0],e[1]);break;case 3:l[d][t](e[0],e[1],e[2]);break;case 4:l[d][t](e[0],e[1],e[2],e[3]);break;case 5:l[d][t](e[0],e[1],e[2],e[3],e[4]);break;default:0!==e.length&&l[d].warn&&l[d].warn("too many params passed to logger."+t)}}var f=n(2),l=n(3),p=n(6),d=["con","sole"].join(""),h={},g=p.contains(f.href,"tw_debug=true");t.exports={info:r,warn:o,error:i,time:s,timeEnd:a}},function(t,e){t.exports=["hi","zh-cn","fr","zh-tw","msa","fil","fi","sv","pl","ja","ko","de","it","pt","es","ru","id","tr","da","no","nl","hu","fa","ar","ur","he","th","cs","uk","vi","ro","bn","el","en-gb","gu","kn","mr","ta","bg","ca","hr","sr","sk"]},function(t,e,n){function r(t){var e=c(t),n=Math.ceil(e.width),r=Math.ceil(e.height);u.notify("twttr.private.resizeButton",{width:n,height:r})}function o(t,e){u.notify("twttr.private.trigger",t,e)}var i=n(3),s=n(28),a=n(34),c=n(37),u=new s(new a.Dispatcher(i.parent,"twttr.button"));t.exports={triggerResize:r,trigger:o}},function(t,e,n){function r(t){if(!t)throw new Error("JsonRpcClient requires a dispatcher");this.idIterator=0,this.dispatcher=t,this.idPrefix=String(+new Date)+a++}function o(t){var e={jsonrpc:s,method:t};return arguments.length>1&&(e.params=[].slice.call(arguments,1)),e}var i=n(29),s="2.0",a=0;r.prototype._generateId=function(){return this.idPrefix+this.idIterator++},r.prototype.notify=function(){this.dispatcher.send(o.apply(null,arguments))},r.prototype.request=function(){var t=o.apply(null,arguments);return t.id=this._generateId(),this.dispatcher.send(t).then(function(t){return"result"in t?t.result:i.reject(t.error)})},t.exports=r},function(t,e,n){var r=n(30).Promise,o=n(3),i=n(23);t.exports=i.hasPromiseSupport()?o.Promise:r},function(t,e,n){var r;(function(t){/*! * @overview es6-promise - a tiny implementation of Promises/A+. * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald) * @licenseLicensed under MIT license *See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE * @version2.3.0 */(function(){"use strict";function o(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){K=t}function c(t){Y=t}function u(){var t=process.nextTick,e=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(e)&&"0"===e[1]&&"10"===e[2]&&(t=setImmediate),function(){t(h)}}function f(){return function(){H(h)}}function l(){var t=0,e=new X(h),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function p(){var t=new MessageChannel;return t.port1.onmessage=h,function(){t.port2.postMessage(0)}}function d(){return function(){setTimeout(h,1)}}function h(){for(var t=0;W>t;t+=2){var e=et[t],n=et[t+1];e(n),et[t]=void 0,et[t+1]=void 0}W=0}function g(){try{var t=n(32);return H=t.runOnLoop||t.runOnContext,f()}catch(e){return d()}}function v(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function w(){return new TypeError("A promises callback cannot return that same promise.")}function y(t){try{return t.then}catch(e){return it.error=e,it}}function _(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function b(t,e,n){Y(function(t){var r=!1,o=_(n,e,function(n){r||(r=!0,e!==n?x(t,n):P(t,n))},function(e){r||(r=!0,I(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,I(t,o))},t)}function E(t,e){e._state===rt?P(t,e._result):e._state===ot?I(t,e._result):L(e,void 0,function(e){x(t,e)},function(e){I(t,e)})}function T(t,e){if(e.constructor===t.constructor)E(t,e);else{var n=y(e);n===it?I(t,it.error):void 0===n?P(t,e):i(n)?b(t,e,n):P(t,e)}}function x(t,e){t===e?I(t,m()):o(e)?T(t,e):P(t,e)}function R(t){t._onerror&&t._onerror(t._result),N(t)}function P(t,e){t._state===nt&&(t._result=e,t._state=rt,0!==t._subscribers.length&&Y(N,t))}function I(t,e){t._state===nt&&(t._state=ot,t._result=e,Y(R,t))}function L(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+rt]=n,o[i+ot]=r,0===i&&t._state&&Y(N,t)}function N(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?j(n,r,o,i):o(i);t._subscribers.length=0}}function O(){this.error=null}function C(t,e){try{return t(e)}catch(n){return st.error=n,st}}function j(t,e,n,r){var o,s,a,c,u=i(n);if(u){if(o=C(n,r),o===st?(c=!0,s=o.error,o=null):a=!0,e===o)return void I(e,w())}else o=r,a=!0;e._state!==nt||(u&&a?x(e,o):c?I(e,s):t===rt?P(e,o):t===ot&&I(e,o))}function S(t,e){try{e(function(e){x(t,e)},function(e){I(t,e)})}catch(n){I(t,n)}}function A(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(v),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?P(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&P(n.promise,n._result))):I(n.promise,n._validationError())}function U(t){return new at(this,t).promise}function F(t){function e(t){x(o,t)}function n(t){I(o,t)}var r=this,o=new r(v);if(!J(t))return I(o,new TypeError("You must pass an array to race.")),o;for(var i=t.length,s=0;o._state===nt&&i>s;s++)L(r.resolve(t[s]),void 0,e,n);return o}function k(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(v);return x(n,t),n}function M(t){var e=this,n=new e(v);return I(n,t),n}function D(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function B(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function $(t){this._id=pt++,this._state=void 0,this._result=void 0,this._subscribers=[],v!==t&&(i(t)||D(),this instanceof $||B(),S(this,t))}function z(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=dt)}var V;V=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var H,K,q,J=V,W=0,Y=({}.toString,function(t,e){et[W]=t,et[W+1]=e,W+=2,2===W&&(K?K(h):q())}),G="undefined"!=typeof window?window:void 0,Q=G||{},X=Q.MutationObserver||Q.WebKitMutationObserver,Z="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),tt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,et=new Array(1e3);q=Z?u():X?l():tt?p():void 0===G?g():d();var nt=void 0,rt=1,ot=2,it=new O,st=new O;A.prototype._validateInput=function(t){return J(t)},A.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},A.prototype._init=function(){this._result=new Array(this.length)};var at=A;A.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,o=0;n._state===nt&&e>o;o++)t._eachEntry(r[o],o)},A.prototype._eachEntry=function(t,e){var n=this,r=n._instanceConstructor;s(t)?t.constructor===r&&t._state!==nt?(t._onerror=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(r.resolve(t),e):(n._remaining--,n._result[e]=t)},A.prototype._settledAt=function(t,e,n){var r=this,o=r.promise;o._state===nt&&(r._remaining--,t===ot?I(o,n):r._result[e]=n),0===r._remaining&&P(o,r._result)},A.prototype._willSettleAt=function(t,e){var n=this;L(t,void 0,function(t){n._settledAt(rt,e,t)},function(t){n._settledAt(ot,e,t)})};var ct=U,ut=F,ft=k,lt=M,pt=0,dt=$;$.all=ct,$.race=ut,$.resolve=ft,$.reject=lt,$._setScheduler=a,$._setAsap=c,$._asap=Y,$.prototype={constructor:$,then:function(t,e){var n=this,r=n._state;if(r===rt&&!t||r===ot&&!e)return this;var o=new this.constructor(v),i=n._result;if(r){var s=arguments[r-1];Y(function(){j(r,o,s,i)})}else L(n,o,t,e);return o},"catch":function(t){return this.then(null,t)}};var ht=z,gt={Promise:dt,polyfill:ht};n(33).amd?(r=function(){return gt}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))):"undefined"!=typeof t&&t.exports&&(t.exports=gt)}).call(this)}).call(e,n(31)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){function r(t,e,n){var r;t&&t.postMessage&&(m?r=(n||"")+l.stringify(e):n?(r={},r[n]=e):r=e,t.postMessage(r,"*"))}function o(t){return h.isType("string",t)?t:"JSONRPC"}function i(t,e){return e?h.isType("string",t)&&0===t.indexOf(e)?t.substring(e.length):t[e]?t[e]:void 0:t}function s(t,e){var n=t.document;this.filter=o(e),this.server=null,this.isTwitterFrame=g.isTwitterURL(n.location.href),t.addEventListener("message",v(this._onMessage,this),!1)}function a(t,e){this.pending={},this.target=t,this.isTwitterHost=g.isTwitterURL(u.href),this.filter=o(e),f.addEventListener("message",v(this._onMessage,this),!1)}function c(t){return arguments.length>0&&(m=!!t),m}var u=n(2),f=n(3),l=n(19),p=n(35),d=n(23),h=n(6),g=n(15),v=n(36),m=d.ie9();h.aug(s.prototype,{_onMessage:function(t){var e,n=this;this.server&&(!this.isTwitterFrame||g.isTwitterURL(t.origin))&&(e=i(t.data,this.filter),e&&this.server.receive(e,t.source).then(function(e){e&&r(t.source,e,n.filter)}))},attachTo:function(t){this.server=t},detach:function(){this.server=null}}),h.aug(a.prototype,{_processResponse:function(t){var e=this.pending[t.id];e&&(e.resolve(t),delete this.pending[t.id])},_onMessage:function(t){var e;if((!this.isTwitterHost||g.isTwitterURL(t.origin))&&(e=i(t.data,this.filter))){if(h.isType("string",e))try{e=l.parse(e)}catch(n){return}e=h.isType("array",e)?e:[e],e.forEach(v(this._processResponse,this))}},send:function(t){var e=new p;return t.id?this.pending[t.id]=e:e.resolve(),r(this.target,t,this.filter),e.promise}}),t.exports={Receiver:s,Dispatcher:a,_stringifyPayload:c}},function(t,e,n){function r(){var t=this;this.promise=new o(function(e,n){t.resolve=e,t.reject=n})}var o=n(29);t.exports=r},function(t,e,n){var r=n(6);t.exports=function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){var o=r.toRealArray(arguments);return t.apply(e,n.concat(o))}}},function(t,e){function n(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height}}t.exports=n},function(t,e){var n=3e4;t.exports=function(t,e){var r=+new Date;return e=e||n,t>r-e}}]))}();;</script></body></html>ÑÕ	
^rufous-sandbox[about:blankO<html class="SandboxRoot"><head><style type="text/css">.SandboxRoot { display: none; }</style><base target="_blank"></head><body></body></html>¯!'+/5:?DINSX]bglqv{€„Ô
"#$%&_WebResourceResponseXtext/css_)https://workflowy.com/media/css/reset.cssObplist00ÔefX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`U$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_)https://workflowy.com/media/css/reset.cssÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùpg0” ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)Xtext/css_Mon, 16 Mar 2015 21:21:12 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTS928Xno-cache_"3a0-5116e6deee200"Ò+,^_\NSDictionary¢^/Ò+,ab_NSHTTPURLResponse£cd/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑgh_WebResourceResponse€    # - 2 7 W ] x {  ‚ … ˆ Œ  – ™ œ Ÿ ¢ ¥ § © « ­ ¯ ° ² ´ ¶ ¸ º ¼ ¾ Å Í Ù Û Ý ß$*-6?ACJR]gikmoqsuwyƒ…‡‰‹‘“•—¢©¶ÄÒ×æôù%EKkoxŽ“ £¨¼ÀÔâô÷             i              O html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, font, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td {
margin: 0;
padding: 0;
border: 0;
outline: 0;
font-size: 100%;
vertical-align: baseline;
background: transparent;
}
body {
line-height: 1;
}
ol, ul {
list-style: none;
}
blockquote, q {
quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
content: '';
content: none;
}

/* remember to define focus styles! */
:focus {
outline: 0;
}

/* remember to highlight inserts somehow! */
ins {
text-decoration: none;
}
del {
text-decoration: line-through;
}

/* tables still need 'cellspacing="0"' in the markup */
table {
border-collapse: collapse;
border-spacing: 0;
}

Ô
"#()*_Ahttps://workflowy.com/media/css/aristo/jquery-ui-1.8.7.custom.cssObplist00ÔefX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`U$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_Ahttps://workflowy.com/media/css/aristo/jquery-ui-1.8.7.custom.cssÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùpgEñ ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)Xtext/css_Mon, 16 Mar 2015 21:21:12 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTU38809Xno-cache_"9799-5116e6deee200"Ò+,^_\NSDictionary¢^/Ò+,ab_NSHTTPURLResponse£cd/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑgh_WebResourceResponse€    # - 2 7 W ] x {  ‚ … ˆ Œ  – ™ œ Ÿ ¢ ¥ § © « ­ ¯ ° ² ´ ¶ ¸ º ¼ ¾ Å Í Ù Û Ý ß#(3<BENWY[bjuƒ…‡‰‹‘›Ÿ¡£¥§©«­¯ºÁÎÜêïþ4=]cƒ‰’©®»¾Ã×Ûïý(             i              *O—™/*
 * jQuery UI CSS Framework 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Theming/API
 */

/* Layout helpers
----------------------------------*/
.ui-helper-hidden { display: none; }
.ui-helper-hidden-accessible { position: absolute !important; clip: rect(1px 1px 1px 1px); clip: rect(1px,1px,1px,1px); }
.ui-helper-reset { margin: 0; padding: 0; border: 0; outline: 0; line-height: 1.3; text-decoration: none; font-size: 100%; list-style: none; }
.ui-helper-clearfix:after { content: "."; display: block; height: 0; clear: both; visibility: hidden; }
.ui-helper-clearfix { display: inline-block; }
/* required comment for clearfix to work in Opera \*/
* html .ui-helper-clearfix { height:1%; }
.ui-helper-clearfix { display:block; }
/* end clearfix */
.ui-helper-zfix { width: 100%; height: 100%; top: 0; left: 0; position: absolute; opacity: 0; filter:Alpha(Opacity=0); }


/* Interaction Cues
----------------------------------*/
.ui-state-disabled { cursor: default !important; }


/* Icons
----------------------------------*/

/* states and images */
.ui-icon { display: block; text-indent: -99999px; overflow: hidden; background-repeat: no-repeat; }


/* Misc visuals
----------------------------------*/

/* Overlays */
.ui-widget-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }


/*
 * jQuery UI CSS Framework 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Theming/API
 *
 * To view and modify this theme, visit http://jqueryui.com/themeroller/?ctl=themeroller
 */


/* Component containers
----------------------------------*/
.ui-widget { font-family: 'Helvetica Neue', Arial, sans-serif  !important; font-size: 1.1em;}
.ui-widget .ui-widget { font-size: 1em; }
.ui-widget input, .ui-widget select, .ui-widget textarea, .ui-widget button { font-family: 'Helvetica Neue',Arial,sans-serif; font-size: 1em; }
.ui-widget-content { border: 1px solid #B6B6B6; background: #ffffff; color: #4F4F4F; }
.ui-widget-content a { color: #4F4F4F; }
.ui-widget-header { border: 1px solid #B6B6B6; color: #4F4F4F; font-weight: bold; }
.ui-widget-header {
	background: url(images/bg_fallback.png) 0 0 repeat-x;
	background: -webkit-gradient(
		linear,
		left bottom,
		left top,
		color-stop(1, rgb(237,237,237)),
		color-stop(0, rgb(196,196,196))
	);
	background: -moz-linear-gradient(
		center top,
		rgb(237,237,237),
		rgb(196,196,196)
	);
}
.ui-widget-header a { color: #4F4F4F; }

/* Interaction states
----------------------------------*/
.ui-state-default, .ui-widget-content .ui-state-default, .ui-widget-header .ui-state-default { border: 1px solid #B6B6B6; font-weight: normal; color: #4F4F4F; }
.ui-state-default, .ui-widget-content .ui-state-default, .ui-widget-header .ui-state-default { 
	background: url(images/bg_fallback.png) 0 0 repeat-x;
	background: -webkit-gradient(
    linear,
    left bottom,
    left top,
    color-stop(1, rgb(237,237,237)),
    color-stop(0, rgb(196,196,196))
	);
	background: -moz-linear-gradient(
		center top,
		rgb(237,237,237),
		rgb(196,196,196)
	);
	-webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.6) inset;
	-moz-box-shadow: 0 1px 0 rgba(255,255,255,0.6) inset;
	box-shadow: 0 1px 0 rgba(255,255,255,0.6) inset;
}
.ui-state-default a, .ui-state-default a:link, .ui-state-default a:visited { color: #4F4F4F; text-decoration: none; }
.ui-state-hover, .ui-widget-content .ui-state-hover, .ui-widget-header .ui-state-hover, .ui-state-focus, .ui-widget-content .ui-state-focus, .ui-widget-header .ui-state-focus { border: 1px solid #9D9D9D; font-weight: normal; color: #313131; }
.ui-state-hover a, .ui-state-hover a:hover { color: #313131; text-decoration: none; }
.ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active { 
	outline: none;
	color: #1c4257; border: 1px solid #7096ab;
	background: url(images/bg_fallback.png) 0 -50px repeat-x;
	background: -webkit-gradient(
    linear,
    left bottom,
    left top,
    color-stop(1, rgb(185,224,245)),
    color-stop(0, rgb(146,189,214))
	);
	background: -moz-linear-gradient(
		center top,
		rgb(185,224,245),
		rgb(146,189,214)
	);
	-webkit-box-shadow: none;
	-moz-box-shadow: none;
	box-shadow: none;
}
.ui-state-active a, .ui-state-active a:link, .ui-state-active a:visited { color: #313131; text-decoration: none; }
/*
  The following dramatically slowed down scrolling on iphone. So we're getting rid of it.
  .ui-widget :active { outline: none; }
*/

/* Interaction Cues
----------------------------------*/
.ui-state-highlight, .ui-widget-content .ui-state-highlight, .ui-widget-header .ui-state-highlight  { border: 1px solid #d2dbf4; background: #f4f8fd; color: #0d2054; -moz-border-radius: 0 !important; -webkit-border-radius: 0 !important; border-radius: 0 !important; }
.ui-state-highlight a, .ui-widget-content .ui-state-highlight a,.ui-widget-header .ui-state-highlight a { color: #363636; }
.ui-state-error, .ui-widget-content .ui-state-error, .ui-widget-header .ui-state-error { border: 1px solid #e2d0d0; background: #fcf0f0; color: #280b0b; -moz-border-radius: 0 !important; -webkit-border-radius: 0 !important; border-radius: 0 !important; }
.ui-state-error a, .ui-widget-content .ui-state-error a, .ui-widget-header .ui-state-error a { color: #cd0a0a; }
.ui-state-error-text, .ui-widget-content .ui-state-error-text, .ui-widget-header .ui-state-error-text { color: #cd0a0a; }
.ui-priority-primary, .ui-widget-content .ui-priority-primary, .ui-widget-header .ui-priority-primary { font-weight: bold; }
.ui-priority-secondary, .ui-widget-content .ui-priority-secondary,  .ui-widget-header .ui-priority-secondary { opacity: .7; filter:Alpha(Opacity=70); font-weight: normal; }
.ui-state-disabled, .ui-widget-content .ui-state-disabled, .ui-widget-header .ui-state-disabled { opacity: .35; filter:Alpha(Opacity=35); background-image: none; }

/* Icons
----------------------------------*/

/* states and images */
.ui-icon { width: 16px; height: 16px; background-image: url(images/ui-icons_222222_256x240.png); }
.ui-widget-content .ui-icon {background-image: url(images/ui-icons_222222_256x240.png); }
.ui-widget-header .ui-icon {background-image: url(images/ui-icons_222222_256x240.png); }
.ui-state-default .ui-icon { background-image: url(images/ui-icons_454545_256x240.png); }
.ui-state-hover .ui-icon, .ui-state-focus .ui-icon {background-image: url(images/ui-icons_454545_256x240.png); }
.ui-state-active .ui-icon {background-image: url(images/ui-icons_454545_256x240.png); }
.ui-state-highlight .ui-icon {background-image: url(images/ui-icons_454545_256x240.png); }
.ui-state-error .ui-icon, .ui-state-error-text .ui-icon { background: url(images/icon_sprite.png) -16px 0 no-repeat !important; }
.ui-state-highlight .ui-icon, .ui-state-error .ui-icon { margin-top: -1px; }

/* positioning */
.ui-icon-carat-1-n { background-position: 0 0; }
.ui-icon-carat-1-ne { background-position: -16px 0; }
.ui-icon-carat-1-e { background-position: -32px 0; }
.ui-icon-carat-1-se { background-position: -48px 0; }
.ui-icon-carat-1-s { background-position: -64px 0; }
.ui-icon-carat-1-sw { background-position: -80px 0; }
.ui-icon-carat-1-w { background-position: -96px 0; }
.ui-icon-carat-1-nw { background-position: -112px 0; }
.ui-icon-carat-2-n-s { background-position: -128px 0; }
.ui-icon-carat-2-e-w { background-position: -144px 0; }
.ui-icon-triangle-1-n { background-position: 0 -16px; }
.ui-icon-triangle-1-ne { background-position: -16px -16px; }
.ui-icon-triangle-1-e { background-position: -32px -16px; }
.ui-icon-triangle-1-se { background-position: -48px -16px; }
.ui-icon-triangle-1-s { background-position: -64px -16px; }
.ui-icon-triangle-1-sw { background-position: -80px -16px; }
.ui-icon-triangle-1-w { background-position: -96px -16px; }
.ui-icon-triangle-1-nw { background-position: -112px -16px; }
.ui-icon-triangle-2-n-s { background-position: -128px -16px; }
.ui-icon-triangle-2-e-w { background-position: -144px -16px; }
.ui-icon-arrow-1-n { background-position: 0 -32px; }
.ui-icon-arrow-1-ne { background-position: -16px -32px; }
.ui-icon-arrow-1-e { background-position: -32px -32px; }
.ui-icon-arrow-1-se { background-position: -48px -32px; }
.ui-icon-arrow-1-s { background-position: -64px -32px; }
.ui-icon-arrow-1-sw { background-position: -80px -32px; }
.ui-icon-arrow-1-w { background-position: -96px -32px; }
.ui-icon-arrow-1-nw { background-position: -112px -32px; }
.ui-icon-arrow-2-n-s { background-position: -128px -32px; }
.ui-icon-arrow-2-ne-sw { background-position: -144px -32px; }
.ui-icon-arrow-2-e-w { background-position: -160px -32px; }
.ui-icon-arrow-2-se-nw { background-position: -176px -32px; }
.ui-icon-arrowstop-1-n { background-position: -192px -32px; }
.ui-icon-arrowstop-1-e { background-position: -208px -32px; }
.ui-icon-arrowstop-1-s { background-position: -224px -32px; }
.ui-icon-arrowstop-1-w { background-position: -240px -32px; }
.ui-icon-arrowthick-1-n { background-position: 0 -48px; }
.ui-icon-arrowthick-1-ne { background-position: -16px -48px; }
.ui-icon-arrowthick-1-e { background-position: -32px -48px; }
.ui-icon-arrowthick-1-se { background-position: -48px -48px; }
.ui-icon-arrowthick-1-s { background-position: -64px -48px; }
.ui-icon-arrowthick-1-sw { background-position: -80px -48px; }
.ui-icon-arrowthick-1-w { background-position: -96px -48px; }
.ui-icon-arrowthick-1-nw { background-position: -112px -48px; }
.ui-icon-arrowthick-2-n-s { background-position: -128px -48px; }
.ui-icon-arrowthick-2-ne-sw { background-position: -144px -48px; }
.ui-icon-arrowthick-2-e-w { background-position: -160px -48px; }
.ui-icon-arrowthick-2-se-nw { background-position: -176px -48px; }
.ui-icon-arrowthickstop-1-n { background-position: -192px -48px; }
.ui-icon-arrowthickstop-1-e { background-position: -208px -48px; }
.ui-icon-arrowthickstop-1-s { background-position: -224px -48px; }
.ui-icon-arrowthickstop-1-w { background-position: -240px -48px; }
.ui-icon-arrowreturnthick-1-w { background-position: 0 -64px; }
.ui-icon-arrowreturnthick-1-n { background-position: -16px -64px; }
.ui-icon-arrowreturnthick-1-e { background-position: -32px -64px; }
.ui-icon-arrowreturnthick-1-s { background-position: -48px -64px; }
.ui-icon-arrowreturn-1-w { background-position: -64px -64px; }
.ui-icon-arrowreturn-1-n { background-position: -80px -64px; }
.ui-icon-arrowreturn-1-e { background-position: -96px -64px; }
.ui-icon-arrowreturn-1-s { background-position: -112px -64px; }
.ui-icon-arrowrefresh-1-w { background-position: -128px -64px; }
.ui-icon-arrowrefresh-1-n { background-position: -144px -64px; }
.ui-icon-arrowrefresh-1-e { background-position: -160px -64px; }
.ui-icon-arrowrefresh-1-s { background-position: -176px -64px; }
.ui-icon-arrow-4 { background-position: 0 -80px; }
.ui-icon-arrow-4-diag { background-position: -16px -80px; }
.ui-icon-extlink { background-position: -32px -80px; }
.ui-icon-newwin { background-position: -48px -80px; }
.ui-icon-refresh { background-position: -64px -80px; }
.ui-icon-shuffle { background-position: -80px -80px; }
.ui-icon-transfer-e-w { background-position: -96px -80px; }
.ui-icon-transferthick-e-w { background-position: -112px -80px; }
.ui-icon-folder-collapsed { background-position: 0 -96px; }
.ui-icon-folder-open { background-position: -16px -96px; }
.ui-icon-document { background-position: -32px -96px; }
.ui-icon-document-b { background-position: -48px -96px; }
.ui-icon-note { background-position: -64px -96px; }
.ui-icon-mail-closed { background-position: -80px -96px; }
.ui-icon-mail-open { background-position: -96px -96px; }
.ui-icon-suitcase { background-position: -112px -96px; }
.ui-icon-comment { background-position: -128px -96px; }
.ui-icon-person { background-position: -144px -96px; }
.ui-icon-print { background-position: -160px -96px; }
.ui-icon-trash { background-position: -176px -96px; }
.ui-icon-locked { background-position: -192px -96px; }
.ui-icon-unlocked { background-position: -208px -96px; }
.ui-icon-bookmark { background-position: -224px -96px; }
.ui-icon-tag { background-position: -240px -96px; }
.ui-icon-home { background-position: 0 -112px; }
.ui-icon-flag { background-position: -16px -112px; }
.ui-icon-calendar { background-position: -32px -112px; }
.ui-icon-cart { background-position: -48px -112px; }
.ui-icon-pencil { background-position: -64px -112px; }
.ui-icon-clock { background-position: -80px -112px; }
.ui-icon-disk { background-position: -96px -112px; }
.ui-icon-calculator { background-position: -112px -112px; }
.ui-icon-zoomin { background-position: -128px -112px; }
.ui-icon-zoomout { background-position: -144px -112px; }
.ui-icon-search { background-position: -160px -112px; }
.ui-icon-wrench { background-position: -176px -112px; }
.ui-icon-gear { background-position: -192px -112px; }
.ui-icon-heart { background-position: -208px -112px; }
.ui-icon-star { background-position: -224px -112px; }
.ui-icon-link { background-position: -240px -112px; }
.ui-icon-cancel { background-position: 0 -128px; }
.ui-icon-plus { background-position: -16px -128px; }
.ui-icon-plusthick { background-position: -32px -128px; }
.ui-icon-minus { background-position: -48px -128px; }
.ui-icon-minusthick { background-position: -64px -128px; }
.ui-icon-close { background-position: -80px -128px; }
.ui-icon-closethick { background-position: -96px -128px; }
.ui-icon-key { background-position: -112px -128px; }
.ui-icon-lightbulb { background-position: -128px -128px; }
.ui-icon-scissors { background-position: -144px -128px; }
.ui-icon-clipboard { background-position: -160px -128px; }
.ui-icon-copy { background-position: -176px -128px; }
.ui-icon-contact { background-position: -192px -128px; }
.ui-icon-image { background-position: -208px -128px; }
.ui-icon-video { background-position: -224px -128px; }
.ui-icon-script { background-position: -240px -128px; }
.ui-icon-alert { background-position: 0 -144px; }
.ui-icon-info { background: url(images/icon_sprite.png) 0 0 no-repeat !important; }
.ui-icon-notice { background-position: -32px -144px; }
.ui-icon-help { background-position: -48px -144px; }
.ui-icon-check { background-position: -64px -144px; }
.ui-icon-bullet { background-position: -80px -144px; }
.ui-icon-radio-off { background-position: -96px -144px; }
.ui-icon-radio-on { background-position: -112px -144px; }
.ui-icon-pin-w { background-position: -128px -144px; }
.ui-icon-pin-s { background-position: -144px -144px; }
.ui-icon-play { background-position: 0 -160px; }
.ui-icon-pause { background-position: -16px -160px; }
.ui-icon-seek-next { background-position: -32px -160px; }
.ui-icon-seek-prev { background-position: -48px -160px; }
.ui-icon-seek-end { background-position: -64px -160px; }
.ui-icon-seek-start { background-position: -80px -160px; }
/* ui-icon-seek-first is deprecated, use ui-icon-seek-start instead */
.ui-icon-seek-first { background-position: -80px -160px; }
.ui-icon-stop { background-position: -96px -160px; }
.ui-icon-eject { background-position: -112px -160px; }
.ui-icon-volume-off { background-position: -128px -160px; }
.ui-icon-volume-on { background-position: -144px -160px; }
.ui-icon-power { background-position: 0 -176px; }
.ui-icon-signal-diag { background-position: -16px -176px; }
.ui-icon-signal { background-position: -32px -176px; }
.ui-icon-battery-0 { background-position: -48px -176px; }
.ui-icon-battery-1 { background-position: -64px -176px; }
.ui-icon-battery-2 { background-position: -80px -176px; }
.ui-icon-battery-3 { background-position: -96px -176px; }
.ui-icon-circle-plus { background-position: 0 -192px; }
.ui-icon-circle-minus { background-position: -16px -192px; }
.ui-icon-circle-close { background-position: -32px -192px; }
.ui-icon-circle-triangle-e { background-position: -48px -192px; }
.ui-icon-circle-triangle-s { background-position: -64px -192px; }
.ui-icon-circle-triangle-w { background-position: -80px -192px; }
.ui-icon-circle-triangle-n { background-position: -96px -192px; }
.ui-icon-circle-arrow-e { background-position: -112px -192px; }
.ui-icon-circle-arrow-s { background-position: -128px -192px; }
.ui-icon-circle-arrow-w { background-position: -144px -192px; }
.ui-icon-circle-arrow-n { background-position: -160px -192px; }
.ui-icon-circle-zoomin { background-position: -176px -192px; }
.ui-icon-circle-zoomout { background-position: -192px -192px; }
.ui-icon-circle-check { background-position: -208px -192px; }
.ui-icon-circlesmall-plus { background-position: 0 -208px; }
.ui-icon-circlesmall-minus { background-position: -16px -208px; }
.ui-icon-circlesmall-close { background-position: -32px -208px; }
.ui-icon-squaresmall-plus { background-position: -48px -208px; }
.ui-icon-squaresmall-minus { background-position: -64px -208px; }
.ui-icon-squaresmall-close { background-position: -80px -208px; }
.ui-icon-grip-dotted-vertical { background-position: 0 -224px; }
.ui-icon-grip-dotted-horizontal { background-position: -16px -224px; }
.ui-icon-grip-solid-vertical { background-position: -32px -224px; }
.ui-icon-grip-solid-horizontal { background-position: -48px -224px; }
.ui-icon-gripsmall-diagonal-se { background-position: -64px -224px; }
.ui-icon-grip-diagonal-se { background-position: -80px -224px; }


/* Misc visuals
----------------------------------*/

/* Corner radius */
.ui-corner-tl { -moz-border-radius-topleft: 3px; -webkit-border-top-left-radius: 3px; border-top-left-radius: 3px; }
.ui-corner-tr { -moz-border-radius-topright: 3px; -webkit-border-top-right-radius: 3px; border-top-right-radius: 3px; }
.ui-corner-bl { -moz-border-radius-bottomleft: 3px; -webkit-border-bottom-left-radius: 3px; border-bottom-left-radius: 3px; }
.ui-corner-br { -moz-border-radius-bottomright: 3px; -webkit-border-bottom-right-radius: 3px; border-bottom-right-radius: 3px; }
.ui-corner-top { -moz-border-radius-topleft: 3px; -webkit-border-top-left-radius: 3px; border-top-left-radius: 3px; -moz-border-radius-topright: 3px; -webkit-border-top-right-radius: 3px; border-top-right-radius: 3px; }
.ui-corner-bottom { -moz-border-radius-bottomleft: 3px; -webkit-border-bottom-left-radius: 3px; border-bottom-left-radius: 3px; -moz-border-radius-bottomright: 3px; -webkit-border-bottom-right-radius: 3px; border-bottom-right-radius: 3px; }
.ui-corner-right {  -moz-border-radius-topright: 3px; -webkit-border-top-right-radius: 3px; border-top-right-radius: 3px; -moz-border-radius-bottomright: 3px; -webkit-border-bottom-right-radius: 3px; border-bottom-right-radius: 3px; }
.ui-corner-left { -moz-border-radius-topleft: 3px; -webkit-border-top-left-radius: 3px; border-top-left-radius: 3px; -moz-border-radius-bottomleft: 3px; -webkit-border-bottom-left-radius: 3px; border-bottom-left-radius: 3px; }
.ui-corner-all { -moz-border-radius: 3px; -webkit-border-radius: 3px; border-radius: 3px; }

/* Overlays */
.ui-widget-overlay { background: #262b33; opacity: .70;filter:Alpha(Opacity=70); }
.ui-widget-shadow { margin: -8px 0 0 -8px; padding: 8px; background: #000000; opacity: .30;filter:Alpha(Opacity=30); -moz-border-radius: 8px; -webkit-border-radius: 8px; border-radius: 8px; }/*
 * jQuery UI Resizable 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Resizable#theming
 */
.ui-resizable { position: relative;}
.ui-resizable-handle { position: absolute;font-size: 0.1px;z-index: 99999; display: block;}
.ui-resizable-disabled .ui-resizable-handle, .ui-resizable-autohide .ui-resizable-handle { display: none; }
.ui-resizable-n { cursor: n-resize; height: 7px; width: 100%; top: -5px; left: 0; }
.ui-resizable-s { cursor: s-resize; height: 7px; width: 100%; bottom: -5px; left: 0; }
.ui-resizable-e { cursor: e-resize; width: 7px; right: -5px; top: 0; height: 100%; }
.ui-resizable-w { cursor: w-resize; width: 7px; left: -5px; top: 0; height: 100%; }
.ui-resizable-se { cursor: se-resize; width: 12px; height: 12px; right: 1px; bottom: 1px; }
.ui-resizable-sw { cursor: sw-resize; width: 9px; height: 9px; left: -5px; bottom: -5px; }
.ui-resizable-nw { cursor: nw-resize; width: 9px; height: 9px; left: -5px; top: -5px; }
.ui-resizable-ne { cursor: ne-resize; width: 9px; height: 9px; right: -5px; top: -5px;}/*
 * jQuery UI Selectable 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Selectable#theming
 */
.ui-selectable-helper { position: absolute; z-index: 100; border:1px dotted black; }

/*
 * jQuery UI Accordion 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Accordion#theming
 */
/* IE/Win - Fix animation bug - #4615 */
.ui-accordion { width: 100%; }
.ui-accordion .ui-accordion-header { cursor: pointer; position: relative; margin-top: 1px; zoom: 1; }
.ui-accordion .ui-accordion-header, .ui-accordion .ui-accordion-content { -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0; }
.ui-accordion .ui-accordion-li-fix { display: inline; }
.ui-accordion .ui-accordion-header-active { border-bottom: 0 !important; }
.ui-accordion .ui-accordion-header a { display: block; font-size: 12px; font-weight: bold; padding: .5em .5em .5em .7em; }
.ui-accordion-icons .ui-accordion-header a { padding-left: 2.2em; }
.ui-accordion .ui-accordion-header .ui-icon { position: absolute; left: .5em; top: 50%; margin-top: -8px; }
.ui-accordion .ui-accordion-content { padding: 1em 2.2em; border-top: 0; margin-top: -2px; position: relative; top: 1px; margin-bottom: 2px; overflow: auto; display: none; zoom: 1; }
.ui-accordion .ui-accordion-content-active { display: block; }/*
 * jQuery UI Autocomplete 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Autocomplete#theming
 */
.ui-autocomplete {
	position: absolute; cursor: default; z-index: 3 !important;
	-moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;

	-moz-box-shadow: 0 1px 5px rgba(0,0,0,0.3);
	-webkit-box-shadow: 0 1px 5px rgba(0,0,0,0.3);
	box-shadow: 0 1px 5px rgba(0,0,0,0.3);
}	

/* workarounds */
* html .ui-autocomplete { width:1px; } /* without this, the menu expands to 100% in IE6 */

/*
 * jQuery UI Menu 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Menu#theming
 */
.ui-menu {
	list-style:none;
	padding: 2px;
	margin: 0;
	display:block;
	float: left;
}
.ui-menu .ui-menu {
	margin-top: -3px;
}
.ui-menu .ui-menu-item {
	margin:0;
	padding: 0;
	zoom: 1;
	float: left;
	clear: left;
	width: 100%;
}
.ui-menu .ui-menu-item a {
	text-decoration:none;
	display:block;
	padding:.2em .4em;
	line-height:1.5;
	zoom:1;
}
.ui-menu .ui-menu-item a.ui-state-hover,
.ui-menu .ui-menu-item a.ui-state-active {
	font-weight: normal;
	margin: -1px;
	background: #5f83b9;
	color: #FFFFFF;
	text-shadow: 0px 1px 1px #234386;
	border-color: #466086;
	-moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;
}
/*
 * jQuery UI Button 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Button#theming
 */
.ui-button { display: inline-block; position: relative; padding: 0; margin-right: .1em; text-decoration: none !important; cursor: pointer; text-align: center; zoom: 1; overflow: visible; -webkit-user-select: none; -moz-user-select: none; user-select: none; } /* the overflow property removes extra width in IE */
.ui-button-icon-only { width: 2.2em; } /* to make room for the icon, a width needs to be set here */
button.ui-button-icon-only { width: 2.4em; } /* button elements seem to need a little more width */
.ui-button-icons-only { width: 3.4em; } 
button.ui-button-icons-only { width: 3.7em; } 

/* button animation properties */
.ui-button {
    transition-property: box-shadow, outline, color, border-color;
    transition-duration: 0.25s;
    transition-timing-function: ease-in-out;
}

/*states*/
.ui-button.ui-state-hover { 
	-moz-box-shadow: 0 0 8px rgba(0, 0, 0, 0.15), 0 1px 0 rgba(255,255,255,0.8) inset; 
	-webkit-box-shadow: 0 0 8px rgba(0, 0, 0, 0.15), 0 1px 0 rgba(255,255,255,0.8) inset;
	box-shadow: 0 0 8px rgba(0, 0, 0, 0.15), 0 1px 0 rgba(255,255,255,0.8) inset; 
}
.ui-button.ui-state-focus {
	outline: none;
	color: #1c4257; border-color: #7096ab;
	background-image: -webkit-gradient(
    linear,
    left bottom,
    left top,
    color-stop(1, rgb(185,224,245)),
    color-stop(0, rgb(146,189,214))
	);
	background-image: -moz-linear-gradient(
		center top,
		rgb(185,224,245),
		rgb(146,189,214)
	);
	-webkit-box-shadow: none;
	-moz-box-shadow: none;
	box-shadow: none;
}
 
/*button text element */
.ui-button .ui-button-text { display: block; line-height: 1.4; font-size: 14px; font-weight: bold; text-shadow: 0 1px 0 rgba(255, 255, 255, 0.6); }
.ui-button-text-only .ui-button-text { padding: .4em 1em; }
.ui-button-icon-only .ui-button-text, .ui-button-icons-only .ui-button-text { padding: .4em; text-indent: -9999999px; }
.ui-button-text-icon-primary .ui-button-text, .ui-button-text-icons .ui-button-text { padding: .4em 1em .4em 2.1em; }
.ui-button-text-icon-secondary .ui-button-text, .ui-button-text-icons .ui-button-text { padding: .4em 2.1em .4em 1em; }
.ui-button-text-icons .ui-button-text { padding-left: 2.1em; padding-right: 2.1em; }
/* no icon support for input elements, provide padding by default */
input.ui-button { padding: .4em 1em; }

/*button icon element(s) */
.ui-button-icon-only .ui-icon, .ui-button-text-icon-primary .ui-icon, .ui-button-text-icon-secondary .ui-icon, .ui-button-text-icons .ui-icon, .ui-button-icons-only .ui-icon { position: absolute; top: 50%; margin-top: -8px; }
.ui-button-icon-only .ui-icon { left: 50%; margin-left: -8px; }
.ui-button-text-icon-primary .ui-button-icon-primary, .ui-button-text-icons .ui-button-icon-primary, .ui-button-icons-only .ui-button-icon-primary { left: .5em; }
.ui-button-text-icon-secondary .ui-button-icon-secondary, .ui-button-text-icons .ui-button-icon-secondary, .ui-button-icons-only .ui-button-icon-secondary { right: .5em; }
.ui-button-text-icons .ui-button-icon-secondary, .ui-button-icons-only .ui-button-icon-secondary { right: .5em; }

/*button sets*/
.ui-buttonset { margin-right: 7px; }
.ui-buttonset .ui-button { margin-left: 0; margin-right: -.3em; }
.ui-buttonset .ui-button.ui-state-active { color: #1c4257; border-color: #7096ab; }
.ui-buttonset .ui-button.ui-state-active {
	background-image: -webkit-gradient(
    linear,
    left bottom,
    left top,
    color-stop(1, rgb(185,224,245)),
    color-stop(0, rgb(146,189,214))
	);
	background-image: -moz-linear-gradient(
		center top,
		rgb(185,224,245),
		rgb(146,189,214)
	);
	-webkit-box-shadow: none;
	-moz-box-shadow: none;
	box-shadow: none;
}

/* workarounds */
button.ui-button::-moz-focus-inner { border: 0; padding: 0; } /* reset extra padding in Firefox */
/*
 * jQuery UI Dialog 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Dialog#theming
 */
.ui-dialog { position: absolute; padding: 0; width: 300px; overflow: visible; }
.ui-dialog {
	-webkit-box-shadow: 0 2px 12px rgba(0,0,0,0.6);
	-moz-box-shadow: 0 2px 12px rgba(0,0,0,0.6);
	box-shadow: 0 2px 12px rgba(0,0,0,0.6);
}
.ui-dialog .ui-dialog-titlebar { padding: 0.7em 1em 0.6em 1em; position: relative; border: none; border-bottom: 1px solid #979797; -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;  }
.ui-dialog .ui-dialog-title { float: left; margin: .1em 16px .2em 0; font-size: 14px; text-shadow: 0 1px 0 rgba(255,255,255,0.5); } 
.ui-dialog .ui-dialog-titlebar-close { position: absolute; right: .8em; top: 55%; width: 16px; margin: -10px 0 0 0; padding: 0; height: 16px; }
.ui-dialog .ui-dialog-titlebar-close span { display: block; margin: 1px; background: url(images/icon_sprite.png) 0 -16px no-repeat; }
.ui-dialog .ui-dialog-titlebar-close:hover span { background-position: -16px -16px; }
.ui-dialog .ui-dialog-titlebar-close:hover, .ui-dialog .ui-dialog-titlebar-close:focus { padding: 0; border: 0; }
.ui-dialog .ui-dialog-content { position: relative; border: 0; padding: 20px; background: none; overflow: visible; zoom: 1; }
.ui-dialog .ui-dialog-buttonpane { text-align: left; border-width: 1px 0 0 0; background-image: none; margin: .5em 0 0 0; padding: .3em 1em .5em .4em; }
.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset { float: right; }
.ui-dialog .ui-dialog-buttonpane button { margin: .5em .4em .5em 0; cursor: pointer; }
.ui-dialog .ui-resizable-se { width: 14px; height: 14px; right: 3px; bottom: 3px; }
.ui-draggable .ui-dialog-titlebar { cursor: move; }
/*
 * jQuery UI Slider 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Slider#theming
 */
.ui-slider { position: relative; text-align: left; background: #d7d7d7; }
.ui-slider {
    -moz-box-shadow: 0 1px 2px rgba(0,0,0,0.5) inset;
    -webkit-box-shadow: 0 1px 2px rgba(0,0,0,0.5) inset;
    box-shadow: 0 1px 2px rgba(0,0,0,0.5) inset;
}
.ui-slider .ui-slider-handle {
    background: url(images/slider_handles.png) 0px -23px no-repeat;
    position: absolute;
    z-index: 2;
    width: 23px;
    height: 23px;
    cursor: default;
    border: none;
    outline: none;

    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
}
.ui-slider  .ui-state-hover, .ui-slider  .ui-state-active { background-position: 0 0; }
.ui-slider .ui-slider-range { background: #a3cae0; position: absolute; z-index: 1; font-size: .7em; display: block; border: 0; background-position: 0 0; }
.ui-slider .ui-slider-range {
    -moz-box-shadow: 0 1px 2px rgba(17,35,45,0.6) inset;
    -webkit-box-shadow: 0 1px 2px rgba(17,35,45,0.6) inset;
    box-shadow: 0 1px 2px rgba(17,35,45,0.6) inset;
}


.ui-slider-horizontal { height: 5px; }
.ui-slider-horizontal .ui-slider-handle { top: -8px; margin-left: -13px; }
.ui-slider-horizontal .ui-slider-range { top: 0; height: 100%; }
.ui-slider-horizontal .ui-slider-range-min { left: 0; }
.ui-slider-horizontal .ui-slider-range-max { right: 0; }

.ui-slider-vertical { width: 5px; height: 100px; }
.ui-slider-vertical .ui-slider-handle { left: -8px; margin-left: 0; margin-bottom: -13px; }
.ui-slider-vertical .ui-slider-range { left: 0; width: 100%; }
.ui-slider-vertical .ui-slider-range-min { bottom: 0; }
.ui-slider-vertical .ui-slider-range-max { top: 0; }/*
 * jQuery UI Tabs 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Tabs#theming
 */
.ui-tabs { position: relative; zoom: 1; border: 0; } /* position: relative prevents IE scroll bug (element with position: relative inside container with overflow: auto appear as "fixed") */
.ui-tabs .ui-tabs-nav { margin: 0; padding: 0; background: transparent; border-width: 0 0 1px 0; }
.ui-tabs .ui-tabs-nav { 
	-moz-border-radius: 0;
	-webkit-border-radius: 0;
	border-radius: 0;
}
.ui-tabs .ui-tabs-nav li { list-style: none; float: left; position: relative; top: 1px; margin: 0 .2em 1px 0; border-bottom: 0 !important; padding: 0; white-space: nowrap; }
.ui-tabs .ui-tabs-nav li a { float: left; padding: .5em 1em; text-decoration: none; font-size: 12px; font-weight: bold; text-shadow: 0 1px 0 rgba(255,255,255,0.5); }
.ui-tabs .ui-tabs-nav li.ui-tabs-selected { margin-bottom: 0; padding-bottom: 1px; background: #fff; border-color: #B6B6B6; }
.ui-tabs .ui-tabs-nav li.ui-tabs-selected a, .ui-tabs .ui-tabs-nav li.ui-state-disabled a, .ui-tabs .ui-tabs-nav li.ui-state-processing a { cursor: text; outline: none; }
.ui-tabs .ui-tabs-nav li a, .ui-tabs.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-selected a { cursor: pointer; } /* first selector in group seems obsolete, but required to overcome bug in Opera applying cursor: text overall if defined elsewhere... */
.ui-tabs .ui-tabs-panel { display: block; border-width: 0 1px 1px 1px; padding: 1em 1.4em; background: none; }
.ui-tabs .ui-tabs-panel { 
	-moz-border-radius: 0;
	-webkit-border-radius: 0;
	border-radius: 0;
}
.ui-tabs .ui-tabs-hide { display: none !important; }
/*
 * jQuery UI Datepicker 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Datepicker#theming
 */
.ui-datepicker { width: 17em; padding: 0; display: none; border-color: #DDDDDD; }
.ui-datepicker {
	-moz-box-shadow: 0 4px 8px rgba(0,0,0,0.5);
	-webkit-box-shadow: 0 4px 8px rgba(0,0,0,0.5);
	box-shadow: 0 4px 8px rgba(0,0,0,0.5);
}
.ui-datepicker .ui-datepicker-header { position:relative; padding:.35em 0; border: none; border-bottom: 1px solid #B6B6B6; -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0; }
.ui-datepicker .ui-datepicker-prev, .ui-datepicker .ui-datepicker-next { position:absolute; top: 6px; width: 1.8em; height: 1.8em; }
.ui-datepicker .ui-datepicker-prev-hover, .ui-datepicker .ui-datepicker-next-hover { border: 1px none; }
.ui-datepicker .ui-datepicker-prev { left:2px; }
.ui-datepicker .ui-datepicker-next { right:2px; }
.ui-datepicker .ui-datepicker-prev span { background-position: 0px -32px !important; }
.ui-datepicker .ui-datepicker-next span { background-position: -16px -32px !important; }
.ui-datepicker .ui-datepicker-prev-hover span { background-position: 0px -48px !important; }
.ui-datepicker .ui-datepicker-next-hover span { background-position: -16px -48px !important; }
.ui-datepicker .ui-datepicker-prev span, .ui-datepicker .ui-datepicker-next span { display: block; position: absolute; left: 50%; margin-left: -8px; top: 50%; margin-top: -8px; background: url(images/icon_sprite.png) no-repeat; }
.ui-datepicker .ui-datepicker-title { margin: 0 2.3em; line-height: 1.8em; text-align: center; font-size: 12px; text-shadow: 0 1px 0 rgba(255,255,255,0.6); }
.ui-datepicker .ui-datepicker-title select { font-size:1em; margin:1px 0; }
.ui-datepicker select.ui-datepicker-month-year {width: 100%;}
.ui-datepicker select.ui-datepicker-month, 
.ui-datepicker select.ui-datepicker-year { width: 49%;}
.ui-datepicker table {width: 100%; font-size: .9em; border-collapse: collapse; margin:0 0 .4em; }
.ui-datepicker th { padding: .7em .3em; text-align: center; font-weight: bold; border: 0;  }
.ui-datepicker td { border: 0; padding: 1px; }
.ui-datepicker td span, .ui-datepicker td a { display: block; padding: .2em; text-align: right; text-decoration: none; }
.ui-datepicker .ui-datepicker-buttonpane { background-image: none; margin: .7em 0 0 0; padding:0 .2em; border-left: 0; border-right: 0; border-bottom: 0; }
.ui-datepicker .ui-datepicker-buttonpane button { float: right; margin: .5em .2em .4em; cursor: pointer; padding: .2em .6em .3em .6em; width:auto; overflow:visible; }
.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current { float:left; }
.ui-datepicker .ui-state-default { background: transparent; border-color: #FFF; }
.ui-datepicker .ui-state-active { background: #5F83B9; border-color: #5F83B9; color: #FFF; font-weight: bold; text-shadow: 0 1px 1px #234386; }

/* with multiple calendars */
.ui-datepicker.ui-datepicker-multi { width:auto; }
.ui-datepicker-multi .ui-datepicker-group { float:left; }
.ui-datepicker-multi .ui-datepicker-group table { width:95%; margin:0 auto .4em; }
.ui-datepicker-multi-2 .ui-datepicker-group { width:50%; }
.ui-datepicker-multi-3 .ui-datepicker-group { width:33.3%; }
.ui-datepicker-multi-4 .ui-datepicker-group { width:25%; }
.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header { border-left-width:0; }
.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header { border-left-width:0; }
.ui-datepicker-multi .ui-datepicker-buttonpane { clear:left; }
.ui-datepicker-row-break { clear:both; width:100%; }

/* RTL support */
.ui-datepicker-rtl { direction: rtl; }
.ui-datepicker-rtl .ui-datepicker-prev { right: 2px; left: auto; }
.ui-datepicker-rtl .ui-datepicker-next { left: 2px; right: auto; }
.ui-datepicker-rtl .ui-datepicker-prev:hover { right: 1px; left: auto; }
.ui-datepicker-rtl .ui-datepicker-next:hover { left: 1px; right: auto; }
.ui-datepicker-rtl .ui-datepicker-buttonpane { clear:right; }
.ui-datepicker-rtl .ui-datepicker-buttonpane button { float: left; }
.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current { float:right; }
.ui-datepicker-rtl .ui-datepicker-group { float:right; }
.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header { border-right-width:0; border-left-width:1px; }
.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header { border-right-width:0; border-left-width:1px; }

/* IE6 IFRAME FIX (taken from datepicker 1.5.3 */
.ui-datepicker-cover {
    display: none; /*sorry for IE5*/
    display/**/: block; /*sorry for IE5*/
    position: absolute; /*must have*/
    z-index: -1; /*must have*/
    filter: mask(); /*must have*/
    top: -4px; /*must have*/
    left: -4px; /*must have*/
    width: 200px; /*must have*/
    height: 200px; /*must have*/
}/*
 * jQuery UI Progressbar 1.8.7
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Progressbar#theming
 */
.ui-progressbar { height: 12px; text-align: left; background: #FFF url(images/progress_bar.gif) 0 -14px repeat-x; }
.ui-progressbar .ui-progressbar-value {margin: -1px; height:100%; background: url(images/progress_bar.gif) 0 0 repeat-x; }

/* Extra Input Field Styling */
input:not([type="checkbox"]):not([type="radio"]):not([type="file"]) {
	padding: 3px;
	-webkit-border-radius: 2px;
	-moz-border-radius: 2px;
	border-radius: 2px;
	border: 1px solid #cecece;
	outline: none;
}

input:not([type="checkbox"]):not([type="radio"]):not([type="file"]):hover {
	border: 1px solid #bdbdbd;
}
input:not([type="checkbox"]):not([type="radio"]):not([type="file"]):focus {
	border: 1px solid #95bdd4;
}Ô
"#,-._)https://workflowy.com/media/css/print.cssObplist00ÔefX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`U$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_)https://workflowy.com/media/css/print.cssÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùpgRT ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)Xtext/css_Mon, 16 Mar 2015 21:21:12 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTT1959Xno-cache_"7a7-5116e6deee200"Ò+,^_\NSDictionary¢^/Ò+,ab_NSHTTPURLResponse£cd/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑgh_WebResourceResponse€    # - 2 7 W ] x {  ‚ … ˆ Œ  – ™ œ Ÿ ¢ ¥ § © « ­ ¯ ° ² ´ ¶ ¸ º ¼ ¾ Å Í Ù Û Ý ß$*-6?ACJR]gikmoqsuwyƒ…‡‰‹‘“•—¢©¶ÄÒ×æôù%EKkpy”¡¤©½ÁÕãõø             i              O§.addButton, .button, #header, #share_buttons, #buttonBar, #controls, #itemSelectionControls, .parent > .name, #bottomLinks, #proPitchBottomRight, #getMoreSpaceButtonTopLeft, #shared_notice, .pageStar, #savedViewHUD, .edge, .corner, .footer {
    display: none !important;
}

#documentView {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    color:black;
}

/* Browsers don't print background-images, so we need to insert a
   "foreground" image for the bullet. Note that I made this use a
   black bullet (rather than off-black) but it wasn't showing up on
   the first attempt at printing because the browser hadn't loaded the
   image from the server yet. So just using normal bullet. */
.bullet::before {
    content: url(/media/i/bullet.svg);
}

.bullet {
    /* Don't show .addedShared box shadow */
    -webkit-box-shadow: none !important;
    -moz-box-shadow: none !important;
    box-shadow: none !important;
}

#pageContainer {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
}

.page {
    width:auto;
    border:none;

    /* Add space at top of page so there is some margin. */
    padding-top: 40px !important;
    padding-bottom: 0 !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;

    min-height:10px !important;
    box-shadow:none !important;
}

.selected{
    border-top:none !important;
}

#site_message{
    display:none;
}

.mainTreeRoot{
    min-height:0px !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
}

.children{
    border-left:none;
}

.notes > .content{
    height:auto !important;
    display: block !important;
    -webkit-line-clamp: none !important;
}

.siteSlogan{
    display:none;
}

#keyboardShortcutHelper{
    display:none !important;
}

Õ
"01234_application/javascriptUutf-8_'https://platform.twitter.com/widgets.jsOábplist00ÔnoX$versionX$objectsY$archiverT$top † ¯"#)*0123OPQRSTUVWXYZ[\]^_`abcdehiU$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €!€€ €Ó$%'(WNS.base[NS.relative€ €€_'https://platform.twitter.com/widgets.jsÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùpg]î ÈÓ456BNWNS.keysZNS.objects«789:;<=>?@A€	€
€€€€€€€€€«CDEFGHIJKLM€€€€€€€€€€€€VServer\Content-TypeTVary]Last-ModifiedWX-CacheSP3PTDate_Content-Encoding^Content-Length]Cache-ControlTEtag^ECS (oxr/839F)_%application/javascript; charset=utf-8_Accept-Encoding_Fri, 22 Jan 2016 00:25:18 GMTSHIT_TCP="CAO DSP LAW CURa ADMa DEVa TAIa PSAa PSDa IVAa IVDa OUR BUS IND UNI COM NAV INT"_Sat, 13 Feb 2016 23:45:52 GMTTgzipU27051_public, max-age=1800_'"76cd4cda3424013349f800293df6b695+gzip"Ò+,fg\NSDictionary¢f/_application/javascriptÒ+,jk_NSHTTPURLResponse£lm/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑpq_WebResourceResponse€    # - 2 7 \ b } € „ ‡ Š  ‘ ” › ž ¡ ¤ § ª ¬ ® ° ² ´ µ · ¹ » ½ ¿ Á Ã Ê Ò Þ à â ä'-09BDFMU`lnprtvxz|~€‚Ž’”–˜šœž ¢¤¦­º¿ÍÕÙÞñ "J\|€×÷üCHUXqvŠŽ¢°ÂÅÛ             r              ÝO ZÍ!function(){Function&&Function.prototype&&Function.prototype.bind&&(/MSIE [678]/.test(navigator.userAgent)||(window.__twttr&&window.__twttr.widgets&&window.__twttr.widgets.loaded&&window.twttr.widgets.load&&window.twttr.widgets.load(),window.__twttr&&window.__twttr.widgets&&window.__twttr.widgets.init||!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n=window.__twttrll;window.__twttrll=function(r,o){for(var a,s,u=0,c=[];u<r.length;u++)s=r[u],i[s]&&c.push.apply(c,i[s]),i[s]=0;for(a in o)t[a]=o[a];for(n&&n(r,o);c.length;)c.shift().call(null,null,e)};var r={},i={0:0};return e.e=function(t,e){},e.e=function(t,n){if(0===i[t])return n.call(null,null,e);if(void 0!==i[t])i[t].push(n);else{i[t]=[n];var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.onerror=function(){var e=i[t];for(o.onerror=null,delete i[t];e.length;)e.shift().call(null,new Error("failed to load chunk"))},o.src=e.p+"js/"+({1:"button",2:"grid",3:"moment",4:"periscope_on_air",5:"timeline",6:"tweet"}[t]||t)+"."+{1:"b059c0eb61ea902a882e5c5b3c66a17a",2:"217455efb8839e067eb9f6ef1e53fdb6",3:"03157991e22b6edff402a605dd9ad8c0",4:"57c5491b8adcd7bebbe21152baba9bdc",5:"fe2df323b0284f547735e29f610f34bf",6:"6aaddae5dd743163e4f4f4388af0cf46"}[t]+".js",r.appendChild(o)}},e.m=t,e.c=r,e.p="https://platform.twitter.com/",e(0)}([function(t,e,n){var r,i=n(1),o=n(9),a=n(19),s=n(17),u=n(21),s=n(17),c=n(22),f=n(34),l=n(32),d=n(43),h=n(209),p=n(37),m=n(11),v="_e";s.set("widgets.init",!0),u.set("init",!0),r=new i,a.exposeReadyPromise(r.promise,u.base,v),u.set("widgets",h),u.set("widgets.load",d.load),u.set("events",l),s.init("host","platform.twitter.com"),m(function(){r.resolve(u.base),c.attachTo(o),f.start("widgets-js-load"),d.loadPage().then(function(){f.endAndTrack("render","widgets-js-load","page",{widget_origin:p.rootDocumentLocation(),widget_frame:p.isFramed()&&p.currentDocumentLocation()})})})},function(t,e,n){function r(){var t=this;this.promise=new i(function(e,n){t.resolve=e,t.reject=n})}var i=n(2);t.exports=r},function(t,e,n){var r=n(3).Promise,i=n(7),o=n(8);t.exports=o.hasPromiseSupport()?i.Promise:r},function(t,e,n){var r;(function(t){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   2.3.0
	 */
(function(){"use strict";function i(t){return"function"==typeof t||"object"==typeof t&&null!==t}function o(t){return"function"==typeof t}function a(t){return"object"==typeof t&&null!==t}function s(t){H=t}function u(t){J=t}function c(){var t=process.nextTick,e=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(e)&&"0"===e[1]&&"10"===e[2]&&(t=setImmediate),function(){t(p)}}function f(){return function(){V(p)}}function l(){var t=0,e=new Z(p),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function d(){var t=new MessageChannel;return t.port1.onmessage=p,function(){t.port2.postMessage(0)}}function h(){return function(){setTimeout(p,1)}}function p(){for(var t=0;K>t;t+=2){var e=et[t],n=et[t+1];e(n),et[t]=void 0,et[t+1]=void 0}K=0}function m(){try{var t=n(5);return V=t.runOnLoop||t.runOnContext,f()}catch(e){return h()}}function v(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function w(t){try{return t.then}catch(e){return ot.error=e,ot}}function b(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}function E(t,e,n){J(function(t){var r=!1,i=b(n,e,function(n){r||(r=!0,e!==n?A(t,n):C(t,n))},function(e){r||(r=!0,I(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,I(t,i))},t)}function _(t,e){e._state===rt?C(t,e._result):e._state===it?I(t,e._result):R(e,void 0,function(e){A(t,e)},function(e){I(t,e)})}function x(t,e){if(e.constructor===t.constructor)_(t,e);else{var n=w(e);n===ot?I(t,ot.error):void 0===n?C(t,e):o(n)?E(t,e,n):C(t,e)}}function A(t,e){t===e?I(t,g()):i(e)?x(t,e):C(t,e)}function T(t){t._onerror&&t._onerror(t._result),N(t)}function C(t,e){t._state===nt&&(t._result=e,t._state=rt,0!==t._subscribers.length&&J(N,t))}function I(t,e){t._state===nt&&(t._state=it,t._result=e,J(T,t))}function R(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+rt]=n,i[o+it]=r,0===o&&t._state&&J(N,t)}function N(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?P(n,r,i,o):i(o);t._subscribers.length=0}}function j(){this.error=null}function S(t,e){try{return t(e)}catch(n){return at.error=n,at}}function P(t,e,n,r){var i,a,s,u,c=o(n);if(c){if(i=S(n,r),i===at?(u=!0,a=i.error,i=null):s=!0,e===i)return void I(e,y())}else i=r,s=!0;e._state!==nt||(c&&s?A(e,i):u?I(e,a):t===rt?C(e,i):t===it&&I(e,i))}function O(t,e){try{e(function(e){A(t,e)},function(e){I(t,e)})}catch(n){I(t,n)}}function k(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(v),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?C(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&C(n.promise,n._result))):I(n.promise,n._validationError())}function L(t){return new st(this,t).promise}function D(t){function e(t){A(i,t)}function n(t){I(i,t)}var r=this,i=new r(v);if(!Q(t))return I(i,new TypeError("You must pass an array to race.")),i;for(var o=t.length,a=0;i._state===nt&&o>a;a++)R(r.resolve(t[a]),void 0,e,n);return i}function z(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(v);return A(n,t),n}function F(t){var e=this,n=new e(v);return I(n,t),n}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function B(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(t){this._id=dt++,this._state=void 0,this._result=void 0,this._subscribers=[],v!==t&&(o(t)||M(),this instanceof U||B(),O(this,t))}function W(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=ht)}var q;q=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var V,H,$,Q=q,K=0,J=({}.toString,function(t,e){et[K]=t,et[K+1]=e,K+=2,2===K&&(H?H(p):$())}),Y="undefined"!=typeof window?window:void 0,G=Y||{},Z=G.MutationObserver||G.WebKitMutationObserver,X="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),tt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,et=new Array(1e3);$=X?c():Z?l():tt?d():void 0===Y?m():h();var nt=void 0,rt=1,it=2,ot=new j,at=new j;k.prototype._validateInput=function(t){return Q(t)},k.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},k.prototype._init=function(){this._result=new Array(this.length)};var st=k;k.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,i=0;n._state===nt&&e>i;i++)t._eachEntry(r[i],i)},k.prototype._eachEntry=function(t,e){var n=this,r=n._instanceConstructor;a(t)?t.constructor===r&&t._state!==nt?(t._onerror=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(r.resolve(t),e):(n._remaining--,n._result[e]=t)},k.prototype._settledAt=function(t,e,n){var r=this,i=r.promise;i._state===nt&&(r._remaining--,t===it?I(i,n):r._result[e]=n),0===r._remaining&&C(i,r._result)},k.prototype._willSettleAt=function(t,e){var n=this;R(t,void 0,function(t){n._settledAt(rt,e,t)},function(t){n._settledAt(it,e,t)})};var ut=L,ct=D,ft=z,lt=F,dt=0,ht=U;U.all=ut,U.race=ct,U.resolve=ft,U.reject=lt,U._setScheduler=s,U._setAsap=u,U._asap=J,U.prototype={constructor:U,then:function(t,e){var n=this,r=n._state;if(r===rt&&!t||r===it&&!e)return this;var i=new this.constructor(v),o=n._result;if(r){var a=arguments[r-1];J(function(){P(r,i,a,o)})}else R(n,i,t,e);return i},"catch":function(t){return this.then(null,t)}};var pt=W,mt={Promise:ht,polyfill:pt};n(6).amd?(r=function(){return mt}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))):"undefined"!=typeof t&&t.exports&&(t.exports=mt)}).call(this)}).call(e,n(4)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){t.exports=window},function(t,e,n){function r(t){return t=t||v,t.devicePixelRatio?t.devicePixelRatio>=1.5:t.matchMedia?t.matchMedia("only screen and (min-resolution: 144dpi)").matches:!1}function i(t){return t=t||x,/(Trident|MSIE \d)/.test(t)}function o(t){return t=t||x,/MSIE 9/.test(t)}function a(t){return t=t||x,/(iPad|iPhone|iPod)/.test(t)}function s(t){return t=t||x,/^Mozilla\/5\.0 \(Linux; (U; )?Android/.test(t)}function u(){return A}function c(t,e){return t=t||v,e=e||x,t.postMessage&&!(i(e)&&t.opener)}function f(t){t=t||m;try{return!!t.plugins["Shockwave Flash"]||!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){return!1}}function l(t,e,n){return t=t||v,e=e||m,n=n||x,"ontouchstart"in t||/Opera Mini/.test(n)||e.msMaxTouchPoints>0}function d(){var t=p.body.style;return void 0!==t.transition||void 0!==t.webkitTransition||void 0!==t.mozTransition||void 0!==t.oTransition||void 0!==t.msTransition}function h(){return!!(v.Promise&&v.Promise.resolve&&v.Promise.reject&&v.Promise.all&&v.Promise.race&&function(){var t;return new v.Promise(function(e){t=e}),b.isType("function",t)}())}var p=n(9),m=n(10),v=n(7),g=n(11),y=n(12),w=n(15),b=n(14),E=n(16),_=n(17),x=m.userAgent,A=!1,T=!1,C="twitter-csp-test";_.set("verifyCSP",function(t){var e=p.getElementById(C);T=!0,A=!!t,e&&e.parentNode.removeChild(e)}),g(function(){var t;return w.asBoolean(E.val("widgets:csp"))?A=!0:(t=p.createElement("script"),t.id=C,t.text=_.fullPath("verifyCSP")+"(false);",p.body.appendChild(t),void v.setTimeout(function(){T||(y.warn('TWITTER: Content Security Policy restrictions may be applied to your site. Add <meta name="twitter:widgets:csp" content="on"> to supress this warning.'),y.warn("TWITTER: Please note: Not all embedded timeline and embedded Tweet functionality is supported when CSP is applied."))},5e3))}),t.exports={retina:r,anyIE:i,ie9:o,ios:a,android:s,cspEnabled:u,flashEnabled:f,canPostMessage:c,touch:l,cssTransitions:d,hasPromiseSupport:h}},function(t,e){t.exports=document},function(t,e){t.exports=navigator},function(t,e,n){function r(){c=1;for(var t=0,e=f.length;e>t;t++)f[t]()}var i,o,a,s=n(9),u=n(7),c=0,f=[],l=!1,d=s.createElement("a");/^loade|c/.test(s.readyState)&&(c=1),s.addEventListener&&s.addEventListener("DOMContentLoaded",o=function(){s.removeEventListener("DOMContentLoaded",o,l),r()},l),d.doScroll&&s.attachEvent("onreadystatechange",i=function(){/^c/.test(s.readyState)&&(s.detachEvent("onreadystatechange",i),r())}),a=d.doScroll?function(t){u.self!=u.top?c?t():f.push(t):!function(){try{d.doScroll("left")}catch(e){return setTimeout(function(){a(t)},50)}t()}()}:function(t){c?t():f.push(t)},t.exports=a},function(t,e,n){function r(){c("info",d.toRealArray(arguments))}function i(){c("warn",d.toRealArray(arguments))}function o(){c("error",d.toRealArray(arguments))}function a(t){m&&(p[t]=u())}function s(t){var e;m&&(p[t]?(e=u(),r("_twitter",t,e-p[t])):o("timeEnd() called before time() for id: ",t))}function u(){return l.performance&&+l.performance.now()||+new Date}function c(t,e){if(l[h]&&l[h][t])switch(e.length){case 1:l[h][t](e[0]);break;case 2:l[h][t](e[0],e[1]);break;case 3:l[h][t](e[0],e[1],e[2]);break;case 4:l[h][t](e[0],e[1],e[2],e[3]);break;case 5:l[h][t](e[0],e[1],e[2],e[3],e[4]);break;default:0!==e.length&&l[h].warn&&l[h].warn("too many params passed to logger."+t)}}var f=n(13),l=n(7),d=n(14),h=["con","sole"].join(""),p={},m=d.contains(f.href,"tw_debug=true");t.exports={info:r,warn:i,error:o,time:a,timeEnd:s}},function(t,e){t.exports=location},function(t,e,n){function r(t){return l(arguments).slice(1).forEach(function(e){o(e,function(e,n){t[e]=n})}),t}function i(t){return o(t,function(e,n){u(n)&&(i(n),c(n)&&delete t[e]),(void 0===n||null===n||""===n)&&delete t[e]}),t}function o(t,e){for(var n in t)(!t.hasOwnProperty||t.hasOwnProperty(n))&&e(n,t[n]);return t}function a(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function s(t,e){return t==a(e)}function u(t){return t===Object(t)}function c(t){if(!u(t))return!1;if(Object.keys)return!Object.keys(t).length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function f(t,e){h.setTimeout(function(){t.call(e||null)},0)}function l(t){return t?Array.prototype.slice.call(t):[]}function d(t,e){return t&&t.indexOf?t.indexOf(e)>-1:!1}var h=n(7);t.exports={aug:r,async:f,compact:i,contains:d,forIn:o,isObject:u,isEmptyObject:c,toType:a,isType:s,toRealArray:l}},function(t,e,n){function r(t){return void 0!==t&&null!==t&&""!==t}function i(t){return a(t)&&t%1===0}function o(t){return a(t)&&!i(t)}function a(t){return r(t)&&!isNaN(t)}function s(t){return r(t)&&"array"==p.toType(t)}function u(t){return p.contains(v,t)}function c(t){return p.contains(m,t)}function f(t){return r(t)?c(t)?!0:u(t)?!1:!!t:!1}function l(t){return a(t)?t:void 0}function d(t){return o(t)?t:void 0}function h(t){return i(t)?parseInt(t,10):void 0}var p=n(14),m=[!0,1,"1","on","ON","true","TRUE","yes","YES"],v=[!1,0,"0","off","OFF","false","FALSE","no","NO"];t.exports={hasValue:r,isInt:i,isFloat:o,isNumber:a,isArray:s,isTruthValue:c,isFalseValue:u,asInt:h,asFloat:d,asNumber:l,asBoolean:f}},function(t,e,n){function r(t){var e,n,r,i=0;for(o={},t=t||a,e=t.getElementsByTagName("meta");n=e[i];i++)/^twitter:/.test(n.name)&&(r=n.name.replace(/^twitter:/,""),o[r]=n.content)}function i(t){return o[t]}var o,a=n(9);r(),t.exports={init:r,val:i}},function(t,e,n){var r=n(18);t.exports=new r("__twttr")},function(t,e,n){function r(t){return s.isType("string",t)?t.split("."):s.isType("array",t)?t:[]}function i(t,e){var n=r(e),i=n.slice(0,-1);return i.reduce(function(t,e,n){if(t[e]=t[e]||{},!s.isObject(t[e]))throw new Error(i.slice(0,n+1).join(".")+" is already defined with a value.");return t[e]},t)}function o(t,e){e=e||a,e[t]=e[t]||{},Object.defineProperty(this,"base",{value:e[t]}),Object.defineProperty(this,"name",{value:t})}var a=n(7),s=n(14);s.aug(o.prototype,{get:function(t){var e=r(t);return e.reduce(function(t,e){return s.isObject(t)?t[e]:void 0},this.base)},set:function(t,e,n){var o=r(t),a=i(this.base,t),s=o.slice(-1);return n&&s in a?a[s]:a[s]=e},init:function(t,e){return this.set(t,e,!0)},unset:function(t){var e=r(t),n=this.get(e.slice(0,-1));n&&delete n[e.slice(-1)]},aug:function(t){var e=this.get(t),n=s.toRealArray(arguments).slice(1);if(e="undefined"!=typeof e?e:{},n.unshift(e),!n.every(s.isObject))throw new Error("Cannot augment non-object.");return this.set(t,s.aug.apply(null,n))},call:function(t){var e=this.get(t),n=s.toRealArray(arguments).slice(1);if(!s.isType("function",e))throw new Error("Function "+t+"does not exist.");return e.apply(null,n)},fullPath:function(t){var e=r(t);return e.unshift(this.name),e.join(".")}}),t.exports=o},function(t,e,n){function r(t,e,n){e.ready=i(t.then,t),n&&Array.isArray(e[n])&&(e[n].forEach(i(t.then,t)),delete e[n])}var i=n(20);t.exports={exposeReadyPromise:r}},function(t,e,n){var r=n(14);t.exports=function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){var i=r.toRealArray(arguments);return t.apply(e,n.concat(i))}}},function(t,e,n){var r=n(18);t.exports=new r("twttr")},function(t,e,n){function r(t){var e=~a.host.indexOf("poptip.com")?"https://poptip.com":a.href,n="original_referer="+e;return[t,n].join(-1==t.indexOf("?")?"?":"&")}function i(t){var e,n;t.altKey||t.metaKey||t.shiftKey||(e=u.closest(function(t){return"A"===t.tagName||"AREA"===t.tagName},t.target),e&&f.isIntentURL(e.href)&&(n=r(e.href),n=n.replace(/^http[:]/,"https:"),n=n.replace(/^\/\//,"https://"),c.open(n,e),s.preventDefault(t)))}function o(t){t.addEventListener("click",i,!1)}var a=n(13),s=n(23),u=n(25),c=n(26),f=n(27);t.exports={attachTo:o}},function(t,e,n){function r(t){var e=t.getAttribute("data-twitter-event-id");return e?e:(t.setAttribute("data-twitter-event-id",++g),g)}function i(t,e,n){var r=0,i=t&&t.length||0;for(r=0;i>r;r++)if(t[r].call(e,n,e),n.ceaseImmediately)return!1}function o(t,e,n){for(var r=n||t.target||t.srcElement,a=m.list(r).map(function(t){return"."+t}),s=a.concat(r.tagName),u=0,c=s.length;c>u;u++)if(i(e[s[u]],r,t)===!1)return;t.cease||r!==this&&o.call(this,t,e,r.parentElement||r.parentNode)}function a(t,e,n,r){function i(r){o.call(t,r,n[e])}s(t,i,e,r),t.addEventListener(e,i,!1)}function s(t,e,n,r){t.id&&(y[t.id]=y[t.id]||[],y[t.id].push({el:t,listener:e,type:n,rootId:r}))}function u(t){var e=y[t];e&&(e.forEach(function(t){t.el.removeEventListener(t.type,t.listener,!1),delete v[t.rootId]}),delete y[t])}function c(t,e,n,i){var o=r(t);v[o]=v[o]||{},v[o][e]||(v[o][e]={},a(t,e,v[o],o)),v[o][e][n]=v[o][e][n]||[],v[o][e][n].push(i)}function f(t,e,n){var i=r(e),a=v[i]&&v[i];o.call(e,{target:n},a[t])}function l(t){return h(t),d(t),!1}function d(t){t&&t.preventDefault?t.preventDefault():t.returnValue=!1}function h(t){t&&(t.cease=!0)&&t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function p(t){t&&(t.ceaseImmediately=!0,h(t),t.stopImmediatePropagation())}var m=n(24),v={},g=-1,y={};t.exports={stop:l,stopPropagation:h,stopImmediatePropagation:p,preventDefault:d,delegate:c,simulate:f,removeDelegatesForWidget:u}},function(t,e,n){function r(t){return new RegExp("\\b"+t+"\\b","g")}function i(t,e){return t.classList?void t.classList.add(e):void(r(e).test(t.className)||(t.className+=" "+e))}function o(t,e){return t.classList?void t.classList.remove(e):void(t.className=t.className.replace(r(e)," "))}function a(t,e,n){return void 0===n&&t.classList&&t.classList.toggle?t.classList.toggle(e,n):(n?i(t,e):o(t,e),n)}function s(t,e,n){return t.classList&&u(t,e)?(o(t,e),void i(t,n)):void(t.className=t.className.replace(r(e),n))}function u(t,e){return t.classList?t.classList.contains(e):f.contains(c(t),e)}function c(t){return f.toRealArray(t.classList?t.classList:t.className.match(l))}var f=n(14),l=/\b([\w-_]+)\b/g;t.exports={add:i,remove:o,replace:s,toggle:a,present:u,list:c}},function(t,e,n){function r(t){var e=t.charAt(0);return"."===e?function(e){var n=e.className?e.className.split(/\s+/):[];return o.contains(n,t.slice(1))}:"#"===e?function(e){return e.id===t.slice(1)}:function(e){return e.tagName===t.toUpperCase()}}function i(t,e,n){var a;if(e)return n=n||e&&e.ownerDocument,a=o.isType("function",t)?t:r(t),e===n?a(e)?e:void 0:a(e)?e:i(a,e.parentNode,n)}var o=n(14);t.exports={closest:i}},function(t,e,n){function r(t,e){u.open(t,{},e)}function i(t,e){var n=f.decodeURL(e);switch(t){case"favorite":case"like":return{tweet_id:n.tweet_id};case"follow":return{screen_name:n.screen_name,user_id:n.user_id};case"retweet":return{source_tweet_id:n.tweet_id};default:return{}}}function o(t,e,n){var o=(s.intentType(t)||"").toLowerCase();s.isTwitterURL(t)&&(r(t,n),e&&c.trigger("click",{target:e,region:"intent",type:"click",data:{}}),e&&l[o]&&l[o].forEach(function(n){c.trigger(n,{target:e,region:"intent",type:n,data:i(o,t)})}))}function a(t){this.srcEl=[],this.element=t}var s=n(27),u=n(29),c=n(32),f=n(28),l={favorite:["favorite","like"],follow:["follow"],like:["favorite","like"],retweet:["retweet"],tweet:["tweet"]};a.open=o,t.exports=a},function(t,e,n){function r(t){return"string"==typeof t&&y.test(t)&&RegExp.$1.length<=20}function i(t){return r(t)?RegExp.$1:void 0}function o(t,e){var n=g.decodeURL(t);return e=e||!1,n.screen_name=i(t),n.screen_name?g.url("https://twitter.com/intent/"+(e?"follow":"user"),n):void 0}function a(t){return o(t,!0)}function s(t){return"string"==typeof t&&_.test(t)}function u(t,e){return e=void 0===e?!0:e,s(t)?(e?"#":"")+RegExp.$1:void 0}function c(t){return"string"==typeof t&&w.test(t)}function f(t){return c(t)&&RegExp.$1}function l(t){return b.test(t)}function d(t){return E.test(t)}function h(t){return x.test(t)}function p(t){return T.test(t)&&RegExp.$1}function m(t){return A.test(t)&&RegExp.$1}function v(t){return x.test(t)&&RegExp.$1}var g=n(28),y=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?(?:\/intent\/(?:follow|user)\/?\?screen_name=|(?:\/#!)?\/))@?([\w]+)(?:\?|&|$)/i,w=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?\/(?:#!\/)?[\w_]+\/status(?:es)?\/)(\d+)/i,b=/^http(s?):\/\/(\w+\.)*twitter\.com([\:\/]|$)/i,E=/^http(s?):\/\/pbs\.twimg\.com\//,_=/^#?([^.,<>!\s\/#\-\(\)\'\"]+)$/,x=/twitter\.com(?:\:\d{2,4})?\/intent\/(\w+)/,A=/^https?:\/\/(?:www\.)?twitter\.com\/\w+\/timelines\/(\d+)/i,T=/^https?:\/\/(?:www\.)?twitter\.com\/i\/moments\/(\d+)/i;t.exports={isHashTag:s,hashTag:u,isScreenName:r,screenName:i,isStatus:c,status:f,intentForProfileURL:o,intentForFollowURL:a,isTwitterURL:l,isTwimgURL:d,isIntentURL:h,regexen:{profile:y},momentId:p,collectionId:m,intentType:v}},function(t,e,n){function r(t){return encodeURIComponent(t).replace(/\+/g,"%2B").replace(/'/g,"%27")}function i(t){return decodeURIComponent(t)}function o(t){var e=[];return f.forIn(t,function(t,n){var i=r(t);f.isType("array",n)||(n=[n]),n.forEach(function(t){c.hasValue(t)&&e.push(i+"="+r(t))})}),e.sort().join("&")}function a(t){var e,n={};return t?(e=t.split("&"),e.forEach(function(t){var e=t.split("="),r=i(e[0]),o=i(e[1]);return 2==e.length?f.isType("array",n[r])?void n[r].push(o):r in n?(n[r]=[n[r]],void n[r].push(o)):void(n[r]=o):void 0}),n):{}}function s(t,e){var n=o(e);return n.length>0?f.contains(t,"?")?t+"&"+o(e):t+"?"+o(e):t}function u(t){var e=t&&t.split("?");return 2==e.length?a(e[1]):{}}var c=n(15),f=n(14);t.exports={url:s,decodeURL:u,decode:a,encode:o,encodePart:r,decodePart:i}},function(t,e,n){function r(t){var e=[];return m.forIn(t,function(t,n){e.push(t+"="+n)}),e.join(",")}function i(){return v+p.generate()}function o(t,e){function n(t){return Math.round(t/2)}return t>e?{coordinate:0,size:e}:{coordinate:n(e)-n(t),size:t}}function a(t,e,n){var i,a;e=s.parse(e),n=n||{},i=o(e.width,n.width||g),e.left=i.coordinate,e.width=i.size,a=o(e.height,n.height||y),e.top=a.coordinate,e.height=a.size,this.win=t,this.features=r(e)}var s,u=n(7),c=n(30),f=n(23),l=n(25),d=n(8),h=n(27),p=n(31),m=n(14),v="intent_",g=u.screen.width,y=u.screen.height;s=(new c).defaults({width:550,height:520,personalbar:"0",toolbar:"0",location:"1",scrollbars:"1",resizable:"1"}),a.prototype.open=function(t,e){var n=e&&"click"==e.type&&l.closest("a",e.target),r=e&&(e.altKey||e.metaKey||e.shiftKey),o=n&&(d.ios()||d.android());return h.isTwitterURL(t)?r||o?this:(this.name=i(),this.popup=this.win.open(t,this.name,this.features),e&&f.preventDefault(e),this):void 0},a.open=function(t,e,n){var r=new a(u,e);return r.open(t,n)},t.exports=a},function(t,e,n){function r(t){return function(e){return o.hasValue(e[t])}}function i(){this.assertions=[],this._defaults={}}var o=n(15),a=n(14);i.prototype.assert=function(t,e){return this.assertions.push({fn:t,msg:e||"assertion failed"}),this},i.prototype.defaults=function(t){return this._defaults=t||this._defaults,this},i.prototype.require=function(t){var e=this;return t=Array.isArray(t)?t:a.toRealArray(arguments),t.forEach(function(t){e.assert(r(t),"required: "+t)}),this},i.prototype.parse=function(t){var e,n;if(e=a.aug({},this._defaults,t||{}),n=this.assertions.reduce(function(t,n){return n.fn(e)||t.push(n.msg),t},[]),n.length>0)throw new Error(n.join("\n"));return e},t.exports=i},function(t,e){function n(){return i+String(+new Date)+Math.floor(1e5*Math.random())+o++}function r(){return i+String(a++)}var i="i",o=0,a=0;t.exports={generate:n,deterministic:r}},function(t,e,n){function r(){return i.get("events")||{}}var i=n(21),o=n(33),a=n(14);t.exports=a.aug(r(),o.Emitter)},function(t,e,n){var r=n(14),i=n(20),o={bind:function(t,e){return this._handlers=this._handlers||{},this._handlers[t]=this._handlers[t]||[],this._handlers[t].push(e)},unbind:function(t,e){if(this._handlers&&this._handlers[t])if(e){var n=this._handlers[t].indexOf(e);n>=0&&this._handlers[t].splice(n,1)}else this._handlers[t]=[]},trigger:function(t,e){var n=this._handlers&&this._handlers[t];e=e||{},e.type=t,n&&n.forEach(function(t){r.async(i(t,this,e))})}};t.exports={Emitter:o}},function(t,e,n){function r(t){c[t]=+new Date}function i(t){return c[t]?+new Date-c[t]:null}function o(t,e,n,r,o){var s=i(e);s&&a(t,n,r,s,o)}function a(t,e,n,r,i){var o,a=void 0===i?f:i;100*Math.random()>a||(n=u.aug(n||{},{duration_ms:r}),o={page:e,component:"performance",action:t},s.clientEvent(o,n,!0))}var s=n(35),u=n(14),c={},f=1;t.exports={start:r,end:i,track:a,endAndTrack:o}},function(t,e,n){function r(t,e,n){return i(t,e,n,2)}function i(t,e,n,r){var i=!v.isObject(t),o=e?!v.isObject(e):!1;i||o||a(m.formatClientEventNamespace(t),m.formatClientEventData(e,n,r),m.CLIENT_EVENT_ENDPOINT)}function o(t,e,n,r){var o=m.extractTermsFromDOM(t.target||t.srcElement);o.action=r||"click",i(o,e,n)}function a(t,e,n){var r,i;n&&v.isObject(t)&&v.isObject(e)&&(r=m.flattenClientEventPayload(t,e),i={l:m.stringify(r)},r.dnt&&(i.dnt=1),d(p.url(n,i)))}function s(t,e,n,r){var i,o=!v.isObject(t),a=e?!v.isObject(e):!1;if(!o&&!a)return i=m.flattenClientEventPayload(m.formatClientEventNamespace(t),m.formatClientEventData(e,n,r)),u(i)}function u(t){return y.push(t),y}function c(){var t,e;return y.length>1&&s({page:"widgets_js",component:"scribe_pixel",action:"batch_log"},{}),t=y,y=[],e=t.reduce(function(e,n,r){var i=e.length,o=i&&e[i-1],a=r+1==t.length;return a&&n.event_namespace&&"batch_log"==n.event_namespace.action&&(n.message=["entries:"+r,"requests:"+i].join("/")),f(n).forEach(function(t){var n=l(t);(!o||o.urlLength+n>g)&&(o={urlLength:b,items:[]},e.push(o)),o.urlLength+=n,o.items.push(t)}),e},[]),e.map(function(t){var e={l:t.items};return h.enabled()&&(e.dnt=1),d(p.url(m.CLIENT_EVENT_ENDPOINT,e))})}function f(t){return Array.isArray(t)||(t=[t]),t.reduce(function(t,e){var n,r=m.stringify(e),i=l(r);return g>b+i?t=t.concat(r):(n=m.splitLogEntry(e),n.length>1&&(t=t.concat(f(n)))),t},[])}function l(t){return encodeURIComponent(t).length+3}function d(t){var e=new Image;return e.src=t}var h=n(36),p=n(28),m=n(40),v=n(14),g=2083,y=[],w=p.url(m.CLIENT_EVENT_ENDPOINT,{dnt:0,l:""}),b=encodeURIComponent(w).length;t.exports={_enqueueRawObject:u,scribe:a,clientEvent:i,clientEvent2:r,enqueueClientEvent:s,flushClientEvents:c,interaction:o}},function(t,e,n){function r(){d=!0}function i(t,e){return d?!0:f.asBoolean(l.val("dnt"))?!0:!s||1!=s.doNotTrack&&1!=s.msDoNotTrack?c.isUrlSensitive(e||a.host)?!0:u.isFramed()&&c.isUrlSensitive(u.rootDocumentLocation())?!0:(t=h.test(t||o.referrer)&&RegExp.$1,t&&c.isUrlSensitive(t)?!0:!1):!0}var o=n(9),a=n(13),s=n(10),u=n(37),c=n(39),f=n(15),l=n(16),d=!1,h=/https?:\/\/([^\/]+).*/i;t.exports={setOn:r,enabled:i}},function(t,e,n){function r(t){return t&&u.isType("string",t)&&(c=t),c}function i(){return f}function o(){return c!==f}var a=n(13),s=n(38),u=n(14),c=s.getCanonicalURL()||a.href,f=c;t.exports={isFramed:o,rootDocumentLocation:r,currentDocumentLocation:i}},function(t,e,n){function r(t,e){var n,r;return e=e||s,/^https?:\/\//.test(t)?t:/^\/\//.test(t)?e.protocol+t:(n=e.host+(e.port.length?":"+e.port:""),0!==t.indexOf("/")&&(r=e.pathname.split("/"),r.pop(),r.push(t),t="/"+r.join("/")),[e.protocol,"//",n,t].join(""))}function i(){for(var t,e=a.getElementsByTagName("link"),n=0;t=e[n];n++)if("canonical"==t.rel)return r(t.href)}function o(){for(var t,e,n,r=a.getElementsByTagName("a"),i=a.getElementsByTagName("link"),o=[r,i],s=0,c=0,f=/\bme\b/;t=o[s];s++)for(c=0;e=t[c];c++)if(f.test(e.rel)&&(n=u.screenName(e.href)))return n}var a=n(9),s=n(13),u=n(27);t.exports={absolutize:r,getCanonicalURL:i,getScreenNameFromPage:o}},function(t,e,n){function r(t){return t in s?s[t]:s[t]=a.test(t)}function i(){return r(o.host)}var o=n(13),a=/^[^#?]*\.(gov|mil)(:\d+)?([#?].*)?$/i,s={};t.exports={isUrlSensitive:r,isHostPageSensitive:i}},function(t,e,n){function r(t,e){var n;return e=e||{},t&&t.nodeType===Node.ELEMENT_NODE?((n=t.getAttribute("data-scribe"))&&n.split(" ").forEach(function(t){var n=t.trim().split(":"),r=n[0],i=n[1];r&&i&&!e[r]&&(e[r]=i)}),r(t.parentNode,e)):e}function i(t){return p.aug({client:"tfw"},t||{})}function o(t,e,n){var r=t&&t.widget_origin||l.referrer;return t=a("tfw_client_event",t,r),t.client_version=g,t.format_version=void 0!==n?n:1,e||(t.widget_origin=r),t}function a(t,e,n){return e=e||{},p.aug({},e,{_category_:t,triggered_on:e.triggered_on||+new Date,dnt:h.enabled(n)})}function s(t,e){var n={};return e=e||{},e.association_namespace=i(t),n[E]=e,n}function u(t,e){return p.aug({},e,{event_namespace:t})}function c(t){var e,n=Array.prototype.toJSON;return delete Array.prototype.toJSON,e=d.stringify(t),n&&(Array.prototype.toJSON=n),e}function f(t){if(t.item_ids&&t.item_ids.length>1){var e=Math.floor(t.item_ids.length/2),n=t.item_ids.slice(0,e),r={},i=t.item_ids.slice(e),o={};n.forEach(function(e){r[e]=t.item_details[e]}),i.forEach(function(e){o[e]=t.item_details[e]});var a=[p.aug({},t,{item_ids:n,item_details:r}),p.aug({},t,{item_ids:i,item_details:o})];return a}return[t]}var l=n(9),d=n(41),h=n(36),p=n(14),m=n(42),v=n(17),g=m.version,y=v.get("endpoints.rufous")||"https://syndication.twitter.com/i/jot",w=v.get("endpoints.rufousAudience")||"https://syndication.twitter.com/i/jot/syndication",b=v.get("endpoints.rufousRedirect")||"https://platform.twitter.com/jot.html",E=1;t.exports={extractTermsFromDOM:r,flattenClientEventPayload:u,formatGenericEventData:a,formatClientEventData:o,formatClientEventNamespace:i,formatTweetAssociation:s,splitLogEntry:f,stringify:c,AUDIENCE_ENDPOINT:w,CLIENT_EVENT_ENDPOINT:y,RUFOUS_REDIRECT:b}},function(t,e,n){var r=n(7),i=r.JSON;t.exports={stringify:i.stringify||i.encode,parse:i.parse||i.decode}},function(t,e){t.exports={version:"1caccb10:1453413307309"}},function(t,e,n){function r(t){return t.reduce(function(t,e){return t.concat(g.reduce(function(t,n){return t.concat(n(e))},[]))},[])}function i(){var t=l.val("widgets:autoload")||!0;return m.isFalseValue(t)?!1:m.isTruthValue(t)?c.body:c.querySelectorAll(t)}function o(t){var e;return t=t||c.body,t=t.length?v.toRealArray(t):[t],h.pause(),e=u.allResolved(r(t).map(function(t){return f.addWidget(t)})).then(function(t){p.trigger("loaded",{widgets:t})}),u.always(e,function(){h.resume()}),e}function a(){var t=i();return t===!1?s.resolve():(d.set("widgets.loaded",!0),o(t))}var s=n(2),u=n(44),c=n(9),f=n(45),l=n(16),d=n(17),h=n(50),p=n(32),m=n(15),v=n(14),g=n(68);t.exports={load:o,loadPage:a,_getPageLoadTarget:i}},function(t,e,n){function r(t,e){return t.then(e,e)}function i(t){var e;return t=t||[],e=t.length,t=t.filter(a),e?e!==t.length?s.reject("non-Promise passed to .some"):new s(function(e,n){function r(){i+=1,i===t.length&&n()}var i=0;t.forEach(function(t){t.then(e,r)})}):s.reject("no promises passed to .some")}function o(t){var e;return void 0===t?s.reject(new Error("undefined is not an object")):Array.isArray(t)?(e=t.length,e?new s(function(n,r){function i(){s+=1,s===e&&(0===u.length?r():n(u))}function o(t){u.push(t),i()}var s=0,u=[];t.forEach(function(t){a(t)?t.then(o,i):o(t)})}):s.resolve([])):s.reject(new Error("Type error"))}function a(t){return t instanceof s}var s=n(2);t.exports={always:r,allResolved:o,some:i,isPromise:a}},function(t,e,n){function r(t){return function(e){var n=t.srcEl,r=t.targetEl;n?r.insertBefore(e,n):r.appendChild(e)}}function i(t){return f.write(function(){t&&t.parentNode&&t.parentNode.removeChild(t)})}function o(t){var e=t.reduce(function(t,e){var n=e.input,r=a(n).then(function(t){return e.instance=t,e});return r.then(null,e.taskDoneDeferred.reject),t[n.className]=t[n.className]||[],t[n.className].push(r),t},{});m.forIn(e,function(t,e){p.allResolved(e).then(function(t){t.forEach(function(t){var e=t.instance,n=t.input;s(e,n).then(t.taskDoneDeferred.resolve,t.taskDoneDeferred.reject)})})})}function a(t){var e=new t.Sandbox;return t.factory(t.parameters,e)}function s(t,e){function n(){return i(e.srcEl).then(function(){return a.sandboxEl})}function o(){return i(a.sandboxEl).then(function(){return e.srcEl?p.always(f.write(function(){c.add(e.srcEl,u)}),function(){return e.srcEl}):void 0})}var a=t.sandbox,s=e.className+"-rendered",u=e.className+"-error",d=a.insert(t.id,{"class":[e.className,s].join(" ")},null,r(e)),m=t.hydrate();return h.all([d,m]).then(function(){return t.render(a)}).then(function(){return a.onResize(function(){return t.resize().then(function(){l.trigger("resize",{target:a.sandboxEl})})}),t.show()}).then(n,o).then(function(t){return t?(l.trigger("rendered",{target:t}),t):void 0})}function u(t){return v.add(t)}var c=n(24),f=n(46),l=n(32),d=n(48),h=n(2),p=n(44),m=n(14),v=new d(o);t.exports={addWidget:u}},function(t,e,n){function r(t,e){return function(){try{e.resolve(t.call(this))}catch(n){e.reject(n)}}}function i(t,e){t.call(e)}function o(t,e){var n=new c;return u.read(r(t,n),e),n.promise}function a(t,e){var n=new c;return u.write(r(t,n),e),n.promise}function s(t,e,n){var i=new c;return f.isType("function",t)&&(n=e,e=t,t=1),u.defer(t,r(e,i),n),i.promise}var u=n(47),c=n(1),f=n(14);t.exports={sync:i,read:o,write:a,defer:s}},function(t,e,n){var r;!function(i){"use strict";function o(){this.frames=[],this.lastId=0,this.raf=a,this.batch={hash:{},read:[],write:[],mode:null}}var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)};o.prototype.read=function(t,e){var n=this.add("read",t,e),r=n.id;this.batch.read.push(n.id);var i="reading"===this.batch.mode||this.batch.scheduled;return i?r:(this.scheduleBatch(),r)},o.prototype.write=function(t,e){var n=this.add("write",t,e),r=this.batch.mode,i=n.id;this.batch.write.push(n.id);var o="writing"===r||"reading"===r||this.batch.scheduled;return o?i:(this.scheduleBatch(),i)},o.prototype.defer=function(t,e,n){"function"==typeof t&&(n=e,e=t,t=1);var r=this,i=t-1;return this.schedule(i,function(){r.run({fn:e,ctx:n})})},o.prototype.clear=function(t){if("function"==typeof t)return this.clearFrame(t);
t=Number(t);var e=this.batch.hash[t];if(e){var n=this.batch[e.type],r=n.indexOf(t);delete this.batch.hash[t],~r&&n.splice(r,1)}},o.prototype.clearFrame=function(t){var e=this.frames.indexOf(t);~e&&this.frames.splice(e,1)},o.prototype.scheduleBatch=function(){var t=this;this.schedule(0,function(){t.batch.scheduled=!1,t.runBatch()}),this.batch.scheduled=!0},o.prototype.uniqueId=function(){return++this.lastId},o.prototype.flush=function(t){for(var e;e=t.shift();)this.run(this.batch.hash[e])},o.prototype.runBatch=function(){try{this.batch.mode="reading",this.flush(this.batch.read),this.batch.mode="writing",this.flush(this.batch.write),this.batch.mode=null}catch(t){throw this.runBatch(),t}},o.prototype.add=function(t,e,n){var r=this.uniqueId();return this.batch.hash[r]={id:r,fn:e,ctx:n,type:t}},o.prototype.run=function(t){var e=t.ctx||this,n=t.fn;if(delete this.batch.hash[t.id],!this.onError)return n.call(e);try{n.call(e)}catch(r){this.onError(r)}},o.prototype.loop=function(){var t=this,e=this.raf;this.looping||(e(function n(){var r=t.frames.shift();t.frames.length?e(n):t.looping=!1,r&&r()}),this.looping=!0)},o.prototype.schedule=function(t,e){return this.frames[t]?this.schedule(t+1,e):(this.loop(),this.frames[t]=e)},i=i||new o,"undefined"!=typeof t&&t.exports?t.exports=i:(r=function(){return i}.call(e,n,e,t),!(void 0!==r&&(t.exports=r)))}(window.fastdom)},function(t,e,n){function r(t){this._inputsQueue=[],this._task=t,this._hasFlushBeenScheduled=!1}var i=n(1),o=n(49),a=n(20);r.prototype.add=function(t){var e=new i;return this._inputsQueue.push({input:t,taskDoneDeferred:e}),this._hasFlushBeenScheduled||(this._hasFlushBeenScheduled=!0,o(a(this._flush,this))),e.promise},r.prototype._flush=function(){try{this._task.call(null,this._inputsQueue)}catch(t){this._inputsQueue.forEach(function(e){e.taskDoneDeferred.reject(t)})}this._inputsQueue=[],this._hasFlushBeenScheduled=!1},t.exports=r},function(t,e,n){var r=n(3).Promise;t.exports=r._asap},function(t,e,n){function r(t){t.forEach(function(t){var e=t.input.namespace,n=t.input.data,r=t.input.offsite,i=t.input.version;f.clientEvent(e,n,r,i),t.taskDoneDeferred.resolve()})}function i(t){function e(){t.forEach(function(t){t.taskDoneDeferred.resolve()})}function n(){t.forEach(function(t){t.taskDoneDeferred.reject()})}c.init(),t.forEach(function(t){var e=t.input.namespace,n=t.input.data,r=t.input.offsite,i=t.input.version;c.clientEvent(e,n,r,i)}),c.flush().then(e,n)}function o(t){(1===t.length?r:i)(t)}function a(t,e,n,r){return d.add({namespace:t,data:e,offsite:n,version:r})}function s(){d.pause()}function u(){d.resume()}var c=n(51),f=n(35),l=n(67),d=new l(o);t.exports={scribe:a,pause:s,resume:u}},function(t,e,n){function r(){function t(t){h.body.appendChild(t)}return C?I.promise:(d=new b,d.insert("rufous-sandbox",null,{display:"none"},t).then(function(){f=u(),l=c(),I.resolve([f,l])}),C=!0,I.promise)}function i(t,e){var n,r,i;w.isObject(t)&&w.isObject(e)&&(i=y.flattenClientEventPayload(t,e),n=f.firstChild,n.value=+(+n.value||i.dnt||0),r=d.createElement("input"),r.type="hidden",r.name="l",r.value=y.stringify(i),f.appendChild(r))}function o(t,e,n){var r=!w.isObject(t),o=e?!w.isObject(e):!1;r||o||I.promise.then(function(){i(y.formatClientEventNamespace(t),y.formatClientEventData(e,n))})}function a(){return I.promise.then(function(){if(f.children.length<=2)return g.reject();var t=g.all([d.doc.body.appendChild(f),d.doc.body.appendChild(l)]).then(function(t){var e=t[0],n=t[1];return n.addEventListener("load",function(){s(e,n)(),E.trigger("logflushed")}),e.submit(),t});return f=u(),l=c(),t})}function s(t,e){return function(){var n=t.parentNode;n&&(n.removeChild(t),n.removeChild(e))}}function u(){var t=d.createElement("form"),e=d.createElement("input"),n=d.createElement("input");return T++,t.action=y.CLIENT_EVENT_ENDPOINT,t.method="POST",t.target=x+T,t.id=A+T,e.type="hidden",e.name="dnt",e.value=m.enabled(),n.type="hidden",n.name="tfw_redirect",n.value=y.RUFOUS_REDIRECT,t.appendChild(e),t.appendChild(n),t}function c(){var t=x+T;return p({id:t,name:t,width:0,height:0,border:0},{display:"none"},d.doc)}var f,l,d,h=n(9),p=n(52),m=n(36),v=n(1),g=n(2),y=n(40),w=n(14),b=n(53),E=n(32),_=Math.floor(1e3*Math.random())+"_",x="rufous-frame-"+_+"-",A="rufous-form-"+_+"-",T=0,C=!1,I=new v;t.exports={clientEvent:o,flush:a,init:r}},function(t,e,n){var r=n(9),i=n(14);t.exports=function(t,e,n){var o;if(n=n||r,t=t||{},e=e||{},t.name){try{o=n.createElement('<iframe name="'+t.name+'"></iframe>')}catch(a){o=n.createElement("iframe"),o.name=t.name}delete t.name}else o=n.createElement("iframe");return t.id&&(o.id=t.id,delete t.id),o.allowtransparency="true",o.scrolling="no",o.setAttribute("frameBorder",0),o.setAttribute("allowTransparency",!0),i.forIn(t,function(t,e){o.setAttribute(t,e)}),i.forIn(e,function(t,e){o.style[t]=e}),o}},function(t,e,n){var r=n(54),i=n(63);t.exports=r.build([i])},function(t,e,n){var r=n(55),i=n(58),o=n(20);r=Object.create(r),r.build=o(r.build,null,i),t.exports=r},function(t,e,n){function r(){return s.toRealArray(arguments)}function i(t,e,n){var r=new t;return e=a(o(e||[])),e.forEach(function(t){t.call(null,r)}),r.build(n)}var o=n(56),a=n(57),s=n(14);t.exports={couple:r,build:i}},function(t,e,n){function r(t){var e=[];return t.forEach(function(t){var n=i.isType("array",t)?r(t):[t];e=e.concat(n)}),e}var i=n(14);t.exports=r},function(t,e){function n(t){return t.filter(function(e,n){return t.indexOf(e)===n})}t.exports=n},function(t,e,n){function r(){i.apply(this,arguments)}var i=n(59),o=n(14),a=n(62);r.prototype=Object.create(i.prototype),o.aug(r.prototype,{factory:a}),t.exports=r},function(t,e,n){function r(t,e,n){var r=this[e];if(!r)throw new Error(e+" does not exist");this[e]=t(r,n)}function i(){this.Component=this.factory(),this._adviceArgs=[],this._lastArgs=[]}var o=n(60),a=n(14),s=n(61);a.aug(i.prototype,{factory:s,build:function(t){var e=this;this.Component;return a.aug(this.Component.prototype.boundParams,t),this._adviceArgs.concat(this._lastArgs).forEach(function(t){r.apply(e.Component.prototype,t)}),delete this._lastArgs,delete this._adviceArgs,this.Component},params:function(t){var e=this.Component.prototype.paramConfigs;t=t||{},this.Component.prototype.paramConfigs=a.aug({},t,e)},define:function(t,e){if(t in this.Component.prototype)throw new Error(t+" has previously been defined");this.override(t,e)},override:function(t,e){this.Component.prototype[t]=e},defineProperty:function(t,e){if(t in this.Component.prototype)throw new Error(t+" has previously been defined");this.overrideProperty(t,e)},overrideProperty:function(t,e){var n=a.aug({configurable:!0},e);Object.defineProperty(this.Component.prototype,t,n)},before:function(t,e){this._adviceArgs.push([o.before,t,e])},after:function(t,e){this._adviceArgs.push([o.after,t,e])},around:function(t,e){this._adviceArgs.push([o.around,t,e])},last:function(t,e){this._lastArgs.push([o.after,t,e])}}),t.exports=i},function(t,e,n){function r(t,e){return function(){var n,r=this,i=arguments;return n=e.apply(this,arguments),a.isPromise(n)?n.then(function(){return t.apply(r,i)}):t.apply(this,arguments)}}function i(t,e){return function(){function n(t,e){return a.isPromise(e)?e.then(function(){return t}):t}var r,i=this,o=arguments;return r=t.apply(this,arguments),a.isPromise(r)?r.then(function(t){return n(t,e.apply(i,o))}):n(r,e.apply(this,arguments))}}function o(t,e){return function(){var n=s.toRealArray(arguments);return n.unshift(u(t,this)),e.apply(this,n)}}var a=n(44),s=n(14),u=n(20);t.exports={before:r,after:i,around:o}},function(t,e,n){function r(){return!0}function i(t){return t}function o(t,e,n){var r=null;return t.some(function(t){return t=s.isType("function",t)?t():t,e(t)?(r=n(t),!0):void 0}),r}function a(){function t(t){var e=this;t=t||{},this.params=Object.keys(this.paramConfigs).reduce(function(n,a){var s=[],u=e.boundParams,c=e.paramConfigs[a],f=c.validate||r,l=c.transform||i;if(a in u&&s.push(u[a]),a in t&&s.push(t[a]),s="fallback"in c?s.concat(c.fallback):s,n[a]=o(s,f,l),c.required&&null==n[a])throw new Error(a+" is a required parameter");return n},{}),this.initialize()}return s.aug(t.prototype,{paramConfigs:{},boundParams:{},initialize:function(){}}),t}var s=n(14);t.exports=a},function(t,e,n){function r(){var t=a();return u.aug(t.prototype,{id:null,initialized:!1,width:0,height:0,sandboxEl:null,insert:function(){return s.reject()},onResize:function(){},addClass:function(t){var e=this.sandboxEl;return t=Array.isArray(t)?t:[t],o.write(function(){t.forEach(function(t){i.add(e,t)})})},removeClass:function(t){var e=this.sandboxEl;return t=Array.isArray(t)?t:[t],o.write(function(){t.forEach(function(t){i.remove(e,t)})})},styleSelf:function(t){var e=this;return o.write(function(){u.forIn(t,function(t,n){e.sandboxEl.style[t]=n})})}}),t}var i=n(24),o=n(46),a=n(61),s=n(2),u=n(14);t.exports=r},function(t,e,n){function r(t,e,n){return e=y.aug({id:t},_,e),n=y.aug({},x,n),p(e,n)}function i(t){try{t.contentWindow.document}catch(e){return g.reject(e)}return g.resolve(t)}function o(t,e,n,i){var o=new v,a=b.generate(),s=r(t,e,n);return w.set(["sandbox",a],function(){var t=s.contentWindow.document,e="<!DOCTYPE html><html><head></head><body></body></html>";f.write(function(){t.write(e)}).then(function(){t.close(),o.resolve(s)})}),s.src=["javascript:",'document.write("");',"try { window.parent.document; }",'catch (e) { document.domain="'+u.domain+'"; }',"window.parent."+w.fullPath(["sandbox",a])+"();"].join(""),s.addEventListener("error",o.reject,!1),f.write(function(){i.parentNode.replaceChild(s,i)}),o.promise}function a(t){t.overrideProperty("id",{get:function(){return this.sandboxEl&&this.sandboxEl.id}}),t.overrideProperty("initialized",{get:function(){return!!this.win}}),t.overrideProperty("width",{get:function(){return this._width}}),t.overrideProperty("height",{get:function(){return this._height}}),t.overrideProperty("sandboxEl",{get:function(){return this.iframeEl}}),t.defineProperty("iframeEl",{get:function(){return this._iframe}}),t.defineProperty("rootEl",{get:function(){return this.doc&&this.doc.documentElement}}),t.defineProperty("widgetEl",{get:function(){return this.doc&&this.doc.body.firstElementChild}}),t.defineProperty("win",{get:function(){return this.iframeEl&&this.iframeEl.contentWindow}}),t.defineProperty("doc",{get:function(){return this.win&&this.win.document}}),t.define("updateCachedDimensions",function(){var t=this;return f.read(function(){var e,n=m(t.sandboxEl);"visible"==t.sandboxEl.style.visibility?t._width=n.width:(e=m(t.sandboxEl.parentElement).width,t._width=Math.min(n.width,e)),t._height=n.height})}),t.define("setTitle",function(t){this.iframeEl.title=t}),t.define("createElement",function(t){return this.doc.createElement(t)}),t.define("createFragment",function(){return this.doc.createDocumentFragment()}),t.define("htmlToElement",function(t){var e;return e=this.createElement("div"),e.innerHTML=t,e.firstElementChild}),t.define("hasSelectedText",function(){return!!l.getSelectedText(this.win)}),t.define("setTargetToBlank",function(){var t=this.createElement("base");t.target="_blank",this.doc.head.appendChild(t)}),t.define("addRootClass",function(t){var e=this.rootEl;return t=Array.isArray(t)?t:[t],this.initialized?f.write(function(){t.forEach(function(t){c.add(e,t)})}):g.reject(new Error("sandbox not initialized"))}),t.define("removeRootClass",function(t){var e=this.rootEl;return t=Array.isArray(t)?t:[t],this.initialized?f.write(function(){t.forEach(function(t){c.remove(e,t)})}):g.reject(new Error("sandbox not initialized"))}),t.define("hasRootClass",function(t){return c.present(this.rootEl,t)}),t.define("addStyleSheet",function(t,e){function n(){var t=o.doc.head.firstElementChild;return t?o.doc.head.insertBefore(i,t):o.doc.head.appendChild(i)}function r(){return o.doc.head.appendChild(i)}var i,o=this,a=new v;return this.initialized?(i=this.createElement("link"),i.type="text/css",i.rel="stylesheet",i.href=t,i.addEventListener("load",a.resolve,!1),i.addEventListener("error",a.reject,!1),f.write(e?n:r).then(function(){var e=o.createElement("img");return e.src=t,e.onerror=function(){s.setTimeout(a.resolve,50)},a.promise})):g.reject(new Error("sandbox not initialized"))}),t.define("prependStyleSheet",function(t){return this.addStyleSheet(t,!0)}),t.define("appendStyleSheet",function(t){return this.addStyleSheet(t,!1)}),t.define("addCss",function(t,e){function n(){var t=o.doc.head.firstElementChild;return t?o.doc.head.insertBefore(i,t):o.doc.head.appendChild(i)}function r(){return o.doc.head.appendChild(i)}var i,o=this;return d.cspEnabled()?g.resolve():(i=this.createElement("style"),i.type="text/css",i.appendChild(this.doc.createTextNode(t)),f.write(e?n:r))}),t.define("prependCss",function(t){return this.addCss(t,!0)}),t.define("appendCss",function(t){return this.addCss(t,!1)}),t.define("makeVisible",function(){var t=this;return this.styleSelf(A).then(function(){t.updateCachedDimensions()})}),t.define("injectWidgetEl",function(t){var e=this;return this.initialized?this.widgetEl?g.reject(new Error("widget already injected")):f.write(function(){e.doc.body.appendChild(t)}):g.reject(new Error("sandbox not initialized"))}),t.define("matchHeightToContent",function(){var t,e=this;return f.read(function(){t=e.widgetEl?m(e.widgetEl).height:0}),f.write(function(){e.sandboxEl.style.height=t+"px"}).then(function(){return e.updateCachedDimensions()})}),t.define("matchWidthToContent",function(){var t,e=this;return f.read(function(){t=e.widgetEl?m(e.widgetEl).width:0}),f.write(function(){e.sandboxEl.style.width=t+"px"}).then(function(){return e.updateCachedDimensions()})}),t.define("didResize",function(){var t=this,e=t._resizeHandlers.length>0;return this.updateCachedDimensions().then(function(){e&&t._resizeHandlers.forEach(function(e){e(t)})})}),t.after("initialize",function(){this._iframe=null,this._width=this._height=0,this._resizeHandlers=[]}),t.override("insert",function(t,e,n,a){var s=this,u=new v,c=r(t,e,n);return f.write(E(a,null,c)),c.addEventListener("load",function(){i(c).then(null,E(o,null,t,e,n,c)).then(u.resolve,u.reject)},!1),c.addEventListener("error",u.reject,!1),u.promise.then(function(t){var e=h(s.didResize,I,s);return s._iframe=t,s.win.addEventListener("resize",e,!1),g.all([s.setTargetToBlank(),s.addRootClass(T),s.prependCss(C)])})}),t.override("onResize",function(t){this._resizeHandlers.push(t)}),t.after("styleSelf",function(){return this.updateCachedDimensions()})}var s=n(7),u=n(9),c=n(24),f=n(46),l=n(64),d=n(8),h=n(65),p=n(52),m=(n(12),n(66)),v=n(1),g=n(2),y=n(14),w=n(17),b=n(31),E=n(20),_={allowfullscreen:"true"},x={position:"absolute",visibility:"hidden",display:"block",width:"0px",height:"0px",padding:"0",border:"none"},A={position:"static",visibility:"visible"},T="SandboxRoot",C=".SandboxRoot { display: none; }",I=50;t.exports=a},function(t,e,n){function r(t){return t=t||o,t.getSelection&&t.getSelection()}function i(t){var e=r(t);return e?e.toString():""}var o=n(7);t.exports={getSelection:r,getSelectedText:i}},function(t,e,n){function r(t,e,n){function r(){var s=n||this,u=arguments,c=+new Date;return i.clearTimeout(o),c-a>e?(a=c,void t.apply(s,u)):void(o=i.setTimeout(function(){r.apply(s,u)},e))}var o,a=0;return n=n||null,r}var i=n(7);t.exports=r},function(t,e){function n(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height}}t.exports=n},function(t,e,n){function r(t,e){this._inputsQueue=[],this._task=t,this._isPaused=!1,this._flushDelay=e&&e.flushDelay||a,this._pauseLength=e&&e.pauseLength||s,this._flushTimeout=void 0}var i=n(1),o=n(20),a=100,s=3e3;r.prototype.add=function(t){var e=new i;return this._inputsQueue.push({input:t,taskDoneDeferred:e}),this._scheduleFlush(),e.promise},r.prototype._scheduleFlush=function(){this._isPaused||(clearTimeout(this._flushTimeout),this._flushTimeout=setTimeout(o(this._flush,this),this._flushDelay))},r.prototype._flush=function(){try{this._task.call(null,this._inputsQueue)}catch(t){this._inputsQueue.forEach(function(e){e.taskDoneDeferred.reject(t)})}this._inputsQueue=[],this._flushTimeout=void 0},r.prototype.pause=function(t){clearTimeout(this._flushTimeout),this._isPaused=!0,!t&&this._pauseLength&&setTimeout(o(this.resume,this),this._pauseLength)},r.prototype.resume=function(){this._isPaused=!1,this._scheduleFlush()},t.exports=r},function(t,e,n){t.exports=[n(69),n(100),n(142),n(148),n(154),n(180),n(197),n(202)]},function(t,e,n){function r(t){var e=s(t),n={screenName:o.screenName(t.href),showScreenName:"false"!==t.getAttribute("data-show-screen-name"),showCount:"false"!==t.getAttribute("data-show-count"),size:t.getAttribute("data-size"),count:t.getAttribute("data-count"),preview:t.getAttribute("data-preview")};return a.forIn(n,function(t,n){var r=e[t];e[t]=f.hasValue(r)?r:n}),e.screenName=e.screenName||e.screen_name,e}function i(t){var e=u(t,l);return e.map(function(t){return c(r(t),t.parentNode,t)})}var o=n(27),a=n(14),s=n(70),u=n(72)(),c=n(75),f=n(15),l="a.twitter-follow-button";t.exports=i},function(t,e,n){function r(t){var e=t.href&&t.href.split("?")[1],n=e?a.decode(e):{},r={lang:u(t),width:t.getAttribute("data-width")||t.getAttribute("width"),height:t.getAttribute("data-height")||t.getAttribute("height"),related:t.getAttribute("data-related"),partner:t.getAttribute("data-partner")};return o.asBoolean(t.getAttribute("data-dnt"))&&i.setOn(),s.forIn(r,function(t,e){var r=n[t];n[t]=o.hasValue(r)?r:e}),n}var i=n(36),o=n(15),a=n(28),s=n(14),u=n(71);t.exports=r},function(t,e){function n(t){var e;if(t)return e=t.lang||t.getAttribute("data-lang"),e?e:n(t.parentElement)}t.exports=n},function(t,e,n){var r=n(73),i=n(31);t.exports=function(){var t="data-twitter-extracted-"+i.generate();return function(e,n){function i(e){return!e.hasAttribute(t)}function o(e){return e.setAttribute(t,"true"),e}return r(e,n).filter(i).map(o)}}},function(t,e,n){function r(t,e){return o(t,e)?[t]:i.toRealArray(t.querySelectorAll(e))}var i=n(14),o=n(74);t.exports=r},function(t,e,n){function r(t,e){return a?a.call(t,e):void 0}var i=n(7),o=i.HTMLElement,a=o.prototype.matches||o.prototype.matchesSelector||o.prototype.webkitMatchesSelector||o.prototype.mozMatchesSelector||o.prototype.msMatchesSelector||o.prototype.oMatchesSelector;t.exports=r},function(t,e,n){function r(t,e,n){return new i(o,a,"twitter-follow-button",t,e,n)}var i=n(76),o=n(77),a=n(92);t.exports=r},function(t,e){function n(t,e,n,r,i,o){this.factory=t,this.Sandbox=e,this.srcEl=o,this.targetEl=i,this.parameters=r,this.className=n}n.prototype.destroy=function(){this.srcEl=this.targetEl=null},t.exports=n},function(t,e,n){function r(t,e){var r=new i;return n.e(1,function(i,o){var a;return i?r.reject(i):(a=n(78),void r.resolve(new a(t,e)))}),r.promise}var i=n(1);t.exports=r},,function(t,e,n){var r=n(55),i=n(80),o=n(20);r=Object.create(r),r.build=o(r.build,null,i),t.exports=r},function(t,e,n){function r(){i.apply(this,arguments),this.Widget=this.Component}var i=n(59),o=n(14),a=n(81);r.prototype=Object.create(i.prototype),o.aug(r.prototype,{factory:a,build:function(){var t=i.prototype.build.apply(this,arguments);return t},selectors:function(t){var e=this.Widget.prototype.selectors;t=t||{},this.Widget.prototype.selectors=o.aug({},t,e)}}),t.exports=r},function(t,e,n){function r(){function t(t,n){e.apply(this,arguments),this.id=f+c(),this.sandbox=n}var e=a();return t.prototype=Object.create(e.prototype),s.aug(t.prototype,{selectors:{},hydrate:function(){return i.resolve()},prepForInsertion:function(){},render:function(){return i.resolve()},show:function(){return i.resolve()},resize:function(){return i.resolve()},select:function(t,e){return 1===arguments.length&&(e=t,t=this.el),t?(e=this.selectors[e]||e,s.toRealArray(t.querySelectorAll(e))):[]},selectOne:function(){return this.select.apply(this,arguments)[0]},selectLast:function(){return this.select.apply(this,arguments).pop()},on:function(t,e,n){function r(t){s.addEventListener(t,n,!1)}function i(t){o.delegate(s,t,a,n)}var a,s=this.el;this.el&&(t=(t||"").split(/\s+/),2===arguments.length?n=e:a=e,a=this.selectors[a]||a,n=u(n,this),t.forEach(a?i:r))}}),t}var i=n(2),o=n(23),a=n(61),s=n(14),u=n(20),c=n(82),f="twitter-widget-";t.exports=r},function(t,e){function n(){return String(r++)}var r=0;t.exports=n},,function(t,e,n){function r(t,e){var n,r=c[t];return"embed/timeline.css"===t&&u.contains(o.href,"localhost.twitter.com")?"/src/css/index.css":(n=s.retina()?"2x":"default",e&&(n+=".rtl"),i()+"/"+r[n])}function i(t){var e=a.get("host");return f(t)+"://"+e}var o=n(13),a=n(17),s=n(8),u=n(14),c={"embed/timeline.css":{"default":"embed/timeline.d6812d7a233cc6acdaf452b485c20172.default.css","2x":"embed/timeline.d6812d7a233cc6acdaf452b485c20172.2x.css",gif:"embed/timeline.d6812d7a233cc6acdaf452b485c20172.gif.css","default.rtl":"embed/timeline.d6812d7a233cc6acdaf452b485c20172.default.rtl.css","2x.rtl":"embed/timeline.d6812d7a233cc6acdaf452b485c20172.2x.rtl.css","gif.rtl":"embed/timeline.d6812d7a233cc6acdaf452b485c20172.gif.rtl.css"}},f=function(){return/^http\:$/.test(o.protocol)?function(t){return t?"https":"http"}:function(){return"https"}}();t.exports={builtUrl:r,base:i}},,,function(t,e,n){function r(t){return t=String(t).toLowerCase(),o.contains(s,t)}function i(t){return t=(t||"").toLowerCase(),t=t.replace("_","-"),a(t)?t:(t=t.replace(/\-.*/,""),a(t)?t:"en")}var o=n(14),a=n(88),s=["ar","fa","he","ur"];t.exports={isRtlLang:r,matchLanguage:i}},function(t,e,n){function r(t){return"en"===t||i.contains(o,t)}var i=n(14),o=n(89);t.exports=r},function(t,e){t.exports=["hi","zh-cn","fr","zh-tw","msa","fil","fi","sv","pl","ja","ko","de","it","pt","es","ru","id","tr","da","no","nl","hu","fa","ar","ur","he","th","cs","uk","vi","ro","bn","el","en-gb","gu","kn","mr","ta","bg","ca","hr","sr","sk"]},function(t,e,n){function r(t){t.define("scribeNamespace",function(){return{client:"tfw"}}),t.define("scribeData",function(){return{widget_origin:a.rootDocumentLocation(),widget_frame:a.isFramed()&&a.currentDocumentLocation()}}),t.define("scribe",function(t,e,n){t=s.aug(this.scribeNamespace(),t||{}),e=s.aug(this.scribeData(),e||{}),i.scribe(t,e,!1,n)}),t.define("scribeInteraction",function(t,e,n){var r=o.extractTermsFromDOM(t.target);r.action=t.type,this.scribe(r,e,n)})}var i=n(50),o=n(40),a=n(37),s=n(14);t.exports=r},function(t,e,n){function r(t){t.define("widgetDataAttributes",function(){return{}}),t.define("setDataAttributes",function(){var t=this.sandbox.sandboxEl;o.forIn(this.widgetDataAttributes(),function(e,n){i.hasValue(n)&&t.setAttribute("data-"+e,n)})}),t.after("render",function(){this.setDataAttributes()})}var i=n(15),o=n(14);t.exports=r},function(t,e,n){var r=n(54),i=n(93);t.exports=r.build([i])},function(t,e,n){function r(t){t.overrideProperty("id",{get:function(){return this.sandboxEl&&this.sandboxEl.id}}),t.overrideProperty("initialized",{get:function(){return!!this.iframeEl}}),t.overrideProperty("width",{get:function(){return this._width}}),t.overrideProperty("height",{get:function(){return this._height}}),t.overrideProperty("sandboxEl",{get:function(){return this.iframeEl}}),t.defineProperty("iframeEl",{get:function(){return this._iframe}}),t.define("updateCachedDimensions",function(){var t=this;return this.initialized?i.read(function(){t._width=t.sandboxEl.offsetWidth,t._height=t.sandboxEl.offsetHeight}):c.resolve()}),t.define("setTitle",function(t){this.iframeEl.title=t}),t.define("makeVisible",function(){return this.styleSelf(h)}),t.define("didResize",function(){var t=this,e=t._resizeHandlers.length>0;return this.updateCachedDimensions().then(function(){e&&t._resizeHandlers.forEach(function(e){e(t)})})}),t.define("loadDocument",function(t){var e=new u;return this.initialized?this.iframeEl.src?c.reject(new Error("widget already loaded")):(this.iframeEl.addEventListener("load",e.resolve,!1),this.iframeEl.addEventListener("error",e.reject,!1),this.iframeEl.src=t,e.promise):c.reject(new Error("sandbox not initialized"))}),t.after("initialize",function(){this._iframe=null,this._width=this._height=0,this._resizeHandlers=[]}),t.override("insert",function(t,e,n,r){var o=this;return e=l.aug({id:t},e),n=l.aug({},d,n),this._iframe=s(e,n),p[t]=this,this.onResize(a(function(){o.makeVisible()})),i.write(f(r,null,this._iframe))}),t.override("onResize",function(t){this._resizeHandlers.push(t)}),t.after("styleSelf",function(){return this.updateCachedDimensions()})}var i=n(46),o=n(94),a=n(99),s=n(52),u=n(1),c=n(2),f=n(20),l=n(14),d={position:"absolute",visibility:"hidden",width:"0px",height:"0px"},h={position:"static",visibility:"visible"},p={};o(function(t,e,n){var r=p[t];if(r)return r.styleSelf({width:e+"px",height:n+"px"}).then(function(){r.didResize()})}),t.exports=r},function(t,e,n){function r(t){(new o).attachReceiver(new a.Receiver(i,"twttr.button")).bind("twttr.private.trigger",function(t,e){var n=c(this);s.trigger(t,{target:n,region:e,type:t,data:{}})}).bind("twttr.private.resizeButton",function(e){var n=c(this),r=n&&n.id,i=u.asInt(e.width),o=u.asInt(e.height);r&&i&&o&&t(r,i,o)})}var i=n(7),o=n(95),a=n(97),s=n(32),u=n(15),c=n(98);t.exports=r},function(t,e,n){function r(t){this.registry=t||{}}function i(t){return h.isType("string",t)?l.parse(t):t}function o(t){var e,n,r;return h.isObject(t)?(e=t.jsonrpc===v,n=h.isType("string",t.method),r=!("id"in t)||a(t.id),e&&n&&r):!1}function a(t){var e,n,r;return e=h.isType("string",t),n=h.isType("number",t),r=null===t,e||n||r}function s(t){return h.isObject(t)&&!h.isType("function",t)}function u(t,e){return{jsonrpc:v,id:t,result:e}}function c(t,e){return{jsonrpc:v,id:a(t)?t:null,error:e}}function f(t){return p.all(t).then(function(t){return t=t.filter(function(t){return void 0!==t}),t.length?t:void 0})}var l=n(41),d=n(96),h=n(14),p=n(2),m=n(44),v="2.0";r.prototype._invoke=function(t,e){var n,r,i;n=this.registry[t.method],r=t.params||[],r=h.isType("array",r)?r:[r];try{i=n.apply(e.source||null,r)}catch(o){i=p.reject(o.message)}return m.isPromise(i)?i:p.resolve(i)},r.prototype._processRequest=function(t,e){function n(e){return u(t.id,e)}function r(){return c(t.id,d.INTERNAL_ERROR)}var i;return o(t)?(i="params"in t&&!s(t.params)?p.resolve(c(t.id,d.INVALID_PARAMS)):this.registry[t.method]?this._invoke(t,{source:e}).then(n,r):p.resolve(c(t.id,d.METHOD_NOT_FOUND)),null!=t.id?i:p.resolve()):p.resolve(c(t.id,d.INVALID_REQUEST))},r.prototype.attachReceiver=function(t){return t.attachTo(this),this},r.prototype.bind=function(t,e){return this.registry[t]=e,this},r.prototype.receive=function(t,e){var n,r,o,a=this;try{t=i(t)}catch(s){return p.resolve(c(null,d.PARSE_ERROR))}return e=e||null,n=h.isType("array",t),r=n?t:[t],o=r.map(function(t){return a._processRequest(t,e)}),n?f(o):o[0]},t.exports=r},function(t,e){t.exports={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INTERNAL_ERROR:{code:-32603,message:"Internal error"}}},function(t,e,n){function r(t,e,n){var r;t&&t.postMessage&&(g?r=(n||"")+l.stringify(e):n?(r={},r[n]=e):r=e,t.postMessage(r,"*"))}function i(t){return p.isType("string",t)?t:"JSONRPC"}function o(t,e){return e?p.isType("string",t)&&0===t.indexOf(e)?t.substring(e.length):t[e]?t[e]:void 0:t}function a(t,e){var n=t.document;this.filter=i(e),this.server=null,this.isTwitterFrame=m.isTwitterURL(n.location.href),t.addEventListener("message",v(this._onMessage,this),!1)}function s(t,e){this.pending={},this.target=t,this.isTwitterHost=m.isTwitterURL(c.href),this.filter=i(e),f.addEventListener("message",v(this._onMessage,this),!1)}function u(t){return arguments.length>0&&(g=!!t),g}var c=n(13),f=n(7),l=n(41),d=n(1),h=n(8),p=n(14),m=n(27),v=n(20),g=h.ie9();p.aug(a.prototype,{_onMessage:function(t){var e,n=this;this.server&&(!this.isTwitterFrame||m.isTwitterURL(t.origin))&&(e=o(t.data,this.filter),e&&this.server.receive(e,t.source).then(function(e){e&&r(t.source,e,n.filter)}))},attachTo:function(t){this.server=t},detach:function(){this.server=null}}),p.aug(s.prototype,{_processResponse:function(t){var e=this.pending[t.id];e&&(e.resolve(t),delete this.pending[t.id])},_onMessage:function(t){var e;if((!this.isTwitterHost||m.isTwitterURL(t.origin))&&(e=o(t.data,this.filter))){if(p.isType("string",e))try{e=l.parse(e)}catch(n){return}e=p.isType("array",e)?e:[e],e.forEach(v(this._processResponse,this))}},send:function(t){var e=new d;return t.id?this.pending[t.id]=e:e.resolve(),r(this.target,t,this.filter),e.promise}}),t.exports={Receiver:a,Dispatcher:s,_stringifyPayload:u}},function(t,e,n){function r(t){for(var e,n=i.getElementsByTagName("iframe"),r=0;e=n[r];r++)if(e.contentWindow===t)return e}var i=n(9);t.exports=r},function(t,e){function n(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments))}}t.exports=n},function(t,e,n){function r(t){var e=u(t),n={collectionId:s.collectionId(t.href),chrome:t.getAttribute("data-chrome"),limit:t.getAttribute("data-limit")};return a.forIn(n,function(t,n){var r=e[t];e[t]=o.hasValue(r)?r:n}),e}function i(t){var e=c(t,l);return e.map(function(t){return f(r(t),t.parentNode,t)})}var o=n(15),a=n(14),s=n(27),u=n(70),c=n(72)(),f=n(101),l="a.twitter-grid";t.exports=i},function(t,e,n){function r(t,e,n){return new i(o,a,"twitter-grid",t,e,n)}var i=n(76),o=n(102),a=n(53);t.exports=r},function(t,e,n){function r(t,e){var r=new i;return n.e(2,function(i,o){var a;return i?r.reject(i):(a=n(103),void r.resolve(new a(t,e)))}),r.promise}var i=n(1);t.exports=r},,,function(t,e,n){function r(){return u.builtUrl(l)}function i(t){return"dark"===t?"dark":"light"}function o(t,e,n){var r,o;return n=i(n),r=s.isRtlLang(e)?"rtl":"ltr",o=[t,c.css,n,r,"css"].join("."),u.base()+"/css/"+o}function a(){return u.base()+"/css/"+["periscope_on_air",c.css,"css"].join(".")}var s=n(87),u=n(84),c=n(106),f=n(20),l="embed/timeline.css";t.exports={tweet:f(o,null,"tweet"),timeline:f(o,null,"timeline"),video:f(o,null,"video"),moment:f(o,null,"moment"),grid:f(o,null,"grid"),timelineLegacy:r,periscopeOnAir:a}},function(t,e){t.exports={css:"ab9101be6980fafdba47e88fa54bd311"}},,function(t,e,n){function r(){return f+l++}function i(t,e,n,i){var f,l,d;return i=i||r(),f=a.fullPath(["callbacks",i]),l=o.createElement("script"),d=new s,e=u.aug({},e,{callback:f,suppress_response_codes:!0}),a.set(["callbacks",i],function(t){var e,r;e=n(t||!1),t=e.resp,r=e.success,r?d.resolve(t):d.reject(t),l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),a.unset(["callbacks",i])}),l.onerror=function(){d.reject(new Error("failed to fetch "+l.src))},l.src=c.url(t,e),l.async="async",o.body.appendChild(l),d.promise}var o=n(9),a=n(17),s=n(1),u=n(14),c=n(28),f="cb",l=0;t.exports={fetch:i}},function(t,e,n){function r(t){var e,n;return e=t.headers&&t.headers.status,n=t&&!t.error&&200===e,!n&&t.headers&&t.headers.message&&i.warn(t.headers.message),{success:n,resp:t}}var i=n(12);t.exports=r},function(t,e){function n(){var t=9e5;return Math.floor(+new Date/t)}t.exports=n},function(t,e,n){function r(t){return t?(t=Array.isArray(t)?t:[t],t.reduce(function(t,e){var n=e.getAttribute("data-tweet-id"),r=e.getAttribute("data-rendered-tweet-id")||n;return n===r?t[r]={item_type:i.TWEET}:n&&(t[r]={item_type:i.RETWEET,target_type:i.TWEET,target_id:n}),t},{})):{}}var i=n(112);t.exports=r},function(t,e){t.exports={TWEET:0,RETWEET:10,CUSTOM_TIMELINE:17}},function(t,e,n){var r=n(9),i=n(15),o=r.createElement("div");t.exports=function(t){return i.isNumber(t)&&(t+="px"),o.style.width="",o.style.width=t,o.style.width||null}},function(t,e,n){function r(t){var e=t.getBoundingClientRect(),n=i.innerWidth,r=i.innerHeight,o=e.top>r,a=e.bottom<0,s=e.left>n,u=e.right<0;return!(o||a||s||u)}var i=n(7);t.exports=r},function(t,e,n){function r(t){t.after("prepForInsertion",function(t){o.sizeIframes(t,this.sandbox.width,a,i.sync)}),t.after("resize",function(){o.sizeIframes(this.el,this.sandbox.width,a,i.write)})}var i=n(46),o=n(116),a=375;t.exports=r},function(t,e,n){function r(t){var e=t.split(" ");this.url=decodeURIComponent(e[0].trim()),this.width=+e[1].replace(/w$/,"").trim()}function i(t,e,n){var i,o,a,s;if(t=p.devicePixelRatio?t*p.devicePixelRatio:t,o=e.split(",").map(function(t){return new r(t.trim())}),n)for(s=0;s<o.length;s++)o[s].url===n&&(i=o[s]);
return a=o.reduce(function(e,n){return n.width<e.width&&n.width>=t?n:e},o[0]),i&&i.width>a.width?i:a}function o(t,e){var n,r=t.getAttribute("data-srcset"),o=t.src;r&&(n=i(e,r,o),t.src=n.url)}function a(t,e){e=void 0!==e?!!e:v.retina(),m.toRealArray(t.getElementsByTagName("IMG")).forEach(function(t){var n=t.getAttribute("data-src-1x")||t.getAttribute("src"),r=t.getAttribute("data-src-2x");e&&r?t.src=r:n&&(t.src=n)})}function s(t,e,n){t&&(m.toRealArray(t.querySelectorAll(".NaturalImage-image")).forEach(function(t){n(function(){o(t,e)})}),m.toRealArray(t.querySelectorAll(".CroppedImage-image")).forEach(function(t){n(function(){o(t,e/2)})}),m.toRealArray(t.querySelectorAll("img.autosized-media")).forEach(function(t){n(function(){o(t,e),t.removeAttribute("width"),t.removeAttribute("height")})}))}function u(t,e,n,r){t&&((v.ios()||v.android())&&m.toRealArray(t.querySelectorAll(".FilledIframe")).forEach(function(t){r(function(){l(t,{width:t.offsetWidth,height:t.offsetHeight})})}),m.toRealArray(t.querySelectorAll("iframe.autosized-media")).forEach(function(t){var i=f(t.getAttribute("data-width"),t.getAttribute("data-height"),y.effectiveWidth(t.parentElement)||e,n);r(function(){t.width=i.width,t.height=i.height,l(t,i)})}))}function c(t,e,n,r){s(t,e,r),u(t,e,n,r)}function f(t,e,n,r,i,o){return n=n||t,r=r||e,i=i||0,o=o||0,t>n&&(e*=n/t,t=n),e>r&&(t*=r/e,e=r),i>t&&(e*=i/t,t=i),o>e&&(t*=o/e,e=o),{width:Math.floor(t),height:Math.floor(e)}}function l(t,e){function n(){var t={name:"tfw:resize",dimensions:e};i.postMessage(t,"*")}var r,i,o,a,s;t&&(i=t.contentWindow,r=t.ownerDocument&&t.ownerDocument.defaultView,o=v.ios()||v.android(),a=g.isTwitterURL(t.src),s=i&&v.canPostMessage(i),o&&a&&s&&(n(),r&&r.addEventListener("message",function(t){"tfw:requestsize"===t.data&&n()},!1)))}function d(t,e,n,r){m.toRealArray(t.querySelectorAll(e)).forEach(function(t){var e=t.getAttribute("style")||t.getAttribute("data-style"),i=r.test(e)&&RegExp.$1;i&&(t.setAttribute("data-csp-fix",!0),t.style[n]=i)})}function h(t){v.cspEnabled()&&(d(t,".MediaCard-widthConstraint","maxWidth",w),d(t,".MediaCard-mediaContainer","paddingBottom",_),d(t,".CroppedImage-image","top",b),d(t,".CroppedImage-image","left",E))}var p=n(7),m=n(14),v=n(8),g=n(27),y=n(117),w=/max-width:\s*([\d\.]+px)/,b=/top:\s*(\-?[\d\.]+%)/,E=/left:\s*(\-?[\d\.]+%)/,_=/padding-bottom:\s*([\d\.]+%)/;t.exports={scaleDimensions:f,retinize:a,setSrcForImgs:s,sizeIframes:u,constrainMedia:c,fixMediaCardLayout:h,__setSrcFromSet:o}},function(t,e){function n(t){return t&&1===t.nodeType?t.offsetWidth||n(t.parentNode):0}t.exports={effectiveWidth:n}},function(t,e,n){function r(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function i(t){return(t||"").split(";").reduce(function(t,e){var n,i;return c.test(e.trim())&&(n=RegExp.$1,i=RegExp.$2,t[r(n)]=i),t},{})}function o(t){var e=i(t.getAttribute("data-style"));0!==Object.keys(e).length&&(t.setAttribute("data-csp-fix","true"),u.forIn(e,function(e,n){t.style[e]=n}))}function a(t){t.selectors({cspForcedStyle:".js-cspForcedStyle"}),t.after("prepForInsertion",function(t){s.cspEnabled()&&this.select(t,"cspForcedStyle").forEach(o)})}var s=n(8),u=(n(12),n(14)),c=/^([a-zA-Z-]+):\s*(.+)$/;t.exports=a},function(t,e,n){function r(t){t.define("injectRefSrcParam",function(t){t.getAttribute(a)||(t.setAttribute(a,!0),t.href=i(t.href))}),t.after("render",function(){this.on("click","A",function(t,e){o.isTwitterURL(e.href)&&this.injectRefSrcParam(e)})})}var i=n(120),o=n(27),a="data-url-refsrc-injected";t.exports=r},function(t,e,n){function r(t){return i.url(t,{ref_src:o})}var i=n(28),o="twsrc^tfw";t.exports=r},function(t,e,n){function r(t){t.after("prepForInsertion",function(t){i.retinize(t)})}var i=n(116);t.exports=r},function(t,e,n){function r(t){t.after("prepForInsertion",function(t){o.setSrcForImgs(t,this.sandbox.width,i.sync)}),t.after("resize",function(){o.setSrcForImgs(this.el,this.sandbox.width,i.write)})}var i=n(46),o=n(116);t.exports=r},function(t,e){function n(t){t.after("render",function(){var t=this.el.getAttribute(r);t&&this.sandbox.setTitle(t)})}var r="data-iframe-title";t.exports=n},function(t,e,n){function r(t){return Object.keys(t).every(s.isInt)}function i(t){var e=Object.keys(t).map(function(e){return{size:+e,className:t[e]}}).sort(function(t,e){return t.size-e.size});return e.unshift({size:0,className:u}),e}function o(t){t.params({breakpoints:{required:!0,validate:r,transform:i}}),t.define("getClassForWidth",function(t){var e,n,r;for(n=this.params.breakpoints.length-1;n>=0;n--)if(r=this.params.breakpoints[n],t>r.size){e=r.className;break}return e}),t.after("initialize",function(){this.allBreakpoints=this.params.breakpoints.map(function(t){return t.className})}),t.define("recalculateBreakpoints",function(){var t=this.getClassForWidth(this.sandbox.width);return t&&this.sandbox.hasRootClass(t)?a.resolve():a.all([this.sandbox.removeRootClass(this.allBreakpoints),this.sandbox.addRootClass(t)])}),t.after("render",function(){return this.recalculateBreakpoints()}),t.after("resize",function(){return this.recalculateBreakpoints()})}var a=n(2),s=n(15),u="env-narrow";t.exports=o},,,,function(t,e,n){function r(t){var e;t=i.parse(t),this.videoEl=t.videoEl,"loop"in t&&(this.videoEl.loop=t.loop),"autoplay"in t&&(this.videoEl.autoplay=t.autoplay),"poster"in t&&(this.videoEl.poster=t.poster),e=s.toRealArray(this.videoEl.querySelectorAll("source")),this.sourceTypes=e.map(function(t){return t.type})}var i,o=n(9),a=n(30),s=n(14);i=(new a).require("videoEl"),r.prototype.isPaused=function(){return this.videoEl.paused},r.prototype.play=function(){return this.videoEl.play(),this},r.prototype.pause=function(){return this.videoEl.pause(),this},r.prototype.toggle=function(){return this.videoEl.paused?this.play():this.pause()},r.prototype.mute=function(){return this.videoEl.muted=!0,this},r.prototype.unmute=function(){return this.videoEl.muted=!1,this},r.prototype.addSource=function(t,e){var n=o.createElement("source");return n.src=t,n.type=e,this.sourceTypes.push(e),this.videoEl.appendChild(n),this},r.prototype.hasPlayableSource=function(){var t=this.videoEl;return t.canPlayType?this.sourceTypes.reduce(function(e,n){return e||!!t.canPlayType(n).replace("no","")},!1):!1},r.prototype.setDimensions=function(t,e){return this.videoEl.width=t,this.videoEl.height=e,this},t.exports=r},function(t,e,n){function r(t){t.selectors({clickToOpen:".js-clickToOpenTarget"}),t.define("shouldOpenTarget",function(t){var e=i.closest("A",t.target,this.el),n=this.sandbox.hasSelectedText();return!e&&!n}),t.define("openTarget",function(t,e){var n=e&&e.getAttribute(u);n&&(o(n),this.scribeOpenClick(t))}),t.define("attemptToOpenTarget",function(t,e){this.shouldOpenTarget(t)&&this.openTarget(t,e)}),t.define("scribeOpenClick",function(t){var e=s.extractTermsFromDOM(t.target),n={associations:s.formatTweetAssociation(e)};this.scribe({section:"chrome",action:"click"},n)}),t.after("render",function(){this.on("click","clickToOpen",this.attemptToOpenTarget)})}var i=n(25),o=n(130),a=n(79),s=n(40),u="data-click-to-open-target";t.exports=a.couple(n(90),r)},function(t,e,n){function r(t){a.isTwitterURL(t)&&(t=o(t)),i.open(t)}var i=n(7),o=n(120),a=n(27);t.exports=r},function(t,e,n){function r(t){t.params({productName:{required:!0},widgetId:{required:!1},related:{required:!1},partner:{fallback:f(o.val,o,"partner")}}),t.selectors({timeline:".timeline",tweetIdInfo:".js-tweetIdInfo",tweetLegacy:".tweet"}),t.define("injectWebIntentParams",function(t){var e=i.closest(this.selectors.timeline,t,this.el),n=i.closest(this.selectors.tweetIdInfo,t,this.el)||i.closest(this.selectors.tweetLegacy,t,this.el);t.getAttribute(l)||(t.setAttribute(l,!0),t.href=u.url(t.href,{tw_w:this.params.widgetId,tw_i:n&&n.getAttribute("data-tweet-id"),tw_p:this.params.productName,related:this.params.related,partner:this.params.partner,query:e&&e.getAttribute("data-search-query"),profile_id:e&&e.getAttribute("data-profile-id"),original_referer:s.rootDocumentLocation()}))}),t.after("render",function(){this.on("click","A",function(t,e){c.isIntentURL(e.href)&&(this.injectWebIntentParams(e),a.open(e.href,this.sandbox.sandboxEl,t))})})}var i=n(25),o=n(16),a=n(26),s=n(37),u=n(28),c=n(27),f=n(20),l="data-url-params-injected";t.exports=r},function(t,e,n){function r(t){t.before("render",function(){i.ios()&&this.sandbox.addRootClass("env-ios"),i.ie9()&&this.sandbox.addRootClass("ie9"),i.touch()&&this.sandbox.addRootClass("is-touch")})}var i=n(8);t.exports=r},function(t,e,n){function r(t){t.after("render",function(){new i(this.sandbox.win)})}var i=n(134);t.exports=r},function(t,e,n){function r(t,e){return t&&t.getAttribute?t.getAttribute("data-"+e):void 0}function i(t,e){return{element:t.element||y,action:t.action||w,page:o(e)?"video":void 0}}function o(t){return d.closest(".embedded-video",t)}function a(t){var e=d.closest(".tweet",t),n=!e&&d.closest(".EmbeddedTweet",t);return n&&(e=n.querySelector(".tweet.subject")),e}function s(t){return f.parse(r(o(t),"player-config"))}function u(t,e){var n,i,s,u=o(e);return u?n=l.aug({item_type:v,card_type:g,id:r(u,"tweet-id"),card_name:r(u,"card-name"),publisher_id:r(u,"publisher-id"),content_id:r(u,"content-id")},t.itemData||{}):(i=d.closest(".cards-multimedia",e),s=a(e),n=l.aug({item_type:v,card_type:g,id:r(s,"tweet-id"),card_name:r(i,"card-name"),publisher_id:r(i,"publisher-id"),content_id:r(i,"video-content-id")},t.itemData||{})),{items:[n]}}function c(t){var e=this;this.global=t,this.server=(new h).attachReceiver(new m.Receiver(t,"")).bind("scribe",function(t){e.scribe(t,this)}).bind("requestPlayerConfig",function(){return e.requestPlayerConfig(this)})}var f=n(41),l=n(14),d=n(25),h=n(95),p=n(35),m=n(97),v=0,g=6,y="amplify_player",w="undefined";c.prototype.findIframeByWindow=function(t){for(var e=this.global.document.getElementsByTagName("iframe"),n=e.length,r=0;n>r;r++)if(e[r].contentWindow==t)return e[r]},c.prototype.requestPlayerConfig=function(t){var e=this.findIframeByWindow(t);if(e)return s(e)},c.prototype.scribe=function(t,e){var n,r,o,a;n=t&&t.customScribe,r=this.findIframeByWindow(e),n&&r&&(o=i(n,r),a=u(n,r),p.clientEvent2(o,a,!0))},t.exports=c},function(t,e,n){function r(t){t.params({pageForAudienceImpression:{required:!0}}),t.before("hydrate",function(){i.scribeAudienceImpression(this.params.pageForAudienceImpression)})}var i=n(136);t.exports=r},function(t,e,n){function r(){return f.formatGenericEventData("syndicated_impression",{})}function i(){u("tweet")}function o(){u("timeline")}function a(){u("video")}function s(){u("partnertweet")}function u(t){l.isHostPageSensitive()||d[t]||(d[t]=!0,c.scribe(f.formatClientEventNamespace({page:t,action:"impression"}),r(),f.AUDIENCE_ENDPOINT))}var c=n(35),f=n(40),l=n(39),d={};t.exports={scribeAudienceImpression:u,scribePartnerTweetAudienceImpression:s,scribeTweetAudienceImpression:i,scribeTimelineAudienceImpression:o,scribeVideoAudienceImpression:a}},function(t,e,n){function r(t){var e;if(t)return e=s([t]),{item_ids:Object.keys(e),item_details:e}}function i(t){t.selectors({tweetIdInfo:".js-tweetIdInfo"}),t.define("scribeClickInteraction",function(t,e){var n=o.closest(this.selectors.tweetIdInfo,e,this.el);this.scribeInteraction(t,r(n))}),t.after("render",function(){this.on("click","A",this.scribeClickInteraction),this.on("click","BUTTON",this.scribeClickInteraction)})}var o=n(25),a=n(79),s=n(111);t.exports=a.couple(n(90),i)},function(t,e,n){function r(t){var e={action:"dimensions"},n=new o(a);t.after("show",function(){if(n.nextBoolean()){var t=this.sandbox.width,r=this.sandbox.height,i={context:t+","+r};this.scribe(e,i)}})}var i=n(79),o=n(139),a=1;t.exports=i.couple(n(90),r)},function(t,e){function n(t){this.percentage=t}n.prototype.nextBoolean=function(){return 100*Math.random()<this.percentage},t.exports=n},,function(t,e,n){function r(t){var e={transparent:!1,hideBorder:!1,hideHeader:!1,hideFooter:!1,hideScrollBar:!1};return t=t||"",i.contains(t,"transparent")&&(e.transparent=!0),i.contains(t,"noborders")&&(e.hideBorder=!0),i.contains(t,"noheader")&&(e.hideHeader=!0),i.contains(t,"nofooter")&&(e.hideFooter=!0),i.contains(t,"noscrollbar")&&(e.hideScrollBar=!0),e}var i=n(14);t.exports=r},function(t,e,n){function r(t){var e=u(t),n={momentId:s.momentId(t.href),chrome:t.getAttribute("data-chrome"),limit:t.getAttribute("data-limit")};return a.forIn(n,function(t,n){var r=e[t];e[t]=o.hasValue(r)?r:n}),e}function i(t){var e=c(t,l);return e.map(function(t){return f(r(t),t.parentNode,t)})}var o=n(15),a=n(14),s=n(27),u=n(70),c=n(72)(),f=n(143),l="a.twitter-moment";t.exports=i},function(t,e,n){function r(t,e,n){return new i(o,a,"twitter-moment",t,e,n)}var i=n(76),o=n(144),a=n(53);t.exports=r},function(t,e,n){function r(t,e){var r=new i;return n.e(3,function(i,o){var a;return i?r.reject(i):(a=n(145),void r.resolve(new a(t,e)))}),r.promise}var i=n(1);t.exports=r},,,,function(t,e,n){function r(t){var e=a(t),n=t.getAttribute("href"),r=t.getAttribute("data-size"),i=f.exec(n)[1];return o.aug(e,{username:i,size:r})}function i(t){var e=s(t,c);return e.map(function(t){return u(r(t),t.parentNode,t)})}var o=n(14),a=n(70),s=n(72)(),u=n(149),c="a.periscope-on-air",f=/^https?:\/\/(?:www\.)?periscope\.tv\/@?([a-zA-Z0-9_]+)\/?$/i;t.exports=i},function(t,e,n){function r(t,e,n){return new i(o,a,"periscope-on-air",t,e,n)}var i=n(76),o=n(150),a=n(53);t.exports=r},function(t,e,n){function r(t,e){var r=new i;return n.e(4,function(i,o){var a;return i?r.reject(i):(a=n(151),void r.resolve(new a(t,e)))}),r.promise}var i=n(1);t.exports=r},,,,function(t,e,n){function r(t){var e=s(t),n=t.getAttribute("data-show-replies"),r={widgetId:t.getAttribute("data-widget-id"),chrome:t.getAttribute("data-chrome"),tweetLimit:t.getAttribute("data-tweet-limit"),ariaLive:t.getAttribute("data-aria-polite"),theme:t.getAttribute("data-theme"),linkColor:t.getAttribute("data-link-color"),borderColor:t.getAttribute("data-border-color"),profileShowReplies:n?o.asBoolean(n):null,profileScreenName:t.getAttribute("data-screen-name"),profileUserId:t.getAttribute("data-user-id"),favoritesScreenName:t.getAttribute("data-favorites-screen-name"),favoritesUserId:t.getAttribute("data-favorites-user-id"),listOwnerScreenName:t.getAttribute("data-list-owner-screen-name"),listOwnerUserId:t.getAttribute("data-list-owner-id"),listId:t.getAttribute("data-list-id"),listSlug:t.getAttribute("data-list-slug"),customTimelineId:t.getAttribute("data-custom-timeline-id")};return a.forIn(r,function(t,n){var r=e[t];e[t]=o.hasValue(r)?r:n}),e}function i(t){var e=u(t,f);return e.map(function(t){return c(r(t),t.parentNode,t)})}var o=n(15),a=n(14),s=n(70),u=n(72)(),c=n(155),f="a.twitter-timeline,div.twitter-timeline";t.exports=i},function(t,e,n){function r(t,e,n){return new i(o,a,"twitter-timeline",t,e,n)}var i=n(76),o=n(156),a=n(53);t.exports=r},function(t,e,n){function r(t,e){var r=new i;return n.e(5,function(i,o){var a;return i?r.reject(i):(a=n(157),void r.resolve(new a(t,e)))}),r.promise}var i=n(1);t.exports=r},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){function r(t){var e=u(t),n=t.getElementsByTagName("A"),r=n&&n[n.length-1],i=r&&a.status(r.href),c=t.getAttribute("data-conversation"),f="none"==c||"hidden"==c||o.present(t,"tw-hide-thread"),l=t.getAttribute("data-cards"),h="none"==l||"hidden"==l||o.present(t,"tw-hide-media"),p=t.getAttribute("data-align")||t.getAttribute("align"),m=t.getAttribute("data-link-color"),v=t.getAttribute("data-theme");return!p&&d.test(t.className)&&(p=RegExp.$1),s.aug(e,{tweetId:i,hideThread:f,hideCard:h,align:p,linkColor:m,theme:v})}function i(t){var e=c(t,l);return e.map(function(t){return f(r(t),t.parentNode,t)})}var o=n(24),a=n(27),s=n(14),u=n(70),c=n(72)(),f=n(181),l="blockquote.twitter-tweet",d=/\btw-align-(left|right|center)\b/;t.exports=i},function(t,e,n){function r(t,e,n){return new i(o,a,"twitter-tweet",t,e,n)}var i=n(76),o=n(182),a=n(53);t.exports=r},function(t,e,n){function r(t,e){var r=new i;return n.e(6,function(i,o){var a;return i?r.reject(i):(a=n(183),void r.resolve(new a(t,e)))}),r.promise}var i=n(1);t.exports=r},,,,,,,,,,,,,,,function(t,e,n){function r(t){var e=s(t),n={screenName:t.getAttribute("data-button-screen-name"),text:t.getAttribute("data-text"),type:t.getAttribute("data-type"),size:t.getAttribute("data-size"),url:t.getAttribute("data-url"),hashtags:t.getAttribute("data-hashtags"),via:t.getAttribute("data-via"),buttonHashtag:t.getAttribute("data-button-hashtag")};return a.forIn(n,function(t,n){var r=e[t];e[t]=f.hasValue(r)?r:n}),e.screenName=e.screenName||e.screen_name,e.buttonHashtag=e.buttonHashtag||e.button_hashtag||e.hashtag,o.present(t,d)&&(e.type="hashtag"),o.present(t,h)&&(e.type="mention"),e}function i(t){var e=u(t,l);return e.map(function(t){return c(r(t),t.parentNode,t)})}var o=n(24),a=n(14),s=n(70),u=n(72)(),c=n(198),f=n(15),l="a.twitter-share-button, a.twitter-mention-button, a.twitter-hashtag-button",d="twitter-hashtag-button",h="twitter-mention-button";t.exports=i},function(t,e,n){function r(t,e,n){var r=t&&t.type||"share",s="hashtag"==r?"twitter-hashtag-button":"mention"==r?"twitter-mention-button":"twitter-share-button";return new i(o,a,s,t,e,n)}var i=n(76),o=n(199),a=n(92);t.exports=r},function(t,e,n){function r(t,e){var r=new i;return n.e(1,function(i,o){var a;return i?r.reject(i):(a=n(200),void r.resolve(new a(t,e)))}),r.promise}var i=n(1);t.exports=r},,,function(t,e,n){function r(t){var e=s(t),n=t.getElementsByTagName("A"),r=n&&n[n.length-1],i=r&&o.status(r.href),u="hidden"==t.getAttribute("data-status");return a.aug(e,{tweetId:i,hideStatus:u})}function i(t){var e=u(t,f);return e.map(function(t){return c(r(t),t.parentNode,t)})}var o=n(27),a=n(14),s=n(70),u=n(72)(),c=n(203),f="blockquote.twitter-video";t.exports=i},function(t,e,n){function r(t,e,n){return new i(o,a,"twitter-video",t,e,n)}var i=n(76),o=n(204),a=n(208);t.exports=r},function(t,e,n){function r(t,e){var r=new i;return n.e(6,function(i,o){var a;return i?r.reject(i):(a=n(205),void r.resolve(new a(t,e)))}),r.promise}var i=n(1);t.exports=r},,,,function(t,e,n){function r(t){t.overrideProperty("sandboxEl",{get:function(){return this._constrainingWrapper}}),t.override("makeVisible",function(){var t=this.iframeEl;return i.write(function(){t.style.visibility="visible"})}),t.define("setWrapperSize",function(t,e){var n=this,r=t/e,o=100/r+"%",a=c*r+"px";return i.write(function(){n._constrainingWrapper.style.maxWidth=a,n._iframeWrapper.style.paddingBottom=o})}),t.after("initialize",function(){this._constrainingWrapper=this._iframeWrapper=null}),t.around("insert",function(t,e,n,r,i){var a=this._constrainingWrapper=o.createElement("div"),s=this._iframeWrapper=o.createElement("div");return a.id=e,a.className=(n||{})["class"],a.style.minWidth=u+"px",a.style.position="relative",a.style.margin=f,s.style.position="relative",s.style.height="0px",a.appendChild(s),t(void 0,null,null,function(t){t.style.position="absolute",t.style.top="0px",t.style.bottom="0px",t.style.width="100%",t.style.height="100%",s.appendChild(t),i(a)})})}var i=n(46),o=n(9),a=n(54),s=n(63),u=320,c=500,f="10px 0px";t.exports=a.build([s,r])},function(t,e,n){var r=n(14);t.exports=r.aug({},n(210),n(212),n(213),n(214),n(215),n(216),n(217),n(218))},function(t,e,n){var r=n(75),i=n(211),o=i(["screenName"],{},r);t.exports={createFollowButton:o}},function(t,e,n){function r(t,e,n){t=t||[],e=e||{};var r="Æ’("+t.join(", ")+", target, [options]);";return function(){var c,f,l,d,h=Array.prototype.slice.apply(arguments,[0,t.length]),p=Array.prototype.slice.apply(arguments,[t.length]);return p.forEach(function(t){return t?t.nodeType===Node.ELEMENT_NODE?void(l=t):u.isType("function",t)?void(c=t):void(u.isType("object",t)&&(f=t)):void 0}),h.length!==t.length||0===p.length?(c&&u.async(function(){c(!1)}),i.reject(new Error("Not enough parameters. Expected: "+r))):l?(f=u.aug(f||{},e),t.forEach(function(t){f[t]=h.shift()}),s.asBoolean(f.dnt)&&a.setOn(),d=o.addWidget(n(f,l)),c&&d.then(c,function(){c(!1)}),d):(c&&u.async(function(){c(!1)}),i.reject(new Error("No target element specified. Expected: "+r)))}}var i=n(2),o=n(45),a=n(36),s=n(15),u=n(14);t.exports=r},function(t,e,n){var r=n(101),i=n(211),o=i(["collectionId"],{},r);t.exports={createGridFromCollection:o}},function(t,e,n){var r=n(143),i=n(211),o=i(["momentId"],{},r);t.exports={createMoment:o}},function(t,e,n){var r=n(149),i=n(211),o=i(["username"],{},r);t.exports={createPeriscopeOnAirButton:o}},function(t,e,n){function r(t){return function(){return a.toRealArray(arguments).slice(1).forEach(function(t){a.isType("object",t)&&(t.profileScreenName=t.screenName,t.profileUserId=t.userId,t.profileShowReplies=t.showReplies,t.listOwnerUserId=t.listOwnerId,t.ariaLive=t.ariaPolite)}),t.apply(this,arguments)}}var i=n(13),o=n(27),a=n(14),s=n(155),u=n(211),c=u(["widgetId"],{},s),f={createTimeline:r(c)};o.isTwitterURL(i.href)&&(f.createTimelinePreview=function(t,e,n){return f.createTimeline("preview",e,{previewParams:t||{}},n)}),t.exports=f},function(t,e,n){function r(t){return function(){return i.toRealArray(arguments).slice(1).forEach(function(t){i.isType("object",t)&&(t.hideCard="none"==t.cards||"hidden"==t.cards,t.hideThread="none"==t.conversation||"hidden"==t.conversation)}),t.apply(this,arguments)}}var i=n(14),o=n(181),a=n(211),s=r(a(["tweetId"],{},o));t.exports={createTweet:s,createTweetEmbed:s}},function(t,e,n){function r(t){return function(){return i.toRealArray(arguments).slice(1).forEach(function(t){i.isType("object",t)&&(t.screenName=t.screenName||t.screen_name,t.buttonHashtag=t.buttonHashtag||t.button_hashtag||t.hashtag)}),t.apply(this,arguments)}}var i=n(14),o=n(198),a=n(211),s=a(["url"],{type:"share"},o),u=a(["buttonHashtag"],{type:"hashtag"},o),c=a(["screenName"],{type:"mention"},o);t.exports={createShareButton:r(s),createHashtagButton:r(u),createMentionButton:r(c)}},function(t,e,n){var r=n(203),i=n(211),o=i(["tweetId"],{},r);t.exports={createVideo:o}}])))}();Ô
"6789_application/javascript_Dhttps://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-2.4.1-min.gz.jsOobplist00Ôz{X$versionX$objectsY$archiverT$top † ¯(#)*0123UVWXYZ[\]^_`abcdefghijklmnopqtuU$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €'€€&€Ó$%'(WNS.base[NS.relative€ €€_Dhttps://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-2.4.1-min.gz.jsÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùpgj× ÈÓ456ETWNS.keysZNS.objects®789:;<=>?@ABCD€	€
€€€€€€€€€€€€®FGHIJKLMNOPQRS€€€€€€€€€€ €!€"€#€$€%\Content-Type]Last-Modified[X-Amz-Cf-IdSAge_Content-EncodingVServerSVia]Cache-ControlTDate^Content-LengthZConnectionTEtag]Accept-RangesWX-Cache_application/javascript_Tue, 22 Sep 2015 00:17:45 GMT_86d2vdVr79rs0wkjSNpfJ8VXDSx2xyiZ_BrXfXW4ZbxNEOgFBqyxplw==V391766TgzipXAmazonS3_@1.1 b8fe62a212152d60be14458f7e35e87c.cloudfront.net (CloudFront)^max-age=604800_Tue, 09 Feb 2016 10:55:46 GMTU14354Zkeep-alive_""28650c24e35624c91625bf835f5014ac"Ubytes_Hit from cloudfrontÒ+,rs\NSDictionary¢r/_application/javascriptÒ+,vw_NSHTTPURLResponse£xy/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑ|}_WebResourceResponse€    # - 2 7 b h ƒ † Š   “ — š ¡ ¤ § ª ­ ° ² ´ ¶ ¸ º » ½ ¿ Á Ã Å Ç É Ð Ø ä æ è ê16AJPS\egipxƒ’”–˜šœž ¢¤¦¨ª¬®½¿ÁÃÅÇÉËÍÏÑÓÕ×ÙÛèö $27FQVdl…¥àçìõ8Ggmx£¹¾ËÎçì &8;Q             ~              SO¯Q(function umd(require){if("object"==typeof exports){module.exports=require("1")}else if("function"==typeof define&&define.amd){define(function(){return require("1")})}else{this["amplitude"]=require("1")}})(function outer(modules,cache,entries){var global=function(){return this}();function require(name,jumped){if(cache[name])return cache[name].exports;if(modules[name])return call(name,require);throw new Error('cannot find module "'+name+'"')}function call(id,require){var m=cache[id]={exports:{}};var mod=modules[id];var name=mod[2];var fn=mod[0];fn.call(m.exports,function(req){var dep=modules[id][1][req];return require(dep?dep:req)},m,m.exports,outer,modules,cache,entries);if(name)cache[name]=cache[id];return cache[id].exports}for(var id in entries){if(entries[id]){global[entries[id]]=require(id)}else{require(id)}}require.duo=true;require.cache=cache;require.modules=modules;return require}({1:[function(require,module,exports){var Amplitude=require("./amplitude");var old=window.amplitude||{};var q=old._q||[];var instance=new Amplitude;for(var i=0;i<q.length;i++){var fn=instance[q[i][0]];fn&&fn.apply(instance,q[i].slice(1))}module.exports=instance},{"./amplitude":2}],2:[function(require,module,exports){var Cookie=require("./cookie");var JSON=require("json");var language=require("./language");var localStorage=require("./localstorage");var md5=require("JavaScript-MD5");var object=require("object");var Request=require("./xhr");var UAParser=require("ua-parser-js");var UUID=require("./uuid");var version=require("./version");var log=function(s){console.log("[Amplitude] "+s)};var API_VERSION=2;var DEFAULT_OPTIONS={apiEndpoint:"api.amplitude.com",cookieExpiration:365*10,cookieName:"amplitude_id",domain:undefined,includeUtm:false,language:language.language,optOut:false,platform:"Web",savedMaxCount:1e3,saveEvents:true,sessionTimeout:30*60*1e3,unsentKey:"amplitude_unsent",uploadBatchSize:100,batchEvents:false,eventUploadThreshold:30,eventUploadPeriodMillis:30*1e3};var LocalStorageKeys={LAST_EVENT_ID:"amplitude_lastEventId",LAST_EVENT_TIME:"amplitude_lastEventTime",SESSION_ID:"amplitude_sessionId"};var Amplitude=function(){this._unsentEvents=[];this._ua=new UAParser(navigator.userAgent).getResult();this.options=object.merge({},DEFAULT_OPTIONS)};Amplitude.prototype._eventId=0;Amplitude.prototype._sending=false;Amplitude.prototype._lastEventTime=null;Amplitude.prototype._sessionId=null;Amplitude.prototype._newSession=false;Amplitude.prototype._updateScheduled=false;Amplitude.prototype.init=function(apiKey,opt_userId,opt_config,callback){try{this.options.apiKey=apiKey;if(opt_config){if(opt_config.saveEvents!==undefined){this.options.saveEvents=!!opt_config.saveEvents}if(opt_config.domain!==undefined){this.options.domain=opt_config.domain}if(opt_config.includeUtm!==undefined){this.options.includeUtm=!!opt_config.includeUtm}if(opt_config.includeReferrer!==undefined){this.options.includeReferrer=!!opt_config.includeReferrer}if(opt_config.batchEvents!==undefined){this.options.batchEvents=!!opt_config.batchEvents}this.options.platform=opt_config.platform||this.options.platform;this.options.language=opt_config.language||this.options.language;this.options.sessionTimeout=opt_config.sessionTimeout||this.options.sessionTimeout;this.options.uploadBatchSize=opt_config.uploadBatchSize||this.options.uploadBatchSize;this.options.eventUploadThreshold=opt_config.eventUploadThreshold||this.options.eventUploadThreshold;this.options.savedMaxCount=opt_config.savedMaxCount||this.options.savedMaxCount;this.options.eventUploadPeriodMillis=opt_config.eventUploadPeriodMillis||this.options.eventUploadPeriodMillis}Cookie.options({expirationDays:this.options.cookieExpiration,domain:this.options.domain});this.options.domain=Cookie.options().domain;_loadCookieData(this);this.options.deviceId=opt_config&&opt_config.deviceId!==undefined&&opt_config.deviceId!==null&&opt_config.deviceId||this.options.deviceId||UUID();this.options.userId=opt_userId!==undefined&&opt_userId!==null&&opt_userId||this.options.userId||null;_saveCookieData(this);if(this.options.saveEvents){var savedUnsentEventsString=localStorage.getItem(this.options.unsentKey);if(savedUnsentEventsString){try{this._unsentEvents=JSON.parse(savedUnsentEventsString)}catch(e){}}}this._sendEventsIfReady();if(this.options.includeUtm){this._initUtmData()}this._lastEventTime=parseInt(localStorage.getItem(LocalStorageKeys.LAST_EVENT_TIME))||null;this._sessionId=parseInt(localStorage.getItem(LocalStorageKeys.SESSION_ID))||null;this._eventId=localStorage.getItem(LocalStorageKeys.LAST_EVENT_ID)||0;var now=(new Date).getTime();if(!this._sessionId||!this._lastEventTime||now-this._lastEventTime>this.options.sessionTimeout){this._newSession=true;this._sessionId=now;localStorage.setItem(LocalStorageKeys.SESSION_ID,this._sessionId)}this._lastEventTime=now;localStorage.setItem(LocalStorageKeys.LAST_EVENT_TIME,this._lastEventTime)}catch(e){log(e)}if(callback&&typeof callback==="function"){callback()}};Amplitude.prototype.isNewSession=function(){return this._newSession};Amplitude.prototype.nextEventId=function(){this._eventId++;return this._eventId};Amplitude.prototype._sendEventsIfReady=function(callback){if(this._unsentEvents.length===0){return false}if(!this.options.batchEvents){this.sendEvents(callback);return true}if(this._unsentEvents.length>=this.options.eventUploadThreshold){this.sendEvents(callback);return true}if(!this._updateScheduled){this._updateScheduled=true;setTimeout(function(){this._updateScheduled=false;this.sendEvents()}.bind(this),this.options.eventUploadPeriodMillis)}return false};var _loadCookieData=function(scope){var cookieData=Cookie.get(scope.options.cookieName);if(cookieData){if(cookieData.deviceId){scope.options.deviceId=cookieData.deviceId}if(cookieData.userId){scope.options.userId=cookieData.userId}if(cookieData.globalUserProperties){scope.options.userProperties=cookieData.globalUserProperties}if(cookieData.optOut!==undefined){scope.options.optOut=cookieData.optOut}}};var _saveCookieData=function(scope){Cookie.set(scope.options.cookieName,{deviceId:scope.options.deviceId,userId:scope.options.userId,globalUserProperties:scope.options.userProperties,optOut:scope.options.optOut})};Amplitude._getUtmParam=function(name,query){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)");var results=regex.exec(query);return results===null?undefined:decodeURIComponent(results[1].replace(/\+/g," "))};Amplitude._getUtmData=function(rawCookie,query){var cookie=rawCookie?"?"+rawCookie.split(".").slice(-1)[0].replace(/\|/g,"&"):"";var fetchParam=function(queryName,query,cookieName,cookie){return Amplitude._getUtmParam(queryName,query)||Amplitude._getUtmParam(cookieName,cookie)};return{utm_source:fetchParam("utm_source",query,"utmcsr",cookie),utm_medium:fetchParam("utm_medium",query,"utmcmd",cookie),utm_campaign:fetchParam("utm_campaign",query,"utmccn",cookie),utm_term:fetchParam("utm_term",query,"utmctr",cookie),utm_content:fetchParam("utm_content",query,"utmcct",cookie)}};Amplitude.prototype._initUtmData=function(queryParams,cookieParams){queryParams=queryParams||location.search;cookieParams=cookieParams||Cookie.get("__utmz");this._utmProperties=Amplitude._getUtmData(cookieParams,queryParams)};Amplitude.prototype._getReferrer=function(){return document.referrer};Amplitude.prototype._getReferringDomain=function(){var parts=this._getReferrer().split("/");if(parts.length>=3){return parts[2]}return""};Amplitude.prototype.saveEvents=function(){try{localStorage.setItem(this.options.unsentKey,JSON.stringify(this._unsentEvents))}catch(e){}};Amplitude.prototype.setDomain=function(domain){try{Cookie.options({domain:domain});this.options.domain=Cookie.options().domain;_loadCookieData(this);_saveCookieData(this)}catch(e){log(e)}};Amplitude.prototype.setUserId=function(userId){try{this.options.userId=userId!==undefined&&userId!==null&&""+userId||null;_saveCookieData(this)}catch(e){log(e)}};Amplitude.prototype.setOptOut=function(enable){try{this.options.optOut=enable;_saveCookieData(this)}catch(e){log(e)}};Amplitude.prototype.setDeviceId=function(deviceId){try{if(deviceId){this.options.deviceId=""+deviceId;_saveCookieData(this)}}catch(e){log(e)}};Amplitude.prototype.setUserProperties=function(userProperties,opt_replace){try{if(opt_replace){this.options.userProperties=userProperties}else{this.options.userProperties=object.merge(this.options.userProperties||{},userProperties)}_saveCookieData(this)}catch(e){log(e)}};Amplitude.prototype.setVersionName=function(versionName){try{this.options.versionName=versionName}catch(e){log(e)}};Amplitude.prototype._logEvent=function(eventType,eventProperties,apiProperties,callback){if(typeof callback!=="function"){callback=null}if(!eventType||this.options.optOut){if(callback){callback(0,"No request sent")}return}try{var eventTime=(new Date).getTime();var eventId=this.nextEventId();var ua=this._ua;if(!this._sessionId||!this._lastEventTime||eventTime-this._lastEventTime>this.options.sessionTimeout){this._sessionId=eventTime;localStorage.setItem(LocalStorageKeys.SESSION_ID,this._sessionId)}this._lastEventTime=eventTime;localStorage.setItem(LocalStorageKeys.LAST_EVENT_TIME,this._lastEventTime);localStorage.setItem(LocalStorageKeys.LAST_EVENT_ID,eventId);var userProperties={};object.merge(userProperties,this.options.userProperties||{});object.merge(userProperties,this._utmProperties);if(this.options.includeReferrer){object.merge(userProperties,{referrer:this._getReferrer(),referring_domain:this._getReferringDomain()})}apiProperties=apiProperties||{};eventProperties=eventProperties||{};var event={device_id:this.options.deviceId,user_id:this.options.userId||this.options.deviceId,timestamp:eventTime,event_id:eventId,session_id:this._sessionId||-1,event_type:eventType,version_name:this.options.versionName||null,platform:this.options.platform,os_name:ua.browser.name||null,os_version:ua.browser.major||null,device_model:ua.os.name||null,language:this.options.language,api_properties:apiProperties,event_properties:eventProperties,user_properties:userProperties,uuid:UUID(),library:{name:"amplitude-js",version:this.__VERSION__}};this._unsentEvents.push(event);if(this._unsentEvents.length>this.options.savedMaxCount){this._unsentEvents.splice(0,this._unsentEvents.length-this.options.savedMaxCount)}if(this.options.saveEvents){this.saveEvents()}if(!this._sendEventsIfReady(callback)&&callback){callback(0,"No request sent")}return eventId}catch(e){log(e)}};Amplitude.prototype.logEvent=function(eventType,eventProperties,callback){return this._logEvent(eventType,eventProperties,null,callback)};var _isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};Amplitude.prototype.logRevenue=function(price,quantity,product){if(!_isNumber(price)||quantity!==undefined&&!_isNumber(quantity)){return}return this._logEvent("revenue_amount",{},{productId:product,special:"revenue_amount",quantity:quantity||1,price:price})};Amplitude.prototype.removeEvents=function(maxEventId){var filteredEvents=[];for(var i=0;i<this._unsentEvents.length;i++){if(this._unsentEvents[i].event_id>maxEventId){filteredEvents.push(this._unsentEvents[i])}}this._unsentEvents=filteredEvents};Amplitude.prototype.sendEvents=function(callback){if(!this._sending&&!this.options.optOut&&this._unsentEvents.length>0){this._sending=true;var url=("https:"===window.location.protocol?"https":"http")+"://"+this.options.apiEndpoint+"/";var numEvents=Math.min(this._unsentEvents.length,this.options.uploadBatchSize);var maxEventId=this._unsentEvents[numEvents-1].event_id;var events=JSON.stringify(this._unsentEvents.slice(0,numEvents));var uploadTime=(new Date).getTime();var data={client:this.options.apiKey,e:events,v:API_VERSION,upload_time:uploadTime,checksum:md5(API_VERSION+this.options.apiKey+events+uploadTime)};var scope=this;new Request(url,data).send(function(status,response){scope._sending=false;try{if(status===200&&response==="success"){scope.removeEvents(maxEventId);if(scope.options.saveEvents){scope.saveEvents()}if(!scope._sendEventsIfReady(callback)&&callback){callback(status,response)}}else if(status===413){if(scope.options.uploadBatchSize===1){scope.removeEvents(maxEventId)}scope.options.uploadBatchSize=Math.ceil(numEvents/2);scope.sendEvents(callback)}else if(callback){callback(status,response)}}catch(e){}})}else if(callback){callback(0,"No request sent")}};Amplitude.prototype.setGlobalUserProperties=Amplitude.prototype.setUserProperties;Amplitude.prototype.__VERSION__=version;module.exports=Amplitude},{"./cookie":3,json:4,"./language":5,"./localstorage":6,"JavaScript-MD5":7,object:8,"./xhr":9,"ua-parser-js":10,"./uuid":11,"./version":12}],3:[function(require,module,exports){var Base64=require("./base64");var JSON=require("json");var topDomain=require("top-domain");var _options={expirationDays:undefined,domain:undefined};var reset=function(){_options={}};var options=function(opts){if(arguments.length===0){return _options}opts=opts||{};_options.expirationDays=opts.expirationDays;var domain=opts.domain!==undefined?opts.domain:"."+topDomain(window.location.href);var token=Math.random();_options.domain=domain;set("amplitude_test",token);var stored=get("amplitude_test");if(!stored||stored!==token){domain=null}remove("amplitude_test");_options.domain=domain};var _domainSpecific=function(name){var suffix="";if(_options.domain){suffix=_options.domain.charAt(0)==="."?_options.domain.substring(1):_options.domain}return name+suffix};var get=function(name){try{var nameEq=_domainSpecific(name)+"=";var ca=document.cookie.split(";");var value=null;for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)===" "){c=c.substring(1,c.length)}if(c.indexOf(nameEq)===0){value=c.substring(nameEq.length,c.length);break}}if(value){return JSON.parse(Base64.decode(value))}return null}catch(e){return null}};var set=function(name,value){try{_set(_domainSpecific(name),Base64.encode(JSON.stringify(value)),_options);return true}catch(e){return false}};var _set=function(name,value,opts){var expires=value!==null?opts.expirationDays:-1;if(expires){var date=new Date;date.setTime(date.getTime()+expires*24*60*60*1e3);expires=date}var str=name+"="+value;if(expires){str+="; expires="+expires.toUTCString()}str+="; path=/";if(opts.domain){str+="; domain="+opts.domain}document.cookie=str};var remove=function(name){try{_set(_domainSpecific(name),null,_options);return true}catch(e){return false}};module.exports={reset:reset,options:options,get:get,set:set,remove:remove}},{"./base64":13,json:4,"top-domain":14}],13:[function(require,module,exports){var UTF8=require("./utf8");var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(input){try{if(window.btoa&&window.atob){return window.btoa(unescape(encodeURIComponent(input)))}}catch(e){}return Base64._encode(input)},_encode:function(input){var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;input=UTF8.encode(input);while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=(chr1&3)<<4|chr2>>4;enc3=(chr2&15)<<2|chr3>>6;enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else if(isNaN(chr3)){enc4=64}output=output+Base64._keyStr.charAt(enc1)+Base64._keyStr.charAt(enc2)+Base64._keyStr.charAt(enc3)+Base64._keyStr.charAt(enc4)}return output},decode:function(input){try{if(window.btoa&&window.atob){return decodeURIComponent(escape(window.atob(input)))}}catch(e){}return Base64._decode(input)},_decode:function(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<input.length){enc1=Base64._keyStr.indexOf(input.charAt(i++));enc2=Base64._keyStr.indexOf(input.charAt(i++));enc3=Base64._keyStr.indexOf(input.charAt(i++));enc4=Base64._keyStr.indexOf(input.charAt(i++));chr1=enc1<<2|enc2>>4;chr2=(enc2&15)<<4|enc3>>2;chr3=(enc3&3)<<6|enc4;output=output+String.fromCharCode(chr1);if(enc3!==64){output=output+String.fromCharCode(chr2)}if(enc4!==64){output=output+String.fromCharCode(chr3)}}output=UTF8.decode(output);return output}};module.exports=Base64},{"./utf8":15}],15:[function(require,module,exports){var UTF8={encode:function(s){var utftext="";for(var n=0;n<s.length;n++){var c=s.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c)}else if(c>127&&c<2048){utftext+=String.fromCharCode(c>>6|192);utftext+=String.fromCharCode(c&63|128)}else{utftext+=String.fromCharCode(c>>12|224);utftext+=String.fromCharCode(c>>6&63|128);utftext+=String.fromCharCode(c&63|128)}}return utftext},decode:function(utftext){var s="";var i=0;var c=0,c1=0,c2=0;while(i<utftext.length){c=utftext.charCodeAt(i);if(c<128){s+=String.fromCharCode(c);i++}else if(c>191&&c<224){c1=utftext.charCodeAt(i+1);s+=String.fromCharCode((c&31)<<6|c1&63);i+=2}else{c1=utftext.charCodeAt(i+1);c2=utftext.charCodeAt(i+2);s+=String.fromCharCode((c&15)<<12|(c1&63)<<6|c2&63);i+=3}}return s}};module.exports=UTF8},{}],4:[function(require,module,exports){var json=window.JSON||{};var stringify=json.stringify;var parse=json.parse;module.exports=parse&&stringify?JSON:require("json-fallback")},{"json-fallback":16}],16:[function(require,module,exports){(function(){"use strict";var JSON=module.exports={};function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var cx,escapable,gap,indent,meta,rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else if(typeof space==="string"){indent=space}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})()},{}],14:[function(require,module,exports){var parse=require("url").parse;module.exports=domain;var regexp=/[a-z0-9][a-z0-9\-]*[a-z0-9]\.[a-z\.]{2,6}$/i;function domain(url){var host=parse(url).hostname;var match=host.match(regexp);return match?match[0]:""}},{url:17}],17:[function(require,module,exports){exports.parse=function(url){var a=document.createElement("a");a.href=url;return{href:a.href,host:a.host||location.host,port:"0"===a.port||""===a.port?port(a.protocol):a.port,hash:a.hash,hostname:a.hostname||location.hostname,pathname:a.pathname.charAt(0)!="/"?"/"+a.pathname:a.pathname,protocol:!a.protocol||":"==a.protocol?location.protocol:a.protocol,search:a.search,query:a.search.slice(1)}};exports.isAbsolute=function(url){return 0==url.indexOf("//")||!!~url.indexOf("://")};exports.isRelative=function(url){return!exports.isAbsolute(url)};exports.isCrossDomain=function(url){url=exports.parse(url);var location=exports.parse(window.location.href);return url.hostname!==location.hostname||url.port!==location.port||url.protocol!==location.protocol};function port(protocol){switch(protocol){case"http:":return 80;case"https:":return 443;default:return location.port}}},{}],5:[function(require,module,exports){var getLanguage=function(){return navigator&&(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)||undefined};module.exports={language:getLanguage()}},{}],6:[function(require,module,exports){var localStorage;function windowLocalStorageAvailable(){var uid=new Date;var result;try{window.localStorage.setItem(uid,uid);result=window.localStorage.getItem(uid)===String(uid);window.localStorage.removeItem(uid);return result}catch(e){}return false}if(windowLocalStorageAvailable()){localStorage=window.localStorage}else if(window.globalStorage){try{localStorage=window.globalStorage[window.location.hostname]}catch(e){}}else{var div=document.createElement("div"),attrKey="localStorage";div.style.display="none";document.getElementsByTagName("head")[0].appendChild(div);if(div.addBehavior){div.addBehavior("#default#userdata");localStorage={length:0,setItem:function(k,v){div.load(attrKey);if(!div.getAttribute(k)){this.length++}div.setAttribute(k,v);div.save(attrKey)},getItem:function(k){div.load(attrKey);return div.getAttribute(k)},removeItem:function(k){div.load(attrKey);if(div.getAttribute(k)){this.length--}div.removeAttribute(k);div.save(attrKey)},clear:function(){div.load(attrKey);var i=0;var attr;while(attr=div.XMLDocument.documentElement.attributes[i++]){div.removeAttribute(attr.name)}div.save(attrKey);this.length=0},key:function(k){div.load(attrKey);return div.XMLDocument.documentElement.attributes[k]}};div.load(attrKey);localStorage.length=div.XMLDocument.documentElement.attributes.length}else{}}if(!localStorage){localStorage={length:0,setItem:function(k,v){},getItem:function(k){},removeItem:function(k){},clear:function(){},key:function(k){}}}module.exports=localStorage},{}],7:[function(require,module,exports){(function($){"use strict";function safe_add(x,y){var lsw=(x&65535)+(y&65535),msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&65535}function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function binl_md5(x,len){x[len>>5]|=128<<len%32;x[(len+64>>>9<<4)+14]=len;var i,olda,oldb,oldc,oldd,a=1732584193,b=-271733879,c=-1732584194,d=271733878;for(i=0;i<x.length;i+=16){olda=a;oldb=b;oldc=c;oldd=d;a=md5_ff(a,b,c,d,x[i],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=md5_ff(b,c,d,a,x[i+15],22,1236535329);a=md5_gg(a,b,c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);b=md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=md5_hh(a,b,c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);b=md5_hh(b,c,d,a,x[i+2],23,-995338651);a=md5_ii(a,b,c,d,x[i],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=safe_add(a,olda);b=safe_add(b,oldb);c=safe_add(c,oldc);d=safe_add(d,oldd)}return[a,b,c,d]}function binl2rstr(input){var i,output="";for(i=0;i<input.length*32;i+=8){output+=String.fromCharCode(input[i>>5]>>>i%32&255)}return output}function rstr2binl(input){var i,output=[];output[(input.length>>2)-1]=undefined;for(i=0;i<output.length;i+=1){output[i]=0}for(i=0;i<input.length*8;i+=8){output[i>>5]|=(input.charCodeAt(i/8)&255)<<i%32}return output}function rstr_md5(s){return binl2rstr(binl_md5(rstr2binl(s),s.length*8))}function rstr_hmac_md5(key,data){var i,bkey=rstr2binl(key),ipad=[],opad=[],hash;ipad[15]=opad[15]=undefined;if(bkey.length>16){bkey=binl_md5(bkey,key.length*8)}for(i=0;i<16;i+=1){ipad[i]=bkey[i]^909522486;opad[i]=bkey[i]^1549556828}hash=binl_md5(ipad.concat(rstr2binl(data)),512+data.length*8);return binl2rstr(binl_md5(opad.concat(hash),512+128))}function rstr2hex(input){var hex_tab="0123456789abcdef",output="",x,i;for(i=0;i<input.length;i+=1){x=input.charCodeAt(i);output+=hex_tab.charAt(x>>>4&15)+hex_tab.charAt(x&15)}return output}function str2rstr_utf8(input){return unescape(encodeURIComponent(input))}function raw_md5(s){return rstr_md5(str2rstr_utf8(s))}function hex_md5(s){return rstr2hex(raw_md5(s))}function raw_hmac_md5(k,d){return rstr_hmac_md5(str2rstr_utf8(k),str2rstr_utf8(d))}function hex_hmac_md5(k,d){return rstr2hex(raw_hmac_md5(k,d))}function md5(string,key,raw){if(!key){if(!raw){return hex_md5(string)}return raw_md5(string)}if(!raw){return hex_hmac_md5(key,string)}return raw_hmac_md5(key,string)}if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=md5}exports.md5=md5}else{if(typeof define==="function"&&define.amd){define(function(){return md5})}else{$.md5=md5}}})(this)},{}],8:[function(require,module,exports){var has=Object.prototype.hasOwnProperty;exports.keys=Object.keys||function(obj){var keys=[];for(var key in obj){if(has.call(obj,key)){keys.push(key)}}return keys};exports.values=function(obj){var vals=[];for(var key in obj){if(has.call(obj,key)){vals.push(obj[key])}}return vals};exports.merge=function(a,b){for(var key in b){if(has.call(b,key)){a[key]=b[key]}}return a};exports.length=function(obj){return exports.keys(obj).length};exports.isEmpty=function(obj){return 0==exports.length(obj)}},{}],9:[function(require,module,exports){var querystring=require("querystring");var Request=function(url,data){this.url=url;this.data=data||{}};Request.prototype.send=function(callback){var isIE=window.XDomainRequest?true:false;if(isIE){var xdr=new window.XDomainRequest;xdr.open("POST",this.url,true);xdr.onload=function(){callback(xdr.responseText)};xdr.send(querystring.stringify(this.data))}else{var xhr=new XMLHttpRequest;xhr.open("POST",this.url,true);xhr.onreadystatechange=function(){if(xhr.readyState===4){callback(xhr.status,xhr.responseText)}};xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");xhr.send(querystring.stringify(this.data))}};module.exports=Request},{querystring:18}],18:[function(require,module,exports){var encode=encodeURIComponent;var decode=decodeURIComponent;var trim=require("trim");var type=require("type");exports.parse=function(str){if("string"!=typeof str)return{};str=trim(str);if(""==str)return{};if("?"==str.charAt(0))str=str.slice(1);var obj={};var pairs=str.split("&");for(var i=0;i<pairs.length;i++){var parts=pairs[i].split("=");var key=decode(parts[0]);var m;if(m=/(\w+)\[(\d+)\]/.exec(key)){obj[m[1]]=obj[m[1]]||[];obj[m[1]][m[2]]=decode(parts[1]);continue}obj[parts[0]]=null==parts[1]?"":decode(parts[1])}return obj};exports.stringify=function(obj){if(!obj)return"";var pairs=[];for(var key in obj){var value=obj[key];if("array"==type(value)){for(var i=0;i<value.length;++i){pairs.push(encode(key+"["+i+"]")+"="+encode(value[i]))}continue}pairs.push(encode(key)+"="+encode(obj[key]))}return pairs.join("&")}},{trim:19,type:20}],19:[function(require,module,exports){exports=module.exports=trim;function trim(str){if(str.trim)return str.trim();return str.replace(/^\s*|\s*$/g,"")}exports.left=function(str){if(str.trimLeft)return str.trimLeft();return str.replace(/^\s*/,"")};exports.right=function(str){if(str.trimRight)return str.trimRight();return str.replace(/\s*$/,"")}},{}],20:[function(require,module,exports){var toString=Object.prototype.toString;module.exports=function(val){switch(toString.call(val)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}if(val===null)return"null";if(val===undefined)return"undefined";if(val!==val)return"nan";if(val&&val.nodeType===1)return"element";val=val.valueOf?val.valueOf():Object.prototype.valueOf.apply(val);return typeof val}},{}],10:[function(require,module,exports){(function(window,undefined){"use strict";var LIBVERSION="0.7.7",EMPTY="",UNKNOWN="?",FUNC_TYPE="function",UNDEF_TYPE="undefined",OBJ_TYPE="object",STR_TYPE="string",MAJOR="major",MODEL="model",NAME="name",TYPE="type",VENDOR="vendor",VERSION="version",ARCHITECTURE="architecture",CONSOLE="console",MOBILE="mobile",TABLET="tablet",SMARTTV="smarttv",WEARABLE="wearable",EMBEDDED="embedded";
var util={extend:function(regexes,extensions){for(var i in extensions){if("browser cpu device engine os".indexOf(i)!==-1&&extensions[i].length%2===0){regexes[i]=extensions[i].concat(regexes[i])}}return regexes},has:function(str1,str2){if(typeof str1==="string"){return str2.toLowerCase().indexOf(str1.toLowerCase())!==-1}else{return false}},lowerize:function(str){return str.toLowerCase()},major:function(version){return typeof version===STR_TYPE?version.split(".")[0]:undefined}};var mapper={rgx:function(){var result,i=0,j,k,p,q,matches,match,args=arguments;while(i<args.length&&!matches){var regex=args[i],props=args[i+1];if(typeof result===UNDEF_TYPE){result={};for(p in props){q=props[p];if(typeof q===OBJ_TYPE){result[q[0]]=undefined}else{result[q]=undefined}}}j=k=0;while(j<regex.length&&!matches){matches=regex[j++].exec(this.getUA());if(!!matches){for(p=0;p<props.length;p++){match=matches[++k];q=props[p];if(typeof q===OBJ_TYPE&&q.length>0){if(q.length==2){if(typeof q[1]==FUNC_TYPE){result[q[0]]=q[1].call(this,match)}else{result[q[0]]=q[1]}}else if(q.length==3){if(typeof q[1]===FUNC_TYPE&&!(q[1].exec&&q[1].test)){result[q[0]]=match?q[1].call(this,match,q[2]):undefined}else{result[q[0]]=match?match.replace(q[1],q[2]):undefined}}else if(q.length==4){result[q[0]]=match?q[3].call(this,match.replace(q[1],q[2])):undefined}}else{result[q]=match?match:undefined}}}}i+=2}return result},str:function(str,map){for(var i in map){if(typeof map[i]===OBJ_TYPE&&map[i].length>0){for(var j=0;j<map[i].length;j++){if(util.has(map[i][j],str)){return i===UNKNOWN?undefined:i}}}else if(util.has(map[i],str)){return i===UNKNOWN?undefined:i}}return str}};var maps={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},name:{"Opera Mobile":"Opera Mobi","IE Mobile":"IEMobile"}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},name:{"Windows Phone":"Windows Phone OS"}}}};var regexes={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[[NAME,mapper.str,maps.browser.name],VERSION],[/\s(opr)\/([\w\.]+)/i],[[NAME,"Opera"],VERSION],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi)\/([\w\.-]+)/i],[[NAME,mapper.str,maps.browser.name],VERSION],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i,/(Edge)\/((\d+)?[\w\.]+)/i],[[NAME,"IE"],VERSION],[/(yabrowser)\/([\w\.]+)/i],[[NAME,"Yandex"],VERSION],[/(comodo_dragon)\/([\w\.]+)/i],[[NAME,/_/g," "],VERSION],[/((?:android.+)crmo|crios)\/([\w\.]+)/i,/android.+chrome\/([\w\.]+)\s+(?:mobile\s?safari)/i],[[NAME,"Chrome Mobile"],VERSION],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[NAME,VERSION],[/(dolfin)\/([\w\.]+)/i],[[NAME,"Dolphin"],VERSION],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[VERSION,[NAME,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[VERSION,[NAME,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[VERSION,[NAME,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[VERSION,[NAME,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[VERSION,NAME],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[NAME,[VERSION,mapper.str,maps.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[NAME,VERSION],[/(blackberry)\\s?\/([\w\.]+)/i],[[NAME,"BlackBerry"],VERSION],[/(navigator|netscape)\/([\w\.-]+)/i],[[NAME,"Netscape"],VERSION],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[NAME,VERSION]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[ARCHITECTURE,"amd64"]],[/(ia32(?=;))/i],[[ARCHITECTURE,util.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[ARCHITECTURE,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[ARCHITECTURE,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[ARCHITECTURE,/ower/,"",util.lowerize]],[/(sun4\w)[;\)]/i],[[ARCHITECTURE,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[ARCHITECTURE,util.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[MODEL,VENDOR,[TYPE,TABLET]],[/applecoremedia\/[\w\.]+ \((ipad)/],[MODEL,[VENDOR,"Apple"],[TYPE,TABLET]],[/(apple\s{0,1}tv)/i],[[MODEL,"Apple TV"],[VENDOR,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[VENDOR,MODEL,[TYPE,TABLET]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[MODEL,[VENDOR,"Amazon"],[TYPE,TABLET]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[MODEL,mapper.str,maps.device.amazon.model],[VENDOR,"Amazon"],[TYPE,MOBILE]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[MODEL,VENDOR,[TYPE,MOBILE]],[/\((ip[honed|\s\w*]+);/i],[MODEL,[VENDOR,"Apple"],[TYPE,MOBILE]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/\(bb10;\s(\w+)/i],[MODEL,[VENDOR,"BlackBerry"],[TYPE,MOBILE]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[MODEL,[VENDOR,"Asus"],[TYPE,TABLET]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[VENDOR,"Sony"],[MODEL,"Xperia Tablet"],[TYPE,TABLET]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[VENDOR,"Sony"],[MODEL,"Xperia Phone"],[TYPE,MOBILE]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[VENDOR,MODEL,[TYPE,CONSOLE]],[/android.+;\s(shield)\sbuild/i],[MODEL,[VENDOR,"Nvidia"],[TYPE,CONSOLE]],[/(playstation\s[3portablevi]+)/i],[MODEL,[VENDOR,"Sony"],[TYPE,CONSOLE]],[/(sprint\s(\w+))/i],[[VENDOR,mapper.str,maps.device.sprint.vendor],[MODEL,mapper.str,maps.device.sprint.model],[TYPE,MOBILE]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[VENDOR,MODEL,[TYPE,TABLET]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[VENDOR,[MODEL,/_/g," "],[TYPE,MOBILE]],[/(nexus\s9)/i],[MODEL,[VENDOR,"HTC"],[TYPE,TABLET]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[MODEL,[VENDOR,"Microsoft"],[TYPE,CONSOLE]],[/(kin\.[onetw]{3})/i],[[MODEL,/\./g," "],[VENDOR,"Microsoft"],[TYPE,MOBILE]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i],[MODEL,[VENDOR,"Motorola"],[TYPE,MOBILE]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[MODEL,[VENDOR,"Motorola"],[TYPE,TABLET]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[VENDOR,"Samsung"],MODEL,[TYPE,TABLET]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[VENDOR,"Samsung"],MODEL,[TYPE,MOBILE]],[/(samsung);smarttv/i],[VENDOR,MODEL,[TYPE,SMARTTV]],[/\(dtv[\);].+(aquos)/i],[MODEL,[VENDOR,"Sharp"],[TYPE,SMARTTV]],[/sie-(\w+)*/i],[MODEL,[VENDOR,"Siemens"],[TYPE,MOBILE]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[VENDOR,"Nokia"],MODEL,[TYPE,MOBILE]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[MODEL,[VENDOR,"Acer"],[TYPE,TABLET]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[VENDOR,"LG"],MODEL,[TYPE,TABLET]],[/(lg) netcast\.tv/i],[VENDOR,MODEL,[TYPE,SMARTTV]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[MODEL,[VENDOR,"LG"],[TYPE,MOBILE]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[MODEL,[VENDOR,"Lenovo"],[TYPE,TABLET]],[/linux;.+((jolla));/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/((pebble))app\/[\d\.]+\s/i],[VENDOR,MODEL,[TYPE,WEARABLE]],[/android.+;\s(glass)\s\d/i],[MODEL,[VENDOR,"Google"],[TYPE,WEARABLE]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[MODEL,/_/g," "],[VENDOR,"Xiaomi"],[TYPE,MOBILE]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[TYPE,util.lowerize],VENDOR,MODEL]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[NAME,VERSION],[/rv\:([\w\.]+).*(gecko)/i],[VERSION,NAME]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[NAME,VERSION],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[[NAME,mapper.str,maps.os.windows.name],[VERSION,mapper.str,maps.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[NAME,"Windows"],[VERSION,mapper.str,maps.os.windows.version]],[/\((bb)(10);/i],[[NAME,"BlackBerry"],VERSION],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[NAME,VERSION],[/(symbian\s?o?s?|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[NAME,"Symbian"],VERSION],[/\((series40);/i],[NAME],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[NAME,"Firefox OS"],VERSION],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[[NAME,"Linux"],VERSION],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[NAME,"Chromium OS"],VERSION],[/(sunos)\s?([\w\.]+\d)*/i],[[NAME,"Solaris"],VERSION],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[[NAME,"Linux"],VERSION],[/(iphone)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[NAME,"iPhone"],[VERSION,/_/g,"."]],[/(ipad)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[NAME,"iPad"],[VERSION,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[NAME,"Mac"],[VERSION,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[NAME,VERSION]]};var UAParser=function(uastring,extensions){if(!(this instanceof UAParser)){return new UAParser(uastring,extensions).getResult()}var ua=uastring||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:EMPTY);var rgxmap=extensions?util.extend(regexes,extensions):regexes;this.getBrowser=function(){var browser=mapper.rgx.apply(this,rgxmap.browser);browser.major=util.major(browser.version);return browser};this.getCPU=function(){return mapper.rgx.apply(this,rgxmap.cpu)};this.getDevice=function(){return mapper.rgx.apply(this,rgxmap.device)};this.getEngine=function(){return mapper.rgx.apply(this,rgxmap.engine)};this.getOS=function(){return mapper.rgx.apply(this,rgxmap.os)};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return ua};this.setUA=function(uastring){ua=uastring;return this};this.setUA(ua);return this};UAParser.VERSION=LIBVERSION;UAParser.BROWSER={NAME:NAME,MAJOR:MAJOR,VERSION:VERSION};UAParser.CPU={ARCHITECTURE:ARCHITECTURE};UAParser.DEVICE={MODEL:MODEL,VENDOR:VENDOR,TYPE:TYPE,CONSOLE:CONSOLE,MOBILE:MOBILE,SMARTTV:SMARTTV,TABLET:TABLET,WEARABLE:WEARABLE,EMBEDDED:EMBEDDED};UAParser.ENGINE={NAME:NAME,VERSION:VERSION};UAParser.OS={NAME:NAME,VERSION:VERSION};if(typeof exports!==UNDEF_TYPE){if(typeof module!==UNDEF_TYPE&&module.exports){exports=module.exports=UAParser}exports.UAParser=UAParser}else{if(typeof define===FUNC_TYPE&&define.amd){define(function(){return UAParser})}else{window.UAParser=UAParser}}var $=window.jQuery||window.Zepto;if(typeof $!==UNDEF_TYPE){var parser=new UAParser;$.ua=parser.getResult();$.ua.get=function(){return parser.getUA()};$.ua.set=function(uastring){parser.setUA(uastring);var result=parser.getResult();for(var prop in result){$.ua[prop]=result[prop]}}}})(this)},{}],11:[function(require,module,exports){var uuid=function(a){return a?(a^Math.random()*16>>a/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,uuid)};module.exports=uuid},{}],12:[function(require,module,exports){module.exports="2.4.1"},{}]},{},{1:""}));Ô
";<=>_text/javascript_&https://ssl.google-analytics.com/ga.jsOñbplist00ÔvwX$versionX$objectsY$archiverT$top † ¯&#)*0123STUVWXYZ[\]^_`abcdefghijklmpqU$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €%€€$€Ó$%'(WNS.base[NS.relative€ €€_&https://ssl.google-analytics.com/ga.jsÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùpgxÍ ÈÓ456DRWNS.keysZNS.objects­789:;<=>?@ABC€	€
€€€€€€€€€€€­EFGHIJKLMNOPQ€€€€€€€€€€€ €!€"€#\Content-TypeWalt-svc_Alternate-Protocol_Content-EncodingVServerSAgeWExpires]Cache-ControlTDate^Content-Length_X-Content-Type-OptionsTVary]Last-Modified_text/javascript_-quic=":443"; ma=604800; v="30,29,28,27,26,25"\443:quic,p=1TgzipVGolfe2T4058_Sun, 14 Feb 2016 00:36:31 GMT_public, max-age=7200_Sat, 13 Feb 2016 22:36:31 GMTU16022Wnosniff_Accept-Encoding_Thu, 04 Feb 2016 00:31:28 GMTÒ+,no\NSDictionary¢n/_text/javascriptÒ+,rs_NSHTTPURLResponse£tu/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑxy_WebResourceResponse€    # - 2 7 ` f  „ ˆ ‹ Ž ‘ • ˜ Ÿ ¢ ¥ ¨ « ® ° ² ´ ¶ ¸ ¹ » ½ ¿ Á Ã Å Ç Î Ö â ä æ è!*03<EGIPXcqsuwy{}ƒ…‡‰‹™›Ÿ¡£¥§©«­¯±³µÂÊßòùý'@ESe•¢§®³Óê
*JO\_qvŠŽ¢°ÂÅÛ             z              ÝO¨J(function(){var E;function Aa(a,b){switch(b){case 0:return""+a;case 1:return 1*a;case 2:return!!a;case 3:return 1E3*a}return a}function Ba(a){return"function"==typeof a}function Ca(a){return void 0!=a&&-1<(a.constructor+"").indexOf("String")}function F(a,b){return void 0==a||"-"==a&&!b||""==a}function Da(a){if(!a||""==a)return"";for(;a&&-1<" \n\r\t".indexOf(a.charAt(0));)a=a.substring(1);for(;a&&-1<" \n\r\t".indexOf(a.charAt(a.length-1));)a=a.substring(0,a.length-1);return a}
function Ea(){return Math.round(2147483647*Math.random())}function Fa(){}function G(a,b){if(encodeURIComponent instanceof Function)return b?encodeURI(a):encodeURIComponent(a);H(68);return escape(a)}function I(a){a=a.split("+").join(" ");if(decodeURIComponent instanceof Function)try{return decodeURIComponent(a)}catch(b){H(17)}else H(68);return unescape(a)}var Ga=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent&&a.attachEvent("on"+b,c)};
function Ia(a,b){if(a){var c=J.createElement("script");c.type="text/javascript";c.async=!0;c.src=a;c.id=b;var d=J.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d);return c}}function K(a){return a&&0<a.length?a[0]:""}function L(a){var b=a?a.length:0;return 0<b?a[b-1]:""}var nf=function(){this.prefix="ga.";this.values={}};nf.prototype.set=function(a,b){this.values[this.prefix+a]=b};nf.prototype.get=function(a){return this.values[this.prefix+a]};
nf.prototype.contains=function(a){return void 0!==this.get(a)};function Ka(a){0==a.indexOf("www.")&&(a=a.substring(4));return a.toLowerCase()}
function La(a,b){var c,d={url:a,protocol:"http",host:"",path:"",R:new nf,anchor:""};if(!a)return d;c=a.indexOf("://");0<=c&&(d.protocol=a.substring(0,c),a=a.substring(c+3));c=a.search("/|\\?|#");if(0<=c)d.host=a.substring(0,c).toLowerCase(),a=a.substring(c);else return d.host=a.toLowerCase(),d;c=a.indexOf("#");0<=c&&(d.anchor=a.substring(c+1),a=a.substring(0,c));c=a.indexOf("?");0<=c&&(Na(d.R,a.substring(c+1)),a=a.substring(0,c));d.anchor&&b&&Na(d.R,d.anchor);a&&"/"==a.charAt(0)&&(a=a.substring(1));
d.path=a;return d}
function Oa(a,b){function c(a){var b=(a.hostname||"").split(":")[0].toLowerCase(),c=(a.protocol||"").toLowerCase(),c=1*a.port||("http:"==c?80:"https:"==c?443:"");a=a.pathname||"";0==a.indexOf("/")||(a="/"+a);return[b,""+c,a]}var d=b||J.createElement("a");d.href=J.location.href;var e=(d.protocol||"").toLowerCase(),f=c(d),Be=d.search||"",k=e+"//"+f[0]+(f[1]?":"+f[1]:"");0==a.indexOf("//")?a=e+a:0==a.indexOf("/")?a=k+a:a&&0!=a.indexOf("?")?0>a.split("/")[0].indexOf(":")&&(a=k+f[2].substring(0,f[2].lastIndexOf("/"))+
"/"+a):a=k+f[2]+(a||Be);d.href=a;e=c(d);return{protocol:(d.protocol||"").toLowerCase(),host:e[0],port:e[1],path:e[2],Oa:d.search||"",url:a||""}}function Na(a,b){function c(b,c){a.contains(b)||a.set(b,[]);a.get(b).push(c)}for(var d=Da(b).split("&"),e=0;e<d.length;e++)if(d[e]){var f=d[e].indexOf("=");0>f?c(d[e],"1"):c(d[e].substring(0,f),d[e].substring(f+1))}}
function Pa(a,b){if(F(a)||"["==a.charAt(0)&&"]"==a.charAt(a.length-1))return"-";var c=J.domain;return a.indexOf(c+(b&&"/"!=b?b:""))==(0==a.indexOf("http://")?7:0==a.indexOf("https://")?8:0)?"0":a};var Qa=0;function Ra(a,b,c){1<=Qa||1<=100*Math.random()||ld()||(a=["utmt=error","utmerr="+a,"utmwv=5.6.7","utmn="+Ea(),"utmsp=1"],b&&a.push("api="+b),c&&a.push("msg="+G(c.substring(0,100))),M.w&&a.push("aip=1"),Sa(a.join("&")),Qa++)};var Ta=0,Ua={};function N(a){return Va("x"+Ta++,a)}function Va(a,b){Ua[a]=!!b;return a}
var Wa=N(),Xa=Va("anonymizeIp"),Ya=N(),$a=N(),ab=N(),bb=N(),O=N(),P=N(),cb=N(),db=N(),eb=N(),fb=N(),gb=N(),hb=N(),ib=N(),jb=N(),kb=N(),lb=N(),nb=N(),ob=N(),pb=N(),qb=N(),rb=N(),sb=N(),tb=N(),ub=N(),vb=N(),wb=N(),xb=N(),yb=N(),zb=N(),Ab=N(),Bb=N(),Cb=N(),Db=N(),Eb=N(),Fb=N(!0),Gb=Va("currencyCode"),Hb=Va("page"),Ib=Va("title"),Jb=N(),Kb=N(),Lb=N(),Mb=N(),Nb=N(),Ob=N(),Pb=N(),Qb=N(),Rb=N(),Q=N(!0),Sb=N(!0),Tb=N(!0),Ub=N(!0),Vb=N(!0),Wb=N(!0),Zb=N(!0),$b=N(!0),ac=N(!0),bc=N(!0),cc=N(!0),R=N(!0),dc=N(!0),
ec=N(!0),fc=N(!0),gc=N(!0),hc=N(!0),ic=N(!0),jc=N(!0),S=N(!0),kc=N(!0),lc=N(!0),mc=N(!0),nc=N(!0),oc=N(!0),pc=N(!0),qc=N(!0),rc=Va("campaignParams"),sc=N(),tc=Va("hitCallback"),uc=N();N();var vc=N(),wc=N(),xc=N(),yc=N(),zc=N(),Ac=N(),Bc=N(),Cc=N(),Dc=N(),Ec=N(),Fc=N(),Gc=N(),Hc=N(),Ic=N();N();var Mc=N(),Nc=N(),Yb=N(),Jc=N(),Kc=N(),Lc=Va("utmtCookieName"),Cd=Va("displayFeatures"),Oc=N(),of=Va("gtmid"),Oe=Va("uaName"),Pe=Va("uaDomain"),Qe=Va("uaPath"),pf=Va("linkid");var Re=function(){function a(a,c,d){T(qf.prototype,a,c,d)}a("_createTracker",qf.prototype.hb,55);a("_getTracker",qf.prototype.oa,0);a("_getTrackerByName",qf.prototype.u,51);a("_getTrackers",qf.prototype.pa,130);a("_anonymizeIp",qf.prototype.aa,16);a("_forceSSL",qf.prototype.la,125);a("_getPlugin",Pc,120)},Se=function(){function a(a,c,d){T(U.prototype,a,c,d)}Qc("_getName",$a,58);Qc("_getAccount",Wa,64);Qc("_visitCode",Q,54);Qc("_getClientInfo",ib,53,1);Qc("_getDetectTitle",lb,56,1);Qc("_getDetectFlash",
jb,65,1);Qc("_getLocalGifPath",wb,57);Qc("_getServiceMode",xb,59);V("_setClientInfo",ib,66,2);V("_setAccount",Wa,3);V("_setNamespace",Ya,48);V("_setAllowLinker",fb,11,2);V("_setDetectFlash",jb,61,2);V("_setDetectTitle",lb,62,2);V("_setLocalGifPath",wb,46,0);V("_setLocalServerMode",xb,92,void 0,0);V("_setRemoteServerMode",xb,63,void 0,1);V("_setLocalRemoteServerMode",xb,47,void 0,2);V("_setSampleRate",vb,45,1);V("_setCampaignTrack",kb,36,2);V("_setAllowAnchor",gb,7,2);V("_setCampNameKey",ob,41);V("_setCampContentKey",
tb,38);V("_setCampIdKey",nb,39);V("_setCampMediumKey",rb,40);V("_setCampNOKey",ub,42);V("_setCampSourceKey",qb,43);V("_setCampTermKey",sb,44);V("_setCampCIdKey",pb,37);V("_setCookiePath",P,9,0);V("_setMaxCustomVariables",yb,0,1);V("_setVisitorCookieTimeout",cb,28,1);V("_setSessionCookieTimeout",db,26,1);V("_setCampaignCookieTimeout",eb,29,1);V("_setReferrerOverride",Jb,49);V("_setSiteSpeedSampleRate",Dc,132);a("_trackPageview",U.prototype.Fa,1);a("_trackEvent",U.prototype.F,4);a("_trackPageLoadTime",
U.prototype.Ea,100);a("_trackSocial",U.prototype.Ga,104);a("_trackTrans",U.prototype.Ia,18);a("_sendXEvent",U.prototype.ib,78);a("_createEventTracker",U.prototype.ia,74);a("_getVersion",U.prototype.qa,60);a("_setDomainName",U.prototype.B,6);a("_setAllowHash",U.prototype.va,8);a("_getLinkerUrl",U.prototype.na,52);a("_link",U.prototype.link,101);a("_linkByPost",U.prototype.ua,102);a("_setTrans",U.prototype.za,20);a("_addTrans",U.prototype.$,21);a("_addItem",U.prototype.Y,19);a("_clearTrans",U.prototype.ea,
105);a("_setTransactionDelim",U.prototype.Aa,82);a("_setCustomVar",U.prototype.wa,10);a("_deleteCustomVar",U.prototype.ka,35);a("_getVisitorCustomVar",U.prototype.ra,50);a("_setXKey",U.prototype.Ca,83);a("_setXValue",U.prototype.Da,84);a("_getXKey",U.prototype.sa,76);a("_getXValue",U.prototype.ta,77);a("_clearXKey",U.prototype.fa,72);a("_clearXValue",U.prototype.ga,73);a("_createXObj",U.prototype.ja,75);a("_addIgnoredOrganic",U.prototype.W,15);a("_clearIgnoredOrganic",U.prototype.ba,97);a("_addIgnoredRef",
U.prototype.X,31);a("_clearIgnoredRef",U.prototype.ca,32);a("_addOrganic",U.prototype.Z,14);a("_clearOrganic",U.prototype.da,70);a("_cookiePathCopy",U.prototype.ha,30);a("_get",U.prototype.ma,106);a("_set",U.prototype.xa,107);a("_addEventListener",U.prototype.addEventListener,108);a("_removeEventListener",U.prototype.removeEventListener,109);a("_addDevId",U.prototype.V);a("_getPlugin",Pc,122);a("_setPageGroup",U.prototype.ya,126);a("_trackTiming",U.prototype.Ha,124);a("_initData",U.prototype.initData,
2);a("_setVar",U.prototype.Ba,22);V("_setSessionTimeout",db,27,3);V("_setCookieTimeout",eb,25,3);V("_setCookiePersistence",cb,24,1);a("_setAutoTrackOutbound",Fa,79);a("_setTrackOutboundSubdomains",Fa,81);a("_setHrefExamineLimit",Fa,80)};function Pc(a){var b=this.plugins_;if(b)return b.get(a)}
var T=function(a,b,c,d){a[b]=function(){try{return void 0!=d&&H(d),c.apply(this,arguments)}catch(a){throw Ra("exc",b,a&&a.name),a;}}},Qc=function(a,b,c,d){U.prototype[a]=function(){try{return H(c),Aa(this.a.get(b),d)}catch(e){throw Ra("exc",a,e&&e.name),e;}}},V=function(a,b,c,d,e){U.prototype[a]=function(f){try{H(c),void 0==e?this.a.set(b,Aa(f,d)):this.a.set(b,e)}catch(Be){throw Ra("exc",a,Be&&Be.name),Be;}}},Te=function(a,b){return{type:b,target:a,stopPropagation:function(){throw"aborted";}}};var Rc=new RegExp(/(^|\.)doubleclick\.net$/i),Sc=function(a,b){return Rc.test(J.location.hostname)?!0:"/"!==b?!1:0!=a.indexOf("www.google.")&&0!=a.indexOf(".google.")&&0!=a.indexOf("google.")||-1<a.indexOf("google.org")?!1:!0},Tc=function(a){var b=a.get(bb),c=a.c(P,"/");Sc(b,c)&&a.stopPropagation()};var Zc=function(){var a={},b={},c=new Uc;this.g=function(a,b){c.add(a,b)};var d=new Uc;this.v=function(a,b){d.add(a,b)};var e=!1,f=!1,Be=!0;this.T=function(){e=!0};this.j=function(a){this.load();this.set(sc,a,!0);a=new Vc(this);e=!1;d.cb(this);e=!0;b={};this.gb();a.Ja()};this.load=function(){e&&(e=!1,this.Ka(),Wc(this),f||(f=!0,c.cb(this),Xc(this),Wc(this)),e=!0)};this.gb=function(){e&&(f?(e=!1,Xc(this),e=!0):this.load())};this.get=function(c){Ua[c]&&this.load();return void 0!==b[c]?b[c]:a[c]};this.set=
function(c,d,e){Ua[c]&&this.load();e?b[c]=d:a[c]=d;Ua[c]&&this.gb()};this.Za=function(b){a[b]=this.b(b,0)+1};this.b=function(a,b){var c=this.get(a);return void 0==c||""===c?b:1*c};this.c=function(a,b){var c=this.get(a);return void 0==c?b:c+""};this.Ka=function(){if(Be){var b=this.c(bb,""),c=this.c(P,"/");Sc(b,c)||(a[O]=a[hb]&&""!=b?Yc(b):1,Be=!1)}}};Zc.prototype.stopPropagation=function(){throw"aborted";};
var Vc=function(a){var b=this;this.fb=0;var c=a.get(tc);this.Ua=function(){0<b.fb&&c&&(b.fb--,b.fb||c())};this.Ja=function(){!b.fb&&c&&setTimeout(c,10)};a.set(uc,b,!0)};function $c(a,b){b=b||[];for(var c=0;c<b.length;c++){var d=b[c];if(""+a==d||0==d.indexOf(a+"."))return d}return"-"}
var bd=function(a,b,c){c=c?"":a.c(O,"1");b=b.split(".");if(6!==b.length||ad(b[0],c))return!1;c=1*b[1];var d=1*b[2],e=1*b[3],f=1*b[4];b=1*b[5];if(!(0<=c&&0<d&&0<e&&0<f&&0<=b))return!1;a.set(Q,c);a.set(Vb,d);a.set(Wb,e);a.set(Zb,f);a.set($b,b);return!0},cd=function(a){var b=a.get(Q),c=a.get(Vb),d=a.get(Wb),e=a.get(Zb),f=a.b($b,1);return[a.b(O,1),void 0!=b?b:"-",c||"-",d||"-",e||"-",f].join(".")},dd=function(a){return[a.b(O,1),a.b(cc,0),a.b(R,1),a.b(dc,0)].join(".")},ed=function(a,b,c){c=c?"":a.c(O,
"1");var d=b.split(".");if(4!==d.length||ad(d[0],c))d=null;a.set(cc,d?1*d[1]:0);a.set(R,d?1*d[2]:10);a.set(dc,d?1*d[3]:a.get(ab));return null!=d||!ad(b,c)},fd=function(a,b){var c=G(a.c(Tb,"")),d=[],e=a.get(Fb);if(!b&&e){for(var f=0;f<e.length;f++){var Be=e[f];Be&&1==Be.scope&&d.push(f+"="+G(Be.name)+"="+G(Be.value)+"=1")}0<d.length&&(c+="|"+d.join("^"))}return c?a.b(O,1)+"."+c:null},gd=function(a,b,c){c=c?"":a.c(O,"1");b=b.split(".");if(2>b.length||ad(b[0],c))return!1;b=b.slice(1).join(".").split("|");
0<b.length&&a.set(Tb,I(b[0]));if(1>=b.length)return!0;b=b[1].split(-1==b[1].indexOf(",")?"^":",");for(c=0;c<b.length;c++){var d=b[c].split("=");if(4==d.length){var e={};e.name=I(d[1]);e.value=I(d[2]);e.scope=1;a.get(Fb)[d[0]]=e}}return!0},hd=function(a,b){var c=Ue(a,b);return c?[a.b(O,1),a.b(ec,0),a.b(fc,1),a.b(gc,1),c].join("."):""},Ue=function(a){function b(b,e){if(!F(a.get(b))){var f=a.c(b,""),f=f.split(" ").join("%20"),f=f.split("+").join("%20");c.push(e+"="+f)}}var c=[];b(ic,"utmcid");b(nc,"utmcsr");
b(S,"utmgclid");b(kc,"utmgclsrc");b(lc,"utmdclid");b(mc,"utmdsid");b(jc,"utmccn");b(oc,"utmcmd");b(pc,"utmctr");b(qc,"utmcct");return c.join("|")},id=function(a,b,c){c=c?"":a.c(O,"1");b=b.split(".");if(5>b.length||ad(b[0],c))return a.set(ec,void 0),a.set(fc,void 0),a.set(gc,void 0),a.set(ic,void 0),a.set(jc,void 0),a.set(nc,void 0),a.set(oc,void 0),a.set(pc,void 0),a.set(qc,void 0),a.set(S,void 0),a.set(kc,void 0),a.set(lc,void 0),a.set(mc,void 0),!1;a.set(ec,1*b[1]);a.set(fc,1*b[2]);a.set(gc,1*b[3]);
Ve(a,b.slice(4).join("."));return!0},Ve=function(a,b){function c(a){return(a=b.match(a+"=(.*?)(?:\\|utm|$)"))&&2==a.length?a[1]:void 0}function d(b,c){c?(c=e?I(c):c.split("%20").join(" "),a.set(b,c)):a.set(b,void 0)}-1==b.indexOf("=")&&(b=I(b));var e="2"==c("utmcvr");d(ic,c("utmcid"));d(jc,c("utmccn"));d(nc,c("utmcsr"));d(oc,c("utmcmd"));d(pc,c("utmctr"));d(qc,c("utmcct"));d(S,c("utmgclid"));d(kc,c("utmgclsrc"));d(lc,c("utmdclid"));d(mc,c("utmdsid"))},ad=function(a,b){return b?a!=b:!/^\d+$/.test(a)};var Uc=function(){this.filters=[]};Uc.prototype.add=function(a,b){this.filters.push({name:a,s:b})};Uc.prototype.cb=function(a){try{for(var b=0;b<this.filters.length;b++)this.filters[b].s.call(W,a)}catch(c){}};function jd(a){100!=a.get(vb)&&a.get(Q)%1E4>=100*a.get(vb)&&a.stopPropagation()}function kd(a){ld(a.get(Wa))&&a.stopPropagation()}function md(a){"file:"==J.location.protocol&&a.stopPropagation()}function Ge(a){He()&&a.stopPropagation()}
function nd(a){a.get(Ib)||a.set(Ib,J.title,!0);a.get(Hb)||a.set(Hb,J.location.pathname+J.location.search,!0)}function lf(a){a.get(Wa)&&"UA-XXXXX-X"!=a.get(Wa)||a.stopPropagation()};var od=new function(){var a=[];this.set=function(b){a[b]=!0};this.encode=function(){for(var b=[],c=0;c<a.length;c++)a[c]&&(b[Math.floor(c/6)]^=1<<c%6);for(c=0;c<b.length;c++)b[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(b[c]||0);return b.join("")+"~"}};function H(a){od.set(a)};var W=window,J=document,ld=function(a){var b=W._gaUserPrefs;if(b&&b.ioo&&b.ioo()||a&&!0===W["ga-disable-"+a])return!0;try{var c=W.external;if(c&&c._gaUserPrefs&&"oo"==c._gaUserPrefs)return!0}catch(d){}return!1},He=function(){return W.navigator&&"preview"==W.navigator.loadPurpose},We=function(a,b){setTimeout(a,b)},pd=function(a){var b=[],c=J.cookie.split(";");a=new RegExp("^\\s*"+a+"=\\s*(.*?)\\s*$");for(var d=0;d<c.length;d++){var e=c[d].match(a);e&&b.push(e[1])}return b},X=function(a,b,c,d,e,f){e=
ld(e)?!1:Sc(d,c)?!1:He()?!1:!0;e&&((b=mf(b))&&2E3<b.length&&(b=b.substring(0,2E3),H(69)),a=a+"="+b+"; path="+c+"; ",f&&(a+="expires="+(new Date((new Date).getTime()+f)).toGMTString()+"; "),d&&(a+="domain="+d+";"),J.cookie=a)},mf=function(a){if(!a)return a;var b=a.indexOf(";");-1!=b&&(a=a.substring(0,b),H(141));if(!(0<=W.navigator.userAgent.indexOf("Firefox")))return a;a=a.replace(/\n|\r/g," ");for(var b=0,c=a.length;b<c;++b){var d=a.charCodeAt(b)&255;if(10==d||13==d)a=a.substring(0,b)+"?"+a.substring(b+
1)}return a};var qd,rd,sd=function(){if(!qd){var a={},b=W.navigator,c=W.screen;a.jb=c?c.width+"x"+c.height:"-";a.P=c?c.colorDepth+"-bit":"-";a.language=(b&&(b.language||b.browserLanguage)||"-").toLowerCase();a.javaEnabled=b&&b.javaEnabled()?1:0;a.characterSet=J.characterSet||J.charset||"-";try{var d;var e=J.documentElement,f=J.body,Be=f&&f.clientWidth&&f.clientHeight,b=[];e&&e.clientWidth&&e.clientHeight&&("CSS1Compat"===J.compatMode||!Be)?b=[e.clientWidth,e.clientHeight]:Be&&(b=[f.clientWidth,f.clientHeight]);
d=0>=b[0]||0>=b[1]?"":b.join("x");a.Wa=d}catch(k){H(135)}qd=a}},td=function(){sd();for(var a=qd,b=W.navigator,a=b.appName+b.version+a.language+b.platform+b.userAgent+a.javaEnabled+a.jb+a.P+(J.cookie?J.cookie:"")+(J.referrer?J.referrer:""),b=a.length,c=W.history.length;0<c;)a+=c--^b++;return Yc(a)},ud=function(a){sd();var b=qd;a.set(Lb,b.jb);a.set(Mb,b.P);a.set(Pb,b.language);a.set(Qb,b.characterSet);a.set(Nb,b.javaEnabled);a.set(Rb,b.Wa);if(a.get(ib)&&a.get(jb)){if(!(b=rd)){var c,d,e;d="ShockwaveFlash";
if((b=(b=W.navigator)?b.plugins:void 0)&&0<b.length)for(c=0;c<b.length&&!e;c++)d=b[c],-1<d.name.indexOf("Shockwave Flash")&&(e=d.description.split("Shockwave Flash ")[1]);else{d=d+"."+d;try{c=new ActiveXObject(d+".7"),e=c.GetVariable("$version")}catch(f){}if(!e)try{c=new ActiveXObject(d+".6"),e="WIN 6,0,21,0",c.AllowScriptAccess="always",e=c.GetVariable("$version")}catch(Be){}if(!e)try{c=new ActiveXObject(d),e=c.GetVariable("$version")}catch(k){}e&&(e=e.split(" ")[1].split(","),e=e[0]+"."+e[1]+" r"+
e[2])}b=e?e:"-"}rd=b;a.set(Ob,rd)}else a.set(Ob,"-")};var vd=function(a){if(Ba(a))this.s=a;else{var b=a[0],c=b.lastIndexOf(":"),d=b.lastIndexOf(".");this.h=this.i=this.l="";-1==c&&-1==d?this.h=b:-1==c&&-1!=d?(this.i=b.substring(0,d),this.h=b.substring(d+1)):-1!=c&&-1==d?(this.l=b.substring(0,c),this.h=b.substring(c+1)):c>d?(this.i=b.substring(0,d),this.l=b.substring(d+1,c),this.h=b.substring(c+1)):(this.i=b.substring(0,d),this.h=b.substring(d+1));this.Xa=a.slice(1);this.Ma=!this.l&&"_require"==this.h;this.J=!this.i&&!this.l&&"_provide"==this.h}},Y=function(){T(Y.prototype,
"push",Y.prototype.push,5);T(Y.prototype,"_getPlugin",Pc,121);T(Y.prototype,"_createAsyncTracker",Y.prototype.Sa,33);T(Y.prototype,"_getAsyncTracker",Y.prototype.Ta,34);this.I=new nf;this.eb=[]};E=Y.prototype;E.Na=function(a,b,c){var d=this.I.get(a);if(!Ba(d))return!1;b.plugins_=b.plugins_||new nf;b.plugins_.set(a,new d(b,c||{}));return!0};E.push=function(a){var b=Z.Va.apply(this,arguments),b=Z.eb.concat(b);for(Z.eb=[];0<b.length&&!Z.O(b[0])&&!(b.shift(),0<Z.eb.length););Z.eb=Z.eb.concat(b);return 0};
E.Va=function(a){for(var b=[],c=0;c<arguments.length;c++)try{var d=new vd(arguments[c]);d.J?this.O(d):b.push(d)}catch(e){}return b};
E.O=function(a){try{if(a.s)a.s.apply(W);else if(a.J)this.I.set(a.Xa[0],a.Xa[1]);else{var b="_gat"==a.i?M:"_gaq"==a.i?Z:M.u(a.i);if(a.Ma){if(!this.Na(a.Xa[0],b,a.Xa[2])){if(!a.Pa){var c=Oa(""+a.Xa[1]);var d=c.protocol,e=J.location.protocol;var f;if(f="https:"==d||d==e?!0:"http:"!=d?!1:"http:"==e)a:{var Be=Oa(J.location.href);if(!(c.Oa||0<=c.url.indexOf("?")||0<=c.path.indexOf("://")||c.host==Be.host&&c.port==Be.port))for(var k="http:"==c.protocol?80:443,Ja=M.S,b=0;b<Ja.length;b++)if(c.host==Ja[b][0]&&
(c.port||k)==(Ja[b][1]||k)&&0==c.path.indexOf(Ja[b][2])){f=!0;break a}f=!1}f&&!ld()&&(a.Pa=Ia(c.url))}return!0}}else a.l&&(b=b.plugins_.get(a.l)),b[a.h].apply(b,a.Xa)}}catch(t){}};E.Sa=function(a,b){return M.hb(a,b||"")};E.Ta=function(a){return M.u(a)};var yd=function(){function a(a,b,c,d){void 0==f[a]&&(f[a]={});void 0==f[a][b]&&(f[a][b]=[]);f[a][b][c]=d}function b(a,b,c){if(void 0!=f[a]&&void 0!=f[a][b])return f[a][b][c]}function c(a,b){if(void 0!=f[a]&&void 0!=f[a][b]){f[a][b]=void 0;var c=!0,d;for(d=0;d<Be.length;d++)if(void 0!=f[a][Be[d]]){c=!1;break}c&&(f[a]=void 0)}}function d(a){var b="",c=!1,d,e;for(d=0;d<Be.length;d++)if(e=a[Be[d]],void 0!=e){c&&(b+=Be[d]);for(var c=[],f=void 0,Bd=void 0,Bd=0;Bd<e.length;Bd++)if(void 0!=e[Bd]){f="";1!=
Bd&&void 0==e[Bd-1]&&(f+=Bd.toString()+"!");for(var fa=e[Bd],Ke="",Le=void 0,Me=void 0,ga=void 0,Le=0;Le<fa.length;Le++)Me=fa.charAt(Le),ga=k[Me],Ke+=void 0!=ga?ga:Me;f+=Ke;c.push(f)}b+="("+c.join("*")+")";c=!1}else c=!0;return b}var e=this,f=[],Be=["k","v"],k={"'":"'0",")":"'1","*":"'2","!":"'3"};e.Ra=function(a){return void 0!=f[a]};e.A=function(){for(var a="",b=0;b<f.length;b++)void 0!=f[b]&&(a+=b.toString()+d(f[b]));return a};e.Qa=function(a){if(void 0==a)return e.A();for(var b=a.A(),c=0;c<f.length;c++)void 0==
f[c]||a.Ra(c)||(b+=c.toString()+d(f[c]));return b};e.f=function(b,c,d){if(!wd(d))return!1;a(b,"k",c,d);return!0};e.o=function(b,c,d){if(!xd(d))return!1;a(b,"v",c,d.toString());return!0};e.getKey=function(a,c){return b(a,"k",c)};e.N=function(a,c){return b(a,"v",c)};e.L=function(a){c(a,"k")};e.M=function(a){c(a,"v")};T(e,"_setKey",e.f,89);T(e,"_setValue",e.o,90);T(e,"_getKey",e.getKey,87);T(e,"_getValue",e.N,88);T(e,"_clearKey",e.L,85);T(e,"_clearValue",e.M,86)};
function wd(a){return"string"==typeof a}function xd(a){return!("number"==typeof a||void 0!=Number&&a instanceof Number)||Math.round(a)!=a||isNaN(a)||Infinity==a?!1:!0};var zd=function(a){var b=W.gaGlobal;a&&!b&&(W.gaGlobal=b={});return b},Ad=function(){var a=zd(!0).hid;null==a&&(a=Ea(),zd(!0).hid=a);return a},Dd=function(a){a.set(Kb,Ad());var b=zd();if(b&&b.dh==a.get(O)){var c=b.sid;c&&(a.get(ac)?H(112):H(132),a.set(Zb,c),a.get(Sb)&&a.set(Wb,c));b=b.vid;a.get(Sb)&&b&&(b=b.split("."),a.set(Q,1*b[0]),a.set(Vb,1*b[1]))}};var Ed,Fd=function(a,b,c,d){var e=a.c(bb,""),f=a.c(P,"/");d=void 0!=d?d:a.b(cb,0);a=a.c(Wa,"");X(b,c,f,e,a,d)},Xc=function(a){var b=a.c(bb,"");a.b(O,1);var c=a.c(P,"/"),d=a.c(Wa,"");X("__utma",cd(a),c,b,d,a.get(cb));X("__utmb",dd(a),c,b,d,a.get(db));X("__utmc",""+a.b(O,1),c,b,d);var e=hd(a,!0);e?X("__utmz",e,c,b,d,a.get(eb)):X("__utmz","",c,b,"",-1);(e=fd(a,!1))?X("__utmv",e,c,b,d,a.get(cb)):X("__utmv","",c,b,"",-1)},Wc=function(a){var b=a.b(O,1);if(!bd(a,$c(b,pd("__utma"))))return a.set(Ub,!0),!1;
var c=!ed(a,$c(b,pd("__utmb")));a.set(bc,c);id(a,$c(b,pd("__utmz")));gd(a,$c(b,pd("__utmv")));Ed=!c;return!0},Gd=function(a){Ed||0<pd("__utmb").length||(X("__utmd","1",a.c(P,"/"),a.c(bb,""),a.c(Wa,""),1E4),0==pd("__utmd").length&&a.stopPropagation())};var h=0,Jd=function(a){void 0==a.get(Q)?Hd(a):a.get(Ub)&&!a.get(Mc)?Hd(a):a.get(bc)&&Id(a)},Kd=function(a){a.get(hc)&&!a.get(ac)&&(Id(a),a.set(fc,a.get($b)))},Hd=function(a){h++;1<h&&H(137);var b=a.get(ab);a.set(Sb,!0);a.set(Q,Ea()^td(a)&2147483647);a.set(Tb,"");a.set(Vb,b);a.set(Wb,b);a.set(Zb,b);a.set($b,1);a.set(ac,!0);a.set(cc,0);a.set(R,10);a.set(dc,b);a.set(Fb,[]);a.set(Ub,!1);a.set(bc,!1)},Id=function(a){h++;1<h&&H(137);a.set(Wb,a.get(Zb));a.set(Zb,a.get(ab));a.Za($b);a.set(ac,!0);a.set(cc,
0);a.set(R,10);a.set(dc,a.get(ab));a.set(bc,!1)};var Ld="daum:q eniro:search_word naver:query pchome:q images.google:q google:q yahoo:p yahoo:q msn:q bing:q aol:query aol:q lycos:q lycos:query ask:q cnn:query virgilio:qs baidu:wd baidu:word alice:qs yandex:text najdi:q seznam:q rakuten:qt biglobe:q goo.ne:MT search.smt.docomo:MT onet:qt onet:q kvasir:q terra:query rambler:query conduit:q babylon:q search-results:q avg:q comcast:q incredimail:q startsiden:q go.mail.ru:q centrum.cz:q 360.cn:q sogou:query tut.by:query globo:q ukr:q so.com:q haosou.com:q auone:q".split(" "),
Sd=function(a){if(a.get(kb)&&!a.get(Mc)){var b;b=!F(a.get(ic))||!F(a.get(nc))||!F(a.get(S))||!F(a.get(lc));for(var c={},d=0;d<Md.length;d++){var e=Md[d];c[e]=a.get(e)}(d=a.get(rc))?(H(149),e=new nf,Na(e,d),d=e):d=La(J.location.href,a.get(gb)).R;if("1"!=L(d.get(a.get(ub)))||!b)if(d=Xe(a,d)||Qd(a),d||b||!a.get(ac)||(Pd(a,void 0,"(direct)",void 0,void 0,void 0,"(direct)","(none)",void 0,void 0),d=!0),d&&(a.set(hc,Rd(a,c)),b="(direct)"==a.get(nc)&&"(direct)"==a.get(jc)&&"(none)"==a.get(oc),a.get(hc)||
a.get(ac)&&!b))a.set(ec,a.get(ab)),a.set(fc,a.get($b)),a.Za(gc)}},Xe=function(a,b){function c(c,d){d=d||"-";var e=L(b.get(a.get(c)));return e&&"-"!=e?I(e):d}var d=L(b.get(a.get(nb)))||"-",e=L(b.get(a.get(qb)))||"-",f=L(b.get(a.get(pb)))||"-",Be=L(b.get("gclsrc"))||"-",k=L(b.get("dclid"))||"-",Ja=c(ob,"(not set)"),t=c(rb,"(not set)"),Za=c(sb),Ma=c(tb);if(F(d)&&F(f)&&F(k)&&F(e))return!1;var mb=!F(f)&&!F(Be),mb=F(e)&&(!F(k)||mb),Xb=F(Za);if(mb||Xb){var Bd=Nd(a),Bd=La(Bd,!0);(Bd=Od(a,Bd))&&!F(Bd[1]&&
!Bd[2])&&(mb&&(e=Bd[0]),Xb&&(Za=Bd[1]))}Pd(a,d,e,f,Be,k,Ja,t,Za,Ma);return!0},Qd=function(a){var b=Nd(a),c=La(b,!0);(b=!(void 0!=b&&null!=b&&""!=b&&"0"!=b&&"-"!=b&&0<=b.indexOf("://")))||(b=c&&-1<c.host.indexOf("google")&&c.R.contains("q")&&"cse"==c.path);if(b)return!1;if((b=Od(a,c))&&!b[2])return Pd(a,void 0,b[0],void 0,void 0,void 0,"(organic)","organic",b[1],void 0),!0;if(b||!a.get(ac))return!1;a:{for(var b=a.get(Bb),d=Ka(c.host),e=0;e<b.length;++e)if(-1<d.indexOf(b[e])){a=!1;break a}Pd(a,void 0,
d,void 0,void 0,void 0,"(referral)","referral",void 0,"/"+c.path);a=!0}return a},Od=function(a,b){for(var c=a.get(zb),d=0;d<c.length;++d){var e=c[d].split(":");if(-1<b.host.indexOf(e[0].toLowerCase())){var f=b.R.get(e[1]);if(f&&(f=K(f),!f&&-1<b.host.indexOf("google.")&&(f="(not provided)"),!e[3]||-1<b.url.indexOf(e[3]))){f||H(151);a:{for(var c=f,d=a.get(Ab),c=I(c).toLowerCase(),Be=0;Be<d.length;++Be)if(c==d[Be]){c=!0;break a}c=!1}return[e[2]||e[0],f,c]}}}return null},Pd=function(a,b,c,d,e,f,Be,k,
Ja,t){a.set(ic,b);a.set(nc,c);a.set(S,d);a.set(kc,e);a.set(lc,f);a.set(jc,Be);a.set(oc,k);a.set(pc,Ja);a.set(qc,t)},Md=[jc,ic,S,lc,nc,oc,pc,qc],Rd=function(a,b){function c(a){a=(""+a).split("+").join("%20");return a=a.split(" ").join("%20")}function d(c){var d=""+(a.get(c)||"");c=""+(b[c]||"");return 0<d.length&&d==c}if(d(S)||d(lc))return H(131),!1;for(var e=0;e<Md.length;e++){var f=Md[e],Be=b[f]||"-",f=a.get(f)||"-";if(c(Be)!=c(f))return!0}return!1},Td=new RegExp(/^https?:\/\/(www\.)?google(\.com?)?(\.[a-z]{2}t?)?\/?$/i),
jf=/^https?:\/\/(r\.)?search\.yahoo\.com?(\.jp)?\/?[^?]*$/i,rf=/^https?:\/\/(www\.)?bing\.com\/?$/i,Nd=function(a){a=Pa(a.get(Jb),a.get(P));try{if(Td.test(a))return H(136),a+"?q=";if(jf.test(a))return H(150),a+"?p=(not provided)";if(rf.test(a))return a+"?q=(not provided)"}catch(b){H(145)}return a};var Ud,Vd,Wd=function(a){Ud=a.c(S,"");Vd=a.c(kc,"")},Xd=function(a){var b=a.c(S,""),c=a.c(kc,"");b!=Ud&&(-1<c.indexOf("ds")?a.set(mc,void 0):!F(Ud)&&-1<Vd.indexOf("ds")&&a.set(mc,Ud))};var Zd=function(a){Yd(a,J.location.href)?(a.set(Mc,!0),H(12)):a.set(Mc,!1)},Yd=function(a,b){if(!a.get(fb))return!1;var c=La(b,a.get(gb)),d=K(c.R.get("__utma")),e=K(c.R.get("__utmb")),f=K(c.R.get("__utmc")),Be=K(c.R.get("__utmx")),k=K(c.R.get("__utmz")),Ja=K(c.R.get("__utmv")),c=K(c.R.get("__utmk"));if(Yc(""+d+e+f+Be+k+Ja)!=c){d=I(d);e=I(e);f=I(f);Be=I(Be);f=$d(d+e+f+Be,k,Ja,c);if(!f)return!1;k=f[0];Ja=f[1]}if(!bd(a,d,!0))return!1;ed(a,e,!0);id(a,k,!0);gd(a,Ja,!0);ae(a,Be,!0);return!0},ce=function(a,
b,c){var d;d=cd(a)||"-";var e=dd(a)||"-",f=""+a.b(O,1)||"-",Be=be(a)||"-",k=hd(a,!1)||"-";a=fd(a,!1)||"-";var Ja=Yc(""+d+e+f+Be+k+a),t=[];t.push("__utma="+d);t.push("__utmb="+e);t.push("__utmc="+f);t.push("__utmx="+Be);t.push("__utmz="+k);t.push("__utmv="+a);t.push("__utmk="+Ja);d=t.join("&");if(!d)return b;e=b.indexOf("#");if(c)return 0>e?b+"#"+d:b+"&"+d;c="";f=b.indexOf("?");0<e&&(c=b.substring(e),b=b.substring(0,e));return 0>f?b+"?"+d+c:b+"&"+d+c},$d=function(a,b,c,d){for(var e=0;3>e;e++){for(var f=
0;3>f;f++){if(d==Yc(a+b+c))return H(127),[b,c];var Be=b.replace(/ /g,"%20"),k=c.replace(/ /g,"%20");if(d==Yc(a+Be+k))return H(128),[Be,k];Be=Be.replace(/\+/g,"%20");k=k.replace(/\+/g,"%20");if(d==Yc(a+Be+k))return H(129),[Be,k];try{var Ja=b.match("utmctr=(.*?)(?:\\|utm|$)");if(Ja&&2==Ja.length&&(Be=b.replace(Ja[1],G(I(Ja[1]))),d==Yc(a+Be+c)))return H(139),[Be,c]}catch(t){}b=I(b)}c=I(c)}};var de="|",fe=function(a,b,c,d,e,f,Be,k,Ja){var t=ee(a,b);t||(t={},a.get(Cb).push(t));t.id_=b;t.affiliation_=c;t.total_=d;t.tax_=e;t.shipping_=f;t.city_=Be;t.state_=k;t.country_=Ja;t.items_=t.items_||[];return t},ge=function(a,b,c,d,e,f,Be){a=ee(a,b)||fe(a,b,"",0,0,0,"","","");var k;a:{if(a&&a.items_){k=a.items_;for(var Ja=0;Ja<k.length;Ja++)if(k[Ja].sku_==c){k=k[Ja];break a}}k=null}Ja=k||{};Ja.transId_=b;Ja.sku_=c;Ja.name_=d;Ja.category_=e;Ja.price_=f;Ja.quantity_=Be;k||a.items_.push(Ja);return Ja},
ee=function(a,b){for(var c=a.get(Cb),d=0;d<c.length;d++)if(c[d].id_==b)return c[d];return null};var he,ie=function(a){if(!he){var b;b=J.location.hash;var c=W.name,d=/^#?gaso=([^&]*)/;if(c=(b=(b=b&&b.match(d)||c&&c.match(d))?b[1]:K(pd("GASO")))&&b.match(/^(?:!([-0-9a-z.]{1,40})!)?([-.\w]{10,1200})$/i))Fd(a,"GASO",""+b,0),M._gasoDomain=a.get(bb),M._gasoCPath=a.get(P),a=c[1],Ia("https://www.google.com/analytics/web/inpage/pub/inpage.js?"+(a?"prefix="+a+"&":"")+Ea(),"_gasojs");he=!0}};var ae=function(a,b,c){c&&(b=I(b));c=a.b(O,1);b=b.split(".");2>b.length||!/^\d+$/.test(b[0])||(b[0]=""+c,Fd(a,"__utmx",b.join("."),void 0))},be=function(a,b){var c=$c(a.get(O),pd("__utmx"));"-"==c&&(c="");return b?G(c):c},Ye=function(a){try{var b=La(J.location.href,!1),c=decodeURIComponent(L(b.R.get("utm_referrer")))||"";c&&a.set(Jb,c);var d=decodeURIComponent(K(b.R.get("utm_expid")))||"";d&&(d=d.split(".")[0],a.set(Oc,""+d))}catch(e){H(146)}},l=function(a){var b=W.gaData&&W.gaData.expId;b&&a.set(Oc,
""+b)};var ke=function(a,b){var c=Math.min(a.b(Dc,0),100);if(a.b(Q,0)%100>=c)return!1;c=Ze()||$e();if(void 0==c)return!1;var d=c[0];if(void 0==d||Infinity==d||isNaN(d))return!1;0<d?af(c)?b(je(c)):b(je(c.slice(0,1))):Ga(W,"load",function(){ke(a,b)},!1);return!0},me=function(a,b,c,d){var e=new yd;e.f(14,90,b.substring(0,500));e.f(14,91,a.substring(0,150));e.f(14,92,""+le(c));void 0!=d&&e.f(14,93,d.substring(0,500));e.o(14,90,c);return e},af=function(a){for(var b=1;b<a.length;b++)if(isNaN(a[b])||Infinity==
a[b]||0>a[b])return!1;return!0},le=function(a){return isNaN(a)||0>a?0:5E3>a?10*Math.floor(a/10):5E4>a?100*Math.floor(a/100):41E5>a?1E3*Math.floor(a/1E3):41E5},je=function(a){for(var b=new yd,c=0;c<a.length;c++)b.f(14,c+1,""+le(a[c])),b.o(14,c+1,a[c]);return b},Ze=function(){var a=W.performance||W.webkitPerformance;if(a=a&&a.timing){var b=a.navigationStart;if(0==b)H(133);else return[a.loadEventStart-b,a.domainLookupEnd-a.domainLookupStart,a.connectEnd-a.connectStart,a.responseStart-a.requestStart,
a.responseEnd-a.responseStart,a.fetchStart-b,a.domInteractive-b,a.domContentLoadedEventStart-b]}},$e=function(){if(W.top==W){var a=W.external,b=a&&a.onloadT;a&&!a.isValidLoadTime&&(b=void 0);2147483648<b&&(b=void 0);0<b&&a.setPageReadyTime();return void 0==b?void 0:[b]}};var cf=function(a){if(a.get(Sb))try{var b;a:{var c=pd(a.get(Oe)||"_ga");if(c&&!(1>c.length)){for(var d=[],e=0;e<c.length;e++){var f;var Be=c[e].split("."),k=Be.shift();if(("GA1"==k||"1"==k)&&1<Be.length){var Ja=Be.shift().split("-");1==Ja.length&&(Ja[1]="1");Ja[0]*=1;Ja[1]*=1;f={Ya:Ja,$a:Be.join(".")}}else f=void 0;f&&d.push(f)}if(1==d.length){b=d[0].$a;break a}if(0!=d.length){var t=a.get(Pe)||a.get(bb),d=bf(d,(0==t.indexOf(".")?t.substr(1):t).split(".").length,0);if(1==d.length){b=d[0].$a;break a}var Za=
a.get(Qe)||a.get(P);(c=Za)?(1<c.length&&"/"==c.charAt(c.length-1)&&(c=c.substr(0,c.length-1)),0!=c.indexOf("/")&&(c="/"+c),Za=c):Za="/";d=bf(d,"/"==Za?1:Za.split("/").length,1);b=d[0].$a;break a}}b=void 0}if(b){var Ma=(""+b).split(".");2==Ma.length&&/[0-9.]/.test(Ma)&&(H(114),a.set(Q,Ma[0]),a.set(Vb,Ma[1]),a.set(Sb,!1))}}catch(mb){H(115)}},bf=function(a,b,c){for(var d=[],e=[],f=128,Be=0;Be<a.length;Be++){var k=a[Be];k.Ya[c]==b?d.push(k):k.Ya[c]==f?e.push(k):k.Ya[c]<f&&(e=[k],f=k.Ya[c])}return 0<d.length?
d:e};var kf=/^gtm\d+$/,hf=function(a){var b;b=!!a.b(Cd,1);b&&(H(140),"page"!=a.get(sc)?a.set(Kc,"",!0):(b=a.c(Lc,""),b||(b=(b=a.c($a,""))&&"~0"!=b?kf.test(b)?"__utmt_"+G(a.c(Wa,"")):"__utmt_"+G(b):"__utmt"),0<pd(b).length?a.set(Kc,"",!0):(X(b,"1",a.c(P,"/"),a.c(bb,""),a.c(Wa,""),6E5),0<pd(b).length&&(a.set(Kc,Ea(),!0),a.set(Yb,1,!0),a.set(Jc,Ne()+"/r/__utm.gif?",!0)))))};var U=function(a,b,c){function d(a){return function(b){if((b=b.get(Nc)[a])&&b.length)for(var c=Te(e,a),d=0;d<b.length;d++)b[d].call(e,c)}}var e=this;this.a=new Zc;this.get=function(a){return this.a.get(a)};this.set=function(a,b,c){this.a.set(a,b,c)};this.set(Wa,b||"UA-XXXXX-X");this.set($a,a||"");this.set(Ya,c||"");this.set(ab,Math.round((new Date).getTime()/1E3));this.set(P,"/");this.set(cb,63072E6);this.set(eb,15768E6);this.set(db,18E5);this.set(fb,!1);this.set(yb,50);this.set(gb,!1);this.set(hb,
!0);this.set(ib,!0);this.set(jb,!0);this.set(kb,!0);this.set(lb,!0);this.set(ob,"utm_campaign");this.set(nb,"utm_id");this.set(pb,"gclid");this.set(qb,"utm_source");this.set(rb,"utm_medium");this.set(sb,"utm_term");this.set(tb,"utm_content");this.set(ub,"utm_nooverride");this.set(vb,100);this.set(Dc,1);this.set(Ec,!1);this.set(wb,"/__utm.gif");this.set(xb,1);this.set(Cb,[]);this.set(Fb,[]);this.set(zb,Ld.slice(0));this.set(Ab,[]);this.set(Bb,[]);this.B("auto");this.set(Jb,J.referrer);Ye(this.a);this.set(Nc,
{hit:[],load:[]});this.a.g("0",Zd);this.a.g("1",Wd);this.a.g("2",Jd);this.a.g("3",cf);this.a.g("4",Sd);this.a.g("5",Xd);this.a.g("6",Kd);this.a.g("7",d("load"));this.a.g("8",ie);this.a.v("A",kd);this.a.v("B",md);this.a.v("C",Ge);this.a.v("D",Jd);this.a.v("E",jd);this.a.v("F",Tc);this.a.v("G",ne);this.a.v("H",lf);this.a.v("I",Gd);this.a.v("J",nd);this.a.v("K",ud);this.a.v("L",Dd);this.a.v("M",l);this.a.v("N",hf);this.a.v("O",d("hit"));this.a.v("P",oe);this.a.v("Q",pe);0===this.get(ab)&&H(111);this.a.T();
this.H=void 0};E=U.prototype;E.m=function(){var a=this.get(Db);a||(a=new yd,this.set(Db,a));return a};E.La=function(a){for(var b in a){var c=a[b];a.hasOwnProperty(b)&&this.set(b,c,!0)}};E.K=function(a){if(this.get(Ec))return!1;var b=this,c=ke(this.a,function(c){b.set(Hb,a,!0);b.ib(c)});this.set(Ec,c);return c};E.Fa=function(a){a&&Ca(a)?(H(13),this.set(Hb,a,!0)):"object"===typeof a&&null!==a&&this.La(a);this.H=a=this.get(Hb);this.a.j("page");this.K(a)};
E.F=function(a,b,c,d,e){if(""==a||!wd(a)||""==b||!wd(b)||void 0!=c&&!wd(c)||void 0!=d&&!xd(d))return!1;this.set(wc,a,!0);this.set(xc,b,!0);this.set(yc,c,!0);this.set(zc,d,!0);this.set(vc,!!e,!0);this.a.j("event");return!0};E.Ha=function(a,b,c,d,e){var f=this.a.b(Dc,0);1*e===e&&(f=e);if(this.a.b(Q,0)%100>=f)return!1;c=1*(""+c);if(""==a||!wd(a)||""==b||!wd(b)||!xd(c)||isNaN(c)||0>c||0>f||100<f||void 0!=d&&(""==d||!wd(d)))return!1;this.ib(me(a,b,c,d));return!0};
E.Ga=function(a,b,c,d){if(!a||!b)return!1;this.set(Ac,a,!0);this.set(Bc,b,!0);this.set(Cc,c||J.location.href,!0);d&&this.set(Hb,d,!0);this.a.j("social");return!0};E.Ea=function(){this.set(Dc,10);this.K(this.H)};E.Ia=function(){this.a.j("trans")};E.ib=function(a){this.set(Eb,a,!0);this.a.j("event")};E.ia=function(a){this.initData();var b=this;return{_trackEvent:function(c,d,e){H(91);b.F(a,c,d,e)}}};E.ma=function(a){return this.get(a)};
E.xa=function(a,b){if(a)if(Ca(a))this.set(a,b);else if("object"==typeof a)for(var c in a)a.hasOwnProperty(c)&&this.set(c,a[c])};E.addEventListener=function(a,b){var c=this.get(Nc)[a];c&&c.push(b)};E.removeEventListener=function(a,b){for(var c=this.get(Nc)[a],d=0;c&&d<c.length;d++)if(c[d]==b){c.splice(d,1);break}};E.qa=function(){return"5.6.7"};E.B=function(a){this.get(hb);a="auto"==a?Ka(J.domain):a&&"-"!=a&&"none"!=a?a.toLowerCase():"";this.set(bb,a)};E.va=function(a){this.set(hb,!!a)};
E.na=function(a,b){return ce(this.a,a,b)};E.link=function(a,b){if(this.a.get(fb)&&a){var c=ce(this.a,a,b);J.location.href=c}};E.ua=function(a,b){this.a.get(fb)&&a&&a.action&&(a.action=ce(this.a,a.action,b))};
E.za=function(){this.initData();var a=this.a,b=J.getElementById?J.getElementById("utmtrans"):J.utmform&&J.utmform.utmtrans?J.utmform.utmtrans:null;if(b&&b.value){a.set(Cb,[]);for(var b=b.value.split("UTM:"),c=0;c<b.length;c++){b[c]=Da(b[c]);for(var d=b[c].split(de),e=0;e<d.length;e++)d[e]=Da(d[e]);"T"==d[0]?fe(a,d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8]):"I"==d[0]&&ge(a,d[1],d[2],d[3],d[4],d[5],d[6])}}};E.$=function(a,b,c,d,e,f,Be,k){return fe(this.a,a,b,c,d,e,f,Be,k)};
E.Y=function(a,b,c,d,e,f){return ge(this.a,a,b,c,d,e,f)};E.Aa=function(a){de=a||"|"};E.ea=function(){this.set(Cb,[])};E.wa=function(a,b,c,d){var e=this.a;if(0>=a||a>e.get(yb))a=!1;else if(!b||!c||128<b.length+c.length)a=!1;else{1!=d&&2!=d&&(d=3);var f={};f.name=b;f.value=c;f.scope=d;e.get(Fb)[a]=f;a=!0}a&&this.a.gb();return a};E.ka=function(a){this.a.get(Fb)[a]=void 0;this.a.gb()};E.ra=function(a){return(a=this.a.get(Fb)[a])&&1==a.scope?a.value:void 0};
E.Ca=function(a,b,c){12==a&&1==b?this.set(pf,c):this.m().f(a,b,c)};E.Da=function(a,b,c){this.m().o(a,b,c)};E.sa=function(a,b){return this.m().getKey(a,b)};E.ta=function(a,b){return this.m().N(a,b)};E.fa=function(a){this.m().L(a)};E.ga=function(a){this.m().M(a)};E.ja=function(){return new yd};E.W=function(a){a&&this.get(Ab).push(a.toLowerCase())};E.ba=function(){this.set(Ab,[])};E.X=function(a){a&&this.get(Bb).push(a.toLowerCase())};E.ca=function(){this.set(Bb,[])};
E.Z=function(a,b,c,d,e){if(a&&b){a=[a,b.toLowerCase()].join(":");if(d||e)a=[a,d,e].join(":");d=this.get(zb);d.splice(c?0:d.length,0,a)}};E.da=function(){this.set(zb,[])};E.ha=function(a){this.a.load();var b=this.get(P),c=be(this.a);this.set(P,a);this.a.gb();ae(this.a,c);this.set(P,b)};E.ya=function(a,b){if(0<a&&5>=a&&Ca(b)&&""!=b){var c=this.get(Fc)||[];c[a]=b;this.set(Fc,c)}};E.V=function(a){a=""+a;if(a.match(/^[A-Za-z0-9]{1,5}$/)){var b=this.get(Ic)||[];b.push(a);this.set(Ic,b)}};E.initData=function(){this.a.load()};
E.Ba=function(a){a&&""!=a&&(this.set(Tb,a),this.a.j("var"))};var ne=function(a){"trans"!==a.get(sc)&&500<=a.b(cc,0)&&a.stopPropagation();if("event"===a.get(sc)){var b=(new Date).getTime(),c=a.b(dc,0),d=a.b(Zb,0),c=Math.floor((b-(c!=d?c:1E3*c))/1E3*1);0<c&&(a.set(dc,b),a.set(R,Math.min(10,a.b(R,0)+c)));0>=a.b(R,0)&&a.stopPropagation()}},pe=function(a){"event"===a.get(sc)&&a.set(R,Math.max(0,a.b(R,10)-1))};var qe=function(){var a=[];this.add=function(b,c,d){d&&(c=G(""+c));a.push(b+"="+c)};this.toString=function(){return a.join("&")}},re=function(a,b){(b||2!=a.get(xb))&&a.Za(cc)},se=function(a,b){b.add("utmwv","5.6.7");b.add("utms",a.get(cc));b.add("utmn",Ea());var c=J.location.hostname;F(c)||b.add("utmhn",c,!0);c=a.get(vb);100!=c&&b.add("utmsp",c,!0)},te=function(a,b){b.add("utmht",(new Date).getTime());b.add("utmac",Da(a.get(Wa)));a.get(Oc)&&b.add("utmxkey",a.get(Oc),!0);a.get(vc)&&b.add("utmni",1);
a.get(of)&&b.add("utmgtm",a.get(of),!0);var c=a.get(Ic);c&&0<c.length&&b.add("utmdid",c.join("."));ff(a,b);!1!==a.get(Xa)&&(a.get(Xa)||M.w)&&b.add("aip",1);void 0!==a.get(Kc)&&b.add("utmjid",a.c(Kc,""),!0);a.b(Yb,0)&&b.add("utmredir",a.b(Yb,0),!0);M.bb||(M.bb=a.get(Wa));(1<M.ab()||M.bb!=a.get(Wa))&&b.add("utmmt",1);b.add("utmu",od.encode())},ue=function(a,b){for(var c=a.get(Fc)||[],d=[],e=1;e<c.length;e++)c[e]&&d.push(e+":"+G(c[e].replace(/%/g,"%25").replace(/:/g,"%3A").replace(/,/g,"%2C")));d.length&&
b.add("utmpg",d.join(","))},ff=function(a,b){function c(a,b){b&&d.push(a+"="+b+";")}var d=[];c("__utma",cd(a));c("__utmz",hd(a,!1));c("__utmv",fd(a,!0));c("__utmx",be(a));b.add("utmcc",d.join("+"),!0)},ve=function(a,b){a.get(ib)&&(b.add("utmcs",a.get(Qb),!0),b.add("utmsr",a.get(Lb)),a.get(Rb)&&b.add("utmvp",a.get(Rb)),b.add("utmsc",a.get(Mb)),b.add("utmul",a.get(Pb)),b.add("utmje",a.get(Nb)),b.add("utmfl",a.get(Ob),!0))},we=function(a,b){a.get(lb)&&a.get(Ib)&&b.add("utmdt",a.get(Ib),!0);b.add("utmhid",
a.get(Kb));b.add("utmr",Pa(a.get(Jb),a.get(P)),!0);b.add("utmp",G(a.get(Hb),!0),!0)},xe=function(a,b){for(var c=a.get(Db),d=a.get(Eb),e=a.get(Fb)||[],f=0;f<e.length;f++){var Be=e[f];Be&&(c||(c=new yd),c.f(8,f,Be.name),c.f(9,f,Be.value),3!=Be.scope&&c.f(11,f,""+Be.scope))}F(a.get(wc))||F(a.get(xc),!0)||(c||(c=new yd),c.f(5,1,a.get(wc)),c.f(5,2,a.get(xc)),e=a.get(yc),void 0!=e&&c.f(5,3,e),e=a.get(zc),void 0!=e&&c.o(5,1,e));F(a.get(pf))||(c||(c=new yd),c.f(12,1,a.get(pf)));c?b.add("utme",c.Qa(d),!0):
d&&b.add("utme",d.A(),!0)},ye=function(a,b,c){var d=new qe;re(a,c);se(a,d);d.add("utmt","tran");d.add("utmtid",b.id_,!0);d.add("utmtst",b.affiliation_,!0);d.add("utmtto",b.total_,!0);d.add("utmttx",b.tax_,!0);d.add("utmtsp",b.shipping_,!0);d.add("utmtci",b.city_,!0);d.add("utmtrg",b.state_,!0);d.add("utmtco",b.country_,!0);xe(a,d);ve(a,d);we(a,d);(b=a.get(Gb))&&d.add("utmcu",b,!0);c||(ue(a,d),te(a,d));return d.toString()},ze=function(a,b,c){var d=new qe;re(a,c);se(a,d);d.add("utmt","item");d.add("utmtid",
b.transId_,!0);d.add("utmipc",b.sku_,!0);d.add("utmipn",b.name_,!0);d.add("utmiva",b.category_,!0);d.add("utmipr",b.price_,!0);d.add("utmiqt",b.quantity_,!0);xe(a,d);ve(a,d);we(a,d);(b=a.get(Gb))&&d.add("utmcu",b,!0);c||(ue(a,d),te(a,d));return d.toString()},Ae=function(a,b){var c=a.get(sc);if("page"==c)c=new qe,re(a,b),se(a,c),xe(a,c),ve(a,c),we(a,c),b||(ue(a,c),te(a,c)),c=[c.toString()];else if("event"==c)c=new qe,re(a,b),se(a,c),c.add("utmt","event"),xe(a,c),ve(a,c),we(a,c),b||(ue(a,c),te(a,c)),
c=[c.toString()];else if("var"==c)c=new qe,re(a,b),se(a,c),c.add("utmt","var"),!b&&te(a,c),c=[c.toString()];else if("trans"==c)for(var c=[],d=a.get(Cb),e=0;e<d.length;++e){c.push(ye(a,d[e],b));for(var f=d[e].items_,Be=0;Be<f.length;++Be)c.push(ze(a,f[Be],b))}else"social"==c?b?c=[]:(c=new qe,re(a,b),se(a,c),c.add("utmt","social"),c.add("utmsn",a.get(Ac),!0),c.add("utmsa",a.get(Bc),!0),c.add("utmsid",a.get(Cc),!0),xe(a,c),ve(a,c),we(a,c),ue(a,c),te(a,c),c=[c.toString()]):"feedback"==c?b?c=[]:(c=new qe,
re(a,b),se(a,c),c.add("utmt","feedback"),c.add("utmfbid",a.get(Gc),!0),c.add("utmfbpr",a.get(Hc),!0),xe(a,c),ve(a,c),we(a,c),ue(a,c),te(a,c),c=[c.toString()]):c=[];return c},oe=function(a){var b,c=a.get(xb),d=a.get(uc),e=d&&d.Ua,f=0;if(0==c||2==c){var Be=a.get(wb)+"?";b=Ae(a,!0);for(var k=0,Ja=b.length;k<Ja;k++)Sa(b[k],e,Be,!0),f++}if(1==c||2==c)for(b=Ae(a),a=a.c(Jc,""),k=0,Ja=b.length;k<Ja;k++)try{Sa(b[k],e,a),f++}catch(t){t&&Ra(t.name,void 0,t.message)}d&&(d.fb=f)};var Ne=function(){return"https:"==J.location.protocol||M.G?"https://ssl.google-analytics.com":"http://www.google-analytics.com"},Ce=function(a){this.name="len";this.message=a+"-8192"},De=function(a){this.name="ff2post";this.message=a+"-2036"},Sa=function(a,b,c,d){b=b||Fa;if(d||2036>=a.length)gf(a,b,c);else if(8192>=a.length){if(0<=W.navigator.userAgent.indexOf("Firefox")&&![].reduce)throw new De(a.length);df(a,b)||ef(a,b)||Ee(a,b)||b()}else throw new Ce(a.length);},gf=function(a,b,c){c=c||Ne()+"/__utm.gif?";
var d=new Image(1,1);d.src=c+a;d.onload=function(){d.onload=null;d.onerror=null;b()};d.onerror=function(){d.onload=null;d.onerror=null;b()}},ef=function(a,b){if(0!=Ne().indexOf(J.location.protocol))return!1;var c;c=W.XDomainRequest;if(!c)return!1;c=new c;c.open("POST",Ne()+"/p/__utm.gif");c.onerror=function(){b()};c.onload=b;c.send(a);return!0},df=function(a,b){var c=W.XMLHttpRequest;if(!c)return!1;var d=new c;if(!("withCredentials"in d))return!1;d.open("POST",Ne()+"/p/__utm.gif",!0);d.withCredentials=
!0;d.setRequestHeader("Content-Type","text/plain");d.onreadystatechange=function(){4==d.readyState&&(b(),d=null)};d.send(a);return!0},Ee=function(a,b){if(!J.body)return We(function(){Ee(a,b)},100),!0;a=encodeURIComponent(a);try{var c=J.createElement('<iframe name="'+a+'"></iframe>')}catch(d){c=J.createElement("iframe"),c.name=a}c.height="0";c.width="0";c.style.display="none";c.style.visibility="hidden";var e=Ne()+"/u/post_iframe.html";Ga(W,"beforeunload",function(){c.src="";c.parentNode&&c.parentNode.removeChild(c)});
setTimeout(b,1E3);J.body.appendChild(c);c.src=e;return!0};var qf=function(){this.G=this.w=!1;0==Ea()%1E4&&(H(142),this.G=!0);this.C={};this.D=[];this.U=0;this.S=[["www.google-analytics.com","","/plugins/"]];this._gasoCPath=this._gasoDomain=this.bb=void 0;Re();Se()};E=qf.prototype;E.oa=function(a,b){return this.hb(a,void 0,b)};E.hb=function(a,b,c){b&&H(23);c&&H(67);void 0==b&&(b="~"+M.U++);a=new U(b,a,c);M.C[b]=a;M.D.push(a);return a};E.u=function(a){a=a||"";return M.C[a]||M.hb(void 0,a)};E.pa=function(){return M.D.slice(0)};E.ab=function(){return M.D.length};
E.aa=function(){this.w=!0};E.la=function(){this.G=!0};var Fe=function(a){if("prerender"==J.visibilityState)return!1;a();return!0};var M=new qf;var Ha=W._gat;Ha&&Ba(Ha._getTracker)?M=Ha:W._gat=M;var Z=new Y;(function(a){if(!Fe(a)){H(123);var b=!1,c=function(){if(!b&&Fe(a)){b=!0;var d=J,e=c;d.removeEventListener?d.removeEventListener("visibilitychange",e,!1):d.detachEvent&&d.detachEvent("onvisibilitychange",e)}};Ga(J,"visibilitychange",c)}})(function(){var a=W._gaq,b=!1;if(a&&Ba(a.push)&&(b="[object Array]"==Object.prototype.toString.call(Object(a)),!b)){Z=a;return}W._gaq=Z;b&&Z.push.apply(Z,a)});function Yc(a){var b=1,c=0,d;if(a)for(b=0,d=a.length-1;0<=d;d--)c=a.charCodeAt(d),b=(b<<6&268435455)+c+(c<<14),c=b&266338304,b=0!=c?b^c>>21:b;return b};})();
Ô
"@ABC_application/javascript_2https://workflowy.com/media/js/jquery-1.5.1.min.jsO:bplist00ÔfgX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`aU$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_2https://workflowy.com/media/js/jquery-1.5.1.min.jsÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùpg… ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABCDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)_application/javascript_Mon, 16 Mar 2015 21:21:13 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTU85260Xno-cache_"14d0c-5116e6dfe2440"Ò+,^_\NSDictionary¢^/_application/javascriptÒ+,bc_NSHTTPURLResponse£de/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑhi_WebResourceResponse€    # - 2 7 X ^ y | € ƒ † ‰   — š    £ ¦ ¨ ª ¬ ® ° ± ³ µ · ¹ » ½ ¿ Æ Î Ú Ü Þ à%.47@IKMT\gqsuwy{}ƒ‘“•—™›Ÿ¡¬³ÀÎÜáðþ&?_e…‹”¬±¾ÁÚßó÷+.D             j              FO M/*!
 * jQuery JavaScript Library v1.5.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Feb 23 13:55:29 2011 -0500
 */
(function(a,b){function cg(a){return d.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cd(a){if(!bZ[a]){var b=d("<"+a+">").appendTo("body"),c=b.css("display");b.remove();if(c==="none"||c==="")c="block";bZ[a]=c}return bZ[a]}function cc(a,b){var c={};d.each(cb.concat.apply([],cb.slice(0,b)),function(){c[this]=a});return c}function bY(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function bX(){try{return new a.XMLHttpRequest}catch(b){}}function bW(){d(a).unload(function(){for(var a in bU)bU[a](0,1)})}function bQ(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var e=a.dataTypes,f={},g,h,i=e.length,j,k=e[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h==="string"&&(f[h.toLowerCase()]=a.converters[h]);l=k,k=e[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=f[m]||f["* "+k];if(!n){p=b;for(o in f){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=f[j[1]+" "+k];if(p){o=f[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&d.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function bP(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function bO(a,b,c,e){if(d.isArray(b)&&b.length)d.each(b,function(b,f){c||bq.test(a)?e(a,f):bO(a+"["+(typeof f==="object"||d.isArray(f)?b:"")+"]",f,c,e)});else if(c||b==null||typeof b!=="object")e(a,b);else if(d.isArray(b)||d.isEmptyObject(b))e(a,"");else for(var f in b)bO(a+"["+f+"]",b[f],c,e)}function bN(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bH,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l==="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=bN(a,c,d,e,l,g)));(k||!l)&&!g["*"]&&(l=bN(a,c,d,e,"*",g));return l}function bM(a){return function(b,c){typeof b!=="string"&&(c=b,b="*");if(d.isFunction(c)){var e=b.toLowerCase().split(bB),f=0,g=e.length,h,i,j;for(;f<g;f++)h=e[f],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bo(a,b,c){var e=b==="width"?bi:bj,f=b==="width"?a.offsetWidth:a.offsetHeight;if(c==="border")return f;d.each(e,function(){c||(f-=parseFloat(d.css(a,"padding"+this))||0),c==="margin"?f+=parseFloat(d.css(a,"margin"+this))||0:f-=parseFloat(d.css(a,"border"+this+"Width"))||0});return f}function ba(a,b){b.src?d.ajax({url:b.src,async:!1,dataType:"script"}):d.globalEval(b.text||b.textContent||b.innerHTML||""),b.parentNode&&b.parentNode.removeChild(b)}function _(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function $(a,b){if(b.nodeType===1){var c=b.nodeName.toLowerCase();b.clearAttributes(),b.mergeAttributes(a);if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(d.expando)}}function Z(a,b){if(b.nodeType===1&&d.hasData(a)){var c=d.expando,e=d.data(a),f=d.data(b,e);if(e=e[c]){var g=e.events;f=f[c]=d.extend({},e);if(g){delete f.handle,f.events={};for(var h in g)for(var i=0,j=g[h].length;i<j;i++)d.event.add(b,h+(g[h][i].namespace?".":"")+g[h][i].namespace,g[h][i],g[h][i].data)}}}}function Y(a,b){return d.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function O(a,b,c){if(d.isFunction(b))return d.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return d.grep(a,function(a,d){return a===b===c});if(typeof b==="string"){var e=d.grep(a,function(a){return a.nodeType===1});if(J.test(b))return d.filter(b,e,!c);b=d.filter(b,e)}return d.grep(a,function(a,e){return d.inArray(a,b)>=0===c})}function N(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function F(a,b){return(a&&a!=="*"?a+".":"")+b.replace(r,"`").replace(s,"&")}function E(a){var b,c,e,f,g,h,i,j,k,l,m,n,o,q=[],r=[],s=d._data(this,"events");if(a.liveFired!==this&&s&&s.live&&!a.target.disabled&&(!a.button||a.type!=="click")){a.namespace&&(n=new RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")),a.liveFired=this;var t=s.live.slice(0);for(i=0;i<t.length;i++)g=t[i],g.origType.replace(p,"")===a.type?r.push(g.selector):t.splice(i--,1);f=d(a.target).closest(r,a.currentTarget);for(j=0,k=f.length;j<k;j++){m=f[j];for(i=0;i<t.length;i++){g=t[i];if(m.selector===g.selector&&(!n||n.test(g.namespace))&&!m.elem.disabled){h=m.elem,e=null;if(g.preType==="mouseenter"||g.preType==="mouseleave")a.type=g.preType,e=d(a.relatedTarget).closest(g.selector)[0];(!e||e!==h)&&q.push({elem:h,handleObj:g,level:m.level})}}}for(j=0,k=q.length;j<k;j++){f=q[j];if(c&&f.level>c)break;a.currentTarget=f.elem,a.data=f.handleObj.data,a.handleObj=f.handleObj,o=f.handleObj.origHandler.apply(f.elem,arguments);if(o===!1||a.isPropagationStopped()){c=f.level,o===!1&&(b=!1);if(a.isImmediatePropagationStopped())break}}return b}}function C(a,c,e){var f=d.extend({},e[0]);f.type=a,f.originalEvent={},f.liveFired=b,d.event.handle.call(c,f),f.isDefaultPrevented()&&e[0].preventDefault()}function w(){return!0}function v(){return!1}function g(a){for(var b in a)if(b!=="toJSON")return!1;return!0}function f(a,c,f){if(f===b&&a.nodeType===1){f=a.getAttribute("data-"+c);if(typeof f==="string"){try{f=f==="true"?!0:f==="false"?!1:f==="null"?null:d.isNaN(f)?e.test(f)?d.parseJSON(f):f:parseFloat(f)}catch(g){}d.data(a,c,f)}else f=b}return f}var c=a.document,d=function(){function I(){if(!d.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(I,1);return}d.ready()}}var d=function(a,b){return new d.fn.init(a,b,g)},e=a.jQuery,f=a.$,g,h=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,i=/\S/,j=/^\s+/,k=/\s+$/,l=/\d/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=navigator.userAgent,w,x=!1,y,z="then done fail isResolved isRejected promise".split(" "),A,B=Object.prototype.toString,C=Object.prototype.hasOwnProperty,D=Array.prototype.push,E=Array.prototype.slice,F=String.prototype.trim,G=Array.prototype.indexOf,H={};d.fn=d.prototype={constructor:d,init:function(a,e,f){var g,i,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!e&&c.body){this.context=c,this[0]=c.body,this.selector="body",this.length=1;return this}if(typeof a==="string"){g=h.exec(a);if(!g||!g[1]&&e)return!e||e.jquery?(e||f).find(a):this.constructor(e).find(a);if(g[1]){e=e instanceof d?e[0]:e,k=e?e.ownerDocument||e:c,j=m.exec(a),j?d.isPlainObject(e)?(a=[c.createElement(j[1])],d.fn.attr.call(a,e,!0)):a=[k.createElement(j[1])]:(j=d.buildFragment([g[1]],[k]),a=(j.cacheable?d.clone(j.fragment):j.fragment).childNodes);return d.merge(this,a)}i=c.getElementById(g[2]);if(i&&i.parentNode){if(i.id!==g[2])return f.find(a);this.length=1,this[0]=i}this.context=c,this.selector=a;return this}if(d.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return d.makeArray(a,this)},selector:"",jquery:"1.5.1",length:0,size:function(){return this.length},toArray:function(){return E.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var e=this.constructor();d.isArray(a)?D.apply(e,a):d.merge(e,a),e.prevObject=this,e.context=this.context,b==="find"?e.selector=this.selector+(this.selector?" ":"")+c:b&&(e.selector=this.selector+"."+b+"("+c+")");return e},each:function(a,b){return d.each(this,a,b)},ready:function(a){d.bindReady(),y.done(a);return this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(E.apply(this,arguments),"slice",E.call(arguments).join(","))},map:function(a){return this.pushStack(d.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:D,sort:[].sort,splice:[].splice},d.fn.init.prototype=d.fn,d.extend=d.fn.extend=function(){var a,c,e,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i==="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!=="object"&&!d.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){e=i[c],f=a[c];if(i===f)continue;l&&f&&(d.isPlainObject(f)||(g=d.isArray(f)))?(g?(g=!1,h=e&&d.isArray(e)?e:[]):h=e&&d.isPlainObject(e)?e:{},i[c]=d.extend(l,h,f)):f!==b&&(i[c]=f)}return i},d.extend({noConflict:function(b){a.$=f,b&&(a.jQuery=e);return d},isReady:!1,readyWait:1,ready:function(a){a===!0&&d.readyWait--;if(!d.readyWait||a!==!0&&!d.isReady){if(!c.body)return setTimeout(d.ready,1);d.isReady=!0;if(a!==!0&&--d.readyWait>0)return;y.resolveWith(c,[d]),d.fn.trigger&&d(c).trigger("ready").unbind("ready")}},bindReady:function(){if(!x){x=!0;if(c.readyState==="complete")return setTimeout(d.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",A,!1),a.addEventListener("load",d.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",A),a.attachEvent("onload",d.ready);var b=!1;try{b=a.frameElement==null}catch(e){}c.documentElement.doScroll&&b&&I()}}},isFunction:function(a){return d.type(a)==="function"},isArray:Array.isArray||function(a){return d.type(a)==="array"},isWindow:function(a){return a&&typeof a==="object"&&"setInterval"in a},isNaN:function(a){return a==null||!l.test(a)||isNaN(a)},type:function(a){return a==null?String(a):H[B.call(a)]||"object"},isPlainObject:function(a){if(!a||d.type(a)!=="object"||a.nodeType||d.isWindow(a))return!1;if(a.constructor&&!C.call(a,"constructor")&&!C.call(a.constructor.prototype,"isPrototypeOf"))return!1;var c;for(c in a){}return c===b||C.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a},parseJSON:function(b){if(typeof b!=="string"||!b)return null;b=d.trim(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return a.JSON&&a.JSON.parse?a.JSON.parse(b):(new Function("return "+b))();d.error("Invalid JSON: "+b)},parseXML:function(b,c,e){a.DOMParser?(e=new DOMParser,c=e.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b)),e=c.documentElement,(!e||!e.nodeName||e.nodeName==="parsererror")&&d.error("Invalid XML: "+b);return c},noop:function(){},globalEval:function(a){if(a&&i.test(a)){var b=c.head||c.getElementsByTagName("head")[0]||c.documentElement,e=c.createElement("script");d.support.scriptEval()?e.appendChild(c.createTextNode(a)):e.text=a,b.insertBefore(e,b.firstChild),b.removeChild(e)}},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,e){var f,g=0,h=a.length,i=h===b||d.isFunction(a);if(e){if(i){for(f in a)if(c.apply(a[f],e)===!1)break}else for(;g<h;)if(c.apply(a[g++],e)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(var j=a[0];g<h&&c.call(j,g,j)!==!1;j=a[++g]){}return a},trim:F?function(a){return a==null?"":F.call(a)}:function(a){return a==null?"":(a+"").replace(j,"").replace(k,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var e=d.type(a);a.length==null||e==="string"||e==="function"||e==="regexp"||d.isWindow(a)?D.call(c,a):d.merge(c,a)}return c},inArray:function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length==="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,b,c){var d=[],e;for(var f=0,g=a.length;f<g;f++)e=b(a[f],f,c),e!=null&&(d[d.length]=e);return d.concat.apply([],d)},guid:1,proxy:function(a,c,e){arguments.length===2&&(typeof c==="string"?(e=a,a=e[c],c=b):c&&!d.isFunction(c)&&(e=c,c=b)),!c&&a&&(c=function(){return a.apply(e||this,arguments)}),a&&(c.guid=a.guid=a.guid||c.guid||d.guid++);return c},access:function(a,c,e,f,g,h){var i=a.length;if(typeof c==="object"){for(var j in c)d.access(a,j,c[j],f,g,e);return a}if(e!==b){f=!h&&f&&d.isFunction(e);for(var k=0;k<i;k++)g(a[k],c,f?e.call(a[k],k,g(a[k],c)):e,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},_Deferred:function(){var a=[],b,c,e,f={done:function(){if(!e){var c=arguments,g,h,i,j,k;b&&(k=b,b=0);for(g=0,h=c.length;g<h;g++)i=c[g],j=d.type(i),j==="array"?f.done.apply(f,i):j==="function"&&a.push(i);k&&f.resolveWith(k[0],k[1])}return this},resolveWith:function(d,f){if(!e&&!b&&!c){c=1;try{while(a[0])a.shift().apply(d,f)}catch(g){throw g}finally{b=[d,f],c=0}}return this},resolve:function(){f.resolveWith(d.isFunction(this.promise)?this.promise():this,arguments);return this},isResolved:function(){return c||b},cancel:function(){e=1,a=[];return this}};return f},Deferred:function(a){var b=d._Deferred(),c=d._Deferred(),e;d.extend(b,{then:function(a,c){b.done(a).fail(c);return this},fail:c.done,rejectWith:c.resolveWith,reject:c.resolve,isRejected:c.isResolved,promise:function(a){if(a==null){if(e)return e;e=a={}}var c=z.length;while(c--)a[z[c]]=b[z[c]];return a}}),b.done(c.cancel).fail(b.cancel),delete b.cancel,a&&a.call(b,b);return b},when:function(a){var b=arguments.length,c=b<=1&&a&&d.isFunction(a.promise)?a:d.Deferred(),e=c.promise();if(b>1){var f=E.call(arguments,0),g=b,h=function(a){return function(b){f[a]=arguments.length>1?E.call(arguments,0):b,--g||c.resolveWith(e,f)}};while(b--)a=f[b],a&&d.isFunction(a.promise)?a.promise().then(h(b),c.reject):--g;g||c.resolveWith(e,f)}else c!==a&&c.resolve(a);return e},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}d.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.subclass=this.subclass,a.fn.init=function b(b,c){c&&c instanceof d&&!(c instanceof a)&&(c=a(c));return d.fn.init.call(this,b,c,e)},a.fn.init.prototype=a.fn;var e=a(c);return a},browser:{}}),y=d._Deferred(),d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){H["[object "+b+"]"]=b.toLowerCase()}),w=d.uaMatch(v),w.browser&&(d.browser[w.browser]=!0,d.browser.version=w.version),d.browser.webkit&&(d.browser.safari=!0),G&&(d.inArray=function(a,b){return G.call(b,a)}),i.test("Â ")&&(j=/^[\s\xA0]+/,k=/[\s\xA0]+$/),g=d(c),c.addEventListener?A=function(){c.removeEventListener("DOMContentLoaded",A,!1),d.ready()}:c.attachEvent&&(A=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",A),d.ready())});return d}();(function(){d.support={};var b=c.createElement("div");b.style.display="none",b.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var e=b.getElementsByTagName("*"),f=b.getElementsByTagName("a")[0],g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=b.getElementsByTagName("input")[0];if(e&&e.length&&f){d.support={leadingWhitespace:b.firstChild.nodeType===3,tbody:!b.getElementsByTagName("tbody").length,htmlSerialize:!!b.getElementsByTagName("link").length,style:/red/.test(f.getAttribute("style")),hrefNormalized:f.getAttribute("href")==="/a",opacity:/^0.55$/.test(f.style.opacity),cssFloat:!!f.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,deleteExpando:!0,optDisabled:!1,checkClone:!1,noCloneEvent:!0,noCloneChecked:!0,boxModel:null,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableHiddenOffsets:!0},i.checked=!0,d.support.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,d.support.optDisabled=!h.disabled;var j=null;d.support.scriptEval=function(){if(j===null){var b=c.documentElement,e=c.createElement("script"),f="script"+d.now();try{e.appendChild(c.createTextNode("window."+f+"=1;"))}catch(g){}b.insertBefore(e,b.firstChild),a[f]?(j=!0,delete a[f]):j=!1,b.removeChild(e),b=e=f=null}return j};try{delete b.test}catch(k){d.support.deleteExpando=!1}!b.addEventListener&&b.attachEvent&&b.fireEvent&&(b.attachEvent("onclick",function l(){d.support.noCloneEvent=!1,b.detachEvent("onclick",l)}),b.cloneNode(!0).fireEvent("onclick")),b=c.createElement("div"),b.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";var m=c.createDocumentFragment();m.appendChild(b.firstChild),d.support.checkClone=m.cloneNode(!0).cloneNode(!0).lastChild.checked,d(function(){var a=c.createElement("div"),b=c.getElementsByTagName("body")[0];if(b){a.style.width=a.style.paddingLeft="1px",b.appendChild(a),d.boxModel=d.support.boxModel=a.offsetWidth===2,"zoom"in a.style&&(a.style.display="inline",a.style.zoom=1,d.support.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display="",a.innerHTML="<div style='width:4px;'></div>",d.support.shrinkWrapBlocks=a.offsetWidth!==2),a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";var e=a.getElementsByTagName("td");d.support.reliableHiddenOffsets=e[0].offsetHeight===0,e[0].style.display="",e[1].style.display="none",d.support.reliableHiddenOffsets=d.support.reliableHiddenOffsets&&e[0].offsetHeight===0,a.innerHTML="",b.removeChild(a).style.display="none",a=e=null}});var n=function(a){var b=c.createElement("div");a="on"+a;if(!b.attachEvent)return!0;var d=a in b;d||(b.setAttribute(a,"return;"),d=typeof b[a]==="function"),b=null;return d};d.support.submitBubbles=n("submit"),d.support.changeBubbles=n("change"),b=e=f=null}})();var e=/^(?:\{.*\}|\[.*\])$/;d.extend({cache:{},uuid:0,expando:"jQuery"+(d.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?d.cache[a[d.expando]]:a[d.expando];return!!a&&!g(a)},data:function(a,c,e,f){if(d.acceptData(a)){var g=d.expando,h=typeof c==="string",i,j=a.nodeType,k=j?d.cache:a,l=j?a[d.expando]:a[d.expando]&&d.expando;if((!l||f&&l&&!k[l][g])&&h&&e===b)return;l||(j?a[d.expando]=l=++d.uuid:l=d.expando),k[l]||(k[l]={},j||(k[l].toJSON=d.noop));if(typeof c==="object"||typeof c==="function")f?k[l][g]=d.extend(k[l][g],c):k[l]=d.extend(k[l],c);i=k[l],f&&(i[g]||(i[g]={}),i=i[g]),e!==b&&(i[c]=e);if(c==="events"&&!i[c])return i[g]&&i[g].events;return h?i[c]:i}},removeData:function(b,c,e){if(d.acceptData(b)){var f=d.expando,h=b.nodeType,i=h?d.cache:b,j=h?b[d.expando]:d.expando;if(!i[j])return;if(c){var k=e?i[j][f]:i[j];if(k){delete k[c];if(!g(k))return}}if(e){delete i[j][f];if(!g(i[j]))return}var l=i[j][f];d.support.deleteExpando||i!=a?delete i[j]:i[j]=null,l?(i[j]={},h||(i[j].toJSON=d.noop),i[j][f]=l):h&&(d.support.deleteExpando?delete b[d.expando]:b.removeAttribute?b.removeAttribute(d.expando):b[d.expando]=null)}},_data:function(a,b,c){return d.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=d.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),d.fn.extend({data:function(a,c){var e=null;if(typeof a==="undefined"){if(this.length){e=d.data(this[0]);if(this[0].nodeType===1){var g=this[0].attributes,h;for(var i=0,j=g.length;i<j;i++)h=g[i].name,h.indexOf("data-")===0&&(h=h.substr(5),f(this[0],h,e[h]))}}return e}if(typeof a==="object")return this.each(function(){d.data(this,a)});var k=a.split(".");k[1]=k[1]?"."+k[1]:"";if(c===b){e=this.triggerHandler("getData"+k[1]+"!",[k[0]]),e===b&&this.length&&(e=d.data(this[0],a),e=f(this[0],a,e));return e===b&&k[1]?this.data(k[0]):e}return this.each(function(){var b=d(this),e=[k[0],c];b.triggerHandler("setData"+k[1]+"!",e),d.data(this,a,c),b.triggerHandler("changeData"+k[1]+"!",e)})},removeData:function(a){return this.each(function(){d.removeData(this,a)})}}),d.extend({queue:function(a,b,c){if(a){b=(b||"fx")+"queue";var e=d._data(a,b);if(!c)return e||[];!e||d.isArray(c)?e=d._data(a,b,d.makeArray(c)):e.push(c);return e}},dequeue:function(a,b){b=b||"fx";var c=d.queue(a,b),e=c.shift();e==="inprogress"&&(e=c.shift()),e&&(b==="fx"&&c.unshift("inprogress"),e.call(a,function(){d.dequeue(a,b)})),c.length||d.removeData(a,b+"queue",!0)}}),d.fn.extend({queue:function(a,c){typeof a!=="string"&&(c=a,a="fx");if(c===b)return d.queue(this[0],a);return this.each(function(b){var e=d.queue(this,a,c);a==="fx"&&e[0]!=="inprogress"&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,a)})},delay:function(a,b){a=d.fx?d.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(){var c=this;setTimeout(function(){d.dequeue(c,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var h=/[\n\t\r]/g,i=/\s+/,j=/\r/g,k=/^(?:href|src|style)$/,l=/^(?:button|input)$/i,m=/^(?:button|input|object|select|textarea)$/i,n=/^a(?:rea)?$/i,o=/^(?:radio|checkbox)$/i;d.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"},d.fn.extend({attr:function(a,b){return d.access(this,a,b,!0,d.attr)},removeAttr:function(a,b){return this.each(function(){d.attr(this,a,""),this.nodeType===1&&this.removeAttribute(a)})},addClass:function(a){if(d.isFunction(a))return this.each(function(b){var c=d(this);c.addClass(a.call(this,b,c.attr("class")))});if(a&&typeof a==="string"){var b=(a||"").split(i);for(var c=0,e=this.length;c<e;c++){var f=this[c];if(f.nodeType===1)if(f.className){var g=" "+f.className+" ",h=f.className;for(var j=0,k=b.length;j<k;j++)g.indexOf(" "+b[j]+" ")<0&&(h+=" "+b[j]);f.className=d.trim(h)}else f.className=a}}return this},removeClass:function(a){if(d.isFunction(a))return this.each(function(b){var c=d(this);c.removeClass(a.call(this,b,c.attr("class")))});if(a&&typeof a==="string"||a===b){var c=(a||"").split(i);for(var e=0,f=this.length;e<f;e++){var g=this[e];if(g.nodeType===1&&g.className)if(a){var j=(" "+g.className+" ").replace(h," ");for(var k=0,l=c.length;k<l;k++)j=j.replace(" "+c[k]+" "," ");g.className=d.trim(j)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,e=typeof b==="boolean";if(d.isFunction(a))return this.each(function(c){var e=d(this);e.toggleClass(a.call(this,c,e.attr("class"),b),b)});return this.each(function(){if(c==="string"){var f,g=0,h=d(this),j=b,k=a.split(i);while(f=k[g++])j=e?j:!h.hasClass(f),h[j?"addClass":"removeClass"](f)}else if(c==="undefined"||c==="boolean")this.className&&d._data(this,"__className__",this.className),this.className=this.className||a===!1?"":d._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ";for(var c=0,d=this.length;c<d;c++)if((" "+this[c].className+" ").replace(h," ").indexOf(b)>-1)return!0;return!1},val:function(a){if(!arguments.length){var c=this[0];if(c){if(d.nodeName(c,"option")){var e=c.attributes.value;return!e||e.specified?c.value:c.text}if(d.nodeName(c,"select")){var f=c.selectedIndex,g=[],h=c.options,i=c.type==="select-one";if(f<0)return null;for(var k=i?f:0,l=i?f+1:h.length;k<l;k++){var m=h[k];if(m.selected&&(d.support.optDisabled?!m.disabled:m.getAttribute("disabled")===null)&&(!m.parentNode.disabled||!d.nodeName(m.parentNode,"optgroup"))){a=d(m).val();if(i)return a;g.push(a)}}if(i&&!g.length&&h.length)return d(h[f]).val();return g}if(o.test(c.type)&&!d.support.checkOn)return c.getAttribute("value")===null?"on":c.value;return(c.value||"").replace(j,"")}return b}var n=d.isFunction(a);return this.each(function(b){var c=d(this),e=a;if(this.nodeType===1){n&&(e=a.call(this,b,c.val())),e==null?e="":typeof e==="number"?e+="":d.isArray(e)&&(e=d.map(e,function(a){return a==null?"":a+""}));if(d.isArray(e)&&o.test(this.type))this.checked=d.inArray(c.val(),e)>=0;else if(d.nodeName(this,"select")){var f=d.makeArray(e);d("option",this).each(function(){this.selected=d.inArray(d(this).val(),f)>=0}),f.length||(this.selectedIndex=-1)}else this.value=e}})}}),d.extend({attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,e,f){if(!a||a.nodeType===3||a.nodeType===8||a.nodeType===2)return b;if(f&&c in d.attrFn)return d(a)[c](e);var g=a.nodeType!==1||!d.isXMLDoc(a),h=e!==b;c=g&&d.props[c]||c;if(a.nodeType===1){var i=k.test(c);if(c==="selected"&&!d.support.optSelected){var j=a.parentNode;j&&(j.selectedIndex,j.parentNode&&j.parentNode.selectedIndex)}if((c in a||a[c]!==b)&&g&&!i){h&&(c==="type"&&l.test(a.nodeName)&&a.parentNode&&d.error("type property can't be changed"),e===null?a.nodeType===1&&a.removeAttribute(c):a[c]=e);if(d.nodeName(a,"form")&&a.getAttributeNode(c))return a.getAttributeNode(c).nodeValue;if(c==="tabIndex"){var o=a.getAttributeNode("tabIndex");return o&&o.specified?o.value:m.test(a.nodeName)||n.test(a.nodeName)&&a.href?0:b}return a[c]}if(!d.support.style&&g&&c==="style"){h&&(a.style.cssText=""+e);return a.style.cssText}h&&a.setAttribute(c,""+e);if(!a.attributes[c]&&(a.hasAttribute&&!a.hasAttribute(c)))return b;var p=!d.support.hrefNormalized&&g&&i?a.getAttribute(c,2):a.getAttribute(c);return p===null?b:p}h&&(a[c]=e);return a[c]}});var p=/\.(.*)$/,q=/^(?:textarea|input|select)$/i,r=/\./g,s=/ /g,t=/[^\w\s.|`]/g,u=function(a){return a.replace(t,"\\$&")};d.event={add:function(c,e,f,g){if(c.nodeType!==3&&c.nodeType!==8){try{d.isWindow(c)&&(c!==a&&!c.frameElement)&&(c=a)}catch(h){}if(f===!1)f=v;else if(!f)return;var i,j;f.handler&&(i=f,f=i.handler),f.guid||(f.guid=d.guid++);var k=d._data(c);if(!k)return;var l=k.events,m=k.handle;l||(k.events=l={}),m||(k.handle=m=function(){return typeof d!=="undefined"&&!d.event.triggered?d.event.handle.apply(m.elem,arguments):b}),m.elem=c,e=e.split(" ");var n,o=0,p;while(n=e[o++]){j=i?d.extend({},i):{handler:f,data:g},n.indexOf(".")>-1?(p=n.split("."),n=p.shift(),j.namespace=p.slice(0).sort().join(".")):(p=[],j.namespace=""),j.type=n,j.guid||(j.guid=f.guid);var q=l[n],r=d.event.special[n]||{};if(!q){q=l[n]=[];if(!r.setup||r.setup.call(c,g,p,m)===!1)c.addEventListener?c.addEventListener(n,m,!1):c.attachEvent&&c.attachEvent("on"+n,m)}r.add&&(r.add.call(c,j),j.handler.guid||(j.handler.guid=f.guid)),q.push(j),d.event.global[n]=!0}c=null}},global:{},remove:function(a,c,e,f){if(a.nodeType!==3&&a.nodeType!==8){e===!1&&(e=v);var g,h,i,j,k=0,l,m,n,o,p,q,r,s=d.hasData(a)&&d._data(a),t=s&&s.events;if(!s||!t)return;c&&c.type&&(e=c.handler,c=c.type);if(!c||typeof c==="string"&&c.charAt(0)==="."){c=c||"";for(h in t)d.event.remove(a,h+c);return}c=c.split(" ");while(h=c[k++]){r=h,q=null,l=h.indexOf(".")<0,m=[],l||(m=h.split("."),h=m.shift(),n=new RegExp("(^|\\.)"+d.map(m.slice(0).sort(),u).join("\\.(?:.*\\.)?")+"(\\.|$)")),p=t[h];if(!p)continue;if(!e){for(j=0;j<p.length;j++){q=p[j];if(l||n.test(q.namespace))d.event.remove(a,r,q.handler,j),p.splice(j--,1)}continue}o=d.event.special[h]||{};for(j=f||0;j<p.length;j++){q=p[j];if(e.guid===q.guid){if(l||n.test(q.namespace))f==null&&p.splice(j--,1),o.remove&&o.remove.call(a,q);if(f!=null)break}}if(p.length===0||f!=null&&p.length===1)(!o.teardown||o.teardown.call(a,m)===!1)&&d.removeEvent(a,h,s.handle),g=null,delete t[h]}if(d.isEmptyObject(t)){var w=s.handle;w&&(w.elem=null),delete s.events,delete s.handle,d.isEmptyObject(s)&&d.removeData(a,b,!0)}}},trigger:function(a,c,e){var f=a.type||a,g=arguments[3];if(!g){a=typeof a==="object"?a[d.expando]?a:d.extend(d.Event(f),a):d.Event(f),f.indexOf("!")>=0&&(a.type=f=f.slice(0,-1),a.exclusive=!0),e||(a.stopPropagation(),d.event.global[f]&&d.each(d.cache,function(){var b=d.expando,e=this[b];e&&e.events&&e.events[f]&&d.event.trigger(a,c,e.handle.elem)}));if(!e||e.nodeType===3||e.nodeType===8)return b;a.result=b,a.target=e,c=d.makeArray(c),c.unshift(a)}a.currentTarget=e;var h=d._data(e,"handle");h&&h.apply(e,c);var i=e.parentNode||e.ownerDocument;try{e&&e.nodeName&&d.noData[e.nodeName.toLowerCase()]||e["on"+f]&&e["on"+f].apply(e,c)===!1&&(a.result=!1,a.preventDefault())}catch(j){}if(!a.isPropagationStopped()&&i)d.event.trigger(a,c,i,!0);else if(!a.isDefaultPrevented()){var k,l=a.target,m=f.replace(p,""),n=d.nodeName(l,"a")&&m==="click",o=d.event.special[m]||{};if((!o._default||o._default.call(e,a)===!1)&&!n&&!(l&&l.nodeName&&d.noData[l.nodeName.toLowerCase()])){try{l[m]&&(k=l["on"+m],k&&(l["on"+m]=null),d.event.triggered=!0,l[m]())}catch(q){}k&&(l["on"+m]=k),d.event.triggered=!1}}},handle:function(c){var e,f,g,h,i,j=[],k=d.makeArray(arguments);c=k[0]=d.event.fix(c||a.event),c.currentTarget=this,e=c.type.indexOf(".")<0&&!c.exclusive,e||(g=c.type.split("."),c.type=g.shift(),j=g.slice(0).sort(),h=new RegExp("(^|\\.)"+j.join("\\.(?:.*\\.)?")+"(\\.|$)")),c.namespace=c.namespace||j.join("."),i=d._data(this,"events"),f=(i||{})[c.type];if(i&&f){f=f.slice(0);for(var l=0,m=f.length;l<m;l++){var n=f[l];if(e||h.test(n.namespace)){c.handler=n.handler,c.data=n.data,c.handleObj=n;var o=n.handler.apply(this,k);o!==b&&(c.result=o,o===!1&&(c.preventDefault(),c.stopPropagation()));if(c.isImmediatePropagationStopped())break}}}return c.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a){if(a[d.expando])return a;var e=a;a=d.Event(e);for(var f=this.props.length,g;f;)g=this.props[--f],a[g]=e[g];a.target||(a.target=a.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);if(a.pageX==null&&a.clientX!=null){var h=c.documentElement,i=c.body;a.pageX=a.clientX+(h&&h.scrollLeft||i&&i.scrollLeft||0)-(h&&h.clientLeft||i&&i.clientLeft||0),a.pageY=a.clientY+(h&&h.scrollTop||i&&i.scrollTop||0)-(h&&h.clientTop||i&&i.clientTop||0)}a.which==null&&(a.charCode!=null||a.keyCode!=null)&&(a.which=a.charCode!=null?a.charCode:a.keyCode),!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey),!a.which&&a.button!==b&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1e8,proxy:d.proxy,special:{ready:{setup:d.bindReady,teardown:d.noop},live:{add:function(a){d.event.add(this,F(a.origType,a.selector),d.extend({},a,{handler:E,guid:a.handler.guid}))},remove:function(a){d.event.remove(this,F(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,c){d.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}}},d.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},d.Event=function(a){if(!this.preventDefault)return new d.Event(a);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?w:v):this.type=a,this.timeStamp=d.now(),this[d.expando]=!0},d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=w;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=w;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=w,this.stopPropagation()},isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v};var x=function(a){var b=a.relatedTarget;try{if(b!==c&&!b.parentNode)return;while(b&&b!==this)b=b.parentNode;b!==this&&(a.type=a.data,d.event.handle.apply(this,arguments))}catch(e){}},y=function(a){a.type=a.data,d.event.handle.apply(this,arguments)};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){d.event.special[a]={setup:function(c){d.event.add(this,b,c&&c.selector?y:x,a)},teardown:function(a){d.event.remove(this,b,a&&a.selector?y:x)}}}),d.support.submitBubbles||(d.event.special.submit={setup:function(a,b){if(this.nodeName&&this.nodeName.toLowerCase()!=="form")d.event.add(this,"click.specialSubmit",function(a){var b=a.target,c=b.type;(c==="submit"||c==="image")&&d(b).closest("form").length&&C("submit",this,arguments)}),d.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,c=b.type;(c==="text"||c==="password")&&d(b).closest("form").length&&a.keyCode===13&&C("submit",this,arguments)});else return!1},teardown:function(a){d.event.remove(this,".specialSubmit")}});if(!d.support.changeBubbles){var z,A=function(a){var b=a.type,c=a.value;b==="radio"||b==="checkbox"?c=a.checked:b==="select-multiple"?c=a.selectedIndex>-1?d.map(a.options,function(a){return a.selected}).join("-"):"":a.nodeName.toLowerCase()==="select"&&(c=a.selectedIndex);return c},B=function B(a){var c=a.target,e,f;if(q.test(c.nodeName)&&!c.readOnly){e=d._data(c,"_change_data"),f=A(c),(a.type!=="focusout"||c.type!=="radio")&&d._data(c,"_change_data",f);if(e===b||f===e)return;if(e!=null||f)a.type="change",a.liveFired=b,d.event.trigger(a,arguments[1],c)}};d.event.special.change={filters:{focusout:B,beforedeactivate:B,click:function(a){var b=a.target,c=b.type;(c==="radio"||c==="checkbox"||b.nodeName.toLowerCase()==="select")&&B.call(this,a)},keydown:function(a){var b=a.target,c=b.type;(a.keyCode===13&&b.nodeName.toLowerCase()!=="textarea"||a.keyCode===32&&(c==="checkbox"||c==="radio")||c==="select-multiple")&&B.call(this,a)},beforeactivate:function(a){var b=a.target;d._data(b,"_change_data",A(b))}},setup:function(a,b){if(this.type==="file")return!1;for(var c in z)d.event.add(this,c+".specialChange",z[c]);return q.test(this.nodeName)},teardown:function(a){d.event.remove(this,".specialChange");return q.test(this.nodeName)}},z=d.event.special.change.filters,z.focus=z.beforeactivate}c.addEventListener&&d.each({focus:"focusin",blur:"focusout"},function(a,b){function c(a){a=d.event.fix(a),a.type=b;return d.event.handle.call(this,a)}d.event.special[b]={setup:function(){this.addEventListener(a,c,!0)},teardown:function(){this.removeEventListener(a,c,!0)}}}),d.each(["bind","one"],function(a,c){d.fn[c]=function(a,e,f){if(typeof a==="object"){for(var g in a)this[c](g,e,a[g],f);return this}if(d.isFunction(e)||e===!1)f=e,e=b;var h=c==="one"?d.proxy(f,function(a){d(this).unbind(a,h);return f.apply(this,arguments)}):f;if(a==="unload"&&c!=="one")this.one(a,e,f);else for(var i=0,j=this.length;i<j;i++)d.event.add(this[i],a,h,e);return this}}),d.fn.extend({unbind:function(a,b){if(typeof a!=="object"||a.preventDefault)for(var e=0,f=this.length;e<f;e++)d.event.remove(this[e],a,b);else for(var c in a)this.unbind(c,a[c]);return this},delegate:function(a,b,c,d){return this.live(b,c,d,a)},undelegate:function(a,b,c){return arguments.length===0?this.unbind("live"):this.die(b,null,c,a)},trigger:function(a,b){return this.each(function(){d.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){var c=d.Event(a);c.preventDefault(),c.stopPropagation(),d.event.trigger(c,b,this[0]);return c.result}},toggle:function(a){var b=arguments,c=1;while(c<b.length)d.proxy(a,b[c++]);return this.click(d.proxy(a,function(e){var f=(d._data(this,"lastToggle"+a.guid)||0)%c;d._data(this,"lastToggle"+a.guid,f+1),e.preventDefault();return b[f].apply(this,arguments)||!1}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var D={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};d.each(["live","die"],function(a,c){d.fn[c]=function(a,e,f,g){var h,i=0,j,k,l,m=g||this.selector,n=g?this:d(this.context);if(typeof a==="object"&&!a.preventDefault){for(var o in a)n[c](o,e,a[o],m);return this}d.isFunction(e)&&(f=e,e=b),a=(a||"").split(" ");while((h=a[i++])!=null){j=p.exec(h),k="",j&&(k=j[0],h=h.replace(p,""));if(h==="hover"){a.push("mouseenter"+k,"mouseleave"+k);continue}l=h,h==="focus"||h==="blur"?(a.push(D[h]+k),h=h+k):h=(D[h]||h)+k;if(c==="live")for(var q=0,r=n.length;q<r;q++)d.event.add(n[q],"live."+F(h,m),{data:e,selector:m,handler:f,origType:h,origHandler:f,preType:l});else n.unbind("live."+F(h,m),f)}return this}}),d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){d.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.bind(b,a,c):this.trigger(b)},d.attrFn&&(d.attrFn[b]=!0)}),function(){function u(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;g++){var i=d[g];if(i){var j=!1;i=i[a];while(i){if(i.sizcache===c){j=d[i.sizset];break}if(i.nodeType===1){f||(i.sizcache=c,i.sizset=g);if(typeof b!=="string"){if(i===b){j=!0;break}}else if(k.filter(b,[i]).length>0){j=i;break}}i=i[a]}d[g]=j}}}function t(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;g++){var i=d[g];if(i){var j=!1;i=i[a];while(i){if(i.sizcache===c){j=d[i.sizset];break}i.nodeType===1&&!f&&(i.sizcache=c,i.sizset=g);if(i.nodeName.toLowerCase()===b){j=i;break}i=i[a]}d[g]=j}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,f=Object.prototype.toString,g=!1,h=!0,i=/\\/g,j=/\W/;[0,0].sort(function(){h=!1;return 0});var k=function(b,d,e,g){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!=="string")return e;var i,j,n,o,q,r,s,t,u=!0,w=k.isXML(d),x=[],y=b;do{a.exec(""),i=a.exec(y);if(i){y=i[3],x.push(i[1]);if(i[2]){o=i[3];break}}}while(i);if(x.length>1&&m.exec(b))if(x.length===2&&l.relative[x[0]])j=v(x[0]+x[1],d);else{j=l.relative[x[0]]?[d]:k(x.shift(),d);while(x.length)b=x.shift(),l.relative[b]&&(b+=x.shift()),j=v(b,j)}else{!g&&x.length>1&&d.nodeType===9&&!w&&l.match.ID.test(x[0])&&!l.match.ID.test(x[x.length-1])&&(q=k.find(x.shift(),d,w),d=q.expr?k.filter(q.expr,q.set)[0]:q.set[0]);if(d){q=g?{expr:x.pop(),set:p(g)}:k.find(x.pop(),x.length===1&&(x[0]==="~"||x[0]==="+")&&d.parentNode?d.parentNode:d,w),j=q.expr?k.filter(q.expr,q.set):q.set,x.length>0?n=p(j):u=!1;while(x.length)r=x.pop(),s=r,l.relative[r]?s=x.pop():r="",s==null&&(s=d),l.relative[r](n,s,w)}else n=x=[]}n||(n=j),n||k.error(r||b);if(f.call(n)==="[object Array]")if(u)if(d&&d.nodeType===1)for(t=0;n[t]!=null;t++)n[t]&&(n[t]===!0||n[t].nodeType===1&&k.contains(d,n[t]))&&e.push(j[t]);else for(t=0;n[t]!=null;t++)n[t]&&n[t].nodeType===1&&e.push(j[t]);else e.push.apply(e,n);else p(n,e);o&&(k(o,h,e,g),k.uniqueSort(e));return e};k.uniqueSort=function(a){if(r){g=h,a.sort(r);if(g)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},k.matches=function(a,b){return k(a,null,null,b)},k.matchesSelector=function(a,b){return k(b,null,null,[a]).length>0},k.find=function(a,b,c){var d;if(!a)return[];for(var e=0,f=l.order.length;e<f;e++){var g,h=l.order[e];if(g=l.leftMatch[h].exec(a)){var j=g[1];g.splice(1,1);if(j.substr(j.length-1)!=="\\"){g[1]=(g[1]||"").replace(i,""),d=l.find[h](g,b,c);if(d!=null){a=a.replace(l.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!=="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},k.filter=function(a,c,d,e){var f,g,h=a,i=[],j=c,m=c&&c[0]&&k.isXML(c[0]);while(a&&c.length){for(var n in l.filter)if((f=l.leftMatch[n].exec(a))!=null&&f[2]){var o,p,q=l.filter[n],r=f[1];g=!1,f.splice(1,1);if(r.substr(r.length-1)==="\\")continue;j===i&&(i=[]);if(l.preFilter[n]){f=l.preFilter[n](f,j,d,i,e,m);if(f){if(f===!0)continue}else g=o=!0}if(f)for(var s=0;(p=j[s])!=null;s++)if(p){o=q(p,f,s,j);var t=e^!!o;d&&o!=null?t?g=!0:j[s]=!1:t&&(i.push(p),g=!0)}if(o!==b){d||(j=i),a=a.replace(l.match[n],"");if(!g)return[];break}}if(a===h)if(g==null)k.error(a);else break;h=a}return j},k.error=function(a){throw"Syntax error, unrecognized expression: "+a};var l=k.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b==="string",d=c&&!j.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1){}a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&k.filter(b,a,!0)},">":function(a,b){var c,d=typeof b==="string",e=0,f=a.length;if(d&&!j.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&k.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=u;typeof b==="string"&&!j.test(b)&&(b=b.toLowerCase(),d=b,g=t),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=u;typeof b==="string"&&!j.test(b)&&(b=b.toLowerCase(),d=b,g=t),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!=="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(i,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(i,"")},TAG:function(a,b){return a[1].replace(i,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||k.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&k.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(i,"");!f&&l.attrMap[g]&&(a[1]=l.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(i,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=k(b[3],null,null,c);else{var g=k.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(l.match.POS.test(b[0])||l.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!k(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.getAttribute("type")},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=l.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||k.getText([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}k.error(e)},CHILD:function(a,b){var c=b[1],d=a;switch(c){case"only":case"first":while(d=d.previousSibling)if(d.nodeType===1)return!1;if(c==="first")return!0;d=a;case"last":while(d=d.nextSibling)if(d.nodeType===1)return!1;return!0;case"nth":var e=b[2],f=b[3];if(e===1&&f===0)return!0;var g=b[0],h=a.parentNode;if(h&&(h.sizcache!==g||!a.nodeIndex)){var i=0;for(d=h.firstChild;d;d=d.nextSibling)d.nodeType===1&&(d.nodeIndex=++i);h.sizcache=g}var j=a.nodeIndex-f;return e===0?j===0:j%e===0&&j/e>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=l.attrHandle[c]?l.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=l.setFilters[e];if(f)return f(a,c,b,d)}}},m=l.match.POS,n=function(a,b){return"\\"+(b-0+1)};for(var o in l.match)l.match[o]=new RegExp(l.match[o].source+/(?![^\[]*\])(?![^\(]*\))/.source),l.leftMatch[o]=new RegExp(/(^(?:.|\r|\n)*?)/.source+l.match[o].source.replace(/\\(\d+)/g,n));var p=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(q){p=function(a,b){var c=0,d=b||[];if(f.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length==="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var r,s;c.documentElement.compareDocumentPosition?r=function(a,b){if(a===b){g=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(r=function(a,b){var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(a===b){g=!0;return 0}if(h===i)return s(a,b);if(!h)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return s(e[k],f[k]);return k===c?s(a,f[k],-1):s(e[k],b,1)},s=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),k.getText=function(a){var b="",c;for(var d=0;a[d];d++)c=a[d],c.nodeType===3||c.nodeType===4?b+=c.nodeValue:c.nodeType!==8&&(b+=k.getText(c.childNodes));return b},function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(l.find.ID=function(a,c,d){if(typeof c.getElementById!=="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},l.filter.ID=function(a,b){var c=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(l.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(l.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=k,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){k=function(b,e,f,g){e=e||c;if(!g&&!k.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return p(e.getElementsByTagName(b),f);if(h[2]&&l.find.CLASS&&e.getElementsByClassName)return p(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return p([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return p([],f);if(i.id===h[3])return p([i],f)}try{return p(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var m=e,n=e.getAttribute("id"),o=n||d,q=e.parentNode,r=/^\s*[+~]/.test(b);n?o=o.replace(/'/g,"\\$&"):e.setAttribute("id",o),r&&q&&(e=e.parentNode);try{if(!r||q)return p(e.querySelectorAll("[id='"+o+"'] "+b),f)}catch(s){}finally{n||m.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)k[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector,d=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(e){d=!0}b&&(k.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!k.isXML(a))try{if(d||!l.match.PSEUDO.test(c)&&!/!=/.test(c))return b.call(a,c)}catch(e){}return k(c,null,null,[a]).length>0})}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;l.order.splice(1,0,"CLASS"),l.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!=="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?k.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?k.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:k.contains=function(){return!1},k.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var v=function(a,b){var c,d=[],e="",f=b.nodeType?[b]:b;while(c=l.match.PSEUDO.exec(a))e+=c[0],a=a.replace(l.match.PSEUDO,"");a=l.relative[a]?a+"*":a;for(var g=0,h=f.length;g<h;g++)k(a,f[g],d);return k.filter(e,d)};d.find=k,d.expr=k.selectors,d.expr[":"]=d.expr.filters,d.unique=k.uniqueSort,d.text=k.getText,d.isXMLDoc=k.isXML,d.contains=k.contains}();var G=/Until$/,H=/^(?:parents|prevUntil|prevAll)/,I=/,/,J=/^.[^:#\[\.,]*$/,K=Array.prototype.slice,L=d.expr.match.POS,M={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(a){var b=this.pushStack("","find",a),c=0;for(var e=0,f=this.length;e<f;e++){c=b.length,d.find(a,this[e],b);if(e>0)for(var g=c;g<b.length;g++)for(var h=0;h<c;h++)if(b[h]===b[g]){b.splice(g--,1);break}}return b},has:function(a){var b=d(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(d.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(O(this,a,!1),"not",a)},filter:function(a){return this.pushStack(O(this,a,!0),"filter",a)},is:function(a){return!!a&&d.filter(a,this).length>0},closest:function(a,b){var c=[],e,f,g=this[0];if(d.isArray(a)){var h,i,j={},k=1;if(g&&a.length){for(e=0,f=a.length;e<f;e++)i=a[e],j[i]||(j[i]=d.expr.match.POS.test(i)?d(i,b||this.context):i);while(g&&g.ownerDocument&&g!==b){for(i in j)h=j[i],(h.jquery?h.index(g)>-1:d(g).is(h))&&c.push({selector:i,elem:g,level:k});g=g.parentNode,k++}}return c}var l=L.test(a)?d(a,b||this.context):null;for(e=0,f=this.length;e<f;e++){g=this[e];while(g){if(l?l.index(g)>-1:d.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b)break}}c=c.length>1?d.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a||typeof a==="string")return d.inArray(this[0],a?d(a):this.parent().children());return d.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a==="string"?d(a,b):d.makeArray(a),e=d.merge(this.get(),c);return this.pushStack(N(c[0])||N(e[0])?e:d.unique(e))},andSelf:function(){return this.add(this.prevObject)}}),d.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return d.dir(a,"parentNode")},parentsUntil:function(a,b,c){return d.dir(a,"parentNode",c)},next:function(a){return d.nth(a,2,"nextSibling")},prev:function(a){return d.nth(a,2,"previousSibling")},nextAll:function(a){return d.dir(a,"nextSibling")},prevAll:function(a){return d.dir(a,"previousSibling")},nextUntil:function(a,b,c){return d.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return d.dir(a,"previousSibling",c)},siblings:function(a){return d.sibling(a.parentNode.firstChild,a)},children:function(a){return d.sibling(a.firstChild)},contents:function(a){return d.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:d.makeArray(a.childNodes)}},function(a,b){d.fn[a]=function(c,e){var f=d.map(this,b,c),g=K.call(arguments);G.test(a)||(e=c),e&&typeof e==="string"&&(f=d.filter(e,f)),f=this.length>1&&!M[a]?d.unique(f):f,(this.length>1||I.test(e))&&H.test(a)&&(f=f.reverse());return this.pushStack(f,a,g.join(","))}}),d.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?d.find.matchesSelector(b[0],a)?[b[0]]:[]:d.find.matches(a,b)},dir:function(a,c,e){var f=[],g=a[c];while(g&&g.nodeType!==9&&(e===b||g.nodeType!==1||!d(g).is(e)))g.nodeType===1&&f.push(g),g=g[c];return f},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var P=/ jQuery\d+="(?:\d+|null)"/g,Q=/^\s+/,R=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,S=/<([\w:]+)/,T=/<tbody/i,U=/<|&#?\w+;/,V=/<(?:script|object|embed|option|style)/i,W=/checked\s*(?:[^=]|=\s*.checked.)/i,X={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};X.optgroup=X.option,X.tbody=X.tfoot=X.colgroup=X.caption=X.thead,X.th=X.td,d.support.htmlSerialize||(X._default=[1,"div<div>","</div>"]),d.fn.extend({text:function(a){if(d.isFunction(a))return this.each(function(b){var c=d(this);c.text(a.call(this,b,c.text()))});if(typeof a!=="object"&&a!==b)return this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a));return d.text(this)},wrapAll:function(a){if(d.isFunction(a))return this.each(function(b){d(this).wrapAll(a.call(this,b))});if(this[0]){var b=d(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(d.isFunction(a))return this.each(function(b){d(this).wrapInner(a.call(this,b))});return this.each(function(){var b=d(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){d(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=d(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,d(arguments[0]).toArray());return a}},remove:function(a,b){for(var c=0,e;(e=this[c])!=null;c++)if(!a||d.filter(a,[e]).length)!b&&e.nodeType===1&&(d.cleanData(e.getElementsByTagName("*")),d.cleanData([e])),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&d.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return d.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(P,""):null;if(typeof a!=="string"||V.test(a)||!d.support.leadingWhitespace&&Q.test(a)||X[(S.exec(a)||["",""])[1].toLowerCase()])d.isFunction(a)?this.each(function(b){var c=d(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);else{a=a.replace(R,"<$1></$2>");try{for(var c=0,e=this.length;c<e;c++)this[c].nodeType===1&&(d.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(f){this.empty().append(a)}}return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(d.isFunction(a))return this.each(function(b){var c=d(this),e=c.html();c.replaceWith(a.call(this,b,e))});typeof a!=="string"&&(a=d(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;d(this).remove(),b?d(b).before(a):d(c).append(a)})}return this.pushStack(d(d.isFunction(a)?a():a),"replaceWith",a)},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,e){var f,g,h,i,j=a[0],k=[];if(!d.support.checkClone&&arguments.length===3&&typeof j==="string"&&W.test(j))return this.each(function(){d(this).domManip(a,c,e,!0)});if(d.isFunction(j))return this.each(function(f){var g=d(this);a[0]=j.call(this,f,c?g.html():b),g.domManip(a,c,e)});if(this[0]){i=j&&j.parentNode,d.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?f={fragment:i}:f=d.buildFragment(a,this,k),h=f.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&d.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)e.call(c?Y(this[l],g):this[l],f.cacheable||m>1&&l<n?d.clone(h,!0,!0):h)}k.length&&d.each(k,ba)}return this}}),d.buildFragment=function(a,b,e){var f,g,h,i=b&&b[0]?b[0].ownerDocument||b[0]:c;a.length===1&&typeof a[0]==="string"&&a[0].length<512&&i===c&&a[0].charAt(0)==="<"&&!V.test(a[0])&&(d.support.checkClone||!W.test(a[0]))&&(g=!0,h=d.fragments[a[0]],h&&(h!==1&&(f=h))),f||(f=i.createDocumentFragment(),d.clean(a,i,f,e)),g&&(d.fragments[a[0]]=h?f:1);return{fragment:f,cacheable:g}},d.fragments={},d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){d.fn[a]=function(c){var e=[],f=d(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&f.length===1){f[b](this[0]);return this}for(var h=0,i=f.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();d(f[h])[b](j),e=e.concat(j)}return this.pushStack(e,a,f.selector)}}),d.extend({clone:function(a,b,c){var e=a.cloneNode(!0),f,g,h;if((!d.support.noCloneEvent||!d.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!d.isXMLDoc(a)){$(a,e),f=_(a),g=_(e);for(h=0;f[h];++h)$(f[h],g[h])}if(b){Z(a,e);if(c){f=_(a),g=_(e);for(h=0;f[h];++h)Z(f[h],g[h])}}return e},clean:function(a,b,e,f){b=b||c,typeof b.createElement==="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var g=[];for(var h=0,i;(i=a[h])!=null;h++){typeof i==="number"&&(i+="");if(!i)continue;if(typeof i!=="string"||U.test(i)){if(typeof i==="string"){i=i.replace(R,"<$1></$2>");var j=(S.exec(i)||["",""])[1].toLowerCase(),k=X[j]||X._default,l=k[0],m=b.createElement("div");m.innerHTML=k[1]+i+k[2];while(l--)m=m.lastChild;if(!d.support.tbody){var n=T.test(i),o=j==="table"&&!n?m.firstChild&&m.firstChild.childNodes:k[1]==="<table>"&&!n?m.childNodes:[];for(var p=o.length-1;p>=0;--p)d.nodeName(o[p],"tbody")&&!o[p].childNodes.length&&o[p].parentNode.removeChild(o[p])}!d.support.leadingWhitespace&&Q.test(i)&&m.insertBefore(b.createTextNode(Q.exec(i)[0]),m.firstChild),i=m.childNodes}}else i=b.createTextNode(i);i.nodeType?g.push(i):g=d.merge(g,i)}if(e)for(h=0;g[h];h++)!f||!d.nodeName(g[h],"script")||g[h].type&&g[h].type.toLowerCase()!=="text/javascript"?(g[h].nodeType===1&&g.splice.apply(g,[h+1,0].concat(d.makeArray(g[h].getElementsByTagName("script")))),e.appendChild(g[h])):f.push(g[h].parentNode?g[h].parentNode.removeChild(g[h]):g[h]);return g},cleanData:function(a){var b,c,e=d.cache,f=d.expando,g=d.event.special,h=d.support.deleteExpando;for(var i=0,j;(j=a[i])!=null;i++){if(j.nodeName&&d.noData[j.nodeName.toLowerCase()])continue;c=j[d.expando];if(c){b=e[c]&&e[c][f];if(b&&b.events){for(var k in b.events)g[k]?d.event.remove(j,k):d.removeEvent(j,k,b.handle);b.handle&&(b.handle.elem=null)}h?delete j[d.expando]:j.removeAttribute&&j.removeAttribute(d.expando),delete e[c]}}}});var bb=/alpha\([^)]*\)/i,bc=/opacity=([^)]*)/,bd=/-([a-z])/ig,be=/([A-Z])/g,bf=/^-?\d+(?:px)?$/i,bg=/^-?\d/,bh={position:"absolute",visibility:"hidden",display:"block"},bi=["Left","Right"],bj=["Top","Bottom"],bk,bl,bm,bn=function(a,b){return b.toUpperCase()};d.fn.css=function(a,c){if(arguments.length===2&&c===b)return this;return d.access(this,a,c,!0,function(a,c,e){return e!==b?d.style(a,c,e):d.css(a,c)})},d.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bk(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{zIndex:!0,fontWeight:!0,opacity:!0,zoom:!0,lineHeight:!0},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,e,f){if(a&&a.nodeType!==3&&a.nodeType!==8&&a.style){var g,h=d.camelCase(c),i=a.style,j=d.cssHooks[h];c=d.cssProps[h]||h;if(e===b){if(j&&"get"in j&&(g=j.get(a,!1,f))!==b)return g;return i[c]}if(typeof e==="number"&&isNaN(e)||e==null)return;typeof e==="number"&&!d.cssNumber[h]&&(e+="px");if(!j||!("set"in j)||(e=j.set(a,e))!==b)try{i[c]=e}catch(k){}}},css:function(a,c,e){var f,g=d.camelCase(c),h=d.cssHooks[g];c=d.cssProps[g]||g;if(h&&"get"in h&&(f=h.get(a,!0,e))!==b)return f;if(bk)return bk(a,c,g)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]},camelCase:function(a){return a.replace(bd,bn)}}),d.curCSS=d.css,d.each(["height","width"],function(a,b){d.cssHooks[b]={get:function(a,c,e){var f;if(c){a.offsetWidth!==0?f=bo(a,b,e):d.swap(a,bh,function(){f=bo(a,b,e)});if(f<=0){f=bk(a,b,b),f==="0px"&&bm&&(f=bm(a,b,b));if(f!=null)return f===""||f==="auto"?"0px":f}if(f<0||f==null){f=a.style[b];return f===""||f==="auto"?"0px":f}return typeof f==="string"?f:f+"px"}},set:function(a,b){if(!bf.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),d.support.opacity||(d.cssHooks.opacity={get:function(a,b){return bc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style;c.zoom=1;var e=d.isNaN(b)?"":"alpha(opacity="+b*100+")",f=c.filter||"";c.filter=bb.test(f)?f.replace(bb,e):c.filter+" "+e}}),c.defaultView&&c.defaultView.getComputedStyle&&(bl=function(a,c,e){var f,g,h;e=e.replace(be,"-$1").toLowerCase();if(!(g=a.ownerDocument.defaultView))return b;if(h=g.getComputedStyle(a,null))f=h.getPropertyValue(e),f===""&&!d.contains(a.ownerDocument.documentElement,a)&&(f=d.style(a,e));return f}),c.documentElement.currentStyle&&(bm=function(a,b){var c,d=a.currentStyle&&a.currentStyle[b],e=a.runtimeStyle&&a.runtimeStyle[b],f=a.style;!bf.test(d)&&bg.test(d)&&(c=f.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left=b==="fontSize"?"1em":d||0,d=f.pixelLeft+"px",f.left=c,e&&(a.runtimeStyle.left=e));return d===""?"auto":d}),bk=bl||bm,d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!d.support.reliableHiddenOffsets&&(a.style.display||d.css(a,"display"))==="none"},d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)});var bp=/%20/g,bq=/\[\]$/,br=/\r?\n/g,bs=/#.*$/,bt=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bu=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bv=/(?:^file|^widget|\-extension):$/,bw=/^(?:GET|HEAD)$/,bx=/^\/\//,by=/\?/,bz=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bA=/^(?:select|textarea)/i,bB=/\s+/,bC=/([?&])_=[^&]*/,bD=/(^|\-)([a-z])/g,bE=function(a,b,c){return b+c.toUpperCase()},bF=/^([\w\+\.\-]+:)\/\/([^\/?#:]*)(?::(\d+))?/,bG=d.fn.load,bH={},bI={},bJ,bK;try{bJ=c.location.href}catch(bL){bJ=c.createElement("a"),bJ.href="",bJ=bJ.href}bK=bF.exec(bJ.toLowerCase()),d.fn.extend({load:function(a,c,e){if(typeof a!=="string"&&bG)return bG.apply(this,arguments);if(!this.length)return this;var f=a.indexOf(" ");if(f>=0){var g=a.slice(f,a.length);a=a.slice(0,f)}var h="GET";c&&(d.isFunction(c)?(e=c,c=b):typeof c==="object"&&(c=d.param(c,d.ajaxSettings.traditional),h="POST"));var i=this;d.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?d("<div>").append(c.replace(bz,"")).find(g):c)),e&&i.each(e,[c,b,a])}});return this},serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?d.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bA.test(this.nodeName)||bu.test(this.type))}).map(function(a,b){var c=d(this).val();return c==null?null:d.isArray(c)?d.map(c,function(a,c){return{name:b.name,value:a.replace(br,"\r\n")}}):{name:b.name,value:c.replace(br,"\r\n")}}).get()}}),d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){d.fn[b]=function(a){return this.bind(b,a)}}),d.each(["get","post"],function(a,c){d[c]=function(a,e,f,g){d.isFunction(e)&&(g=g||f,f=e,e=b);return d.ajax({type:c,url:a,data:e,success:f,dataType:g})}}),d.extend({getScript:function(a,c){return d.get(a,b,c,"script")},getJSON:function(a,b,c){return d.get(a,b,c,"json")},ajaxSetup:function(a,b){b?d.extend(!0,a,d.ajaxSettings,b):(b=a,a=d.extend(!0,d.ajaxSettings,b));for(var c in {context:1,url:1})c in b?a[c]=b[c]:c in d.ajaxSettings&&(a[c]=d.ajaxSettings[c]);return a},ajaxSettings:{url:bJ,isLocal:bv.test(bK[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML}},ajaxPrefilter:bM(bH),ajaxTransport:bM(bI),ajax:function(a,c){function v(a,c,l,n){if(r!==2){r=2,p&&clearTimeout(p),o=b,m=n||"",u.readyState=a?4:0;var q,t,v,w=l?bP(e,u,l):b,x,y;if(a>=200&&a<300||a===304){if(e.ifModified){if(x=u.getResponseHeader("Last-Modified"))d.lastModified[k]=x;if(y=u.getResponseHeader("Etag"))d.etag[k]=y}if(a===304)c="notmodified",q=!0;else try{t=bQ(e,w),c="success",q=!0}catch(z){c="parsererror",v=z}}else{v=c;if(!c||a)c="error",a<0&&(a=0)}u.status=a,u.statusText=c,q?h.resolveWith(f,[t,c,u]):h.rejectWith(f,[u,c,v]),u.statusCode(j),j=b,s&&g.trigger("ajax"+(q?"Success":"Error"),[u,e,q?t:v]),i.resolveWith(f,[u,c]),s&&(g.trigger("ajaxComplete",[u,e]),--d.active||d.event.trigger("ajaxStop"))}}typeof a==="object"&&(c=a,a=b),c=c||{};var e=d.ajaxSetup({},c),f=e.context||e,g=f!==e&&(f.nodeType||f instanceof d)?d(f):d.event,h=d.Deferred(),i=d._Deferred(),j=e.statusCode||{},k,l={},m,n,o,p,q,r=0,s,t,u={readyState:0,setRequestHeader:function(a,b){r||(l[a.toLowerCase().replace(bD,bE)]=b);return this},getAllResponseHeaders:function(){return r===2?m:null},getResponseHeader:function(a){var c;if(r===2){if(!n){n={};while(c=bt.exec(m))n[c[1].toLowerCase()]=c[2]}c=n[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){r||(e.mimeType=a);return this},abort:function(a){a=a||"abort",o&&o.abort(a),v(0,a);return this}};h.promise(u),u.success=u.done,u.error=u.fail,u.complete=i.done,u.statusCode=function(a){if(a){var b;if(r<2)for(b in a)j[b]=[j[b],a[b]];else b=a[u.status],u.then(b,b)}return this},e.url=((a||e.url)+"").replace(bs,"").replace(bx,bK[1]+"//"),e.dataTypes=d.trim(e.dataType||"*").toLowerCase().split(bB),e.crossDomain||(q=bF.exec(e.url.toLowerCase()),e.crossDomain=q&&(q[1]!=bK[1]||q[2]!=bK[2]||(q[3]||(q[1]==="http:"?80:443))!=(bK[3]||(bK[1]==="http:"?80:443)))),e.data&&e.processData&&typeof e.data!=="string"&&(e.data=d.param(e.data,e.traditional)),bN(bH,e,c,u);if(r===2)return!1;s=e.global,e.type=e.type.toUpperCase(),e.hasContent=!bw.test(e.type),s&&d.active++===0&&d.event.trigger("ajaxStart");if(!e.hasContent){e.data&&(e.url+=(by.test(e.url)?"&":"?")+e.data),k=e.url;if(e.cache===!1){var w=d.now(),x=e.url.replace(bC,"$1_="+w);e.url=x+(x===e.url?(by.test(e.url)?"&":"?")+"_="+w:"")}}if(e.data&&e.hasContent&&e.contentType!==!1||c.contentType)l["Content-Type"]=e.contentType;e.ifModified&&(k=k||e.url,d.lastModified[k]&&(l["If-Modified-Since"]=d.lastModified[k]),d.etag[k]&&(l["If-None-Match"]=d.etag[k])),l.Accept=e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", */*; q=0.01":""):e.accepts["*"];for(t in e.headers)u.setRequestHeader(t,e.headers[t]);if(e.beforeSend&&(e.beforeSend.call(f,u,e)===!1||r===2)){u.abort();return!1}for(t in {success:1,error:1,complete:1})u[t](e[t]);o=bN(bI,e,c,u);if(o){u.readyState=1,s&&g.trigger("ajaxSend",[u,e]),e.async&&e.timeout>0&&(p=setTimeout(function(){u.abort("timeout")},e.timeout));try{r=1,o.send(l,v)}catch(y){status<2?v(-1,y):d.error(y)}}else v(-1,"No Transport");return u},param:function(a,c){var e=[],f=function(a,b){b=d.isFunction(b)?b():b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=d.ajaxSettings.traditional);if(d.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,function(){f(this.name,this.value)});else for(var g in a)bO(g,a[g],c,f);return e.join("&").replace(bp,"+")}}),d.extend({active:0,lastModified:{},etag:{}});var bR=d.now(),bS=/(\=)\?(&|$)|()\?\?()/i;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return d.expando+"_"+bR++}}),d.ajaxPrefilter("json jsonp",function(b,c,e){var f=typeof b.data==="string";if(b.dataTypes[0]==="jsonp"||c.jsonpCallback||c.jsonp!=null||b.jsonp!==!1&&(bS.test(b.url)||f&&bS.test(b.data))){var g,h=b.jsonpCallback=d.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2",m=function(){a[h]=i,g&&d.isFunction(i)&&a[h](g[0])};b.jsonp!==!1&&(j=j.replace(bS,l),b.url===j&&(f&&(k=k.replace(bS,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},e.then(m,m),b.converters["script json"]=function(){g||d.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){d.globalEval(a);return a}}}),d.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),d.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var bT=d.now(),bU,bV;d.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&bX()||bY()}:bX,bV=d.ajaxSettings.xhr(),d.support.ajax=!!bV,d.support.cors=bV&&"withCredentials"in bV,bV=b,d.support.ajax&&d.ajaxTransport(function(a){if(!a.crossDomain||d.support.cors){var c;return{send:function(e,f){var g=a.xhr(),h,i;a.username?g.open(a.type,a.url,a.async,a.username,a.password):g.open(a.type,a.url,a.async);if(a.xhrFields)for(i in a.xhrFields)g[i]=a.xhrFields[i];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType),(!a.crossDomain||a.hasContent)&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(i in e)g.setRequestHeader(i,e[i])}catch(j){}g.send(a.hasContent&&a.data||null),c=function(e,i){var j,k,l,m,n;try{if(c&&(i||g.readyState===4)){c=b,h&&(g.onreadystatechange=d.noop,delete bU[h]);if(i)g.readyState!==4&&g.abort();else{j=g.status,l=g.getAllResponseHeaders(),m={},n=g.responseXML,n&&n.documentElement&&(m.xml=n),m.text=g.responseText;try{k=g.statusText}catch(o){k=""}j||!a.isLocal||a.crossDomain?j===1223&&(j=204):j=m.text?200:404}}}catch(p){i||f(-1,p)}m&&f(j,k,m,l)},a.async&&g.readyState!==4?(bU||(bU={},bW()),h=bT++,g.onreadystatechange=bU[h]=c):c()},abort:function(){c&&c(0,1)}}}});var bZ={},b$=/^(?:toggle|show|hide)$/,b_=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ca,cb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];d.fn.extend({show:function(a,b,c){var e,f;if(a||a===0)return this.animate(cc("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)e=this[g],f=e.style.display,!d._data(e,"olddisplay")&&f==="none"&&(f=e.style.display=""),f===""&&d.css(e,"display")==="none"&&d._data(e,"olddisplay",cd(e.nodeName));for(g=0;g<h;g++){e=this[g],f=e.style.display;if(f===""||f==="none")e.style.display=d._data(e,"olddisplay")||""}return this},hide:function(a,b,c){if(a||a===0)return this.animate(cc("hide",3),a,b,c);for(var e=0,f=this.length;e<f;e++){var g=d.css(this[e],"display");g!=="none"&&!d._data(this[e],"olddisplay")&&d._data(this[e],"olddisplay",g)}for(e=0;e<f;e++)this[e].style.display="none";return this},_toggle:d.fn.toggle,toggle:function(a,b,c){var e=typeof a==="boolean";d.isFunction(a)&&d.isFunction(b)?this._toggle.apply(this,arguments):a==null||e?this.each(function(){var b=e?a:d(this).is(":hidden");d(this)[b?"show":"hide"]()}):this.animate(cc("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,e){var f=d.speed(b,c,e);if(d.isEmptyObject(a))return this.each(f.complete);return this[f.queue===!1?"each":"queue"](function(){var b=d.extend({},f),c,e=this.nodeType===1,g=e&&d(this).is(":hidden"),h=this;for(c in a){var i=d.camelCase(c);c!==i&&(a[i]=a[c],delete a[c],c=i);if(a[c]==="hide"&&g||a[c]==="show"&&!g)return b.complete.call(this);if(e&&(c==="height"||c==="width")){b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(d.css(this,"display")==="inline"&&d.css(this,"float")==="none")if(d.support.inlineBlockNeedsLayout){var j=cd(this.nodeName);j==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)}else this.style.display="inline-block"}d.isArray(a[c])&&((b.specialEasing=b.specialEasing||{})[c]=a[c][1],a[c]=a[c][0])}b.overflow!=null&&(this.style.overflow="hidden"),b.curAnim=d.extend({},a),d.each(a,function(c,e){var f=new d.fx(h,b,c);if(b$.test(e))f[e==="toggle"?g?"show":"hide":e](a);else{var i=b_.exec(e),j=f.cur();if(i){var k=parseFloat(i[2]),l=i[3]||(d.cssNumber[c]?"":"px");l!=="px"&&(d.style(h,c,(k||1)+l),j=(k||1)/f.cur()*j,d.style(h,c,j+l)),i[1]&&(k=(i[1]==="-="?-1:1)*k+j),f.custom(j,k,l)}else f.custom(j,e,"")}});return!0})},stop:function(a,b){var c=d.timers;a&&this.queue([]),this.each(function(){for(var a=c.length-1;a>=0;a--)c[a].elem===this&&(b&&c[a](!0),c.splice(a,1))}),b||this.dequeue();return this}}),d.each({slideDown:cc("show",1),slideUp:cc("hide",1),slideToggle:cc("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){d.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),d.extend({speed:function(a,b,c){var e=a&&typeof a==="object"?d.extend({},a):{complete:c||!c&&b||d.isFunction(a)&&a,duration:a,easing:c&&b||b&&!d.isFunction(b)&&b};e.duration=d.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in d.fx.speeds?d.fx.speeds[e.duration]:d.fx.speeds._default,e.old=e.complete,e.complete=function(){e.queue!==!1&&d(this).dequeue(),d.isFunction(e.old)&&e.old.call(this)};return e},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig||(b.orig={})}}),d.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(d.fx.step[this.prop]||d.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=d.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,b,c){function g(a){return e.step(a)}var e=this,f=d.fx;this.startTime=d.now(),this.start=a,this.end=b,this.unit=c||this.unit||(d.cssNumber[this.prop]?"":"px"),this.now=this.start,this.pos=this.state=0,g.elem=this.elem,g()&&d.timers.push(g)&&!ca&&(ca=setInterval(f.tick,f.interval))},show:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop),this.options.show=!0,this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),d(this.elem).show()},hide:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b=d.now(),c=!0;if(a||b>=this.options.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),this.options.curAnim[this.prop]=!0;for(var e in this.options.curAnim)this.options.curAnim[e]!==!0&&(c=!1);if(c){if(this.options.overflow!=null&&!d.support.shrinkWrapBlocks){var f=this.elem,g=this.options;d.each(["","X","Y"],function(a,b){f.style["overflow"+b]=g.overflow[a]})}this.options.hide&&d(this.elem).hide();if(this.options.hide||this.options.show)for(var h in this.options.curAnim)d.style(this.elem,h,this.options.orig[h]);this.options.complete.call(this.elem)}return!1}var i=b-this.startTime;this.state=i/this.options.duration;var j=this.options.specialEasing&&this.options.specialEasing[this.prop],k=this.options.easing||(d.easing.swing?"swing":"linear");this.pos=d.easing[j||k](this.state,i,0,1,this.options.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update();return!0}},d.extend(d.fx,{tick:function(){var a=d.timers;for(var b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||d.fx.stop()},interval:13,stop:function(){clearInterval(ca),ca=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){d.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}}),d.expr&&d.expr.filters&&(d.expr.filters.animated=function(a){return d.grep(d.timers,function(b){return a===b.elem}).length});var ce=/^t(?:able|d|h)$/i,cf=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?d.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){d.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return d.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,g=f.documentElement;if(!c||!d.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=f.body,i=cg(f),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||d.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||d.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:d.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){d.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return d.offset.bodyOffset(b);d.offset.initialize();var c,e=b.offsetParent,f=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(d.offset.supportsFixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===e&&(l+=b.offsetTop,m+=b.offsetLeft,d.offset.doesNotAddBorder&&(!d.offset.doesAddBorderForTableAndCells||!ce.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),f=e,e=b.offsetParent),d.offset.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;d.offset.supportsFixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft));return{top:l,left:m}},d.offset={initialize:function(){var a=c.body,b=c.createElement("div"),e,f,g,h,i=parseFloat(d.css(a,"marginTop"))||0,j="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";d.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"}),b.innerHTML=j,a.insertBefore(b,a.firstChild),e=b.firstChild,f=e.firstChild,h=e.nextSibling.firstChild.firstChild,this.doesNotAddBorder=f.offsetTop!==5,this.doesAddBorderForTableAndCells=h.offsetTop===5,f.style.position="fixed",f.style.top="20px",this.supportsFixedPosition=f.offsetTop===20||f.offsetTop===15,f.style.position=f.style.top="",e.style.overflow="hidden",e.style.position="relative",this.subtractsBorderForOverflowNotVisible=f.offsetTop===-5,this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==i,a.removeChild(b),a=b=e=f=g=h=null,d.offset.initialize=d.noop},bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;d.offset.initialize(),d.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(d.css(a,"marginTop"))||0,c+=parseFloat(d.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var e=d.css(a,"position");e==="static"&&(a.style.position="relative");var f=d(a),g=f.offset(),h=d.css(a,"top"),i=d.css(a,"left"),j=e==="absolute"&&d.inArray("auto",[h,i])>-1,k={},l={},m,n;j&&(l=f.position()),m=j?l.top:parseInt(h,10)||0,n=j?l.left:parseInt(i,10)||0,d.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):f.css(k)}},d.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),e=cf.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(d.css(a,"marginTop"))||0,c.left-=parseFloat(d.css(a,"marginLeft"))||0,e.top+=parseFloat(d.css(b[0],"borderTopWidth"))||0,e.left+=parseFloat(d.css(b[0],"borderLeftWidth"))||0;return{top:c.top-e.top,left:c.left-e.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&(!cf.test(a.nodeName)&&d.css(a,"position")==="static"))a=a.offsetParent;return a})}}),d.each(["Left","Top"],function(a,c){var e="scroll"+c;d.fn[e]=function(c){var f=this[0],g;if(!f)return null;if(c!==b)return this.each(function(){g=cg(this),g?g.scrollTo(a?d(g).scrollLeft():c,a?c:d(g).scrollTop()):this[e]=c});g=cg(f);return g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:d.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:f[e]}}),d.each(["Height","Width"],function(a,c){var e=c.toLowerCase();d.fn["inner"+c]=function(){return this[0]?parseFloat(d.css(this[0],e,"padding")):null},d.fn["outer"+c]=function(a){return this[0]?parseFloat(d.css(this[0],e,a?"margin":"border")):null},d.fn[e]=function(a){var f=this[0];if(!f)return a==null?null:this;if(d.isFunction(a))return this.each(function(b){var c=d(this);c[e](a.call(this,b,c[e]()))});if(d.isWindow(f)){var g=f.document.documentElement["client"+c];return f.document.compatMode==="CSS1Compat"&&g||f.document.body["client"+c]||g}if(f.nodeType===9)return Math.max(f.documentElement["client"+c],f.body["scroll"+c],f.documentElement["scroll"+c],f.body["offset"+c],f.documentElement["offset"+c]);if(a===b){var h=d.css(f,e),i=parseFloat(h);return d.isNaN(i)?h:i}return this.css(e,typeof a==="string"?a:a+"px")}}),a.jQuery=a.$=d})(window);Ô
"EFGH_application/javascript_=https://workflowy.com/media/js/jquery-ui-1.8.18.custom.min.jsODbplist00ÔfgX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`aU$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_=https://workflowy.com/media/js/jquery-ui-1.8.18.custom.min.jsÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùpg“h ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABCDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)_application/javascript_Mon, 16 Mar 2015 21:21:13 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTU57948Xno-cache_"e25c-5116e6dfe2440"Ò+,^_\NSDictionary¢^/_application/javascriptÒ+,bc_NSHTTPURLResponse£de/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑhi_WebResourceResponse€    # - 2 7 X ^ y | € ƒ † ‰   — š    £ ¦ ¨ ª ¬ ® ° ± ³ µ · ¹ » ½ ¿ Æ Î Ú Ü Þ à %09?BKTVX_gr|~€‚„†ˆŠŒŽ˜šœž ¢¤¦¨ª¬·¾ËÙçìû	1Jjp–Ÿ¶»ÈËäéý#58N             j              POâ\/*!
 * jQuery UI 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */(function(a,b){function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;if(!b.href||!g||f.nodeName.toLowerCase()!=="map")return!1;h=a("img[usemap=#"+g+"]")[0];return!!h&&d(h)}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:"1.8.18",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function h(b,c,d,f){a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)});return c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){if(c===b)return g["inner"+d].call(this);return this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){if(typeof b!="number")return g["outer"+d].call(this,b);return this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!!d&&!!a.element[0].parentNode)for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;if(b[d]>0)return!0;b[d]=1,e=b[d]>0,b[d]=0;return e},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}}))})(jQuery);/*!
 * jQuery UI Widget 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */(function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}});return d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e;if(f&&e.charAt(0)==="_")return h;f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b){h=f;return!1}}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))});return h}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}this._setOptions(e);return this},_setOptions:function(b){var c=this;a.each(b,function(a,b){c._setOption(a,b)});return this},_setOption:function(a,b){this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);this.element.trigger(c,d);return!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}})(jQuery);/*!
 * jQuery UI Mouse 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */(function(a,b){var c=!1;a(document).mouseup(function(a){c=!1}),a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent")){a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation();return!1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){if(!c){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=b.which==1,f=typeof this.options.cancel=="string"&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted){b.preventDefault();return!0}}!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0;return!0}},_mouseMove:function(b){if(a.browser.msie&&!(document.documentMode>=9)&&!b.button)return this._mouseUp(b);if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b));return!this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})})(jQuery);/*
 * jQuery UI Position 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */(function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e="center",f={},g=a.fn.position,h=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return g.apply(this,arguments);b=a.extend({},b);var h=a(b.of),i=h[0],j=(b.collision||"flip").split(" "),k=b.offset?b.offset.split(" "):[0,0],l,m,n;i.nodeType===9?(l=h.width(),m=h.height(),n={top:0,left:0}):i.setTimeout?(l=h.width(),m=h.height(),n={top:h.scrollTop(),left:h.scrollLeft()}):i.preventDefault?(b.at="left top",l=m=0,n={top:b.of.pageY,left:b.of.pageX}):(l=h.outerWidth(),m=h.outerHeight(),n=h.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" ");a.length===1&&(a=c.test(a[0])?a.concat([e]):d.test(a[0])?[e].concat(a):[e,e]),a[0]=c.test(a[0])?a[0]:e,a[1]=d.test(a[1])?a[1]:e,b[this]=a}),j.length===1&&(j[1]=j[0]),k[0]=parseInt(k[0],10)||0,k.length===1&&(k[1]=k[0]),k[1]=parseInt(k[1],10)||0,b.at[0]==="right"?n.left+=l:b.at[0]===e&&(n.left+=l/2),b.at[1]==="bottom"?n.top+=m:b.at[1]===e&&(n.top+=m/2),n.left+=k[0],n.top+=k[1];return this.each(function(){var c=a(this),d=c.outerWidth(),g=c.outerHeight(),h=parseInt(a.curCSS(this,"marginLeft",!0))||0,i=parseInt(a.curCSS(this,"marginTop",!0))||0,o=d+h+(parseInt(a.curCSS(this,"marginRight",!0))||0),p=g+i+(parseInt(a.curCSS(this,"marginBottom",!0))||0),q=a.extend({},n),r;b.my[0]==="right"?q.left-=d:b.my[0]===e&&(q.left-=d/2),b.my[1]==="bottom"?q.top-=g:b.my[1]===e&&(q.top-=g/2),f.fractions||(q.left=Math.round(q.left),q.top=Math.round(q.top)),r={left:q.left-h,top:q.top-i},a.each(["left","top"],function(c,e){a.ui.position[j[c]]&&a.ui.position[j[c]][e](q,{targetWidth:l,targetHeight:m,elemWidth:d,elemHeight:g,collisionPosition:r,collisionWidth:o,collisionHeight:p,offset:k,my:b.my,at:b.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(q,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]!==e){var d=a(window),f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),g=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,h=c.at[0]==="left"?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0}},top:function(b,c){if(c.at[1]!==e){var d=a(window),f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),g=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,h=c.at[1]==="top"?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,h={top:c.top-e.top+f,left:c.left-e.left+g};"using"in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];if(!c||!c.ownerDocument)return null;if(b)return this.each(function(){a.offset.setOffset(this,b)});return h.call(this)}),function(){var b=document.getElementsByTagName("body")[0],c=document.createElement("div"),d,e,g,h,i;d=document.createElement(b?"div":"body"),g={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},b&&a.extend(g,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in g)d.style[j]=g[j];d.appendChild(c),e=b||document.documentElement,e.insertBefore(d,e.firstChild),c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",h=a(c).offset(function(a,b){return b}).offset(),d.innerHTML="",e.removeChild(d),i=h.top+h.left+(b?2e3:0),f.fractions=i>21&&i<22}()})(jQuery);/*
 * jQuery UI Draggable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */(function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(!!this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy();return this}},_mouseCapture:function(b){var c=this.options;if(this.helper||c.disabled||a(b.target).is(".ui-resizable-handle"))return!1;this.handle=this._getHandle(b);if(!this.handle)return!1;c.iframeFix&&a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")});return!0},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment();if(this._trigger("start",b)===!1){this._clear();return!1}this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b);return!0},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1){this._mouseUp({});return!1}this.position=d.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",b)!==!1&&d._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b);return a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)});return c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element;d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute");return d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[b.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:a(window).scrollLeft())+a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:a(window).scrollTop())+(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment),d=c[0];if(!d)return;var e=c.offset(),f=a(d).css("overflow")!="hidden";this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),b=="drag"&&(this.positionAbs=this._convertPositionTo("absolute"));return a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.18"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this,f=function(b){var c=this.offset.click.top,d=this.offset.click.left,e=this.positionAbs.top,f=this.positionAbs.left,g=b.height,h=b.width,i=b.top,j=b.left;return a.ui.isOver(e+c,f+d,i,j,g,h)};a.each(d.sortables,function(f){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c){var d=a("body"),e=a(this).data("draggable").options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(b,c){var d=a(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!="x")d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!="y")d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!="x")b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!="y")b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c){var d=a(this).data("draggable"),e=d.options;d.snapElements=[],a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height;for(var k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(!(l-f<g&&g<m+f&&n-f<i&&i<o+f||l-f<g&&g<m+f&&n-f<j&&j<o+f||l-f<h&&h<m+f&&n-f<i&&i<o+f||l-f<h&&h<m+f&&n-f<j&&j<o+f)){d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1;continue}if(e.snapMode!="inner"){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if(e.snapMode!="outer"){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}}}),a.ui.plugin.add("draggable","stack",{start:function(b,c){var d=a(this).data("draggable").options,e=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(!!e.length){var f=parseInt(e[0].style.zIndex)||0;a(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})})(jQuery);/*
 * jQuery UI Droppable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Droppables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggable.js
 */(function(a,b){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];for(var c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(b,c){b=="accept"&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)){e=!0;return!1}});if(e)return!1;if(this.accept.call(this.element[0],d.currentItem||d.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d));return this.element}return!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"1.8.18"}),a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,f=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,h=g+b.helperProportions.height,i=c.offset.left,j=i+c.proportions.width,k=c.offset.top,l=k+c.proportions.height;switch(d){case"fit":return i<=e&&f<=j&&k<=g&&h<=l;case"intersect":return i<e+b.helperProportions.width/2&&f-b.helperProportions.width/2<j&&k<g+b.helperProportions.height/2&&h-b.helperProportions.height/2<l;case"pointer":var m=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,n=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,o=a.ui.isOver(n,m,k,i,c.proportions.height,c.proportions.width);return o;case"touch":return(g>=k&&g<=l||h>=k&&h<=l||g<k&&h>l)&&(e>=i&&e<=j||f>=i&&f<=j||e<i&&f>j);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf();droppablesLoop:for(var g=0;g<d.length;g++){if(d[g].options.disabled||b&&!d[g].accept.call(d[g].element[0],b.currentItem||b.element))continue;for(var h=0;h<f.length;h++)if(f[h]==d[g].element[0]){d[g].proportions.height=0;continue droppablesLoop}d[g].visible=d[g].element.css("display")!="none";if(!d[g].visible)continue;e=="mousedown"&&d[g]._activate.call(d[g],c),d[g].offset=d[g].element.offset(),d[g].proportions={width:d[g].element[0].offsetWidth,height:d[g].element[0].offsetHeight}}},drop:function(b,c){var d=!1;a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){!this.options||(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))});return d},dragStart:function(b,c){b.element.parents(":not(body,html)").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var d=a.ui.intersect(b,this,this.options.tolerance),e=!d&&this.isover==1?"isout":d&&this.isover==0?"isover":null;if(!e)return;var f;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");g.length&&(f=a.data(g[0],"droppable"),f.greedyChild=e=="isover"?1:0)}f&&e=="isover"&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this[e=="isout"?"isover":"isout"]=0,this[e=="isover"?"_over":"_out"].call(this,c),f&&e=="isout"&&(f.isout=0,f.isover=1,f._over.call(f,c))}})},dragStop:function(b,c){b.element.parents(":not(body,html)").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}})(jQuery);/*
 * jQuery UI Button 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Button
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */(function(a,b){var c,d,e,f,g="ui-button ui-widget ui-state-default ui-corner-all",h="ui-state-hover ui-state-active ",i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},k=function(b){var c=b.name,d=b.form,e=a([]);c&&(d?e=a(d).find("[name='"+c+"']"):e=a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form}));return e};a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",j),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,h=this.options,i=this.type==="checkbox"||this.type==="radio",l="ui-state-hover"+(i?"":" ui-state-active"),m="ui-state-focus";h.label===null&&(h.label=this.buttonElement.html()),this.buttonElement.addClass(g).attr("role","button").bind("mouseenter.button",function(){h.disabled||(a(this).addClass("ui-state-hover"),this===c&&a(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){h.disabled||a(this).removeClass(l)}).bind("click.button",function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus.button",function(){b.buttonElement.addClass(m)}).bind("blur.button",function(){b.buttonElement.removeClass(m)}),i&&(this.element.bind("change.button",function(){f||b.refresh()}),this.buttonElement.bind("mousedown.button",function(a){h.disabled||(f=!1,d=a.pageX,e=a.pageY)}).bind("mouseup.button",function(a){!h.disabled&&(d!==a.pageX||e!==a.pageY)&&(f=!0)})),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).toggleClass("ui-state-active"),b.buttonElement.attr("aria-pressed",b.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var c=b.element[0];k(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(h.disabled)return!1;a(this).addClass("ui-state-active"),c=this,a(document).one("mouseup",function(){c=null})}).bind("mouseup.button",function(){if(h.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){if(h.disabled)return!1;(b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";if(this.type==="checkbox"||this.type==="radio"){var a=this.element.parents().filter(":last"),b="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible");var c=this.element.is(":checked");c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",c)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(g+" "+h+" "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);b==="disabled"?c?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1):this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b),this.type==="radio"?k(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass(i),c=a("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}}),a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){b==="disabled"&&this.buttons.button("option",b,c),a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var b=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),a.Widget.prototype.destroy.call(this)}})})(jQuery);/*
 * jQuery UI Dialog 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Dialog
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */(function(a,b){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},f=a.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var b=this,d=b.options,e=d.title||"&#160;",f=a.ui.dialog.getTitleId(b.element),g=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass(c+d.dialogClass).css({zIndex:d.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(c){d.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}).attr({role:"dialog","aria-labelledby":f}).mousedown(function(a){b.moveToTop(!1,a)}),h=b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g),i=(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(g),j=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){j.addClass("ui-state-hover")},function(){j.removeClass("ui-state-hover")}).focus(function(){j.addClass("ui-state-focus")}).blur(function(){j.removeClass("ui-state-focus")}).click(function(a){b.close(a);return!1}).appendTo(i),k=(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(d.closeText).appendTo(j),l=a("<span></span>").addClass("ui-dialog-title").attr("id",f).html(e).prependTo(i);a.isFunction(d.beforeclose)&&!a.isFunction(d.beforeClose)&&(d.beforeClose=d.beforeclose),i.find("*").add(i).disableSelection(),d.draggable&&a.fn.draggable&&b._makeDraggable(),d.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(d.buttons),b._isOpen=!1,a.fn.bgiframe&&g.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle);return a},widget:function(){return this.uiDialog},close:function(b){var c=this,d,e;if(!1!==c._trigger("beforeClose",b)){c.overlay&&c.overlay.destroy(),c.uiDialog.unbind("keypress.ui-dialog"),c._isOpen=!1,c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger("close",b)}):(c.uiDialog.hide(),c._trigger("close",b)),a.ui.dialog.overlay.resize(),c.options.modal&&(d=0,a(".ui-dialog").each(function(){this!==c.uiDialog[0]&&(e=a(this).css("z-index"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.dialog.maxZ=d);return c}},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this,e=d.options,f;if(e.modal&&!b||!e.stack&&!e.modal)return d._trigger("focus",c);e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex),d.overlay&&(a.ui.dialog.maxZ+=1,d.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),f={scrollTop:d.element.scrollTop(),scrollLeft:d.element.scrollLeft()},a.ui.dialog.maxZ+=1,d.uiDialog.css("z-index",a.ui.dialog.maxZ),d.element.attr(f),d._trigger("focus",c);return d},open:function(){if(!this._isOpen){var b=this,c=b.options,d=b.uiDialog;b.overlay=c.modal?new a.ui.dialog.overlay(b):null,b._size(),b._position(c.position),d.show(c.show),b.moveToTop(!0),c.modal&&d.bind("keydown.ui-dialog",function(b){if(b.keyCode===a.ui.keyCode.TAB){var c=a(":tabbable",this),d=c.filter(":first"),e=c.filter(":last");if(b.target===e[0]&&!b.shiftKey){d.focus(1);return!1}if(b.target===d[0]&&b.shiftKey){e.focus(1);return!1}}}),a(b.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open");return b}},_createButtons:function(b){var c=this,d=!1,e=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),g=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(e);c.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof b=="object"&&b!==null&&a.each(b,function(){return!(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var e=a('<button type="button"></button>').click(function(){d.click.apply(c.element[0],arguments)}).appendTo(g);a.each(d,function(a,b){a!=="click"&&(a in f?e[a](b):e.attr(a,b))}),a.fn.button&&e.button()}),e.appendTo(c.uiDialog))},_makeDraggable:function(){function f(a){return{position:a.position,offset:a.offset}}var b=this,c=b.options,d=a(document),e;b.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,g){e=c.height==="auto"?"auto":a(this).height(),a(this).height(a(this).height()).addClass("ui-dialog-dragging"),b._trigger("dragStart",d,f(g))},drag:function(a,c){b._trigger("drag",a,f(c))},stop:function(g,h){c.position=[h.position.left-d.scrollLeft(),h.position.top-d.scrollTop()],a(this).removeClass("ui-dialog-dragging").height(e),b._trigger("dragStop",g,f(h)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function h(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var d=this,e=d.options,f=d.uiDialog.css("position"),g=typeof c=="string"?c:"n,e,s,w,se,sw,ne,nw";d.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:g,start:function(b,c){a(this).addClass("ui-dialog-resizing"),d._trigger("resizeStart",b,h(c))},resize:function(a,b){d._trigger("resize",a,h(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),e.height=a(this).height(),e.width=a(this).width(),d._trigger("resizeStop",b,h(c)),a.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;if(b){if(typeof b=="string"||typeof b=="object"&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:d.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),e||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,d){var e=this,f=e.uiDialog;switch(b){case"beforeclose":b="beforeClose";break;case"buttons":e._createButtons(d);break;case"closeText":e.uiDialogTitlebarCloseText.text(""+d);break;case"dialogClass":f.removeClass(e.options.dialogClass).addClass(c+d);break;case"disabled":d?f.addClass("ui-dialog-disabled"):f.removeClass("ui-dialog-disabled");break;case"draggable":var g=f.is(":data(draggable)");g&&!d&&f.draggable("destroy"),!g&&d&&e._makeDraggable();break;case"position":e._position(d);break;case"resizable":var h=f.is(":data(resizable)");h&&!d&&f.resizable("destroy"),h&&typeof d=="string"&&f.resizable("option","handles",d),!h&&d!==!1&&e._makeResizable(d);break;case"title":a(".ui-dialog-title",e.uiDialogTitlebar).html(""+(d||"&#160;"))}a.Widget.prototype._setOption.apply(e,arguments)},_size:function(){var b=this.options,c,d,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),b.minWidth>b.width&&(b.width=b.minWidth),c=this.uiDialog.css({height:"auto",width:b.width}).height(),d=Math.max(0,b.minHeight-c);if(b.height==="auto")if(a.support.minHeight)this.element.css({minHeight:d,height:"auto"});else{this.uiDialog.show();var f=this.element.css("height","auto").height();e||this.uiDialog.hide(),this.element.height(Math.max(f,d))}else this.element.height(Math.max(b.height-c,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.18",uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");b||(this.uuid+=1,b=this.uuid);return"ui-dialog-title-"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(document).bind("keydown.dialog-overlay",function(c){b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});a.fn.bgiframe&&c.bgiframe(),this.instances.push(c);return c},destroy:function(b){var c=a.inArray(b,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]),this.instances.length===0&&a([document,window]).unbind(".dialog-overlay"),b.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;if(a.browser.msie&&a.browser.version<7){b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return b<c?a(window).height()+"px":b+"px"}return a(document).height()+"px"},width:function(){var b,c;if(a.browser.msie){b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return b<c?a(window).width()+"px":b+"px"}return a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);Ô
"JKLM_application/javascript_:https://workflowy.com/media/js/jquery.address-1.3.1.min.jsOAbplist00ÔfgX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`aU$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_:https://workflowy.com/media/js/jquery.address-1.3.1.min.jsÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùpg«† ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABCDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)_application/javascript_Mon, 16 Mar 2015 21:21:13 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTU11275Xno-cache_"2c0b-5116e6dfe2440"Ò+,^_\NSDictionary¢^/_application/javascriptÒ+,bc_NSHTTPURLResponse£de/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑhi_WebResourceResponse€    # - 2 7 X ^ y | € ƒ † ‰   — š    £ ¦ ¨ ª ¬ ® ° ± ³ µ · ¹ » ½ ¿ Æ Î Ú Ü Þ à"-6<?HQSU\doy{}ƒ…‡‰‹•—™›Ÿ¡£¥§©´»ÈÖäéø.Ggm“œ³¸ÅÈáæúþ 25K             j              MO,/*
 * jQuery Address Plugin v1.3.1
 * http://www.asual.com/jquery/address/
 *
 * Copyright (c) 2009-2010 Rostislav Hristov
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Date: 2010-11-29 11:54:20 +0200 (Mon, 29 Nov 2010)
 */
(function(c){c.address=function(){var y=function(a){c(c.address).trigger(c.extend(c.Event(a),function(){for(var b={},e=c.address.parameterNames(),h=0,q=e.length;h<q;h++)b[e[h]]=c.address.parameter(e[h]);return{value:c.address.value(),path:c.address.path(),pathNames:c.address.pathNames(),parameterNames:e,parameters:b,queryString:c.address.queryString()}}.call(c.address)))},z=function(a,b,e){c(c.address).bind(a,b,e);return c.address},B=function(){return A.pushState&&d.state!==i},K=function(){return("/"+
g.pathname.replace(new RegExp(d.state),"")+g.search+(J()?"#"+J():"")).replace(ba,"/")},J=function(){var a=g.href.indexOf("#");return a!=-1?C(g.href.substr(a+1),l):""},v=function(){return B()?K():J()},ua=function(){return"javascript"},s=function(a){a=a.toString();return(d.strict&&a.substr(0,1)!="/"?"/":"")+a},C=function(a,b){if(d.crawlable&&b)return(a!=""?"!":"")+a;return a.replace(/^\!/,"")},D=function(a,b){return parseInt(a.css(b),10)},ca=function(a){for(var b,e,h=0,q=a.childNodes.length;h<q;h++){if(a.childNodes[h].src)b=
String(a.childNodes[h].src);if(e=ca(a.childNodes[h]))b=e}return b},O=function(){if(!T){var a=v(),b=f!=a;if(E&&p<523){if(L!=A.length){L=A.length;if(I[L-1]!==i)f=I[L-1];M(l)}}else if(b)if(F&&p<7)g.reload();else{F&&p<8&&d.history&&w(W,50);f=a;M(l)}}},M=function(a){y(da);y(a?ea:fa);w(ga,10)},ga=function(){if(d.tracker!=="null"&&d.tracker!==null){var a=c.isFunction(d.tracker)?d.tracker:k[d.tracker],b=(g.pathname+g.search+(c.address&&!B()?c.address.value():"")).replace(/\/\//,"/").replace(/^\/$/,"");if(c.isFunction(a))a(b);
else if(c.isFunction(k.urchinTracker))k.urchinTracker(b);else if(k.pageTracker!==i&&c.isFunction(k.pageTracker._trackPageview))k.pageTracker._trackPageview(b);else k._gaq!==i&&c.isFunction(k._gaq.push)&&k._gaq.push(["_trackPageview",b])}},W=function(){var a=ua()+":"+l+";document.open();document.writeln('<html><head><title>"+n.title.replace("'","\\'")+"</title><script>var "+r+' = "'+encodeURIComponent(v())+(n.domain!=g.host?'";document.domain="'+n.domain:"")+"\";<\/script></head></html>');document.close();";
if(p<7)o.src=a;else o.contentWindow.location.replace(a)},ia=function(){if(P&&ha!=-1){var a,b=P.substr(ha+1).split("&");for(u=0;u<b.length;u++){a=b[u].split("=");if(/^(autoUpdate|crawlable|history|strict|wrap)$/.test(a[0]))d[a[0]]=isNaN(a[1])?/^(true|yes)$/i.test(a[1]):parseInt(a[1],10)!==0;if(/^(state|tracker)$/.test(a[0]))d[a[0]]=a[1]}P=null}f=v()},ka=function(){if(!ja){ja=m;ia();var a=function(){va.call(this);wa.call(this)},b=c("body").ajaxComplete(a);a();if(d.wrap){c("body > *").wrapAll('<div style="padding:'+
(D(b,"marginTop")+D(b,"paddingTop"))+"px "+(D(b,"marginRight")+D(b,"paddingRight"))+"px "+(D(b,"marginBottom")+D(b,"paddingBottom"))+"px "+(D(b,"marginLeft")+D(b,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+r+'" style="height:100%;overflow:auto;position:relative;'+(E?window.statusbar.visible&&!/chrome/i.test(X)?"":"resize:both;":"")+'" />');c("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"});E&&c('<style type="text/css" />').appendTo("head").text("#"+r+"::-webkit-resizer { background-color: #fff; }")}if(F&&
p<8){a=n.getElementsByTagName("frameset")[0];o=n.createElement((a?"":"i")+"frame");if(a){a.insertAdjacentElement("beforeEnd",o);a[a.cols?"cols":"rows"]+=",0";o.noResize=m;o.frameBorder=o.frameSpacing=0}else{o.style.display="none";o.style.width=o.style.height=0;o.tabIndex=-1;n.body.insertAdjacentElement("afterBegin",o)}w(function(){c(o).bind("load",function(){var e=o.contentWindow;f=e[r]!==i?e[r]:"";if(f!=v()){M(l);g.hash=C(f,m)}});o.contentWindow[r]===i&&W()},50)}else if(E){if(p<418){c(n.body).append('<form id="'+
r+'" style="position:absolute;top:-9999px;" method="get"></form>');Y=n.getElementById(r)}if(g[r]===i)g[r]={};if(g[r][g.pathname]!==i)I=g[r][g.pathname].split(",")}w(function(){y("init");M(l)},1);if(!B())if(F&&p>7||!F&&"on"+Q in k)if(k.addEventListener)k.addEventListener(Q,O,l);else k.attachEvent&&k.attachEvent("on"+Q,O);else xa(O,50)}},va=function(){var a,b=c("a"),e=b.size(),h=-1;w(function(){if(++h!=e){a=c(b.get(h));a.is("[rel*=address:]")&&a.address();w(arguments.callee,1)}},1)},ya=function(){if(f!=
v()){f=v();M(l)}},za=function(){if(k.removeEventListener)k.removeEventListener(Q,O,l);else k.detachEvent&&k.detachEvent("on"+Q,O)},wa=function(){if(d.crawlable){var a=g.pathname.replace(/\/$/,"");c("body").html().indexOf("_escaped_fragment_")!=-1&&c("a[href]:not([href^=http]), , a[href*="+document.domain+"]").each(function(){var b=c(this).attr("href").replace(/^http:/,"").replace(new RegExp(a+"/?$"),"");if(b==""||b.indexOf("_escaped_fragment_")!=-1)c(this).attr("href","#"+c.address.decode(b.replace(/\/(.*)\?_escaped_fragment_=(.*)$/,
"!$2")))})}},G=function(a){return la(ma(a)).replace(/%20/g,"+")},na=function(a){return a.split("#")[0].split("?")[0]},oa=function(a){a=na(a);var b=a.replace(ba,"/").split("/");if(a.substr(0,1)=="/"||a.length===0)b.splice(0,1);a.substr(a.length-1,1)=="/"&&b.splice(b.length-1,1);return b},R=function(a){a=a.split("?");return a.slice(1,a.length).join("?").split("#")[0]},pa=function(a,b){if(b=R(b)){params=b.split("&");b=[];for(u=0;u<params.length;u++){var e=params[u].split("=");if(e[0]==a||c.address.decode(e[0])==
a)b.push(e.slice(1).join("="))}if(b.length!==0)return b.length!=1?b:b[0]}},qa=function(a){var b=R(a);a=[];if(b&&b.indexOf("=")!=-1){b=b.split("&");for(var e=0;e<b.length;e++){var h=b[e].split("=")[0];c.inArray(h,a)==-1&&a.push(h)}}return a},U=function(a){a=a.split("#");return a.slice(1,a.length).join("#")},i,r="jQueryAddress",Q="hashchange",da="change",ea="internalChange",fa="externalChange",m=true,l=false,d={autoUpdate:m,crawlable:l,history:m,strict:m,wrap:l},t=c.browser,p=parseFloat(c.browser.version),
ra=t.mozilla,F=t.msie,sa=t.opera,E=t.webkit||t.safari,Z=l,k=function(){return window}(),n=k.document,A=k.history,g=k.location,xa=setInterval,w=setTimeout,la=encodeURIComponent,ma=decodeURIComponent,ba=/\/{2,9}/g,X=navigator.userAgent,o,Y,P=ca(document),ha=P?P.indexOf("?"):-1,$=n.title,L=A.length,T=l,ja=l,aa=m,ta=m,V=l,I=[],f=v();if(F){p=parseFloat(X.substr(X.indexOf("MSIE")+4));if(n.documentMode&&n.documentMode!=p)p=n.documentMode!=8?7:8;c(document).bind("propertychange",
function(){if(n.title!=$&&n.title.indexOf("#"+v())!=-1)n.title=$})}if(Z=ra&&p>=1||F&&p>=6||sa&&p>=9.5||E&&p>=312){for(var u=1;u<L;u++)I.push("");I.push(f);if(sa)history.navigationMode="compatible";if(document.readyState=="complete")var Aa=setInterval(function(){if(c.address){ka();clearInterval(Aa)}},50);else{ia();c(ka)}t=K();if(d.state!==i)if(A.pushState)t.substr(0,3)=="/#/"&&g.replace(d.state.replace(/^\/$/,"")+t.substr(2));else t!="/"&&t.replace(/^\/#/,"")!=J()&&g.replace(d.state.replace(/^\/$/,
"")+"/#"+t);c(window).bind("popstate",ya).bind("unload",za)}else!Z&&J()!=""||E&&p<418&&J()!=""&&g.search!=""?g.replace(g.href.substr(0,g.href.indexOf("#"))):ga();return{bind:function(a,b,e){return z(a,b,e)},init:function(a){return z("init",a)},change:function(a){return z(da,a)},internalChange:function(a){return z(ea,a)},externalChange:function(a){return z(fa,a)},baseURL:function(){var a=g.href;if(a.indexOf("#")!=-1)a=a.substr(0,a.indexOf("#"));if(/\/$/.test(a))a=a.substr(0,a.length-1);return a},autoUpdate:function(a){if(a!==
i){d.autoUpdate=a;return this}return d.autoUpdate},crawlable:function(a){if(a!==i){d.crawlable=a;return this}return d.crawlable},history:function(a){if(a!==i){d.history=a;return this}return d.history},state:function(a){if(a!==i){d.state=a;return this}return d.state},strict:function(a){if(a!==i){d.strict=a;return this}return d.strict},tracker:function(a){if(a!==i){d.tracker=a;return this}return d.tracker},wrap:function(a){if(a!==i){d.wrap=a;return this}return d.wrap},update:function(){V=m;this.value(f);
V=l;return this},encode:function(a){var b=oa(a),e=qa(a),h=R(a),q=U(a),H=a.substr(0,1),N=a.substr(a.length-1),j="";c.each(b,function(x,S){j+="/"+G(S)});if(h!==""){j+="?";if(e.length===0)j+=h;else{c.each(e,function(x,S){x=pa(S,a);if(typeof x!=="string")c.each(x,function(Ca,Ba){j+=G(S)+"="+G(Ba)+"&"});else j+=G(S)+"="+G(x)+"&"});j=j.substr(0,j.length-1)}}if(q!=="")j+="#"+G(q);if(H!="/"&&j.substr(0,1)=="/")j=j.substr(1);if(H=="/"&&j.substr(0,1)!="/")j="/"+j;if(/#|&|\?/.test(N))j+=N;return j},decode:function(a){if(a!==
i){var b=[],e=function(H){return ma(H.toString().replace(/\+/g,"%20"))};if(typeof a=="object"&&a.length!==i){for(var h=0,q=a.length;h<q;h++)b[h]=e(a[h]);return b}else return e(a)}},title:function(a){if(a!==i){w(function(){$=n.title=a;if(ta&&o&&o.contentWindow&&o.contentWindow.document){o.contentWindow.document.title=a;ta=l}if(!aa&&ra)g.replace(g.href.indexOf("#")!=-1?g.href:g.href+"#");aa=l},50);return this}return n.title},value:function(a){if(a!==i){a=this.encode(s(a));if(a=="/")a="";if(f==a&&!V)return;
aa=m;f=a;if(d.autoUpdate||V){M(m);if(B())A[d.history?"pushState":"replaceState"]({},"",d.state.replace(/\/$/,"")+(f==""?"/":f));else{T=m;I[A.length]=f;if(E)if(d.history){g[r][g.pathname]=I.toString();L=A.length+1;if(p<418){if(g.search==""){Y.action="#"+C(f,m);Y.submit()}}else if(p<523||f==""){a=n.createEvent("MouseEvents");a.initEvent("click",m,m);var b=n.createElement("a");b.href="#"+C(f,m);b.dispatchEvent(a)}else g.hash="#"+C(f,m)}else g.replace("#"+C(f,m));else if(f!=v())if(d.history)g.hash="#"+
C(f,m);else g.replace("#"+C(f,m));F&&p<8&&d.history&&w(W,50);if(E)w(function(){T=l},1);else T=l}}return this}if(!Z)return null;return this.decode(s(f))},path:function(a){if(a!==i){var b=R(s(f)),e=U(s(f));this.value(a+(b?"?"+b:"")+(e?"#"+e:""));return this}return this.decode(na(s(f)))},pathNames:function(){return this.decode(oa(s(f)))},queryString:function(a){if(a!==i){var b=U(s(f));this.value(this.path()+(a?"?"+a:"")+(b?"#"+b:""));return this}return this.decode(R(s(f)))},parameter:function(a,b,e){var h,
q;if(b!==i){var H=this.parameterNames();q=[];b=b?la(b):"";for(h=0;h<H.length;h++){var N=H[h],j=this.parameter(N);if(typeof j=="string")j=[j];if(N==a)j=b===null||b===""?[]:e?j.concat([b]):[b];for(var x=0;x<j.length;x++)q.push(N+"="+G(j[x]))}c.inArray(a,H)==-1&&b!==null&&b!==""&&q.push(a+"="+G(b));this.queryString(q.join("&"));return this}return this.decode(pa(a,s(f)))},parameterNames:function(){return this.decode(qa(s(f)))},hash:function(a){if(a!==i){this.value(s(f).split("#")[0]+(a?"#"+a:""));return this}return this.decode(U(s(f)))}}}();
c.fn.address=function(y){if(!c(this).attr("address")){var z=function(B){if(c(this).is("a")){var K=y?y.call(this):/address:/.test(c(this).attr("rel"))?c(this).attr("rel").split("address:")[1].split(" ")[0]:c.address.state()!==undefined&&c.address.state()!="/"?c(this).attr("href").replace(new RegExp("^(.*"+c.address.state()+"|\\.)"),""):c(this).attr("href").replace(/^(#\!?|\.)/,"");c.address.value(K);B.preventDefault()}};c(this).click(z).live("click",z).submit(function(B){if(c(this).is("form")){var K=
y?y.call(this):c(this).attr("action")+"?"+c.address.decode(c(this).serialize());c.address.value(K);B.preventDefault()}}).attr("address",true)}return this}})(jQuery);
Ô
"OPQR_application/javascript_4https://workflowy.com/media/js/jquery.transit.min.jsO:bplist00ÔfgX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`aU$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_4https://workflowy.com/media/js/jquery.transit.min.jsÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùpg·R ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABCDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)_application/javascript_Mon, 16 Mar 2015 21:21:13 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTT7507Xno-cache_"1d53-5116e6dfe2440"Ò+,^_\NSDictionary¢^/_application/javascriptÒ+,bc_NSHTTPURLResponse£de/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑhi_WebResourceResponse€    # - 2 7 X ^ y | € ƒ † ‰   — š    £ ¦ ¨ ª ¬ ® ° ± ³ µ · ¹ » ½ ¿ Æ Î Ú Ü Þ à'069BKMOV^isuwy{}ƒ…‘“•—™›Ÿ¡£®µÂÐÞãò (Aag‡Œ•¬±¾ÁÚßó÷+.D             j              FOS/*!
 * jQuery Transit - CSS3 transitions and transformations
 * (c) 2011-2012 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */
(function(k){k.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,useTransitionEnd:false};var d=document.createElement("div");var q={};function b(v){if(v in d.style){return v}var u=["Moz","Webkit","O","ms"];var r=v.charAt(0).toUpperCase()+v.substr(1);if(v in d.style){return v}for(var t=0;t<u.length;++t){var s=u[t]+r;if(s in d.style){return s}}}function e(){d.style[q.transform]="";d.style[q.transform]="rotateY(90deg)";return d.style[q.transform]!==""}var a=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;q.transition=b("transition");q.transitionDelay=b("transitionDelay");q.transform=b("transform");q.transformOrigin=b("transformOrigin");q.transform3d=e();var i={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};var f=q.transitionEnd=i[q.transition]||null;for(var p in q){if(q.hasOwnProperty(p)&&typeof k.support[p]==="undefined"){k.support[p]=q[p]}}d=null;k.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};k.cssHooks["transit:transform"]={get:function(r){return k(r).data("transform")||new j()},set:function(s,r){var t=r;if(!(t instanceof j)){t=new j(t)}if(q.transform==="WebkitTransform"&&!a){s.style[q.transform]=t.toString(true)}else{s.style[q.transform]=t.toString()}k(s).data("transform",t)}};k.cssHooks.transform={set:k.cssHooks["transit:transform"].set};if(k.fn.jquery<"1.8"){k.cssHooks.transformOrigin={get:function(r){return r.style[q.transformOrigin]},set:function(r,s){r.style[q.transformOrigin]=s}};k.cssHooks.transition={get:function(r){return r.style[q.transition]},set:function(r,s){r.style[q.transition]=s}}}n("scale");n("translate");n("rotate");n("rotateX");n("rotateY");n("rotate3d");n("perspective");n("skewX");n("skewY");n("x",true);n("y",true);function j(r){if(typeof r==="string"){this.parse(r)}return this}j.prototype={setFromString:function(t,s){var r=(typeof s==="string")?s.split(","):(s.constructor===Array)?s:[s];r.unshift(t);j.prototype.set.apply(this,r)},set:function(s){var r=Array.prototype.slice.apply(arguments,[1]);if(this.setter[s]){this.setter[s].apply(this,r)}else{this[s]=r.join(",")}},get:function(r){if(this.getter[r]){return this.getter[r].apply(this)}else{return this[r]||0}},setter:{rotate:function(r){this.rotate=o(r,"deg")},rotateX:function(r){this.rotateX=o(r,"deg")},rotateY:function(r){this.rotateY=o(r,"deg")},scale:function(r,s){if(s===undefined){s=r}this.scale=r+","+s},skewX:function(r){this.skewX=o(r,"deg")},skewY:function(r){this.skewY=o(r,"deg")},perspective:function(r){this.perspective=o(r,"px")},x:function(r){this.set("translate",r,null)},y:function(r){this.set("translate",null,r)},translate:function(r,s){if(this._translateX===undefined){this._translateX=0}if(this._translateY===undefined){this._translateY=0}if(r!==null&&r!==undefined){this._translateX=o(r,"px")}if(s!==null&&s!==undefined){this._translateY=o(s,"px")}this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var r=(this.scale||"1,1").split(",");if(r[0]){r[0]=parseFloat(r[0])}if(r[1]){r[1]=parseFloat(r[1])}return(r[0]===r[1])?r[0]:r},rotate3d:function(){var t=(this.rotate3d||"0,0,0,0deg").split(",");for(var r=0;r<=3;++r){if(t[r]){t[r]=parseFloat(t[r])}}if(t[3]){t[3]=o(t[3],"deg")}return t}},parse:function(s){var r=this;s.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(t,v,u){r.setFromString(v,u)})},toString:function(t){var s=[];for(var r in this){if(this.hasOwnProperty(r)){if((!q.transform3d)&&((r==="rotateX")||(r==="rotateY")||(r==="perspective")||(r==="transformOrigin"))){continue}if(r[0]!=="_"){if(t&&(r==="scale")){s.push(r+"3d("+this[r]+",1)")}else{if(t&&(r==="translate")){s.push(r+"3d("+this[r]+",0)")}else{s.push(r+"("+this[r]+")")}}}}}return s.join(" ")}};function m(s,r,t){if(r===true){s.queue(t)}else{if(r){s.queue(r,t)}else{t()}}}function h(s){var r=[];k.each(s,function(t){t=k.camelCase(t);t=k.transit.propertyMap[t]||k.cssProps[t]||t;t=c(t);if(k.inArray(t,r)===-1){r.push(t)}});return r}function g(s,v,x,r){var t=h(s);if(k.cssEase[x]){x=k.cssEase[x]}var w=""+l(v)+" "+x;if(parseInt(r,10)>0){w+=" "+l(r)}var u=[];k.each(t,function(z,y){u.push(y+" "+w)});return u.join(", ")}k.fn.transition=k.fn.transit=function(z,s,y,C){var D=this;var u=0;var w=true;if(typeof s==="function"){C=s;s=undefined}if(typeof y==="function"){C=y;y=undefined}if(typeof z.easing!=="undefined"){y=z.easing;delete z.easing}if(typeof z.duration!=="undefined"){s=z.duration;delete z.duration}if(typeof z.complete!=="undefined"){C=z.complete;delete z.complete}if(typeof z.queue!=="undefined"){w=z.queue;delete z.queue}if(typeof z.delay!=="undefined"){u=z.delay;delete z.delay}if(typeof s==="undefined"){s=k.fx.speeds._default}if(typeof y==="undefined"){y=k.cssEase._default}s=l(s);var E=g(z,s,y,u);var B=k.transit.enabled&&q.transition;var t=B?(parseInt(s,10)+parseInt(u,10)):0;if(t===0){var A=function(F){D.css(z);if(C){C.apply(D)}if(F){F()}};m(D,w,A);return D}var x={};var r=function(H){var G=false;var F=function(){if(G){D.unbind(f,F)}if(t>0){D.each(function(){this.style[q.transition]=(x[this]||null)})}if(typeof C==="function"){C.apply(D)}if(typeof H==="function"){H()}};if((t>0)&&(f)&&(k.transit.useTransitionEnd)){G=true;D.bind(f,F)}else{window.setTimeout(F,t)}D.each(function(){if(t>0){this.style[q.transition]=E}k(this).css(z)})};var v=function(F){this.offsetWidth;r(F)};m(D,w,v);return this};function n(s,r){if(!r){k.cssNumber[s]=true}k.transit.propertyMap[s]=q.transform;k.cssHooks[s]={get:function(v){var u=k(v).css("transit:transform");return u.get(s)},set:function(v,w){var u=k(v).css("transit:transform");u.setFromString(s,w);k(v).css({"transit:transform":u})}}}function c(r){return r.replace(/([A-Z])/g,function(s){return"-"+s.toLowerCase()})}function o(s,r){if((typeof s==="string")&&(!s.match(/^[\-0-9\.]+$/))){return s}else{return""+s+r}}function l(s){var r=s;if(k.fx.speeds[r]){r=k.fx.speeds[r]}return o(r,"ms")}k.transit.getTransitionValue=g})(jQuery);Ô
"TUVW_application/javascript_5https://workflowy.com/media/js/jquery.validate.min.jsO<bplist00ÔfgX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`aU$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_5https://workflowy.com/media/js/jquery.validate.min.jsÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùpgÈ* ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABCDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)_application/javascript_Mon, 16 Mar 2015 21:21:13 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTU21078Xno-cache_"5256-5116e6dfe2440"Ò+,^_\NSDictionary¢^/_application/javascriptÒ+,bc_NSHTTPURLResponse£de/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑhi_WebResourceResponse€    # - 2 7 X ^ y | € ƒ † ‰   — š    £ ¦ ¨ ª ¬ ® ° ± ³ µ · ¹ » ½ ¿ Æ Î Ú Ü Þ à(17:CLNPW_jtvxz|~€‚„†’”–˜šœž ¢¤¯¶ÃÑßäó)BbhˆŽ—®³ÀÃÜáõù-0F             j              HORV/**
 * jQuery Validation Plugin 1.8.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright (c) 2006 - 2011 JÃ¶rn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(c){c.extend(c.fn,{validate:function(a){if(this.length){var b=c.data(this[0],"validator");if(b)return b;b=new c.validator(a,this[0]);c.data(this[0],"validator",b);if(b.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){b.cancelSubmit=true});b.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){b.submitButton=this});this.submit(function(d){function e(){if(b.settings.submitHandler){if(b.submitButton)var f=c("<input type='hidden'/>").attr("name",
b.submitButton.name).val(b.submitButton.value).appendTo(b.currentForm);b.settings.submitHandler.call(b,b.currentForm);b.submitButton&&f.remove();return false}return true}b.settings.debug&&d.preventDefault();if(b.cancelSubmit){b.cancelSubmit=false;return e()}if(b.form()){if(b.pendingRequest){b.formSubmitted=true;return false}return e()}else{b.focusInvalid();return false}})}return b}else a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(c(this[0]).is("form"))return this.validate().form();
else{var a=true,b=c(this[0].form).validate();this.each(function(){a&=b.element(this)});return a}},removeAttrs:function(a){var b={},d=this;c.each(a.split(/\s/),function(e,f){b[f]=d.attr(f);d.removeAttr(f)});return b},rules:function(a,b){var d=this[0];if(a){var e=c.data(d.form,"validator").settings,f=e.rules,g=c.validator.staticRules(d);switch(a){case "add":c.extend(g,c.validator.normalizeRule(b));f[d.name]=g;if(b.messages)e.messages[d.name]=c.extend(e.messages[d.name],b.messages);break;case "remove":if(!b){delete f[d.name];
return g}var h={};c.each(b.split(/\s/),function(j,i){h[i]=g[i];delete g[i]});return h}}d=c.validator.normalizeRules(c.extend({},c.validator.metadataRules(d),c.validator.classRules(d),c.validator.attributeRules(d),c.validator.staticRules(d)),d);if(d.required){e=d.required;delete d.required;d=c.extend({required:e},d)}return d}});c.extend(c.expr[":"],{blank:function(a){return!c.trim(""+a.value)},filled:function(a){return!!c.trim(""+a.value)},unchecked:function(a){return!a.checked}});c.validator=function(a,
b){this.settings=c.extend(true,{},c.validator.defaults,a);this.currentForm=b;this.init()};c.validator.format=function(a,b){if(arguments.length==1)return function(){var d=c.makeArray(arguments);d.unshift(a);return c.validator.format.apply(this,d)};if(arguments.length>2&&b.constructor!=Array)b=c.makeArray(arguments).slice(1);if(b.constructor!=Array)b=[b];c.each(b,function(d,e){a=a.replace(RegExp("\\{"+d+"\\}","g"),e)});return a};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",
validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a)))this.element(a)},
onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement)this.element(a)},onclick:function(a){if(a.name in this.submitted)this.element(a);else a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).addClass(b).removeClass(d):c(a).addClass(b).removeClass(d)},unhighlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).removeClass(b).addClass(d):c(a).removeClass(b).addClass(d)}},setDefaults:function(a){c.extend(c.validator.defaults,
a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:c.validator.format("Please enter no more than {0} characters."),
minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function a(e){var f=c.data(this[0].form,"validator");e="on"+e.type.replace(/^validate/,
"");f.settings[e]&&f.settings[e].call(f,this[0])}this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=this.groups={};c.each(this.settings.groups,function(e,f){c.each(f.split(/\s/),function(g,h){b[h]=e})});var d=this.settings.rules;
c.each(d,function(e,f){d[e]=c.validator.normalizeRule(f)});c(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",a).validateDelegate(":radio, :checkbox, select, option","click",a);this.settings.invalidHandler&&c(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();c.extend(this.submitted,this.errorMap);this.invalid=c.extend({},this.errorMap);this.valid()||c(this.currentForm).triggerHandler("invalid-form",
[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(a){this.lastElement=a=this.clean(a);this.prepareElement(a);this.currentElements=c(a);var b=this.check(a);if(b)delete this.invalid[a.name];else this.invalid[a.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return b},showErrors:function(a){if(a){c.extend(this.errorMap,
a);this.errorList=[];for(var b in a)this.errorList.push({message:a[b],element:this.findByName(b)[0]});this.successList=c.grep(this.successList,function(d){return!(d.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},
objectLength:function(a){var b=0,d;for(d in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&c.grep(this.errorList,function(b){return b.element.name==
a.name}).length==1&&a},elements:function(){var a=this,b={};return c(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!a.objectLength(c(this).rules()))return false;return b[this.name]=true})},clean:function(a){return c(a)[0]},errors:function(){return c(this.settings.errorElement+"."+this.settings.errorClass,
this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([]);this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.clean(a);if(this.checkable(a))a=this.findByName(a.name).not(this.settings.ignore)[0];var b=c(a).rules(),d=false,e;for(e in b){var f={method:e,parameters:b[e]};try{var g=
c.validator.methods[e].call(this,a.value.replace(/\r/g,""),a,f.parameters);if(g=="dependency-mismatch")d=true;else{d=false;if(g=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!g){this.formatAndAdd(a,f);return false}}}catch(h){this.settings.debug&&window.console&&console.log("exception occured when checking element "+a.id+", check the '"+f.method+"' method",h);throw h;}}if(!d){this.objectLength(b)&&this.successList.push(a);return true}},customMetaMessage:function(a,b){if(c.metadata){var d=
this.settings.meta?c(a).metadata()[this.settings.meta]:c(a).metadata();return d&&d.messages&&d.messages[b]}},customMessage:function(a,b){var d=this.settings.messages[a];return d&&(d.constructor==String?d:d[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a]},defaultMessage:function(a,b){return this.findDefined(this.customMessage(a.name,b),this.customMetaMessage(a,b),!this.settings.ignoreTitle&&a.title||undefined,c.validator.messages[b],"<strong>Warning: No message defined for "+
a.name+"</strong>")},formatAndAdd:function(a,b){var d=this.defaultMessage(a,b.method),e=/\$?\{(\d+)\}/g;if(typeof d=="function")d=d.call(this,b.parameters,a);else if(e.test(d))d=jQuery.format(d.replace(e,"{$1}"),b.parameters);this.errorList.push({message:d,element:a});this.errorMap[a.name]=d;this.submitted[a.name]=d},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];
this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight){a=0;for(b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);
this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(a,b){var d=this.errorsFor(a);if(d.length){d.removeClass().addClass(this.settings.errorClass);d.attr("generated")&&d.html(b)}else{d=c("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(b||
"");if(this.settings.wrapper)d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,c(a)):d.insertAfter(a))}if(!b&&this.settings.success){d.text("");typeof this.settings.success=="string"?d.addClass(this.settings.success):this.settings.success(d)}this.toShow=this.toShow.add(d)},errorsFor:function(a){var b=this.idOrName(a);return this.errors().filter(function(){return c(this).attr("for")==b})},
idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var b=this.currentForm;return c(document.getElementsByName(a)).map(function(d,e){return e.form==b&&e.name==a&&e||null})},getLength:function(a,b){switch(b.nodeName.toLowerCase()){case "select":return c("option:selected",b).length;case "input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return a.length},
depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):true},dependTypes:{"boolean":function(a){return a},string:function(a,b){return!!c(a,b.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!c.validator.methods.required.call(this,c.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,b){this.pendingRequest--;if(this.pendingRequest<
0)this.pendingRequest=0;delete this.pending[a.name];if(b&&this.pendingRequest==0&&this.formSubmitted&&this.form()){c(this.currentForm).submit();this.formSubmitted=false}else if(!b&&this.pendingRequest==0&&this.formSubmitted){c(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(a){return c.data(a,"previousValue")||c.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},
email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,b){a.constructor==String?this.classRuleSettings[a]=b:c.extend(this.classRuleSettings,a)},classRules:function(a){var b={};(a=c(a).attr("class"))&&c.each(a.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(b,c.validator.classRuleSettings[this])});return b},attributeRules:function(a){var b=
{};a=c(a);for(var d in c.validator.methods){var e=a.attr(d);if(e)b[d]=e}b.maxlength&&/-1|2147483647|524288/.test(b.maxlength)&&delete b.maxlength;return b},metadataRules:function(a){if(!c.metadata)return{};var b=c.data(a.form,"validator").settings.meta;return b?c(a).metadata()[b]:c(a).metadata()},staticRules:function(a){var b={},d=c.data(a.form,"validator");if(d.settings.rules)b=c.validator.normalizeRule(d.settings.rules[a.name])||{};return b},normalizeRules:function(a,b){c.each(a,function(d,e){if(e===
false)delete a[d];else if(e.param||e.depends){var f=true;switch(typeof e.depends){case "string":f=!!c(e.depends,b.form).length;break;case "function":f=e.depends.call(b,b)}if(f)a[d]=e.param!==undefined?e.param:true;else delete a[d]}});c.each(a,function(d,e){a[d]=c.isFunction(e)?e(b):e});c.each(["minlength","maxlength","min","max"],function(){if(a[this])a[this]=Number(a[this])});c.each(["rangelength","range"],function(){if(a[this])a[this]=[Number(a[this][0]),Number(a[this][1])]});if(c.validator.autoCreateRanges){if(a.min&&
a.max){a.range=[a.min,a.max];delete a.min;delete a.max}if(a.minlength&&a.maxlength){a.rangelength=[a.minlength,a.maxlength];delete a.minlength;delete a.maxlength}}a.messages&&delete a.messages;return a},normalizeRule:function(a){if(typeof a=="string"){var b={};c.each(a.split(/\s/),function(){b[this]=true});a=b}return a},addMethod:function(a,b,d){c.validator.methods[a]=b;c.validator.messages[a]=d!=undefined?d:c.validator.messages[a];b.length<3&&c.validator.addClassRules(a,c.validator.normalizeRule(a))},
methods:{required:function(a,b,d){if(!this.depend(d,b))return"dependency-mismatch";switch(b.nodeName.toLowerCase()){case "select":return(a=c(b).val())&&a.length>0;case "input":if(this.checkable(b))return this.getLength(a,b)>0;default:return c.trim(a).length>0}},remote:function(a,b,d){if(this.optional(b))return"dependency-mismatch";var e=this.previousValue(b);this.settings.messages[b.name]||(this.settings.messages[b.name]={});e.originalMessage=this.settings.messages[b.name].remote;this.settings.messages[b.name].remote=
e.message;d=typeof d=="string"&&{url:d}||d;if(this.pending[b.name])return"pending";if(e.old===a)return e.valid;e.old=a;var f=this;this.startRequest(b);var g={};g[b.name]=a;c.ajax(c.extend(true,{url:d,mode:"abort",port:"validate"+b.name,dataType:"json",data:g,success:function(h){f.settings.messages[b.name].remote=e.originalMessage;var j=h===true;if(j){var i=f.formSubmitted;f.prepareElement(b);f.formSubmitted=i;f.successList.push(b);f.showErrors()}else{i={};h=h||f.defaultMessage(b,"remote");i[b.name]=
e.message=c.isFunction(h)?h(a):h;f.showErrors(i)}e.valid=j;f.stopRequest(b,j)}},d));return"pending"},minlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)>=d},maxlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)<=d},rangelength:function(a,b,d){a=this.getLength(c.trim(a),b);return this.optional(b)||a>=d[0]&&a<=d[1]},min:function(a,b,d){return this.optional(b)||a>=d},max:function(a,b,d){return this.optional(b)||a<=d},range:function(a,b,d){return this.optional(b)||
a>=d[0]&&a<=d[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(a)},
url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9-]+/.test(a))return false;var d=0,e=0,f=false;a=a.replace(/\D/g,"");for(var g=a.length-1;g>=
0;g--){e=a.charAt(g);e=parseInt(e,10);if(f)if((e*=2)>9)e-=9;d+=e;f=!f}return d%10==0},accept:function(a,b,d){d=typeof d=="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(RegExp(".("+d+")$","i"))},equalTo:function(a,b,d){d=c(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){c(b).valid()});return a==d.val()}}});c.format=c.validator.format})(jQuery);
(function(c){var a={};if(c.ajaxPrefilter)c.ajaxPrefilter(function(d,e,f){e=d.port;if(d.mode=="abort"){a[e]&&a[e].abort();a[e]=f}});else{var b=c.ajax;c.ajax=function(d){var e=("port"in d?d:c.ajaxSettings).port;if(("mode"in d?d:c.ajaxSettings).mode=="abort"){a[e]&&a[e].abort();return a[e]=b.apply(this,arguments)}return b.apply(this,arguments)}}})(jQuery);
(function(c){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.handle.call(this,e)}c.event.special[b]={setup:function(){this.addEventListener(a,d,true)},teardown:function(){this.removeEventListener(a,d,true)},handler:function(e){arguments[0]=c.event.fix(e);arguments[0].type=b;return c.event.handle.apply(this,arguments)}}});c.extend(c.fn,{validateDelegate:function(a,
b,d){return this.bind(b,function(e){var f=c(e.target);if(f.is(a))return d.apply(f,arguments)})}})})(jQuery);
Ô
"YZ[\_application/javascript_8https://workflowy.com/media/js/xregexp-3.0.0-plus-min.jsO?bplist00ÔfgX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`aU$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_8https://workflowy.com/media/js/xregexp-3.0.0-plus-min.jsÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùpgØ{ ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABCDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)_application/javascript_Sat, 06 Feb 2016 02:23:32 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTU49617Xno-cache_"c1d1-52b10a76d9100"Ò+,^_\NSDictionary¢^/_application/javascriptÒ+,bc_NSHTTPURLResponse£de/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑhi_WebResourceResponse€    # - 2 7 X ^ y | € ƒ † ‰   — š    £ ¦ ¨ ª ¬ ® ° ± ³ µ · ¹ » ½ ¿ Æ Î Ú Ü Þ à +4:=FOQSZbmwy{}ƒ…‡‰“•—™›Ÿ¡£¥§²¹ÆÔâçö	,Eek‹‘š±¶ÃÆßäøü03I             j              KOÁÑ//XRegExp 3.0.0 <xregexp.com> MIT License
var XRegExp=function(a){"use strict";function u(a,d,e,f,g){var h;if(a[c]={captureNames:d},g)return a;if(a.__proto__)a.__proto__=b.prototype;else for(h in b.prototype)a[h]=b.prototype[h];return a[c].source=e,a[c].flags=f?f.split("").sort().join(""):f,a}function v(a){return e.replace.call(a,/([\s\S])(?=[\s\S]*\1)/g,"")}function w(d,f){if(!b.isRegExp(d))throw new TypeError("Type RegExp expected");var g=d[c]||{},h=y(d),i="",j="",k=null,l=null;return f=f||{},f.removeG&&(j+="g"),f.removeY&&(j+="y"),j&&(h=e.replace.call(h,new RegExp("["+j+"]+","g"),"")),f.addG&&(i+="g"),f.addY&&(i+="y"),i&&(h=v(h+i)),f.isInternalOnly||(g.source!==a&&(k=g.source),null!=g.flags&&(l=i?v(g.flags+i):g.flags)),d=u(new RegExp(d.source,h),z(d)?g.captureNames.slice(0):null,k,l,f.isInternalOnly)}function x(a){return parseInt(a,16)}function y(a){return q?a.flags:e.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(a))[1]}function z(a){return!(!a[c]||!a[c].captureNames)}function A(a){return parseInt(a,10).toString(16)}function B(a,b){var d,c=a.length;for(d=0;c>d;++d)if(a[d]===b)return d;return-1}function C(a,b){return s.call(a)==="[object "+b+"]"}function D(a,b,c){return e.test.call(c.indexOf("x")>-1?/^(?:\s+|#.*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,a.slice(b))}function E(a){for(;a.length<4;)a="0"+a;return a}function F(a,b){var c;if(v(b)!==b)throw new SyntaxError("Invalid duplicate regex flag "+b);for(a=e.replace.call(a,/^\(\?([\w$]+)\)/,function(a,c){if(e.test.call(/[gy]/,c))throw new SyntaxError("Cannot use flag g or y in mode modifier "+a);return b=v(b+c),""}),c=0;c<b.length;++c)if(!r[b.charAt(c)])throw new SyntaxError("Unknown regex flag "+b.charAt(c));return{pattern:a,flags:b}}function G(a){var c={};return C(a,"String")?(b.forEach(a,/[^\s,]+/,function(a){c[a]=!0}),c):a}function H(a){if(!/^[\w$]$/.test(a))throw new Error("Flag must be a single character A-Za-z0-9_$");r[a]=!0}function I(a,c,d,e,f){for(var k,l,g=i.length,h=a.charAt(d),j=null;g--;)if(l=i[g],!(l.leadChar&&l.leadChar!==h||l.scope!==e&&"all"!==l.scope||l.flag&&-1===c.indexOf(l.flag))&&(k=b.exec(a,l.regex,d,"sticky"))){j={matchLength:k[0].length,output:l.handler.call(f,k,e,c),reparse:l.reparse};break}return j}function J(a){d.astral=a}function K(a){RegExp.prototype.exec=(a?f:e).exec,RegExp.prototype.test=(a?f:e).test,String.prototype.match=(a?f:e).match,String.prototype.replace=(a?f:e).replace,String.prototype.split=(a?f:e).split,d.natives=a}function L(a){if(null==a)throw new TypeError("Cannot convert null or undefined to object");return a}var b,t,c="xregexp",d={astral:!1,natives:!1},e={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},f={},g={},h={},i=[],j="default",k="class",l={"default":/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,"class":/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},m=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,n=e.exec.call(/()??/,"")[1]===a,o=function(){var a=!0;try{new RegExp("","u")}catch(b){a=!1}return a}(),p=function(){var a=!0;try{new RegExp("","y")}catch(b){a=!1}return a}(),q=/a/.flags!==a,r={g:!0,i:!0,m:!0,u:o,y:p},s={}.toString;return b=function(c,d){var n,o,p,q,r,f={hasNamedCapture:!1,captureNames:[]},g=j,i="",m=0;if(b.isRegExp(c)){if(d!==a)throw new TypeError("Cannot supply flags when copying a RegExp");return w(c)}if(c=c===a?"":String(c),d=d===a?"":String(d),b.isInstalled("astral")&&-1===d.indexOf("A")&&(d+="A"),h[c]||(h[c]={}),!h[c][d]){for(n=F(c,d),q=n.pattern,r=n.flags;m<q.length;){do n=I(q,r,m,g,f),n&&n.reparse&&(q=q.slice(0,m)+n.output+q.slice(m+n.matchLength));while(n&&n.reparse);n?(i+=n.output,m+=n.matchLength||1):(o=b.exec(q,l[g],m,"sticky")[0],i+=o,m+=o.length,"["===o&&g===j?g=k:"]"===o&&g===k&&(g=j))}h[c][d]={pattern:e.replace.call(i,/\(\?:\)(?=\(\?:\))|^\(\?:\)|\(\?:\)$/g,""),flags:e.replace.call(r,/[^gimuy]+/g,""),captures:f.hasNamedCapture?f.captureNames:null}}return p=h[c][d],u(new RegExp(p.pattern,p.flags),p.captures,c,d)},b.prototype=new RegExp,b.version="3.0.0",b.addToken=function(a,c,d){d=d||{};var g,f=d.optionalFlags;if(d.flag&&H(d.flag),f)for(f=e.split.call(f,""),g=0;g<f.length;++g)H(f[g]);i.push({regex:w(a,{addG:!0,addY:p,isInternalOnly:!0}),handler:c,scope:d.scope||j,flag:d.flag,reparse:d.reparse,leadChar:d.leadChar}),b.cache.flush("patterns")},b.cache=function(a,c){return g[a]||(g[a]={}),g[a][c]||(g[a][c]=b(a,c))},b.cache.flush=function(a){"patterns"===a?h={}:g={}},b.escape=function(a){return e.replace.call(L(a),/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},b.exec=function(a,b,d,e){var i,j,g="g",h=!1;return h=p&&!!(e||b.sticky&&e!==!1),h&&(g+="y"),b[c]=b[c]||{},j=b[c][g]||(b[c][g]=w(b,{addG:!0,addY:h,removeY:e===!1,isInternalOnly:!0})),j.lastIndex=d=d||0,i=f.exec.call(j,a),e&&i&&i.index!==d&&(i=null),b.global&&(b.lastIndex=i?j.lastIndex:0),i},b.forEach=function(a,c,d){for(var g,e=0,f=-1;g=b.exec(a,c,e);)d(g,++f,a,c),e=g.index+(g[0].length||1)},b.globalize=function(a){return w(a,{addG:!0})},b.install=function(a){a=G(a),!d.astral&&a.astral&&J(!0),!d.natives&&a.natives&&K(!0)},b.isInstalled=function(a){return!!d[a]},b.isRegExp=function(a){return"[object RegExp]"===s.call(a)},b.match=function(a,b,d){var h,i,f=b.global&&"one"!==d||"all"===d,g=(f?"g":"")+(b.sticky?"y":"")||"noGY";return b[c]=b[c]||{},i=b[c][g]||(b[c][g]=w(b,{addG:!!f,addY:!!b.sticky,removeG:"one"===d,isInternalOnly:!0})),h=e.match.call(L(a),i),b.global&&(b.lastIndex="one"===d&&h?h.index+h[0].length:0),f?h||[]:h&&h[0]},b.matchChain=function(a,c){return function d(a,e){var i,f=c[e].regex?c[e]:{regex:c[e]},g=[],h=function(a){if(f.backref){if(!(a.hasOwnProperty(f.backref)||+f.backref<a.length))throw new ReferenceError("Backreference to undefined group: "+f.backref);g.push(a[f.backref]||"")}else g.push(a[0])};for(i=0;i<a.length;++i)b.forEach(a[i],f.regex,h);return e!==c.length-1&&g.length?d(g,e+1):g}([a],0)},b.replace=function(a,d,e,g){var l,h=b.isRegExp(d),i=d.global&&"one"!==g||"all"===g,j=(i?"g":"")+(d.sticky?"y":"")||"noGY",k=d;return h?(d[c]=d[c]||{},k=d[c][j]||(d[c][j]=w(d,{addG:!!i,addY:!!d.sticky,removeG:"one"===g,isInternalOnly:!0}))):i&&(k=new RegExp(b.escape(String(d)),"g")),l=f.replace.call(L(a),k,e),h&&d.global&&(d.lastIndex=0),l},b.replaceEach=function(a,c){var d,e;for(d=0;d<c.length;++d)e=c[d],a=b.replace(a,e[0],e[1],e[2]);return a},b.split=function(a,b,c){return f.split.call(L(a),b,c)},b.test=function(a,c,d,e){return!!b.exec(a,c,d,e)},b.uninstall=function(a){a=G(a),d.astral&&a.astral&&J(!1),d.natives&&a.natives&&K(!1)},b.union=function(a,d){var i,j,k,m,f=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,g=[],h=0,l=function(a,b,c){var d=j[h-i];if(b){if(++h,d)return"(?<"+d+">"}else if(c)return"\\"+(+c+i);return a};if(!C(a,"Array")||!a.length)throw new TypeError("Must provide a nonempty array of patterns to merge");for(m=0;m<a.length;++m)k=a[m],b.isRegExp(k)?(i=h,j=k[c]&&k[c].captureNames||[],g.push(e.replace.call(b(k.source).source,f,l))):g.push(b.escape(k));return b(g.join("|"),d)},f.exec=function(b){var g,h,i,d=this.lastIndex,f=e.exec.apply(this,arguments);if(f){if(!n&&f.length>1&&B(f,"")>-1&&(h=w(this,{removeG:!0,isInternalOnly:!0}),e.replace.call(String(b).slice(f.index),h,function(){var c,b=arguments.length;for(c=1;b-2>c;++c)arguments[c]===a&&(f[c]=a)})),this[c]&&this[c].captureNames)for(i=1;i<f.length;++i)g=this[c].captureNames[i-1],g&&(f[g]=f[i]);this.global&&!f[0].length&&this.lastIndex>f.index&&(this.lastIndex=f.index)}return this.global||(this.lastIndex=d),f},f.test=function(a){return!!f.exec.call(this,a)},f.match=function(a){var c;if(b.isRegExp(a)){if(a.global)return c=e.match.apply(this,arguments),a.lastIndex=0,c}else a=new RegExp(a);return f.exec.call(a,L(this))},f.replace=function(d,f){var h,i,j,g=b.isRegExp(d);return g?(d[c]&&(i=d[c].captureNames),h=d.lastIndex):d+="",j=C(f,"Function")?e.replace.call(String(this),d,function(){var c,b=arguments;if(i)for(b[0]=new String(b[0]),c=0;c<i.length;++c)i[c]&&(b[0][i[c]]=b[c+1]);return g&&d.global&&(d.lastIndex=b[b.length-2]+b[0].length),f.apply(a,b)}):e.replace.call(null==this?this:String(this),d,function(){var a=arguments;return e.replace.call(String(f),m,function(b,c,d){var e;if(c){if(e=+c,e<=a.length-3)return a[e]||"";if(e=i?B(i,c):-1,0>e)throw new SyntaxError("Backreference to undefined group "+b);return a[e+1]||""}if("$"===d)return"$";if("&"===d||0===+d)return a[0];if("`"===d)return a[a.length-1].slice(0,a[a.length-2]);if("'"===d)return a[a.length-1].slice(a[a.length-2]+a[0].length);if(d=+d,!isNaN(d)){if(d>a.length-3)throw new SyntaxError("Backreference to undefined group "+b);return a[d]||""}throw new SyntaxError("Invalid token "+b)})}),g&&(d.global?d.lastIndex=0:d.lastIndex=h),j},f.split=function(c,d){if(!b.isRegExp(c))return e.split.apply(this,arguments);var j,f=String(this),g=[],h=c.lastIndex,i=0;return d=(d===a?-1:d)>>>0,b.forEach(f,c,function(a){a.index+a[0].length>i&&(g.push(f.slice(i,a.index)),a.length>1&&a.index<f.length&&Array.prototype.push.apply(g,a.slice(1)),j=a[0].length,i=a.index+j)}),i===f.length?(!e.test.call(c,"")||j)&&g.push(""):g.push(f.slice(i)),c.lastIndex=h,g.length>d?g.slice(0,d):g},t=b.addToken,t(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,function(a,b){if("B"===a[1]&&b===j)return a[0];throw new SyntaxError("Invalid escape "+a[0])},{scope:"all",leadChar:"\\"}),t(/\\u{([\dA-Fa-f]+)}/,function(a,b,c){var d=x(a[1]);if(d>1114111)throw new SyntaxError("Invalid Unicode code point "+a[0]);if(65535>=d)return"\\u"+E(A(d));if(o&&c.indexOf("u")>-1)return a[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")},{scope:"all",leadChar:"\\"}),t(/\[(\^?)]/,function(a){return a[1]?"[\\s\\S]":"\\b\\B"},{leadChar:"["}),t(/\(\?#[^)]*\)/,function(a,b,c){return D(a.input,a.index+a[0].length,c)?"":"(?:)"},{leadChar:"("}),t(/\s+|#.*/,function(a,b,c){return D(a.input,a.index+a[0].length,c)?"":"(?:)"},{flag:"x"}),t(/\./,function(){return"[\\s\\S]"},{flag:"s",leadChar:"."}),t(/\\k<([\w$]+)>/,function(a){var b=isNaN(a[1])?B(this.captureNames,a[1])+1:+a[1],c=a.index+a[0].length;if(!b||b>this.captureNames.length)throw new SyntaxError("Backreference to undefined group "+a[0]);return"\\"+b+(c===a.input.length||isNaN(a.input.charAt(c))?"":"(?:)")},{leadChar:"\\"}),t(/\\(\d+)/,function(a,b){if(!(b===j&&/^[1-9]/.test(a[1])&&+a[1]<=this.captureNames.length)&&"0"!==a[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group "+a[0]);return a[0]},{scope:"all",leadChar:"\\"}),t(/\(\?P?<([\w$]+)>/,function(a){if(!isNaN(a[1]))throw new SyntaxError("Cannot use integer as capture name "+a[0]);if("length"===a[1]||"__proto__"===a[1])throw new SyntaxError("Cannot use reserved word as capture name "+a[0]);if(B(this.captureNames,a[1])>-1)throw new SyntaxError("Cannot use same name for multiple groups "+a[0]);return this.captureNames.push(a[1]),this.hasNamedCapture=!0,"("},{leadChar:"("}),t(/\((?!\?)/,function(a,b,c){return c.indexOf("n")>-1?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n",leadChar:"("}),b}();

// NOTE FROM MIKE: this is a concatenation of the following XRegExp
// addons: unicode-base.js, unicode-categories.js (with all categories
// other than 'L' and 'Nd' removed to save space), and
// unicode-scripts.js.

/*!
 * XRegExp Unicode Base 3.0.0
 * <http://xregexp.com/>
 * Steven Levithan (c) 2008-2015 MIT License
 */

/**
 * Adds base support for Unicode matching:
 * - Adds syntax `\p{..}` for matching Unicode tokens. Tokens can be inverted using `\P{..}` or
 *   `\p{^..}`. Token names ignore case, spaces, hyphens, and underscores. You can omit the brackets
 *   for token names that are a single letter (e.g. `\pL` or `PL`).
 * - Adds flag A (astral), which enables 21-bit Unicode support.
 * - Adds the `XRegExp.addUnicodeData` method used by other addons to provide character data.
 *
 * Unicode Base relies on externally provided Unicode character data. Official addons are available
 * to provide data for Unicode categories, scripts, blocks, and properties.
 *
 * @requires XRegExp
 */
(function(XRegExp) {
    'use strict';

// Storage for Unicode data
    var unicode = {};

/* ==============================
 * Private functions
 * ============================== */

// Generates a token lookup name: lowercase, with hyphens, spaces, and underscores removed
    function normalize(name) {
        return name.replace(/[- _]+/g, '').toLowerCase();
    }

// Adds leading zeros if shorter than four characters
    function pad4(str) {
        while (str.length < 4) {
            str = '0' + str;
        }
        return str;
    }

// Converts a hexadecimal number to decimal
    function dec(hex) {
        return parseInt(hex, 16);
    }

// Converts a decimal number to hexadecimal
    function hex(dec) {
        return parseInt(dec, 10).toString(16);
    }

// Gets the decimal code of a literal code unit, \xHH, \uHHHH, or a backslash-escaped literal
    function charCode(chr) {
        var esc = /^\\[xu](.+)/.exec(chr);
        return esc ?
            dec(esc[1]) :
            chr.charCodeAt(chr.charAt(0) === '\\' ? 1 : 0);
    }

// Inverts a list of ordered BMP characters and ranges
    function invertBmp(range) {
        var output = '',
            lastEnd = -1,
            start;
        XRegExp.forEach(range, /(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/, function(m) {
            start = charCode(m[1]);
            if (start > (lastEnd + 1)) {
                output += '\\u' + pad4(hex(lastEnd + 1));
                if (start > (lastEnd + 2)) {
                    output += '-\\u' + pad4(hex(start - 1));
                }
            }
            lastEnd = charCode(m[2] || m[1]);
        });
        if (lastEnd < 0xFFFF) {
            output += '\\u' + pad4(hex(lastEnd + 1));
            if (lastEnd < 0xFFFE) {
                output += '-\\uFFFF';
            }
        }
        return output;
    }

// Generates an inverted BMP range on first use
    function cacheInvertedBmp(slug) {
        var prop = 'b!';
        return unicode[slug][prop] || (
            unicode[slug][prop] = invertBmp(unicode[slug].bmp)
        );
    }

// Combines and optionally negates BMP and astral data
    function buildAstral(slug, isNegated) {
        var item = unicode[slug],
            combined = '';
        if (item.bmp && !item.isBmpLast) {
            combined = '[' + item.bmp + ']' + (item.astral ? '|' : '');
        }
        if (item.astral) {
            combined += item.astral;
        }
        if (item.isBmpLast && item.bmp) {
            combined += (item.astral ? '|' : '') + '[' + item.bmp + ']';
        }
        // Astral Unicode tokens always match a code point, never a code unit
        return isNegated ?
            '(?:(?!' + combined + ')(?:[\uD800-\uDBFF][\uDC00-\uDFFF]|[\0-\uFFFF]))' :
            '(?:' + combined + ')';
    }

// Builds a complete astral pattern on first use
    function cacheAstral(slug, isNegated) {
        var prop = isNegated ? 'a!' : 'a=';
        return unicode[slug][prop] || (
            unicode[slug][prop] = buildAstral(slug, isNegated)
        );
    }

/* ==============================
 * Core functionality
 * ============================== */

/*
 * Add Unicode token syntax: \p{..}, \P{..}, \p{^..}. Also add astral mode (flag A).
 */
    XRegExp.addToken(
        // Use `*` instead of `+` to avoid capturing `^` as the token name in `\p{^}`
        /\\([pP])(?:{(\^?)([^}]*)}|([A-Za-z]))/,
        function(match, scope, flags) {
            var ERR_DOUBLE_NEG = 'Invalid double negation ',
                ERR_UNKNOWN_NAME = 'Unknown Unicode token ',
                ERR_UNKNOWN_REF = 'Unicode token missing data ',
                ERR_ASTRAL_ONLY = 'Astral mode required for Unicode token ',
                ERR_ASTRAL_IN_CLASS = 'Astral mode does not support Unicode tokens within character classes',
                // Negated via \P{..} or \p{^..}
                isNegated = match[1] === 'P' || !!match[2],
                // Switch from BMP (0-FFFF) to astral (0-10FFFF) mode via flag A
                isAstralMode = flags.indexOf('A') > -1,
                // Token lookup name. Check `[4]` first to avoid passing `undefined` via `\p{}`
                slug = normalize(match[4] || match[3]),
                // Token data object
                item = unicode[slug];

            if (match[1] === 'P' && match[2]) {
                throw new SyntaxError(ERR_DOUBLE_NEG + match[0]);
            }
            if (!unicode.hasOwnProperty(slug)) {
                throw new SyntaxError(ERR_UNKNOWN_NAME + match[0]);
            }

            // Switch to the negated form of the referenced Unicode token
            if (item.inverseOf) {
                slug = normalize(item.inverseOf);
                if (!unicode.hasOwnProperty(slug)) {
                    throw new ReferenceError(ERR_UNKNOWN_REF + match[0] + ' -> ' + item.inverseOf);
                }
                item = unicode[slug];
                isNegated = !isNegated;
            }

            if (!(item.bmp || isAstralMode)) {
                throw new SyntaxError(ERR_ASTRAL_ONLY + match[0]);
            }
            if (isAstralMode) {
                if (scope === 'class') {
                    throw new SyntaxError(ERR_ASTRAL_IN_CLASS);
                }

                return cacheAstral(slug, isNegated);
            }

            return scope === 'class' ?
                (isNegated ? cacheInvertedBmp(slug) : item.bmp) :
                (isNegated ? '[^' : '[') + item.bmp + ']';
        },
        {
            scope: 'all',
            optionalFlags: 'A',
            leadChar: '\\'
        }
    );

/**
 * Adds to the list of Unicode tokens that XRegExp regexes can match via `\p` or `\P`.
 *
 * @memberOf XRegExp
 * @param {Array} data Objects with named character ranges. Each object may have properties `name`,
 *   `alias`, `isBmpLast`, `inverseOf`, `bmp`, and `astral`. All but `name` are optional, although
 *   one of `bmp` or `astral` is required (unless `inverseOf` is set). If `astral` is absent, the
 *   `bmp` data is used for BMP and astral modes. If `bmp` is absent, the name errors in BMP mode
 *   but works in astral mode. If both `bmp` and `astral` are provided, the `bmp` data only is used
 *   in BMP mode, and the combination of `bmp` and `astral` data is used in astral mode.
 *   `isBmpLast` is needed when a token matches orphan high surrogates *and* uses surrogate pairs
 *   to match astral code points. The `bmp` and `astral` data should be a combination of literal
 *   characters and `\xHH` or `\uHHHH` escape sequences, with hyphens to create ranges. Any regex
 *   metacharacters in the data should be escaped, apart from range-creating hyphens. The `astral`
 *   data can additionally use character classes and alternation, and should use surrogate pairs to
 *   represent astral code points. `inverseOf` can be used to avoid duplicating character data if a
 *   Unicode token is defined as the exact inverse of another token.
 * @example
 *
 * // Basic use
 * XRegExp.addUnicodeData([{
 *   name: 'XDigit',
 *   alias: 'Hexadecimal',
 *   bmp: '0-9A-Fa-f'
 * }]);
 * XRegExp('\\p{XDigit}:\\p{Hexadecimal}+').test('0:3D'); // -> true
 */
    XRegExp.addUnicodeData = function(data) {
        var ERR_NO_NAME = 'Unicode token requires name',
            ERR_NO_DATA = 'Unicode token has no character data ',
            item,
            i;

        for (i = 0; i < data.length; ++i) {
            item = data[i];
            if (!item.name) {
                throw new Error(ERR_NO_NAME);
            }
            if (!(item.inverseOf || item.bmp || item.astral)) {
                throw new Error(ERR_NO_DATA + item.name);
            }
            unicode[normalize(item.name)] = item;
            if (item.alias) {
                unicode[normalize(item.alias)] = item;
            }
        }

        // Reset the pattern cache used by the `XRegExp` constructor, since the same pattern and
        // flags might now produce different results
        XRegExp.cache.flush('patterns');
    };

}(XRegExp));

/*!
 * XRegExp Unicode Categories 3.0.0
 * <http://xregexp.com/>
 * Steven Levithan (c) 2010-2015 MIT License
 * Unicode data provided by Mathias Bynens <http://mathiasbynens.be/>
 */

/**
 * Adds support for Unicode's general categories. E.g., `\p{Lu}` or `\p{Uppercase Letter}`. See
 * category descriptions in UAX #44 <http://unicode.org/reports/tr44/#GC_Values_Table>. Token names
 * are case insensitive, and any spaces, hyphens, and underscores are ignored.
 *
 * Uses Unicode 8.0.0.
 *
 * @requires XRegExp, Unicode Base
 */
(function(XRegExp) {
    'use strict';

    if (!XRegExp.addUnicodeData) {
        throw new ReferenceError('Unicode Base must be loaded before Unicode Categories');
    }

    XRegExp.addUnicodeData([
        {
            name: 'L',
            alias: 'Letter',
            bmp: 'A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC',
            astral: '\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD83A[\uDC00-\uDCC4]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD80D[\uDC00-\uDC2E]|\uD87E[\uDC00-\uDE1D]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD809[\uDC80-\uDD43]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD808[\uDC00-\uDF99]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD811[\uDC00-\uDE46]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD82C[\uDC00\uDC01]|\uD873[\uDC00-\uDEA1]'
        },
        {
            name: 'Nd',
            alias: 'Decimal_Number',
            bmp: '0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19',
            astral: '\uD801[\uDCA0-\uDCA9]|\uD835[\uDFCE-\uDFFF]|\uD805[\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF39]|\uD806[\uDCE0-\uDCE9]|\uD804[\uDC66-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDEF0-\uDEF9]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59]'
        }
    ]);

}(XRegExp));

/*!
 * XRegExp Unicode Scripts 3.0.0
 * <http://xregexp.com/>
 * Steven Levithan (c) 2010-2015 MIT License
 * Unicode data provided by Mathias Bynens <http://mathiasbynens.be/>
 */

/**
 * Adds support for all Unicode scripts. E.g., `\p{Latin}`. Token names are case insensitive, and
 * any spaces, hyphens, and underscores are ignored.
 *
 * Uses Unicode 8.0.0.
 *
 * @requires XRegExp, Unicode Base
 */
(function(XRegExp) {
    'use strict';

    if (!XRegExp.addUnicodeData) {
        throw new ReferenceError('Unicode Base must be loaded before Unicode Scripts');
    }

    XRegExp.addUnicodeData([
        {
            name: 'Ahom',
            astral: '\uD805[\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF3F]'
        },
        {
            name: 'Anatolian_Hieroglyphs',
            astral: '\uD811[\uDC00-\uDE46]'
        },
        {
            name: 'Arabic',
            bmp: '\u0600-\u0604\u0606-\u060B\u060D-\u061A\u061E\u0620-\u063F\u0641-\u064A\u0656-\u066F\u0671-\u06DC\u06DE-\u06FF\u0750-\u077F\u08A0-\u08B4\u08E3-\u08FF\uFB50-\uFBC1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFD\uFE70-\uFE74\uFE76-\uFEFC',
            astral: '\uD803[\uDE60-\uDE7E]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB\uDEF0\uDEF1]'
        },
        {
            name: 'Armenian',
            bmp: '\u0531-\u0556\u0559-\u055F\u0561-\u0587\u058A\u058D-\u058F\uFB13-\uFB17'
        },
        {
            name: 'Avestan',
            astral: '\uD802[\uDF00-\uDF35\uDF39-\uDF3F]'
        },
        {
            name: 'Balinese',
            bmp: '\u1B00-\u1B4B\u1B50-\u1B7C'
        },
        {
            name: 'Bamum',
            bmp: '\uA6A0-\uA6F7',
            astral: '\uD81A[\uDC00-\uDE38]'
        },
        {
            name: 'Bassa_Vah',
            astral: '\uD81A[\uDED0-\uDEED\uDEF0-\uDEF5]'
        },
        {
            name: 'Batak',
            bmp: '\u1BC0-\u1BF3\u1BFC-\u1BFF'
        },
        {
            name: 'Bengali',
            bmp: '\u0980-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09FB'
        },
        {
            name: 'Bopomofo',
            bmp: '\u02EA\u02EB\u3105-\u312D\u31A0-\u31BA'
        },
        {
            name: 'Brahmi',
            astral: '\uD804[\uDC00-\uDC4D\uDC52-\uDC6F\uDC7F]'
        },
        {
            name: 'Braille',
            bmp: '\u2800-\u28FF'
        },
        {
            name: 'Buginese',
            bmp: '\u1A00-\u1A1B\u1A1E\u1A1F'
        },
        {
            name: 'Buhid',
            bmp: '\u1740-\u1753'
        },
        {
            name: 'Canadian_Aboriginal',
            bmp: '\u1400-\u167F\u18B0-\u18F5'
        },
        {
            name: 'Carian',
            astral: '\uD800[\uDEA0-\uDED0]'
        },
        {
            name: 'Caucasian_Albanian',
            astral: '\uD801[\uDD30-\uDD63\uDD6F]'
        },
        {
            name: 'Chakma',
            astral: '\uD804[\uDD00-\uDD34\uDD36-\uDD43]'
        },
        {
            name: 'Cham',
            bmp: '\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA5C-\uAA5F'
        },
        {
            name: 'Cherokee',
            bmp: '\u13A0-\u13F5\u13F8-\u13FD\uAB70-\uABBF'
        },
        {
            name: 'Common',
            bmp: '\0-\x40\\x5B-\x60\\x7B-\xA9\xAB-\xB9\xBB-\xBF\xD7\xF7\u02B9-\u02DF\u02E5-\u02E9\u02EC-\u02FF\u0374\u037E\u0385\u0387\u0589\u0605\u060C\u061B\u061C\u061F\u0640\u06DD\u0964\u0965\u0E3F\u0FD5-\u0FD8\u10FB\u16EB-\u16ED\u1735\u1736\u1802\u1803\u1805\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u2000-\u200B\u200E-\u2064\u2066-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20BE\u2100-\u2125\u2127-\u2129\u212C-\u2131\u2133-\u214D\u214F-\u215F\u2189-\u218B\u2190-\u23FA\u2400-\u2426\u2440-\u244A\u2460-\u27FF\u2900-\u2B73\u2B76-\u2B95\u2B98-\u2BB9\u2BBD-\u2BC8\u2BCA-\u2BD1\u2BEC-\u2BEF\u2E00-\u2E42\u2FF0-\u2FFB\u3000-\u3004\u3006\u3008-\u3020\u3030-\u3037\u303C-\u303F\u309B\u309C\u30A0\u30FB\u30FC\u3190-\u319F\u31C0-\u31E3\u3220-\u325F\u327F-\u32CF\u3358-\u33FF\u4DC0-\u4DFF\uA700-\uA721\uA788-\uA78A\uA830-\uA839\uA92E\uA9CF\uAB5B\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFF70\uFF9E\uFF9F\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD',
            astral: '\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDD10-\uDD18\uDD80-\uDD84\uDDC0]|\uD82F[\uDCA0-\uDCA3]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDFCB\uDFCE-\uDFFF]|\uDB40[\uDC01\uDC20-\uDC7F]|\uD83D[\uDC00-\uDD79\uDD7B-\uDDA3\uDDA5-\uDED0\uDEE0-\uDEEC\uDEF0-\uDEF3\uDF00-\uDF73\uDF80-\uDFD4]|\uD800[\uDD00-\uDD02\uDD07-\uDD33\uDD37-\uDD3F\uDD90-\uDD9B\uDDD0-\uDDFC\uDEE1-\uDEFB]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD66\uDD6A-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDE8\uDF00-\uDF56\uDF60-\uDF71]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD00-\uDD0C\uDD10-\uDD2E\uDD30-\uDD6B\uDD70-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE10-\uDE3A\uDE40-\uDE48\uDE50\uDE51\uDF00-\uDFFF]'
        },
        {
            name: 'Coptic',
            bmp: '\u03E2-\u03EF\u2C80-\u2CF3\u2CF9-\u2CFF'
        },
        {
            name: 'Cuneiform',
            astral: '\uD809[\uDC00-\uDC6E\uDC70-\uDC74\uDC80-\uDD43]|\uD808[\uDC00-\uDF99]'
        },
        {
            name: 'Cypriot',
            astral: '\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F]'
        },
        {
            name: 'Cyrillic',
            bmp: '\u0400-\u0484\u0487-\u052F\u1D2B\u1D78\u2DE0-\u2DFF\uA640-\uA69F\uFE2E\uFE2F'
        },
        {
            name: 'Deseret',
            astral: '\uD801[\uDC00-\uDC4F]'
        },
        {
            name: 'Devanagari',
            bmp: '\u0900-\u0950\u0953-\u0963\u0966-\u097F\uA8E0-\uA8FD'
        },
        {
            name: 'Duployan',
            astral: '\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9C-\uDC9F]'
        },
        {
            name: 'Egyptian_Hieroglyphs',
            astral: '\uD80C[\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]'
        },
        {
            name: 'Elbasan',
            astral: '\uD801[\uDD00-\uDD27]'
        },
        {
            name: 'Ethiopic',
            bmp: '\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u137C\u1380-\u1399\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E'
        },
        {
            name: 'Georgian',
            bmp: '\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u10FF\u2D00-\u2D25\u2D27\u2D2D'
        },
        {
            name: 'Glagolitic',
            bmp: '\u2C00-\u2C2E\u2C30-\u2C5E'
        },
        {
            name: 'Gothic',
            astral: '\uD800[\uDF30-\uDF4A]'
        },
        {
            name: 'Grantha',
            astral: '\uD804[\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]'
        },
        {
            name: 'Greek',
            bmp: '\u0370-\u0373\u0375-\u0377\u037A-\u037D\u037F\u0384\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03E1\u03F0-\u03FF\u1D26-\u1D2A\u1D5D-\u1D61\u1D66-\u1D6A\u1DBF\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u2126\uAB65',
            astral: '\uD800[\uDD40-\uDD8C\uDDA0]|\uD834[\uDE00-\uDE45]'
        },
        {
            name: 'Gujarati',
            bmp: '\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AF1\u0AF9'
        },
        {
            name: 'Gurmukhi',
            bmp: '\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75'
        },
        {
            name: 'Han',
            bmp: '\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3400-\u4DB5\u4E00-\u9FD5\uF900-\uFA6D\uFA70-\uFAD9',
            astral: '\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD87E[\uDC00-\uDE1D]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD873[\uDC00-\uDEA1]'
        },
        {
            name: 'Hangul',
            bmp: '\u1100-\u11FF\u302E\u302F\u3131-\u318E\u3200-\u321E\u3260-\u327E\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC'
        },
        {
            name: 'Hanunoo',
            bmp: '\u1720-\u1734'
        },
        {
            name: 'Hatran',
            astral: '\uD802[\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDCFF]'
        },
        {
            name: 'Hebrew',
            bmp: '\u0591-\u05C7\u05D0-\u05EA\u05F0-\u05F4\uFB1D-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFB4F'
        },
        {
            name: 'Hiragana',
            bmp: '\u3041-\u3096\u309D-\u309F',
            astral: '\uD82C\uDC01|\uD83C\uDE00'
        },
        {
            name: 'Imperial_Aramaic',
            astral: '\uD802[\uDC40-\uDC55\uDC57-\uDC5F]'
        },
        {
            name: 'Inherited',
            bmp: '\u0300-\u036F\u0485\u0486\u064B-\u0655\u0670\u0951\u0952\u1AB0-\u1ABE\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C\u200D\u20D0-\u20F0\u302A-\u302D\u3099\u309A\uFE00-\uFE0F\uFE20-\uFE2D',
            astral: '\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD800[\uDDFD\uDEE0]|\uDB40[\uDD00-\uDDEF]'
        },
        {
            name: 'Inscriptional_Pahlavi',
            astral: '\uD802[\uDF60-\uDF72\uDF78-\uDF7F]'
        },
        {
            name: 'Inscriptional_Parthian',
            astral: '\uD802[\uDF40-\uDF55\uDF58-\uDF5F]'
        },
        {
            name: 'Javanese',
            bmp: '\uA980-\uA9CD\uA9D0-\uA9D9\uA9DE\uA9DF'
        },
        {
            name: 'Kaithi',
            astral: '\uD804[\uDC80-\uDCC1]'
        },
        {
            name: 'Kannada',
            bmp: '\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2'
        },
        {
            name: 'Katakana',
            bmp: '\u30A1-\u30FA\u30FD-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\uFF66-\uFF6F\uFF71-\uFF9D',
            astral: '\uD82C\uDC00'
        },
        {
            name: 'Kayah_Li',
            bmp: '\uA900-\uA92D\uA92F'
        },
        {
            name: 'Kharoshthi',
            astral: '\uD802[\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F-\uDE47\uDE50-\uDE58]'
        },
        {
            name: 'Khmer',
            bmp: '\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u19E0-\u19FF'
        },
        {
            name: 'Khojki',
            astral: '\uD804[\uDE00-\uDE11\uDE13-\uDE3D]'
        },
        {
            name: 'Khudawadi',
            astral: '\uD804[\uDEB0-\uDEEA\uDEF0-\uDEF9]'
        },
        {
            name: 'Lao',
            bmp: '\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF'
        },
        {
            name: 'Latin',
            bmp: 'A-Za-z\xAA\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02E0-\u02E4\u1D00-\u1D25\u1D2C-\u1D5C\u1D62-\u1D65\u1D6B-\u1D77\u1D79-\u1DBE\u1E00-\u1EFF\u2071\u207F\u2090-\u209C\u212A\u212B\u2132\u214E\u2160-\u2188\u2C60-\u2C7F\uA722-\uA787\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA7FF\uAB30-\uAB5A\uAB5C-\uAB64\uFB00-\uFB06\uFF21-\uFF3A\uFF41-\uFF5A'
        },
        {
            name: 'Lepcha',
            bmp: '\u1C00-\u1C37\u1C3B-\u1C49\u1C4D-\u1C4F'
        },
        {
            name: 'Limbu',
            bmp: '\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1940\u1944-\u194F'
        },
        {
            name: 'Linear_A',
            astral: '\uD801[\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]'
        },
        {
            name: 'Linear_B',
            astral: '\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA]'
        },
        {
            name: 'Lisu',
            bmp: '\uA4D0-\uA4FF'
        },
        {
            name: 'Lycian',
            astral: '\uD800[\uDE80-\uDE9C]'
        },
        {
            name: 'Lydian',
            astral: '\uD802[\uDD20-\uDD39\uDD3F]'
        },
        {
            name: 'Mahajani',
            astral: '\uD804[\uDD50-\uDD76]'
        },
        {
            name: 'Malayalam',
            bmp: '\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D75\u0D79-\u0D7F'
        },
        {
            name: 'Mandaic',
            bmp: '\u0840-\u085B\u085E'
        },
        {
            name: 'Manichaean',
            astral: '\uD802[\uDEC0-\uDEE6\uDEEB-\uDEF6]'
        },
        {
            name: 'Meetei_Mayek',
            bmp: '\uAAE0-\uAAF6\uABC0-\uABED\uABF0-\uABF9'
        },
        {
            name: 'Mende_Kikakui',
            astral: '\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6]'
        },
        {
            name: 'Meroitic_Cursive',
            astral: '\uD802[\uDDA0-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDDFF]'
        },
        {
            name: 'Meroitic_Hieroglyphs',
            astral: '\uD802[\uDD80-\uDD9F]'
        },
        {
            name: 'Miao',
            astral: '\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]'
        },
        {
            name: 'Modi',
            astral: '\uD805[\uDE00-\uDE44\uDE50-\uDE59]'
        },
        {
            name: 'Mongolian',
            bmp: '\u1800\u1801\u1804\u1806-\u180E\u1810-\u1819\u1820-\u1877\u1880-\u18AA'
        },
        {
            name: 'Mro',
            astral: '\uD81A[\uDE40-\uDE5E\uDE60-\uDE69\uDE6E\uDE6F]'
        },
        {
            name: 'Multani',
            astral: '\uD804[\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA9]'
        },
        {
            name: 'Myanmar',
            bmp: '\u1000-\u109F\uA9E0-\uA9FE\uAA60-\uAA7F'
        },
        {
            name: 'Nabataean',
            astral: '\uD802[\uDC80-\uDC9E\uDCA7-\uDCAF]'
        },
        {
            name: 'New_Tai_Lue',
            bmp: '\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u19DE\u19DF'
        },
        {
            name: 'Nko',
            bmp: '\u07C0-\u07FA'
        },
        {
            name: 'Ogham',
            bmp: '\u1680-\u169C'
        },
        {
            name: 'Ol_Chiki',
            bmp: '\u1C50-\u1C7F'
        },
        {
            name: 'Old_Hungarian',
            astral: '\uD803[\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDCFF]'
        },
        {
            name: 'Old_Italic',
            astral: '\uD800[\uDF00-\uDF23]'
        },
        {
            name: 'Old_North_Arabian',
            astral: '\uD802[\uDE80-\uDE9F]'
        },
        {
            name: 'Old_Permic',
            astral: '\uD800[\uDF50-\uDF7A]'
        },
        {
            name: 'Old_Persian',
            astral: '\uD800[\uDFA0-\uDFC3\uDFC8-\uDFD5]'
        },
        {
            name: 'Old_South_Arabian',
            astral: '\uD802[\uDE60-\uDE7F]'
        },
        {
            name: 'Old_Turkic',
            astral: '\uD803[\uDC00-\uDC48]'
        },
        {
            name: 'Oriya',
            bmp: '\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B77'
        },
        {
            name: 'Osmanya',
            astral: '\uD801[\uDC80-\uDC9D\uDCA0-\uDCA9]'
        },
        {
            name: 'Pahawh_Hmong',
            astral: '\uD81A[\uDF00-\uDF45\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]'
        },
        {
            name: 'Palmyrene',
            astral: '\uD802[\uDC60-\uDC7F]'
        },
        {
            name: 'Pau_Cin_Hau',
            astral: '\uD806[\uDEC0-\uDEF8]'
        },
        {
            name: 'Phags_Pa',
            bmp: '\uA840-\uA877'
        },
        {
            name: 'Phoenician',
            astral: '\uD802[\uDD00-\uDD1B\uDD1F]'
        },
        {
            name: 'Psalter_Pahlavi',
            astral: '\uD802[\uDF80-\uDF91\uDF99-\uDF9C\uDFA9-\uDFAF]'
        },
        {
            name: 'Rejang',
            bmp: '\uA930-\uA953\uA95F'
        },
        {
            name: 'Runic',
            bmp: '\u16A0-\u16EA\u16EE-\u16F8'
        },
        {
            name: 'Samaritan',
            bmp: '\u0800-\u082D\u0830-\u083E'
        },
        {
            name: 'Saurashtra',
            bmp: '\uA880-\uA8C4\uA8CE-\uA8D9'
        },
        {
            name: 'Sharada',
            astral: '\uD804[\uDD80-\uDDCD\uDDD0-\uDDDF]'
        },
        {
            name: 'Shavian',
            astral: '\uD801[\uDC50-\uDC7F]'
        },
        {
            name: 'Siddham',
            astral: '\uD805[\uDD80-\uDDB5\uDDB8-\uDDDD]'
        },
        {
            name: 'SignWriting',
            astral: '\uD836[\uDC00-\uDE8B\uDE9B-\uDE9F\uDEA1-\uDEAF]'
        },
        {
            name: 'Sinhala',
            bmp: '\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4',
            astral: '\uD804[\uDDE1-\uDDF4]'
        },
        {
            name: 'Sora_Sompeng',
            astral: '\uD804[\uDCD0-\uDCE8\uDCF0-\uDCF9]'
        },
        {
            name: 'Sundanese',
            bmp: '\u1B80-\u1BBF\u1CC0-\u1CC7'
        },
        {
            name: 'Syloti_Nagri',
            bmp: '\uA800-\uA82B'
        },
        {
            name: 'Syriac',
            bmp: '\u0700-\u070D\u070F-\u074A\u074D-\u074F'
        },
        {
            name: 'Tagalog',
            bmp: '\u1700-\u170C\u170E-\u1714'
        },
        {
            name: 'Tagbanwa',
            bmp: '\u1760-\u176C\u176E-\u1770\u1772\u1773'
        },
        {
            name: 'Tai_Le',
            bmp: '\u1950-\u196D\u1970-\u1974'
        },
        {
            name: 'Tai_Tham',
            bmp: '\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD'
        },
        {
            name: 'Tai_Viet',
            bmp: '\uAA80-\uAAC2\uAADB-\uAADF'
        },
        {
            name: 'Takri',
            astral: '\uD805[\uDE80-\uDEB7\uDEC0-\uDEC9]'
        },
        {
            name: 'Tamil',
            bmp: '\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BFA'
        },
        {
            name: 'Telugu',
            bmp: '\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C78-\u0C7F'
        },
        {
            name: 'Thaana',
            bmp: '\u0780-\u07B1'
        },
        {
            name: 'Thai',
            bmp: '\u0E01-\u0E3A\u0E40-\u0E5B'
        },
        {
            name: 'Tibetan',
            bmp: '\u0F00-\u0F47\u0F49-\u0F6C\u0F71-\u0F97\u0F99-\u0FBC\u0FBE-\u0FCC\u0FCE-\u0FD4\u0FD9\u0FDA'
        },
        {
            name: 'Tifinagh',
            bmp: '\u2D30-\u2D67\u2D6F\u2D70\u2D7F'
        },
        {
            name: 'Tirhuta',
            astral: '\uD805[\uDC80-\uDCC7\uDCD0-\uDCD9]'
        },
        {
            name: 'Ugaritic',
            astral: '\uD800[\uDF80-\uDF9D\uDF9F]'
        },
        {
            name: 'Vai',
            bmp: '\uA500-\uA62B'
        },
        {
            name: 'Warang_Citi',
            astral: '\uD806[\uDCA0-\uDCF2\uDCFF]'
        },
        {
            name: 'Yi',
            bmp: '\uA000-\uA48C\uA490-\uA4C6'
        }
    ]);

}(XRegExp));
Ô
"^_`a_application/javascript_)https://workflowy.com/media/js/md5-min.jsO/bplist00ÔfgX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`aU$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_)https://workflowy.com/media/js/md5-min.jsÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùpgä› ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABCDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)_application/javascript_Mon, 16 Mar 2015 21:21:13 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTT5283Xno-cache_"14a3-5116e6dfe2440"Ò+,^_\NSDictionary¢^/_application/javascriptÒ+,bc_NSHTTPURLResponse£de/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑhi_WebResourceResponse€    # - 2 7 X ^ y | € ƒ † ‰   — š    £ ¦ ¨ ª ¬ ® ° ± ³ µ · ¹ » ½ ¿ Æ Î Ú Ü Þ à%+.7@BDKS^hjlnprtvxz„†ˆŠŒŽ’”–˜£ª·ÅÓØçõú6V\|Š¡¦³¶ÏÔèì  #9             j              ;O£/*
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */
var hexcase=0;function hex_md5(a){return rstr2hex(rstr_md5(str2rstr_utf8(a)))}function hex_hmac_md5(a,b){return rstr2hex(rstr_hmac_md5(str2rstr_utf8(a),str2rstr_utf8(b)))}function md5_vm_test(){return hex_md5("abc").toLowerCase()=="900150983cd24fb0d6963f7d28e17f72"}function rstr_md5(a){return binl2rstr(binl_md5(rstr2binl(a),a.length*8))}function rstr_hmac_md5(c,f){var e=rstr2binl(c);if(e.length>16){e=binl_md5(e,c.length*8)}var a=Array(16),d=Array(16);for(var b=0;b<16;b++){a[b]=e[b]^909522486;d[b]=e[b]^1549556828}var g=binl_md5(a.concat(rstr2binl(f)),512+f.length*8);return binl2rstr(binl_md5(d.concat(g),512+128))}function rstr2hex(c){try{hexcase}catch(g){hexcase=0}var f=hexcase?"0123456789ABCDEF":"0123456789abcdef";var b="";var a;for(var d=0;d<c.length;d++){a=c.charCodeAt(d);b+=f.charAt((a>>>4)&15)+f.charAt(a&15)}return b}function str2rstr_utf8(c){var b="";var d=-1;var a,e;while(++d<c.length){a=c.charCodeAt(d);e=d+1<c.length?c.charCodeAt(d+1):0;if(55296<=a&&a<=56319&&56320<=e&&e<=57343){a=65536+((a&1023)<<10)+(e&1023);d++}if(a<=127){b+=String.fromCharCode(a)}else{if(a<=2047){b+=String.fromCharCode(192|((a>>>6)&31),128|(a&63))}else{if(a<=65535){b+=String.fromCharCode(224|((a>>>12)&15),128|((a>>>6)&63),128|(a&63))}else{if(a<=2097151){b+=String.fromCharCode(240|((a>>>18)&7),128|((a>>>12)&63),128|((a>>>6)&63),128|(a&63))}}}}}return b}function rstr2binl(b){var a=Array(b.length>>2);for(var c=0;c<a.length;c++){a[c]=0}for(var c=0;c<b.length*8;c+=8){a[c>>5]|=(b.charCodeAt(c/8)&255)<<(c%32)}return a}function binl2rstr(b){var a="";for(var c=0;c<b.length*32;c+=8){a+=String.fromCharCode((b[c>>5]>>>(c%32))&255)}return a}function binl_md5(p,k){p[k>>5]|=128<<((k)%32);p[(((k+64)>>>9)<<4)+14]=k;var o=1732584193;var n=-271733879;var m=-1732584194;var l=271733878;for(var g=0;g<p.length;g+=16){var j=o;var h=n;var f=m;var e=l;o=md5_ff(o,n,m,l,p[g+0],7,-680876936);l=md5_ff(l,o,n,m,p[g+1],12,-389564586);m=md5_ff(m,l,o,n,p[g+2],17,606105819);n=md5_ff(n,m,l,o,p[g+3],22,-1044525330);o=md5_ff(o,n,m,l,p[g+4],7,-176418897);l=md5_ff(l,o,n,m,p[g+5],12,1200080426);m=md5_ff(m,l,o,n,p[g+6],17,-1473231341);n=md5_ff(n,m,l,o,p[g+7],22,-45705983);o=md5_ff(o,n,m,l,p[g+8],7,1770035416);l=md5_ff(l,o,n,m,p[g+9],12,-1958414417);m=md5_ff(m,l,o,n,p[g+10],17,-42063);n=md5_ff(n,m,l,o,p[g+11],22,-1990404162);o=md5_ff(o,n,m,l,p[g+12],7,1804603682);l=md5_ff(l,o,n,m,p[g+13],12,-40341101);m=md5_ff(m,l,o,n,p[g+14],17,-1502002290);n=md5_ff(n,m,l,o,p[g+15],22,1236535329);o=md5_gg(o,n,m,l,p[g+1],5,-165796510);l=md5_gg(l,o,n,m,p[g+6],9,-1069501632);m=md5_gg(m,l,o,n,p[g+11],14,643717713);n=md5_gg(n,m,l,o,p[g+0],20,-373897302);o=md5_gg(o,n,m,l,p[g+5],5,-701558691);l=md5_gg(l,o,n,m,p[g+10],9,38016083);m=md5_gg(m,l,o,n,p[g+15],14,-660478335);n=md5_gg(n,m,l,o,p[g+4],20,-405537848);o=md5_gg(o,n,m,l,p[g+9],5,568446438);l=md5_gg(l,o,n,m,p[g+14],9,-1019803690);m=md5_gg(m,l,o,n,p[g+3],14,-187363961);n=md5_gg(n,m,l,o,p[g+8],20,1163531501);o=md5_gg(o,n,m,l,p[g+13],5,-1444681467);l=md5_gg(l,o,n,m,p[g+2],9,-51403784);m=md5_gg(m,l,o,n,p[g+7],14,1735328473);n=md5_gg(n,m,l,o,p[g+12],20,-1926607734);o=md5_hh(o,n,m,l,p[g+5],4,-378558);l=md5_hh(l,o,n,m,p[g+8],11,-2022574463);m=md5_hh(m,l,o,n,p[g+11],16,1839030562);n=md5_hh(n,m,l,o,p[g+14],23,-35309556);o=md5_hh(o,n,m,l,p[g+1],4,-1530992060);l=md5_hh(l,o,n,m,p[g+4],11,1272893353);m=md5_hh(m,l,o,n,p[g+7],16,-155497632);n=md5_hh(n,m,l,o,p[g+10],23,-1094730640);o=md5_hh(o,n,m,l,p[g+13],4,681279174);l=md5_hh(l,o,n,m,p[g+0],11,-358537222);m=md5_hh(m,l,o,n,p[g+3],16,-722521979);n=md5_hh(n,m,l,o,p[g+6],23,76029189);o=md5_hh(o,n,m,l,p[g+9],4,-640364487);l=md5_hh(l,o,n,m,p[g+12],11,-421815835);m=md5_hh(m,l,o,n,p[g+15],16,530742520);n=md5_hh(n,m,l,o,p[g+2],23,-995338651);o=md5_ii(o,n,m,l,p[g+0],6,-198630844);l=md5_ii(l,o,n,m,p[g+7],10,1126891415);m=md5_ii(m,l,o,n,p[g+14],15,-1416354905);n=md5_ii(n,m,l,o,p[g+5],21,-57434055);o=md5_ii(o,n,m,l,p[g+12],6,1700485571);l=md5_ii(l,o,n,m,p[g+3],10,-1894986606);m=md5_ii(m,l,o,n,p[g+10],15,-1051523);n=md5_ii(n,m,l,o,p[g+1],21,-2054922799);o=md5_ii(o,n,m,l,p[g+8],6,1873313359);l=md5_ii(l,o,n,m,p[g+15],10,-30611744);m=md5_ii(m,l,o,n,p[g+6],15,-1560198380);n=md5_ii(n,m,l,o,p[g+13],21,1309151649);o=md5_ii(o,n,m,l,p[g+4],6,-145523070);l=md5_ii(l,o,n,m,p[g+11],10,-1120210379);m=md5_ii(m,l,o,n,p[g+2],15,718787259);n=md5_ii(n,m,l,o,p[g+9],21,-343485551);o=safe_add(o,j);n=safe_add(n,h);m=safe_add(m,f);l=safe_add(l,e)}return Array(o,n,m,l)}function md5_cmn(h,e,d,c,g,f){return safe_add(bit_rol(safe_add(safe_add(e,h),safe_add(c,f)),g),d)}function md5_ff(g,f,k,j,e,i,h){return md5_cmn((f&k)|((~f)&j),g,f,e,i,h)}function md5_gg(g,f,k,j,e,i,h){return md5_cmn((f&j)|(k&(~j)),g,f,e,i,h)}function md5_hh(g,f,k,j,e,i,h){return md5_cmn(f^k^j,g,f,e,i,h)}function md5_ii(g,f,k,j,e,i,h){return md5_cmn(k^(f|(~j)),g,f,e,i,h)}function safe_add(a,d){var c=(a&65535)+(d&65535);var b=(a>>16)+(d>>16)+(c>>16);return(b<<16)|(c&65535)}function bit_rol(a,b){return(a<<b)|(a>>>(32-b))};Ô
"cdef_application/javascript_0https://workflowy.com/media/js/underscore-min.jsO7bplist00ÔfgX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`aU$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_0https://workflowy.com/media/js/underscore-min.jsÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùpgî³ ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABCDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)_application/javascript_Mon, 16 Mar 2015 21:21:13 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTU13582Xno-cache_"350e-5116e6dfe2440"Ò+,^_\NSDictionary¢^/_application/javascriptÒ+,bc_NSHTTPURLResponse£de/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑhi_WebResourceResponse€    # - 2 7 X ^ y | € ƒ † ‰   — š    £ ¦ ¨ ª ¬ ® ° ± ³ µ · ¹ » ½ ¿ Æ Î Ú Ü Þ à#,25>GIKRZeoqsuwy{}‹‘“•—™›Ÿª±¾ÌÚßîü$=]cƒ‰’©®»¾×Üðô(+A             j              CO5//     Underscore.js 1.4.2
//     http://underscorejs.org
//     (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Underscore may be freely distributed under the MIT license.
(function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=r.unshift,l=i.toString,c=i.hasOwnProperty,h=r.forEach,p=r.map,d=r.reduce,v=r.reduceRight,m=r.filter,g=r.every,y=r.some,b=r.indexOf,w=r.lastIndexOf,E=Array.isArray,S=Object.keys,x=s.bind,T=function(e){if(e instanceof T)return e;if(!(this instanceof T))return new T(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=T),exports._=T):e._=T,T.VERSION="1.4.2";var N=T.each=T.forEach=function(e,t,r){if(e==null)return;if(h&&e.forEach===h)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(T.has(e,o)&&t.call(r,e[o],o,e)===n)return};T.map=T.collect=function(e,t,n){var r=[];return e==null?r:p&&e.map===p?e.map(t,n):(N(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)},T.reduce=T.foldl=T.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduce===d)return r&&(t=T.bind(t,r)),i?e.reduce(t,n):e.reduce(t);N(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},T.reduceRight=T.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(v&&e.reduceRight===v)return r&&(t=T.bind(t,r)),arguments.length>2?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=T.keys(e);s=o.length}N(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},T.find=T.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},T.filter=T.select=function(e,t,n){var r=[];return e==null?r:m&&e.filter===m?e.filter(t,n):(N(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},T.reject=function(e,t,n){var r=[];return e==null?r:(N(e,function(e,i,s){t.call(n,e,i,s)||(r[r.length]=e)}),r)},T.every=T.all=function(e,t,r){t||(t=T.identity);var i=!0;return e==null?i:g&&e.every===g?e.every(t,r):(N(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=T.some=T.any=function(e,t,r){t||(t=T.identity);var i=!1;return e==null?i:y&&e.some===y?e.some(t,r):(N(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};T.contains=T.include=function(e,t){var n=!1;return e==null?n:b&&e.indexOf===b?e.indexOf(t)!=-1:(n=C(e,function(e){return e===t}),n)},T.invoke=function(e,t){var n=u.call(arguments,2);return T.map(e,function(e){return(T.isFunction(t)?t:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,function(e){return e[t]})},T.where=function(e,t){return T.isEmpty(t)?[]:T.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},T.max=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&T.isEmpty(e))return-Infinity;var r={computed:-Infinity};return N(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},T.min=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&T.isEmpty(e))return Infinity;var r={computed:Infinity};return N(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},T.shuffle=function(e){var t,n=0,r=[];return N(e,function(e){t=T.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return T.isFunction(e)?e:function(t){return t[e]}};T.sortBy=function(e,t,n){var r=k(t);return T.pluck(T.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t);return N(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};T.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(T.has(e,t)?e[t]:e[t]=[]).push(n)})},T.countBy=function(e,t,n){return L(e,t,n,function(e,t,n){T.has(e,t)||(e[t]=0),e[t]++})},T.sortedIndex=function(e,t,n,r){n=n==null?T.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},T.toArray=function(e){return e?e.length===+e.length?u.call(e):T.values(e):[]},T.size=function(e){return e.length===+e.length?e.length:T.keys(e).length},T.first=T.head=T.take=function(e,t,n){return t!=null&&!n?u.call(e,0,t):e[0]},T.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},T.last=function(e,t,n){return t!=null&&!n?u.call(e,Math.max(e.length-t,0)):e[e.length-1]},T.rest=T.tail=T.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},T.compact=function(e){return T.filter(e,function(e){return!!e})};var A=function(e,t,n){return N(e,function(e){T.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};T.flatten=function(e,t){return A(e,t,[])},T.without=function(e){return T.difference(e,u.call(arguments,1))},T.uniq=T.unique=function(e,t,n,r){var i=n?T.map(e,n,r):e,s=[],o=[];return N(i,function(n,r){if(t?!r||o[o.length-1]!==n:!T.contains(o,n))o.push(n),s.push(e[r])}),s},T.union=function(){return T.uniq(a.apply(r,arguments))},T.intersection=function(e){var t=u.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.indexOf(t,e)>=0})})},T.difference=function(e){var t=a.apply(r,u.call(arguments,1));return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){var e=u.call(arguments),t=T.max(T.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=T.pluck(e,""+r);return n},T.object=function(e,t){var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},T.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=T.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},T.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(w&&e.lastIndexOf===w)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},T.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};T.bind=function(t,n){var r,i;if(t.bind===x&&x)return x.apply(t,u.call(arguments,1));if(!T.isFunction(t))throw new TypeError;return i=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=t.prototype;var e=new O,s=t.apply(e,i.concat(u.call(arguments)));return Object(s)===s?s:e}return t.apply(n,i.concat(u.call(arguments)))}},T.bindAll=function(e){var t=u.call(arguments,1);return t.length==0&&(t=T.functions(e)),N(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var r=t.apply(this,arguments);return T.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},T.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(u.call(arguments,1)))},T.throttle=function(e,t){var n,r,i,s,o,u,a=T.debounce(function(){o=s=!1},t);return function(){n=this,r=arguments;var f=function(){i=null,o&&(u=e.apply(n,r)),a()};return i||(i=setTimeout(f,t)),s?o=!0:(s=!0,u=e.apply(n,r)),a(),u}},T.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},T.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},T.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},T.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},T.keys=S||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)T.has(e,n)&&(t[t.length]=n);return t},T.values=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push(e[n]);return t},T.pairs=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push([n,e[n]]);return t},T.invert=function(e){var t={};for(var n in e)T.has(e,n)&&(t[e[n]]=n);return t},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return N(u.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},T.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return N(n,function(n){n in e&&(t[n]=e[n])}),t},T.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)T.contains(n,i)||(t[i]=e[i]);return t},T.defaults=function(e){return N(u.call(arguments,1),function(t){for(var n in t)e[n]==null&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var i=l.call(e);if(i!=l.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=e.length,u=o==t.length;if(u)while(o--)if(!(u=M(e[o],t[o],n,r)))break}else{var a=e.constructor,f=t.constructor;if(a!==f&&!(T.isFunction(a)&&a instanceof a&&T.isFunction(f)&&f instanceof f))return!1;for(var c in e)if(T.has(e,c)){o++;if(!(u=T.has(t,c)&&M(e[c],t[c],n,r)))break}if(u){for(c in t)if(T.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};T.isEqual=function(e,t){return M(e,t,[],[])},T.isEmpty=function(e){if(e==null)return!0;if(T.isArray(e)||T.isString(e))return e.length===0;for(var t in e)if(T.has(e,t))return!1;return!0},T.isElement=function(e){return!!e&&e.nodeType===1},T.isArray=E||function(e){return l.call(e)=="[object Array]"},T.isObject=function(e){return e===Object(e)},N(["Arguments","Function","String","Number","Date","RegExp"],function(e){T["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return!!e&&!!T.has(e,"callee")}),typeof /./!="function"&&(T.isFunction=function(e){return typeof e=="function"}),T.isFinite=function(e){return T.isNumber(e)&&isFinite(e)},T.isNaN=function(e){return T.isNumber(e)&&e!=+e},T.isBoolean=function(e){return e===!0||e===!1||l.call(e)=="[object Boolean]"},T.isNull=function(e){return e===null},T.isUndefined=function(e){return e===void 0},T.has=function(e,t){return c.call(e,t)},T.noConflict=function(){return e._=t,this},T.identity=function(e){return e},T.times=function(e,t,n){for(var r=0;r<e;r++)t.call(n,r)},T.random=function(e,t){return t==null&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};_.unescape=T.invert(_.escape);var D={escape:new RegExp("["+T.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(_.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(e){T[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),T.result=function(e,t){if(e==null)return null;var n=e[t];return T.isFunction(n)?n.call(e):n},T.mixin=function(e){N(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(T,e))}})};var P=0;T.uniqueId=function(e){var t=P++;return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(e,t,n){n=T.defaults({},n,T.templateSettings);var r=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){s+=e.slice(i,u).replace(j,function(e){return"\\"+B[e]}),s+=n?"'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?"'+\n((__t=("+r+"))==null?'':__t)+\n'":o?"';\n"+o+"\n__p+='":"",i=u+t.length}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(n.variable||"obj","_",s)}catch(u){throw u.source=s,u}if(t)return o(t,T);var a=function(e){return o.call(this,e,T)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},T.chain=function(e){return T(e).chain()};var F=function(e){return this._chain?T(e).chain():e};T.mixin(T),N(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];T.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),N(["concat","join","slice"],function(e){var t=r[e];T.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);Ô
"hijk_application/javascript_+https://workflowy.com/media/js/stripe-v2.jsO2bplist00ÔfgX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`aU$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_+https://workflowy.com/media/js/stripe-v2.jsÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùpgùQ ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABCDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)_application/javascript_Mon, 16 Mar 2015 21:21:13 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTU16232Xno-cache_"3f68-5116e6dfe2440"Ò+,^_\NSDictionary¢^/_application/javascriptÒ+,bc_NSHTTPURLResponse£de/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑhi_WebResourceResponse€    # - 2 7 X ^ y | € ƒ † ‰   — š    £ ¦ ¨ ª ¬ ® ° ± ³ µ · ¹ » ½ ¿ Æ Î Ú Ü Þ à'-09BDFMU`jlnprtvxz|†ˆŠŒŽ’”–˜š¥¬¹ÇÕÚé÷ü8X^~„¤©¶¹Ò×ëï#&<             j              >O?h(function(){var e,t,n,r,i,s={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},u=this;this.Stripe=function(){function e(){}return e.version=2,e.endpoint="https://api.stripe.com/v1",e.setPublishableKey=function(t){return e.key=t,e.utils.validateProtocol(e.key)},e._corsGateAmount=0,e._corsGate=function(){return Math.random()<this._corsGateAmount},e._transport=typeof window!="undefined"&&window!==null&&e._corsGate()&&"XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest?"cors":"jsonp",e.request=function(t){return t.data.payment_user_agent?t.data.payment_user_agent=""+t.data.payment_user_agent+" ("+e.stripejs_ua+")":t.data.payment_user_agent=e.stripejs_ua,this._transport==="cors"?this.xhr(t):this.ajaxJSONP(t)},e.complete=function(t,n){return function(r,i,s){var o;if(r!=="success")return o=Math.round((new Date).getTime()/1e3),(new Image).src="https://q.stripe.com?event=stripejs-error&type="+r+"&key="+e.key+"&timestamp="+o+"&payment_user_agent="+encodeURIComponent(e.stripejs_ua),typeof t=="function"?t(500,{error:{code:r,type:r,message:n}}):void 0}},e}.call(this),e=this.Stripe,this.Stripe.token=function(){function t(){}return t.validate=function(e,t){if(!e)throw t+" required";if(typeof e!="object")throw t+" invalid"},t.formatData=function(t,n){return e.utils.isElement(t)&&(t=e.utils.paramsFromForm(t,n)),e.utils.underscoreKeys(t),t},t.create=function(t,n){return t.key||(t.key=e.key||e.publishableKey),e.utils.validateKey(t.key),e.request({url:""+e.endpoint+"/tokens",data:t,method:"POST",success:function(e,t){return typeof n=="function"?n(t,e):void 0},complete:e.complete(n,"A network error has occurred, and you have not been charged. Please try again."),timeout:4e4})},t.get=function(t,n){if(!t)throw"token required";return e.utils.validateKey(e.key),e.request({url:""+e.endpoint+"/tokens/"+t,data:{key:e.key},success:function(e,t){return typeof n=="function"?n(t,e):void 0},complete:e.complete(n,"A network error has occurred loading data from Stripe. Please try again."),timeout:4e4})},t}.call(this),this.Stripe.card=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.tokenName="card",n.whitelistedAttrs=["number","cvc","exp_month","exp_year","name","address_line1","address_line2","address_city","address_state","address_zip","address_country"],n.createToken=function(t,r,i){var s;return r==null&&(r={}),e.token.validate(t,"card"),typeof r=="function"?(i=r,r={}):typeof r!="object"&&(s=parseInt(r,10),r={},s>0&&(r.amount=s)),r[n.tokenName]=e.token.formatData(t,n.whitelistedAttrs),e.token.create(r,i)},n.getToken=function(t,n){return e.token.get(t,n)},n.validateCardNumber=function(e){return e=(e+"").replace(/\s+|-/g,""),e.length>=10&&e.length<=16&&n.luhnCheck(e)},n.validateCVC=function(t){return t=e.utils.trim(t),/^\d+$/.test(t)&&t.length>=3&&t.length<=4},n.validateExpiry=function(t,n){var r,i;return t=e.utils.trim(t),n=e.utils.trim(n),/^\d+$/.test(t)?/^\d+$/.test(n)?1<=t&&t<=12?(n.length===2&&(n<70?n="20"+n:n="19"+n),n.length!==4?!1:(i=new Date(n,t),r=new Date,i.setMonth(i.getMonth()-1),i.setMonth(i.getMonth()+1,1),i>r)):!1:!1:!1},n.luhnCheck=function(e){var t,n,r,i,s,o;r=!0,i=0,n=(e+"").split("").reverse();for(s=0,o=n.length;s<o;s++){t=n[s],t=parseInt(t,10);if(r=!r)t*=2;t>9&&(t-=9),i+=t}return i%10===0},n.cardType=function(e){return n.cardTypes[e.slice(0,2)]||"Unknown"},n.cardBrand=function(e){return n.cardType(e)},n.cardTypes=function(){var e,t,n,r;t={};for(e=n=40;n<=49;e=++n)t[e]="Visa";for(e=r=50;r<=59;e=++r)t[e]="MasterCard";return t[34]=t[37]="American Express",t[60]=t[62]=t[64]=t[65]="Discover",t[35]="JCB",t[30]=t[36]=t[38]=t[39]="Diners Club",t}(),n}.call(this,this.Stripe.token),this.Stripe.bankAccount=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,t),n.tokenName="bank_account",n.whitelistedAttrs=["country","routing_number","account_number"],n.createToken=function(t,r,i){return r==null&&(r={}),e.token.validate(t,"bank account"),typeof r=="function"&&(i=r,r={}),r[n.tokenName]=e.token.formatData(t,n.whitelistedAttrs),e.token.create(r,i)},n.getToken=function(t,n){return e.token.get(t,n)},n.validateRoutingNumber=function(t,r){t=e.utils.trim(t);switch(r){case"US":return/^\d+$/.test(t)&&t.length===9&&n.routingChecksum(t);case"CA":return/\d{5}\-\d{3}/.test(t)&&t.length===9;default:return!0}},n.validateAccountNumber=function(t,n){t=e.utils.trim(t);switch(n){case"US":return/^\d+$/.test(t)&&t.length>=1&&t.length<=17;default:return!0}},n.routingChecksum=function(e){var t,n,r,i,s,o;r=0,t=(e+"").split(""),o=[0,3,6];for(i=0,s=o.length;i<s;i++)n=o[i],r+=parseInt(t[n])*3,r+=parseInt(t[n+1])*7,r+=parseInt(t[n+2]);return r!==0&&r%10===0},n}.call(this,this.Stripe.token),this.Stripe.bitcoinReceiver=function(){function t(){}return t._whitelistedAttrs=["amount","currency","email","description"],t.createReceiver=function(t,n){var r;return e.token.validate(t,"bitcoin_receiver data"),r=e.token.formatData(t,this._whitelistedAttrs),r.key=e.key||e.publishableKey,e.utils.validateKey(r.key),e.request({url:""+e.endpoint+"/bitcoin/receivers",data:r,method:"POST",success:function(e,t){return typeof n=="function"?n(t,e):void 0},complete:e.complete(n,"A network error has occurred while creating a Bitcoin address. Please try again."),timeout:4e4})},t.getReceiver=function(t,n){var r;if(!t)throw"receiver id required";return r=e.key||e.publishableKey,e.utils.validateKey(r),e.request({url:""+e.endpoint+"/bitcoin/receivers/"+t,data:{key:r},success:function(e,t){return typeof n=="function"?n(t,e):void 0},complete:e.complete(n,"A network error has occurred loading data from Stripe. Please try again."),timeout:4e4})},t._activeReceiverPolls={},t._clearReceiverPoll=function(e){return delete t._activeReceiverPolls[e]},t._pollInterval=1500,t.pollReceiver=function(e,t){if(this._activeReceiverPolls[e]!=null)throw"You are already polling receiver "+e+". Please cancel that poll before polling it again.";return this._activeReceiverPolls[e]={},this._pollReceiver(e,t)},t._pollReceiver=function(e,n){t.getReceiver(e,function(r,i){var s,o;if(t._activeReceiverPolls[e]==null)return;return r===200&&i.filled?(t._clearReceiverPoll(e),typeof n=="function"?n(r,i):void 0):r>=400&&r<500?(t._clearReceiverPoll(e),typeof n=="function"?n(r,i):void 0):(s=r===500?5e3:t._pollInterval,o=setTimeout(function(){return t._pollReceiver(e,n)},s),t._activeReceiverPolls[e].timeoutId=o)})},t.cancelReceiverPoll=function(e){var n;n=t._activeReceiverPolls[e];if(n==null)throw"You are not polling receiver "+e+".";n["timeoutId"]!=null&&clearTimeout(n.timeoutId),t._clearReceiverPoll(e)},t}.call(this),t=["createToken","getToken","cardType","validateExpiry","validateCVC","validateCardNumber"];for(r=0,i=t.length;r<i;r++)n=t[r],this.Stripe[n]=this.Stripe.card[n];typeof module!="undefined"&&module!==null&&(module.exports=this.Stripe),typeof define=="function"&&define("stripe",[],function(){return u.Stripe})}).call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};this.Stripe.utils=function(){function r(){}var t,n;return n=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,r.trim=function(e){return e===null?"":(e+"").replace(t,"")},r.parseJSON=function(e){var t,r,i,s;if((s=window.JSON)!=null?s.parse:void 0)return window.JSON.parse(e+"");r=void 0,t=null,i=Stripe.utils.trim(e+"");if(i&&!Stripe.utils.trim(i.replace(n,function(e,n,i,s){return r&&n&&(t=0),t===0?e:(r=i||n,t+=!s-!i,"")})))return Function("return "+i)();throw new Error("Invalid JSON: "+e)},r.serialize=function(e,t,n){var r,i;t==null&&(t=[]);for(r in e)i=e[r],n&&(r=""+n+"["+r+"]"),typeof i=="object"?this.serialize(i,t,r):t.push(""+r+"="+encodeURIComponent(i));return t.join("&").replace(/%20/g,"+")},r.underscore=function(e){return(e+"").replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()}).replace(/-/g,"_")},r.underscoreKeys=function(e){var t,n,r;r=[];for(t in e)n=e[t],delete e[t],r.push(e[this.underscore(t)]=n);return r},r.isElement=function(e){return typeof e!="object"?!1:typeof jQuery!="undefined"&&jQuery!==null&&e instanceof jQuery?!0:e.nodeType===1},r.paramsFromForm=function(t,n){var r,i,s,o,u,a,f,l,c,h;n==null&&(n=[]),typeof jQuery!="undefined"&&jQuery!==null&&t instanceof jQuery&&(t=t[0]),s=t.getElementsByTagName("input"),u=t.getElementsByTagName("select"),a={};for(f=0,c=s.length;f<c;f++){i=s[f],r=this.underscore(i.getAttribute("data-stripe"));if(e.call(n,r)<0)continue;a[r]=i.value}for(l=0,h=u.length;l<h;l++){o=u[l],r=this.underscore(o.getAttribute("data-stripe"));if(e.call(n,r)<0)continue;o.selectedIndex!=null&&(a[r]=o.options[o.selectedIndex].value)}return a},r.validateProtocol=function(e){var t;if(!e||typeof e!="string")return;if(/_live_/g.test(e)&&window.location.protocol!=="https:"&&((t=window.console)!=null?t.warn:void 0)!=null)return window.console.warn("You are using Stripe.js in live mode over an insecure connection. This is considered unsafe. Please conduct live requests only on sites served over https. For more info, see https://stripe.com/help/ssl")},r.validateKey=function(e){if(!e||typeof e!="string")throw new Error("You did not set a valid publishable key. Call Stripe.setPublishableKey() with your publishable key. For more info, see https://stripe.com/docs/stripe.js");if(/\s/g.test(e))throw new Error("Your key is invalid, as it contains whitespace. For more info, see https://stripe.com/docs/stripe.js");if(/^sk_/.test(e))throw new Error("You are using a secret key with Stripe.js, instead of the publishable one. For more info, see https://stripe.com/docs/stripe.js")},r}()}.call(this),function(){var e,t=[].slice;e=(new Date).getTime(),this.Stripe.ajaxJSONP=function(n){var r,i,s,o,u,a;return n==null&&(n={}),s="sjsonp"+ ++e,u=document.createElement("script"),i=null,r=function(e){var t;return e==null&&(e="abort"),clearTimeout(i),(t=u.parentNode)!=null&&t.removeChild(u),s in window&&(window[s]=function(){}),typeof n.complete=="function"?n.complete(e,a,n):void 0},a={abort:r},u.onerror=function(){return a.abort(),typeof n.error=="function"?n.error(a,n):void 0},window[s]=function(){var e;e=1<=arguments.length?t.call(arguments,0):[],clearTimeout(i),u.parentNode.removeChild(u);try{delete window[s]}catch(r){window[s]=void 0}return typeof n.success=="function"&&n.success.apply(n,e),typeof n.complete=="function"?n.complete("success",a,n):void 0},n.data||(n.data={}),n.data.callback=s,n.method&&(n.data._method=n.method),u.src=n.url+"?"+Stripe.utils.serialize(n.data),o=document.getElementsByTagName("head")[0],o.appendChild(u),n.timeout>0&&(i=setTimeout(function(){return a.abort("timeout")},n.timeout)),a}}.call(this),function(){var e,t,n,r,i,s,o,u,a,f={}.hasOwnProperty;t={contentType:"application/x-www-form-urlencoded",accept:{json:"application/json"}},o=/^(20\d|1223)$/,s="invalid_json_response",r=function(e,t,n){return function(){if(e._aborted)return n("aborted");if(e.request&&e.request.readyState===4)return e.request.onreadystatechange=function(){},o.test(e.request.status)?t(e.request,e.request.status):(t(e.request,e.request.status),n("response_code"))}},u=function(e,n){var r,i,s;i=n.headers||{},i.Accept||(i.Accept=t.accept.json),i["Content-Type"]||(i["Content-Type"]=t.contentType),s=[];for(r in i){if(!f.call(i,r))continue;"setRequestHeader"in e?s.push(e.setRequestHeader(r,i[r])):s.push(void 0)}return s},a=function(e,t){return/\?/.test(e)?e+"&"+t:e+"?"+t},n=function(e,t){var n,i,s,o,f,l,c,h;return f=this.o,o=(f.method||"GET").toUpperCase(),l=f.url,s=(c=f.data)!=null?c.key:void 0,n=Stripe.utils.serialize(f.data),i=void 0,o==="GET"&&n&&(l=a(l,n),n=null),h=new XMLHttpRequest,h.open(o,l,!0),u(h,f),h.onreadystatechange=r(this,e,t),h.send(n),h},e=function(e){return this.o=e,i.apply(this,arguments)},i=function(e){var t,r,i,o=this;return this.url=e.url,this.timeout=null,this._successHandler=function(){},this._errorHandlers=[],this._completeHandlers=[],e.timeout&&(this.timeout=setTimeout(function(){return o.abort()},e.timeout)),e.success&&(this._successHandler=function(){return e.success.apply(e,arguments)}),e.error&&this._errorHandlers.push(function(){return e.error.apply(e,arguments)}),e.complete&&this._completeHandlers.push(function(){return e.complete.apply(e,arguments)}),t=function(t){var n;e.timeout&&clearTimeout(o.timeout),o.timeout=null,n=[];while(o._completeHandlers.length>0)n.push(o._completeHandlers.shift()("success",t,e));return n},i=function(e,n){var i;i=e.responseText;if(i)try{e=Stripe.utils.parseJSON(i)}catch(u){r(s)}return o._successHandler(e,n),t(e)},r=function(e){var n,r;r=o.request,n=r.responseText;if(n)try{r=Stripe.utils.parseJSON(n)}catch(i){e=s}while(o._errorHandlers.length>0)o._errorHandlers.shift()(r,e);return t(r)},this.request=n.call(this,i,r)},e.prototype={abort:function(){return this._aborted=!0,this.request.abort()}},this.Stripe.xhr=function(t){return new e(t)}}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};this.Stripe.validator={"boolean":function(e,t){if(t!=="true"&&t!=="false")return"Enter a boolean string (true or false)"},integer:function(e,t){if(!/^\d+$/.test(t))return"Enter an integer"},positive:function(e,t){if(!(!this.integer(e,t)&&parseInt(t,10)>0))return"Enter a positive value"},range:function(t,n){var r;if(r=parseInt(n,10),e.call(t,r)<0)return"Needs to be between "+t[0]+" and "+t[t.length-1]},required:function(e,t){if(e&&(t==null||t===""))return"Required"},year:function(e,t){if(!/^\d{4}$/.test(t))return"Enter a 4-digit year"},birthYear:function(e,t){var n;n=this.year(e,t);if(n)return n;if(parseInt(t,10)>2e3)return"You must be over 18";if(parseInt(t,10)<1900)return"Enter your birth year"},month:function(e,t){if(this.integer(e,t))return"Please enter a month";if(this.range([1,2,3,4,5,6,7,8,9,10,11,12],t))return"Needs to be between 1 and 12"},choices:function(t,n){if(e.call(t,n)<0)return"Not an acceptable value for this field"},email:function(e,t){if(!/^[^@<\s>]+@[^@<\s>]+$/.test(t))return"That doesn't look like an email address"},url:function(e,t){if(!/^https?:\/\/.+\..+/.test(t))return"Not a valid url"},usTaxID:function(e,t){if(!/^\d{2}-?\d{1}-?\d{2}-?\d{4}$/.test(t))return"Not a valid tax ID"},ein:function(e,t){if(!/^\d{2}-?\d{7}$/.test(t))return"Not a valid EIN"},ssnLast4:function(e,t){if(!/^\d{4}$/.test(t))return"Not a valid last 4 digits for an SSN"},ownerPersonalID:function(e,t){var n;n=function(){switch(e){case"CA":return/^\d{3}-?\d{3}-?\d{3}$/.test(t);case"US":return!0}}();if(!n)return"Not a valid ID"},bizTaxID:function(e,t){var n,r,i,s,o,u,a,f;u={CA:["Tax ID",[/^\d{9}$/]],US:["EIN",[/^\d{2}-?\d{7}$/]]},o=u[e];if(o!=null){n=o[0],s=o[1],r=!1;for(a=0,f=s.length;a<f;a++){i=s[a];if(i.test(t)){r=!0;break}}if(!r)return"Not a valid "+n}},zip:function(e,t){var n;n=function(){switch(e.toUpperCase()){case"CA":return/^[\d\w]{6}$/.test(t!=null?t.replace(/\s+/g,""):void 0);case"US":return/^\d{5}$/.test(t)||/^\d{9}$/.test(t)}}();if(!n)return"Not a valid zip"},bankAccountNumber:function(e,t){if(!/^\d{1,17}$/.test(t))return"Invalid bank account number"},usRoutingNumber:function(e){var t,n,r,i,s,o,u;if(!/^\d{9}$/.test(e))return"Routing number must have 9 digits";s=0;for(t=o=0,u=e.length-1;o<=u;t=o+=3)n=parseInt(e.charAt(t),10)*3,r=parseInt(e.charAt(t+1),10)*7,i=parseInt(e.charAt(t+2),10),s+=n+r+i;if(s===0||s%10!==0)return"Invalid routing number"},caRoutingNumber:function(e){if(!/^\d{5}\-\d{3}$/.test(e))return"Invalid transit number"},routingNumber:function(e,t){switch(e.toUpperCase()){case"CA":return this.caRoutingNumber(t);case"US":return this.usRoutingNumber(t)}},phoneNumber:function(e,t){var n;n=t.replace(/[^0-9]/g,"");if(n.length!==10)return"Invalid phone number"},bizDBA:function(e,t){if(!/^.{1,23}$/.test(t))return"Statement descriptors can only have up to 23 characters"},nameLength:function(e,t){if(t.length===1)return"Names need to be longer than one character"}}}.call(this),function(){this.Stripe.stripejs_ua="stripe.js/d24d225"}.call(this);Ô
"mnop_application/javascript_@https://workflowy.com/media/js/document_view.js?v=20160213020344OIbplist00ÔfgX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`aU$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_@https://workflowy.com/media/js/document_view.js?v=20160213020344Ò+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùph% ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABCDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)_application/javascript_Sat, 13 Feb 2016 02:04:24 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTV410643Xno-cache_"64413-52b9d33e41a00"Ò+,^_\NSDictionary¢^/_application/javascriptÒ+,bc_NSHTTPURLResponse£de/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑhi_WebResourceResponse€    # - 2 7 X ^ y | € ƒ † ‰   — š    £ ¦ ¨ ª ¬ ® ° ± ³ µ · ¹ » ½ ¿ Æ Î Ú Ü Þ à#(3<BENWY[bjuƒ…‡‰‹‘›Ÿ¡£¥§©«­¯ºÁÎÜêïþ4Mms“š£»ÀÍÐéî(:=S             j              UO D/*
_comments - Bool; [optional];
 Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )

 Examples:
 vkbeautify.xml(text); // pretty print XML
 vkbeautify.json(text, 4 ); // pretty print JSON
 vkbeautify.css(text, '. . . .'); // pretty print CSS
 vkbeautify.sql(text, '----'); // pretty print SQL

 vkbeautify.xmlmin(text, true);// minify XML, preserve comments
 vkbeautify.jsonmin(text);// minify JSON
 vkbeautify.cssmin(text);// minify CSS, remove comments ( default )
 vkbeautify.sqlmin(text);// minify SQL

*/
(function(){var b=false,f=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(j){function h(){!b&&this.init&&this.init.apply(this,arguments)}var g=this.prototype;b=true;var o=new this;b=false;for(var k in j)o[k]=typeof j[k]=="function"&&typeof g[k]=="function"&&f.test(j[k])?function(r,l){return function(){var c=this._super;this._super=g[r];var e=l.apply(this,arguments);this._super=c;return e}}(k,j[k]):j[k];h.prototype=o;h.prototype.constructor=h;h.extend=arguments.callee;
return h}})();
var localstorage_detect=function(){var b=null,f=null;return{localStorageSupported:function(){if(b===null){b=true;f=false;try{if(!("localStorage"in window))throw Error("No localStorage object.");try{var j=window.localStorage}catch(h){f=true;throw Error("Permission denied accessing localStorage object.");}if(j===null)throw Error("localStorage object is null.");localStorage.setItem("localStorageTestKey","dummy");if(localStorage.getItem("localStorageTestKey")!=="dummy")throw Error("localStorage test key had wrong value when getItem called.");localStorage.removeItem("localStorageTestKey")}catch(g){b=
false}}return b},permissionDeniedAccessingLocalStorage:function(){return f}}}(),app_detect=function(){function b(){f=true;if(localstorage_detect.localStorageSupported()){var g=localStorage.getItem(h);if(g!==null){g=parseInt(g);if(typeof IOS_APP_VERSION==="undefined")window.IOS_APP_VERSION=g;localStorage.removeItem(h)}}j=typeof IOS_APP_VERSION!=="undefined"}var f=false,j=null,h="IOS_APP_VERSION";return{isIOSApp:function(){f||b();return j},getIOSAppVersion:function(){f||b();return IOS_APP_VERSION}}}(),
jstz={};jstz.HEMISPHERE_SOUTH="SOUTH";jstz.HEMISPHERE_NORTH="NORTH";jstz.HEMISPHERE_UNKNOWN="N/A";jstz.olson={};jstz.TimeZone=function(b,f,j){this.utc_offset=b;this.olson_tz=f;this.uses_dst=j};jstz.TimeZone.prototype.display=function(){this.ambiguity_check();var b="<b>UTC-offset</b>: "+this.utc_offset+"<br/>";b+="<b>Zoneinfo key</b>: "+this.olson_tz+"<br/>";b+="<b>Zone uses DST</b>: "+(this.uses_dst?"yes":"no")+"<br/>";return b};
jstz.TimeZone.prototype.ambiguity_check=function(){var b,f,j,h;b=jstz.olson.ambiguity_list[this.olson_tz];if(typeof b!=="undefined"){f=b.length;for(j=0;j<f;j+=1){h=b[j];if(jstz.date_is_dst(jstz.olson.dst_start_dates[h])){this.olson_tz=h;break}}}};jstz.date_is_dst=function(b){var f;f=b.getMonth()>5?jstz.get_june_offset():jstz.get_january_offset();b=jstz.get_date_offset(b);return f-b!==0};jstz.get_date_offset=function(b){return-b.getTimezoneOffset()};
jstz.get_timezone_info=function(){var b,f,j;b=jstz.get_january_offset();f=jstz.get_june_offset();j=b-f;if(j<0)return{utc_offset:b,dst:1,hemisphere:jstz.HEMISPHERE_NORTH};else if(j>0)return{utc_offset:f,dst:1,hemisphere:jstz.HEMISPHERE_SOUTH};return{utc_offset:b,dst:0,hemisphere:jstz.HEMISPHERE_UNKNOWN}};jstz.get_january_offset=function(){return jstz.get_date_offset(new Date(2011,0,1,0,0,0,0))};jstz.get_june_offset=function(){return jstz.get_date_offset(new Date(2011,5,1,0,0,0,0))};
jstz.determine_timezone=function(){var b,f;b=jstz.get_timezone_info();f="";if(b.hemisphere===jstz.HEMISPHERE_SOUTH)f=",s";b=b.utc_offset+","+b.dst+f;return{timezone:jstz.olson.timezones[b],key:b}};
jstz.olson.timezones={"-720,0":new jstz.TimeZone("-12:00","Etc/GMT+12",false),"-660,0":new jstz.TimeZone("-11:00","Pacific/Pago_Pago",false),"-600,1":new jstz.TimeZone("-11:00","America/Adak",true),"-660,1,s":new jstz.TimeZone("-11:00","Pacific/Apia",true),"-600,0":new jstz.TimeZone("-10:00","Pacific/Honolulu",false),"-570,0":new jstz.TimeZone("-10:30","Pacific/Marquesas",false),"-540,0":new jstz.TimeZone("-09:00","Pacific/Gambier",false),"-540,1":new jstz.TimeZone("-09:00","America/Anchorage",true),
"-480,1":new jstz.TimeZone("-08:00","America/Los_Angeles",true),"-480,0":new jstz.TimeZone("-08:00","Pacific/Pitcairn",false),"-420,0":new jstz.TimeZone("-07:00","America/Phoenix",false),"-420,1":new jstz.TimeZone("-07:00","America/Denver",true),"-360,0":new jstz.TimeZone("-06:00","America/Guatemala",false),"-360,1":new jstz.TimeZone("-06:00","America/Chicago",true),"-360,1,s":new jstz.TimeZone("-06:00","Pacific/Easter",true),"-300,0":new jstz.TimeZone("-05:00","America/Bogota",false),"-300,1":new jstz.TimeZone("-05:00",
"America/New_York",true),"-270,0":new jstz.TimeZone("-04:30","America/Caracas",false),"-240,1":new jstz.TimeZone("-04:00","America/Halifax",true),"-240,0":new jstz.TimeZone("-04:00","America/Santo_Domingo",false),"-240,1,s":new jstz.TimeZone("-04:00","America/Asuncion",true),"-210,1":new jstz.TimeZone("-03:30","America/St_Johns",true),"-180,1":new jstz.TimeZone("-03:00","America/Godthab",true),"-180,0":new jstz.TimeZone("-03:00","America/Argentina/Buenos_Aires",false),"-180,1,s":new jstz.TimeZone("-03:00",
"America/Montevideo",true),"-120,0":new jstz.TimeZone("-02:00","America/Noronha",false),"-120,1":new jstz.TimeZone("-02:00","Etc/GMT+2",true),"-60,1":new jstz.TimeZone("-01:00","Atlantic/Azores",true),"-60,0":new jstz.TimeZone("-01:00","Atlantic/Cape_Verde",false),"0,0":new jstz.TimeZone("00:00","Etc/UTC",false),"0,1":new jstz.TimeZone("00:00","Europe/London",true),"60,1":new jstz.TimeZone("+01:00","Europe/Berlin",true),"60,0":new jstz.TimeZone("+01:00","Africa/Lagos",false),"60,1,s":new jstz.TimeZone("+01:00",
"Africa/Windhoek",true),"120,1":new jstz.TimeZone("+02:00","Asia/Beirut",true),"120,0":new jstz.TimeZone("+02:00","Africa/Johannesburg",false),"180,1":new jstz.TimeZone("+03:00","Europe/Moscow",true),"180,0":new jstz.TimeZone("+03:00","Asia/Baghdad",false),"210,1":new jstz.TimeZone("+03:30","Asia/Tehran",true),"240,0":new jstz.TimeZone("+04:00","Asia/Dubai",false),"240,1":new jstz.TimeZone("+04:00","Asia/Yerevan",true),"270,0":new jstz.TimeZone("+04:30","Asia/Kabul",false),"300,1":new jstz.TimeZone("+05:00",
"Asia/Yekaterinburg",true),"300,0":new jstz.TimeZone("+05:00","Asia/Karachi",false),"330,0":new jstz.TimeZone("+05:30","Asia/Kolkata",false),"345,0":new jstz.TimeZone("+05:45","Asia/Kathmandu",false),"360,0":new jstz.TimeZone("+06:00","Asia/Dhaka",false),"360,1":new jstz.TimeZone("+06:00","Asia/Omsk",true),"390,0":new jstz.TimeZone("+06:30","Asia/Rangoon",false),"420,1":new jstz.TimeZone("+07:00","Asia/Krasnoyarsk",true),"420,0":new jstz.TimeZone("+07:00","Asia/Jakarta",false),"480,0":new jstz.TimeZone("+08:00",
"Asia/Shanghai",false),"480,1":new jstz.TimeZone("+08:00","Asia/Irkutsk",true),"525,0":new jstz.TimeZone("+08:45","Australia/Eucla",true),"525,1,s":new jstz.TimeZone("+08:45","Australia/Eucla",true),"540,1":new jstz.TimeZone("+09:00","Asia/Yakutsk",true),"540,0":new jstz.TimeZone("+09:00","Asia/Tokyo",false),"570,0":new jstz.TimeZone("+09:30","Australia/Darwin",false),"570,1,s":new jstz.TimeZone("+09:30","Australia/Adelaide",true),"600,0":new jstz.TimeZone("+10:00","Australia/Brisbane",false),"600,1":new jstz.TimeZone("+10:00",
"Asia/Vladivostok",true),"600,1,s":new jstz.TimeZone("+10:00","Australia/Sydney",true),"630,1,s":new jstz.TimeZone("+10:30","Australia/Lord_Howe",true),"660,1":new jstz.TimeZone("+11:00","Asia/Kamchatka",true),"660,0":new jstz.TimeZone("+11:00","Pacific/Noumea",false),"690,0":new jstz.TimeZone("+11:30","Pacific/Norfolk",false),"720,1,s":new jstz.TimeZone("+12:00","Pacific/Auckland",true),"720,0":new jstz.TimeZone("+12:00","Pacific/Tarawa",false),"765,1,s":new jstz.TimeZone("+12:45","Pacific/Chatham",
true),"780,0":new jstz.TimeZone("+13:00","Pacific/Tongatapu",false),"840,0":new jstz.TimeZone("+14:00","Pacific/Kiritimati",false)};
jstz.olson.dst_start_dates={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"Atlantic/Stanley":new Date(2011,8,4,7,0,0,0),"America/Asuncion":new Date(2011,9,2,3,0,0,0),"America/Santiago":new Date(2011,9,9,3,0,0,0),"America/Campo_Grande":new Date(2011,9,16,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,
2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2011,2,13,2,0,0,0),"America/New_York":new Date(2011,2,13,7,0,0,0),"Asia/Gaza":new Date(2011,2,26,23,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Minsk":new Date(2011,2,27,3,0,0,0),"Europe/Istanbul":new Date(2011,2,27,7,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Africa/Cairo":new Date(2011,3,29,4,0,0,0),"Asia/Yerevan":new Date(2011,2,27,4,0,0,0),
"Asia/Baku":new Date(2011,2,27,8,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0)};
jstz.olson.ambiguity_list={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Asuncion":["Atlantic/Stanley","America/Asuncion","America/Santiago","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Gaza","Asia/Beirut","Europe/Minsk","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Africa/Cairo"],"Asia/Yerevan":["Asia/Yerevan","Asia/Baku"],"Pacific/Auckland":["Pacific/Auckland",
"Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"]};
(function(){function b(j){var h="    ";if(isNaN(parseInt(j)))h=j;else switch(j){case 1:h=" ";break;case 2:h="  ";break;case 3:h="   ";break;case 4:h="    ";break;case 5:h="     ";break;case 6:h="      ";break;case 7:h="       ";break;case 8:h="        ";break;case 9:h="         ";break;case 10:h="          ";break;case 11:h="           ";break;case 12:h="            "}j=["\n"];for(ix=0;ix<100;ix++)j.push(j[ix]+h);return j}function f(){this.step="    ";this.shift=b(this.step)}f.prototype.xml=function(j,
h){var g=j.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),o=g.length,k=false,r=0,l="",c=0,e=h?b(h):this.shift;for(c=0;c<o;c++)if(g[c].search(/<!/)>-1){l+=e[r]+g[c];k=true;if(g[c].search(/--\>/)>-1||g[c].search(/\]>/)>-1||g[c].search(/!DOCTYPE/)>-1)k=false}else if(g[c].search(/--\>/)>-1||g[c].search(/\]>/)>-1){l+=g[c];k=false}else if(/^<\w/.exec(g[c-1])&&/^<\/\w/.exec(g[c])&&/^<[\w:\-\.\,]+/.exec(g[c-1])==/^<\/[\w:\-\.\,]+/.exec(g[c])[0].replace("/",
"")){l+=g[c];k||r--}else if(g[c].search(/<\w/)>-1&&g[c].search(/<\//)==-1&&g[c].search(/\/>/)==-1)l=!k?l+=e[r++]+g[c]:l+=g[c];else if(g[c].search(/<\w/)>-1&&g[c].search(/<\//)>-1)l=!k?l+=e[r]+g[c]:l+=g[c];else if(g[c].search(/<\//)>-1)l=!k?l+=e[--r]+g[c]:l+=g[c];else if(g[c].search(/\/>/)>-1)l=!k?l+=e[r]+g[c]:l+=g[c];else l+=g[c].search(/<\?/)>-1?e[r]+g[c]:g[c].search(/xmlns\:/)>-1||g[c].search(/xmlns\=/)>-1?e[r]+g[c]:g[c];return l[0]=="\n"?l.slice(1):l};f.prototype.json=function(j,h){h=h?h:this.step;
if(typeof JSON==="undefined")return j;if(typeof j==="string")return JSON.stringify(JSON.parse(j),null,h);if(typeof j==="object")return JSON.stringify(j,null,h);return j};f.prototype.css=function(j,h){var g=j.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),o=g.length,k=0,r="",l=0,c=h?b(h):this.shift;for(l=0;l<o;l++)if(/\{/.exec(g[l]))r+=c[k++]+g[l];else if(/\}/.exec(g[l]))r+=
c[--k]+g[l];else{/\*\\/.exec(g[l]);r+=c[k]+g[l]}return r.replace(/^\n{1,}/,"")};f.prototype.sql=function(j,h){var g=j.replace(/\s{1,}/g," ").replace(/\'/ig,"~::~'").split("~::~"),o=g.length,k=[],r=0,l=this.step,c=0,e="",d=0,m=h?b(h):this.shift;for(d=0;d<o;d++)k=d%2?k.concat(g[d]):k.concat(g[d].replace(/\s{1,}/g," ").replace(/ AND /ig,"~::~"+l+l+"AND ").replace(/ BETWEEN /ig,"~::~"+l+"BETWEEN ").replace(/ CASE /ig,"~::~"+l+"CASE ").replace(/ ELSE /ig,"~::~"+l+"ELSE ").replace(/ END /ig,"~::~"+l+"END ").replace(/ FROM /ig,
"~::~FROM ").replace(/ GROUP\s{1,}BY/ig,"~::~GROUP BY ").replace(/ HAVING /ig,"~::~HAVING ").replace(/ IN /ig," IN ").replace(/ JOIN /ig,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /ig,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /ig,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /ig,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /ig,"~::~RIGHT JOIN ").replace(/ ON /ig,"~::~"+l+"ON ").replace(/ OR /ig,"~::~"+l+l+"OR ").replace(/ ORDER\s{1,}BY/ig,"~::~ORDER BY ").replace(/ OVER /ig,"~::~"+l+"OVER ").replace(/\(\s{0,}SELECT /ig,
"~::~(SELECT ").replace(/\)\s{0,}SELECT /ig,")~::~SELECT ").replace(/ THEN /ig," THEN~::~"+l+"").replace(/ UNION /ig,"~::~UNION~::~").replace(/ USING /ig,"~::~USING ").replace(/ WHEN /ig,"~::~"+l+"WHEN ").replace(/ WHERE /ig,"~::~WHERE ").replace(/ WITH /ig,"~::~WITH ").replace(/ ALL /ig," ALL ").replace(/ AS /ig," AS ").replace(/ ASC /ig," ASC ").replace(/ DESC /ig," DESC ").replace(/ DISTINCT /ig," DISTINCT ").replace(/ EXISTS /ig," EXISTS ").replace(/ NOT /ig," NOT ").replace(/ NULL /ig," NULL ").replace(/ LIKE /ig,
" LIKE ").replace(/\s{0,}SELECT /ig,"SELECT ").replace(/\s{0,}UPDATE /ig,"UPDATE ").replace(/ SET /ig," SET ").replace(/~::~{1,}/g,"~::~").split("~::~"));o=k.length;for(d=0;d<o;d++){c-=k[d].replace(/\(/g,"").length-k[d].replace(/\)/g,"").length;if(/\s{0,}\s{0,}SELECT\s{0,}/.exec(k[d]))k[d]=k[d].replace(/\,/g,",\n"+l+l+"");if(/\s{0,}\s{0,}SET\s{0,}/.exec(k[d]))k[d]=k[d].replace(/\,/g,",\n"+l+l+"");if(/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(k[d])){r++;e+=m[r]+k[d]}else if(/\'/.exec(k[d])){c<1&&r&&r--;e+=
k[d]}else{e+=m[r]+k[d];c<1&&r&&r--}}return e=e.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")};f.prototype.xmlmin=function(j,h){return(h?j:j.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")};f.prototype.jsonmin=function(j){if(typeof JSON==="undefined")return j;return JSON.stringify(JSON.parse(j),null,0)};f.prototype.cssmin=function(j,h){return(h?j:j.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g,
" ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")};f.prototype.sqlmin=function(j){return j.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")};window.vkbeautify=new f})();
var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(b){if(b==null)return"";var f="",j,h,g,o,k,r,l=0;for(b=this.compress(b);l<b.length*2;){if(l%2==0){j=b.charCodeAt(l/2)>>8;h=b.charCodeAt(l/2)&255;g=l/2+1<b.length?b.charCodeAt(l/2+1)>>8:NaN}else{j=b.charCodeAt((l-1)/2)&255;if((l+1)/2<b.length){h=b.charCodeAt((l+1)/2)>>8;g=b.charCodeAt((l+1)/2)&255}else h=g=NaN}l+=3;o=j>>2;j=(j&3)<<4|h>>4;k=(h&15)<<2|g>>6;r=g&63;
if(isNaN(h))k=r=64;else if(isNaN(g))r=64;f=f+this._keyStr.charAt(o)+this._keyStr.charAt(j)+this._keyStr.charAt(k)+this._keyStr.charAt(r)}return f},decompressFromBase64:function(b){if(b==null)return"";var f="",j=0,h,g,o,k,r,l,c=0,e=this._f;for(b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<b.length;){g=this._keyStr.indexOf(b.charAt(c++));o=this._keyStr.indexOf(b.charAt(c++));r=this._keyStr.indexOf(b.charAt(c++));l=this._keyStr.indexOf(b.charAt(c++));g=g<<2|o>>4;o=(o&15)<<4|r>>2;k=(r&3)<<6|l;if(j%2==0){h=
g<<8;if(r!=64)f+=e(h|o);if(l!=64)h=k<<8}else{f+=e(h|g);if(r!=64)h=o<<8;if(l!=64)f+=e(h|k)}j+=3}return this.decompress(f)},compressToUTF16:function(b){if(b==null)return"";var f="",j,h,g,o=0,k=this._f;b=this.compress(b);for(j=0;j<b.length;j++){h=b.charCodeAt(j);switch(o++){case 0:f+=k((h>>1)+32);g=(h&1)<<14;break;case 1:f+=k(g+(h>>2)+32);g=(h&3)<<13;break;case 2:f+=k(g+(h>>3)+32);g=(h&7)<<12;break;case 3:f+=k(g+(h>>4)+32);g=(h&15)<<11;break;case 4:f+=k(g+(h>>5)+32);g=(h&31)<<10;break;case 5:f+=k(g+
(h>>6)+32);g=(h&63)<<9;break;case 6:f+=k(g+(h>>7)+32);g=(h&127)<<8;break;case 7:f+=k(g+(h>>8)+32);g=(h&255)<<7;break;case 8:f+=k(g+(h>>9)+32);g=(h&511)<<6;break;case 9:f+=k(g+(h>>10)+32);g=(h&1023)<<5;break;case 10:f+=k(g+(h>>11)+32);g=(h&2047)<<4;break;case 11:f+=k(g+(h>>12)+32);g=(h&4095)<<3;break;case 12:f+=k(g+(h>>13)+32);g=(h&8191)<<2;break;case 13:f+=k(g+(h>>14)+32);g=(h&16383)<<1;break;case 14:f+=k(g+(h>>15)+32,(h&32767)+32);o=0}}return f+k(g+32)},decompressFromUTF16:function(b){if(b==null)return"";
for(var f="",j,h,g=0,o=0,k=this._f;o<b.length;){h=b.charCodeAt(o)-32;switch(g++){case 0:j=h<<1;break;case 1:f+=k(j|h>>14);j=(h&16383)<<2;break;case 2:f+=k(j|h>>13);j=(h&8191)<<3;break;case 3:f+=k(j|h>>12);j=(h&4095)<<4;break;case 4:f+=k(j|h>>11);j=(h&2047)<<5;break;case 5:f+=k(j|h>>10);j=(h&1023)<<6;break;case 6:f+=k(j|h>>9);j=(h&511)<<7;break;case 7:f+=k(j|h>>8);j=(h&255)<<8;break;case 8:f+=k(j|h>>7);j=(h&127)<<9;break;case 9:f+=k(j|h>>6);j=(h&63)<<10;break;case 10:f+=k(j|h>>5);j=(h&31)<<11;break;
case 11:f+=k(j|h>>4);j=(h&15)<<12;break;case 12:f+=k(j|h>>3);j=(h&7)<<13;break;case 13:f+=k(j|h>>2);j=(h&3)<<14;break;case 14:f+=k(j|h>>1);j=(h&1)<<15;break;case 15:f+=k(j|h);g=0}o++}return this.decompress(f)},compress:function(b){if(b==null)return"";var f,j,h={},g={},o="",k="",r="",l=2,c=3,e=2,d="",m=0,s=0,w,t=this._f;for(w=0;w<b.length;w+=1){o=b.charAt(w);if(!Object.prototype.hasOwnProperty.call(h,o)){h[o]=c++;g[o]=true}k=r+o;if(Object.prototype.hasOwnProperty.call(h,k))r=k;else{if(Object.prototype.hasOwnProperty.call(g,
r)){if(r.charCodeAt(0)<256){for(f=0;f<e;f++){m<<=1;if(s==15){s=0;d+=t(m);m=0}else s++}j=r.charCodeAt(0);for(f=0;f<8;f++){m=m<<1|j&1;if(s==15){s=0;d+=t(m);m=0}else s++;j>>=1}}else{j=1;for(f=0;f<e;f++){m=m<<1|j;if(s==15){s=0;d+=t(m);m=0}else s++;j=0}j=r.charCodeAt(0);for(f=0;f<16;f++){m=m<<1|j&1;if(s==15){s=0;d+=t(m);m=0}else s++;j>>=1}}l--;if(l==0){l=Math.pow(2,e);e++}delete g[r]}else{j=h[r];for(f=0;f<e;f++){m=m<<1|j&1;if(s==15){s=0;d+=t(m);m=0}else s++;j>>=1}}l--;if(l==0){l=Math.pow(2,e);e++}h[k]=
c++;r=String(o)}}if(r!==""){if(Object.prototype.hasOwnProperty.call(g,r)){if(r.charCodeAt(0)<256){for(f=0;f<e;f++){m<<=1;if(s==15){s=0;d+=t(m);m=0}else s++}j=r.charCodeAt(0);for(f=0;f<8;f++){m=m<<1|j&1;if(s==15){s=0;d+=t(m);m=0}else s++;j>>=1}}else{j=1;for(f=0;f<e;f++){m=m<<1|j;if(s==15){s=0;d+=t(m);m=0}else s++;j=0}j=r.charCodeAt(0);for(f=0;f<16;f++){m=m<<1|j&1;if(s==15){s=0;d+=t(m);m=0}else s++;j>>=1}}l--;if(l==0){l=Math.pow(2,e);e++}delete g[r]}else{j=h[r];for(f=0;f<e;f++){m=m<<1|j&1;if(s==15){s=
0;d+=t(m);m=0}else s++;j>>=1}}l--;l==0&&e++}j=2;for(f=0;f<e;f++){m=m<<1|j&1;if(s==15){s=0;d+=t(m);m=0}else s++;j>>=1}for(;;){m<<=1;if(s==15){d+=t(m);break}else s++}return d},decompress:function(b){if(b==null)return"";var f=[],j=4,h=4,g=3,o="",k="",r,l,c,e,d,m=this._f;b={string:b,val:b.charCodeAt(0),position:32768,index:1};for(k=0;k<3;k+=1)f[k]=k;o=0;c=Math.pow(2,2);for(e=1;e!=c;){l=b.val&b.position;b.position>>=1;if(b.position==0){b.position=32768;b.val=b.string.charCodeAt(b.index++)}o|=(l>0?1:0)*
e;e<<=1}switch(o){case 0:o=0;c=Math.pow(2,8);for(e=1;e!=c;){l=b.val&b.position;b.position>>=1;if(b.position==0){b.position=32768;b.val=b.string.charCodeAt(b.index++)}o|=(l>0?1:0)*e;e<<=1}d=m(o);break;case 1:o=0;c=Math.pow(2,16);for(e=1;e!=c;){l=b.val&b.position;b.position>>=1;if(b.position==0){b.position=32768;b.val=b.string.charCodeAt(b.index++)}o|=(l>0?1:0)*e;e<<=1}d=m(o);break;case 2:return""}for(r=k=f[3]=d;;){o=0;c=Math.pow(2,g);for(e=1;e!=c;){l=b.val&b.position;b.position>>=1;if(b.position==
0){b.position=32768;b.val=b.string.charCodeAt(b.index++)}o|=(l>0?1:0)*e;e<<=1}switch(d=o){case 0:o=0;c=Math.pow(2,8);for(e=1;e!=c;){l=b.val&b.position;b.position>>=1;if(b.position==0){b.position=32768;b.val=b.string.charCodeAt(b.index++)}o|=(l>0?1:0)*e;e<<=1}f[h++]=m(o);d=h-1;j--;break;case 1:o=0;c=Math.pow(2,16);for(e=1;e!=c;){l=b.val&b.position;b.position>>=1;if(b.position==0){b.position=32768;b.val=b.string.charCodeAt(b.index++)}o|=(l>0?1:0)*e;e<<=1}f[h++]=m(o);d=h-1;j--;break;case 2:return k}if(j==
0){j=Math.pow(2,g);g++}if(f[d])o=f[d];else if(d===h)o=r+r.charAt(0);else return null;k+=o;f[h++]=r+o.charAt(0);j--;r=o;if(j==0){j=Math.pow(2,g);g++}}}},saveAs=saveAs||function(b){if(!(typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent))){var f=b.document.createElementNS("http://www.w3.org/1999/xhtml","a"),j="download"in f,h=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),g=b.webkitRequestFileSystem,o=b.requestFileSystem||g||b.mozRequestFileSystem,k=function(s){(b.setImmediate||
b.setTimeout)(function(){throw s;},0)},r=0,l=function(s){var w=function(){typeof s==="string"?(b.URL||b.webkitURL||b).revokeObjectURL(s):s.remove()};b.chrome?w():setTimeout(w,500)},c=function(s,w,t){w=[].concat(w);for(var x=w.length;x--;){var p=s["on"+w[x]];if(typeof p==="function")try{p.call(s,t||s)}catch(a){k(a)}}},e=function(s){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type))return new Blob(["\ufeff",s],{type:s.type});return s},d=function(s,w,t){t||
(s=e(s));var x=this;t=s.type;var p=false,a,q,n=function(){c(x,"writestart progress write writeend".split(" "))},u=function(){if(q&&h&&typeof FileReader!=="undefined"){var C=new FileReader;C.onloadend=function(){var z=C.result;q.location.href="data:attachment/file"+z.slice(z.search(/[,;]/));x.readyState=x.DONE;n()};C.readAsDataURL(s);x.readyState=x.INIT}else{if(p||!a)a=(b.URL||b.webkitURL||b).createObjectURL(s);if(q)q.location.href=a;else if(b.open(a,"_blank")==undefined&&h)b.location.href=a;x.readyState=
x.DONE;n();l(a)}},v=function(C){return function(){if(x.readyState!==x.DONE)return C.apply(this,arguments)}},A={create:true,exclusive:false},y;x.readyState=x.INIT;w||(w="download");if(j){a=(b.URL||b.webkitURL||b).createObjectURL(s);f.href=a;f.download=w;setTimeout(function(){var C=new MouseEvent("click");f.dispatchEvent(C);n();l(a);x.readyState=x.DONE})}else{if(b.chrome&&t&&t!=="application/octet-stream"){y=s.slice||s.webkitSlice;s=y.call(s,0,s.size,"application/octet-stream");p=true}if(g&&w!=="download")w+=
".download";if(t==="application/octet-stream"||g)q=b;if(o){r+=s.size;o(b.TEMPORARY,r,v(function(C){C.root.getDirectory("saved",A,v(function(z){var D=function(){z.getFile(w,A,v(function(E){E.createWriter(v(function(G){G.onwriteend=function(H){q.location.href=E.toURL();x.readyState=x.DONE;c(x,"writeend",H);l(E)};G.onerror=function(){var H=G.error;H.code!==H.ABORT_ERR&&u()};"writestart progress write abort".split(" ").forEach(function(H){G["on"+H]=x["on"+H]});G.write(s);x.abort=function(){G.abort();
x.readyState=x.DONE};x.readyState=x.WRITING}),u)}),u)};z.getFile(w,{create:false},v(function(E){E.remove();D()}),v(function(E){E.code===E.NOT_FOUND_ERR?D():u()}))}),u)}),u)}else u()}},m=d.prototype;if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob)return function(s,w,t){t||(s=e(s));return navigator.msSaveOrOpenBlob(s,w||"download")};m.abort=function(){this.readyState=this.DONE;c(this,"abort")};m.readyState=m.INIT=0;m.WRITING=1;m.DONE=2;m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=
m.onerror=m.onwriteend=null;return function(s,w,t){return new d(s,w,t)}}}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(typeof module!=="undefined"&&module.exports)module.exports.saveAs=saveAs;else typeof define!=="undefined"&&define!==null&&define.amd!=null&&define([],function(){return saveAs});
var CLIENT_VERSION=15,IS_WINDOWS=null,IS_MAC_OS=null,IS_LINUX=null,IS_CHROME_OS=null,WINDOW_ID=null,MOST_RECENTLY_OPENED_WINDOW_ID_KEY="mostRecentlyOpenedWindowId",TIMEZONE_INFO=null,SHOW_COMPLETED=true,EVENTS={},TIMEOUTS={},CURRENTLY_ACTIVE_PAGE=null,DRAG_MODE=false,TRACK_TAG_COUNTS=true,WINDOW_FOCUSED=true,WORD_CHARS="\\p{L}",WORD_CHARS_PLUS_DIGITS=WORD_CHARS+"\\p{Nd}",TEXT_ENTITY_BOUNDARY_CHARS="[(),.!?';:\\/\\[\\]]",NAVIGABLE_PROJECTS_PATTERN=".project:visible:not(.parent, .mainTreeRoot)",DROP_TARGET_PATTERN=
NAVIGABLE_PROJECTS_PATTERN+", .childrenEnd:visible",GLOBAL_NAVIGABLE_PROJECTS_PATTERN=".page.active "+NAVIGABLE_PROJECTS_PATTERN,DO_NOT_INITIALIZE=false,READY_FOR_DOCUMENT_READY=false,DOCUMENT_READY_TRIGGERED=false,SHOULD_SHOW_LOGIN_REGISTER_SCREEN=false,UPDATE_INITIALIZATION_DATA_EVERY_N_DAYS=3,PACKAGED_APP_LOGGED_IN_KEY="logged_in",CONTENT_HTML_CONTAINER=null,SHORTCUT_KEYS=null,SHORTCUT_KEYS_WITH_META=null,SHORTCUT_KEYS_FOR_MOVING=null,SHORTCUT_KEYS_FOR_MOVING_WITH_META=null,FORMAT_FLAGS=null,FORMAT_FLAGS_SET_LOCATION=
null,LAST_CONTENT_FOCUS_TIMESTAMP=null,NUM_DELETED_ITEMS_NEEDED_FOR_DROPDOWN_MESSAGE=10,LAST_UP_OR_DOWN_ARROW_IN_NAME_USED_DEFAULT_BEHAVIOR=false,USE_ANDROID_CHROME_BACKSPACE_HACK=null,USE_ANDROID_CHROME_ENTER_HACK=null;
$.ajaxPrefilter(function(b){if(b.WF_isForStaticResource!==true){var f=b.url.charAt(0)==="/";if(typeof USER_ID!=="undefined")if(f){var j="crosscheck_user_id="+encodeURIComponent(USER_ID);b.data="data"in b&&typeof b.data==="string"&&b.data.length>0?b.data+"&"+j:j}if(IS_PACKAGED_APP)if(f)b.url=URL_PRE_PATH_FOR_PACKAGED_APPS+b.url}});IS_PACKAGED_APP&&$.ajax({url:"/ping"});
if(IS_IOS&&FULL_OFFLINE_ENABLED)if(!localstorage_detect.localStorageSupported())if(localstorage_detect.permissionDeniedAccessingLocalStorage()){DO_NOT_INITIALIZE=true;setTimeout(function(){apphooks.exitWhenBackgrounded();setTimeout(function(){for(;;)alert('WorkFlowy cannot load properly if you are blocking cookies. To re-enable them, go to Settings -> Safari, and change the "Block Cookies" setting to something other than "Always". When you run the app again, it should work.')},0)},0)}
function fetchInitializationData(b){var f=function(){b(null)},j=typeof PROJECT_TREE_DATA_URL_PARAMS!=="undefined"?$.extend({},PROJECT_TREE_DATA_URL_PARAMS):{};j.client_version=!FULL_OFFLINE_ENABLED||IS_PACKAGED_APP?CLIENT_VERSION:"newest";j="/get_initialization_data?"+$.param(j);$.ajax({url:j,dataType:"json",success:function(h){if(h==null)f();else{h.fetchedWithClientVersion=CLIENT_VERSION;b(h)}},error:f})}
function doInitializationDataFetch(){fetchInitializationData(initializationDataFetchFinishedCallback)}
function initializeLocalStorageAndGetInitializationData(){function b(){localstorage_helper.init();localstorage_helper.localStorageSupported()&&localstorage_helper.write(MOST_RECENTLY_OPENED_WINDOW_ID_KEY,WINDOW_ID)}WINDOW_ID=date_time.getCurrentTimeInMS()+"-"+Math.random();if(IS_PACKAGED_APP)indexeddb_helper.open(function(){b();getInitializationDataFromStorage(function(f,j){f===undefined?indexeddb_helper.getStores().otherData.read(PACKAGED_APP_LOGGED_IN_KEY,function(h){h===true?doInitializationDataFetch():
showLoginRegisterScreen()}):initializationDataFetchFinishedCallback(f,j)})});else{b();doInitializationDataFetch()}}function allJSFinishedLoadingCallback(){DO_NOT_INITIALIZE||initializeLocalStorageAndGetInitializationData()}
function initializationDataFetchFinishedCallback(b,f){if(f===undefined)f=null;try{if(b===null)if(APPCACHE_ENABLED){window.location="/update_appcache";return}else if(IS_PACKAGED_APP){showLoginRegisterScreen();return}else throw Error("Initialization data load failed.");if(IS_PACKAGED_APP)if(f!==null){utils.debugMessage("Initialization data came from IndexedDB.");if(date_time.getCurrentTimeInMS()>f+UPDATE_INITIALIZATION_DATA_EVERY_N_DAYS*24*60*60*1E3){utils.debugMessage('Initialization data from IndexedDB is "stale"; fetching it again.');
(function(){fetchInitializationData(function(s){if(s!==null){utils.debugMessage("Initialization data re-fetch succeeded; writing it to IndexedDB.");writeInitializationDataToStorage(s)}else utils.debugMessage("Initialization data re-fetch failed.")})})()}}else{utils.debugMessage("Initialization data came from server; writing it to IndexedDB.");writeInitializationDataToStorage(b)}for(var j=b.globals,h=b.projectTreeData,g=b.settings,o=0;o<j.length;o++){var k=j[o];window[k[0]]=k[1]}USER_ID_AS_INT=parseInt(USER_ID);
PROJECT_TREE_DATA=h;CLIENT_ID=PROJECT_TREE_DATA.clientId;MAIN_PROJECT_TREE_INFO=PROJECT_TREE_DATA.mainProjectTreeInfo;AUXILIARY_PROJECT_TREE_INFOS=PROJECT_TREE_DATA.auxiliaryProjectTreeInfos;for(var r in g)if(r in SETTINGS)SETTINGS[r].value=g[r];var l=SETTINGS.theme.value,c=SETTINGS.font.value;userstorage.init();var e=IS_PACKAGED_APP?SETTINGS.theme.value:l,d=IS_PACKAGED_APP?SETTINGS.font.value:c;j=function(s,w){for(var t=0;t<s.length;t++)if(s[t].name===w)return true;return false};e=j(THEME_OPTIONS,
e)?e:"default";d=j(FONT_OPTIONS,d)?d:"default";if(EMBED)e="embed";loadFontAndThemeCSS(e,d)}catch(m){handleExceptionDuringInitialization(m)}}function isXWalk(){return typeof xwalk!=="undefined"}function getInitializationDataFromStorage(b){isXWalk()?file_system_helper.readInitializationData(b):indexeddb_helper.getStores().initializationData.readJSONWithTimestamp("initializationData",b)}
function writeInitializationDataToStorage(b){if(isXWalk()){b=JSON.stringify(b);file_system_helper.writeInitializationData(b)}else writeInitializationDataToIndexedDB(b)}function writeInitializationDataToIndexedDB(b){indexeddb_helper.getStores().initializationData.writeJSONWithTimestamp("initializationData",b)}
function showLoginRegisterScreen(){function b(h,g){if(g===undefined)g=false;IS_MOBILE&&h.find("input.submit").tapHandler(null,function(){h.submit();return false});forms_.ajaxify(h,function(o){if(o==null){h.children(".errors").remove();h.prepend('<div class="errors">You must be online to initialize the application. Please login and try again.</div>')}else if("success"in o&&o.success){IS_PACKAGED_APP&&indexeddb_helper.getStores().otherData.write(PACKAGED_APP_LOGGED_IN_KEY,true);if(g){FIRST_LOAD_FLAGS.isNewUser=
FIRST_LOAD_FLAGS.showNewUserTutorial=true;IS_CHROME_APP&&gaTracker.sendEvent("Chrome App","Signup Completed")}else IS_CHROME_APP&&gaTracker.sendEvent("Chrome App","Login Completed");hideLoginRegisterScreen();doInitializationDataFetch()}else{o=j.children(".form:visible");o.children(".errors").remove();o.prepend('<div class="errors">Oops, something went wrong on our end. Sorry! Please try again.</div>')}},function(){var o=getCurrentlyFocusedContentOrInput();o!==null&&o.is("input")&&o.blur()},true)}
function f(h){j.find(".form").hide();h=$("."+h,j).show();IS_MOBILE||h.find("input[type=email]:first").focus()}if(DOCUMENT_READY_TRIGGERED){IS_CHROME_APP&&gaTracker.sendEvent("Chrome App","Viewed Login & Register Screen");SHOULD_SHOW_LOGIN_REGISTER_SCREEN=false;var j=$("#loginRegisterScreen");j.show();j.html($("#loginRegisterScreenTemplate").html());b($(".loginForm",j));b($(".registerForm",j),true);$(".showLoginScreen",j).bind("click",function(){f("loginScreen")});$(".showRegisterScreen",j).bind("click",
function(){f("registerScreen")});f("registerScreen")}else SHOULD_SHOW_LOGIN_REGISTER_SCREEN=true}function hideLoginRegisterScreen(){var b=$("#loginRegisterScreen");b.hide();b.html("")}function loadFontAndThemeCSS(b,f){function j(){h++;if(h===2){READY_FOR_DOCUMENT_READY=true;DOCUMENT_READY_TRIGGERED&&documentReadyFunc()}}var h=0;appearance.changeCSS({type:"theme",name:b},j);appearance.changeCSS({type:"font",name:f},j)}
function documentReadyFunc(){IS_CHROME_APP&&metrics.setupGoogleAnalyticsForChromeApp();DOCUMENT_READY_TRIGGERED=true;if(SHOULD_SHOW_LOGIN_REGISTER_SCREEN){showLoginRegisterScreen();IS_CHROME_APP&&gaTracker.sendEvent("Chrome App","Login Register Screen Shown")}if(READY_FOR_DOCUMENT_READY)try{utils.debugMessage("Debug mode ON");if(FULL_OFFLINE_ENABLED&&!IS_PACKAGED_APP&&!localstorage_helper.localStorageSupported())throw Error("localStorage not supported in full-offline mode.");$("#documentView").removeAttr("style");
detectAndSetUpEnvironment();initializeGoogleAnalytics();TIMEZONE_INFO=jstz.determine_timezone().timezone;if(TIMEZONE_INFO===undefined){utils.debugMessage("Failed to detect timezone!");SEND_TIMEZONE_TO_SERVER=false}else utils.debugMessage("Time zone: "+TIMEZONE_INFO.olson_tz);FORMAT_FLAGS=new content_text.FormatFlags;$.ajaxSetup({timeout:12E5});project_tree_object.initModule();project_tree.initializeProjectTrees(MAIN_PROJECT_TREE_INFO,AUXILIARY_PROJECT_TREE_INFOS);CURRENTLY_ACTIVE_PAGE=createPage(true);
payments.init();experiments.init();quota.init();location_history.init();addEvents();initializeShowCompleted();selectAndSearchUsingLocation(location_history.getCurrentLocation());push_poll.init();!IS_MOBILE&&FIRST_LOAD_FLAGS.showFriendRecommendation&&friend_recommendation.init();!IS_MOBILE&&FIRST_LOAD_FLAGS.showPrivateSharingNotice&&ui_sugar.showAlertDialog("<strong>You are viewing a privately shared WorkFlowy.</strong><br><br>If you would like to add it to your personal account for easy access, click the button below. (Note that this button is always available in the lower right when viewing a shared list.)",
"Notice",false,[{text:"Add it to my account",click:function(){$(this).dialog("close");addSharedSubtreeToAccount()}}]);user.isLoggedIn()&&metrics.identify(USER_ID);if(!DEMO_MODE){var b=$("body").hasClass("shared");metrics.usagePing();b&&metrics.track("Shared Doc View",{isPublicShare:!FIRST_LOAD_FLAGS.showPrivateSharingNotice,userIsLoggedIn:user.isLoggedIn()});setInterval(metrics.usagePing,432E5)}IS_ANDROID&&!IS_CHROME&&showMessage('You are not using Chrome, which is our officially supported Android browser. <a href="https://play.google.com/store/apps/details?id=com.android.chrome">Download Chrome</a> for a much better experience.');
setInterval(function(){_gaq.push(["_trackEvent","Usage Statistic","30 minute ping"])},18E5)}catch(f){handleExceptionDuringInitialization(f)}finally{if(app_detect.isIOSApp())$("#loadingScreen").hide();else{var j=IS_MOBILE?400:150;setTimeout(function(){$("#loadingScreen").fadeOut(j)},0)}apphooks.notifyDocumentReady();event_tracker.track("document_ready")}}$(document).ready(documentReadyFunc);
function handleExceptionDuringInitialization(b){var f=String(b);utils.debugMessage("Error encountered during initialization: '"+f+"'");window._gaq!==undefined&&_gaq.push(["_trackEvent","Javascript Errors (on init)",f,SETTINGS.username.value]);IS_CHROME_APP&&gaTracker.sendEvent("[Chrome App] Javascript Errors (on init)",f,SETTINGS.username.value);if(b instanceof userstorage.InitializationError)setTimeout(function(){clearUserStorage(reloadPageFromServer)},250);else{$("#pageContainer").hide();if(IS_PACKAGED_APP)throw b;
else if(confirm('WorkFlowy encountered an error initializing.\n\nClick "OK" below to reload the page. If this error happens repeatedly, please email help@workflowy.com with the error message shown below (which you can copy-paste), as well as the name of the browser you are using.\n\nERROR: "'+f+'"\n\n(This error is usually caused by browser extensions, so we recommend checking if disabling any that you have installed solves the problem.)'))setTimeout(reloadPageFromServer,250);else throw b;}}
function initializeGoogleAnalytics(){window._gaq=window._gaq||[];_gaq.push(["_setAccount","UA-11472180-1"]);_gaq.push(["_setCustomVar",1,"Cohort",COHORT,1]);FIRST_LOAD_FLAGS.isNewUser?_gaq.push(["_setCustomVar",2,"New user","Yes",2]):_gaq.push(["_setCustomVar",2,"Existing user","Yes",2]);_gaq.push(["_setCustomVar",3,"Experiments",experiments.getExperimentsStringForGoogleAnalytics(),2]);_gaq.push(["_setCustomVar",4,"Client version",CLIENT_VERSION,2]);_gaq.push(["_trackPageview"])}
function detectAndSetUpEnvironment(){if(DEMO_MODE)$.ajax=$.get=$.post=function(){};IS_WINDOWS=IS_MAC_OS=IS_LINUX=false;var b=window.navigator.userAgent;if(b.match(/windows/i)!==null){$("body").addClass("windows");IS_WINDOWS=true}else if(b.match(/mac os/i)!==null){$("body").addClass("macos");IS_MAC_OS=true}else if(b.match(/linux/i)!==null){$("body").addClass("linux");IS_LINUX=true}else if(b.match(/cros/i)!==null){$("body").addClass("cros");IS_CHROME_OS=true}USE_ANDROID_CHROME_ENTER_HACK=USE_ANDROID_CHROME_BACKSPACE_HACK=
false;if(IS_ANDROID){b=b.match(/Chrome\/([0-9]+)/);var f=null;if(b!==null){f=parseInt(b[1]);if(f<39||f>=48)USE_ANDROID_CHROME_BACKSPACE_HACK=true;if(f>=48)USE_ANDROID_CHROME_ENTER_HACK=true}utils.debugMessage("Android Chrome major version: "+f)}APPCACHE_ENABLED=APPCACHE_ENABLED&&"applicationCache"in window&&window.applicationCache!==null;if(IS_MOBILE)TRACK_TAG_COUNTS=false;if(IS_IE)CONTENT_HTML_CONTAINER=$("#contentHtmlContainer");SHORTCUT_KEYS=IS_WINDOWS||IS_LINUX||IS_CHROME_OS?["alt"]:["ctrl"];
SHORTCUT_KEYS_FOR_MOVING=IS_CHROME_OS?["ctrl"]:SHORTCUT_KEYS;SHORTCUT_KEYS_WITH_META=SHORTCUT_KEYS.concat(["meta"]);SHORTCUT_KEYS_FOR_MOVING_WITH_META=SHORTCUT_KEYS_FOR_MOVING.concat(["meta"])}function selectOnActivePage(b){b=b.split(",");for(var f=0;f<b.length;f++)b[f]=".page.active "+b[f];return $(b.join(", "))}function getActivePage(){return CURRENTLY_ACTIVE_PAGE}
function createPage(b){if(b===undefined)b=false;var f=$('<div class="page"><div class="pageStar"></div><div class="mainTreeRoot project open" projectid="None"><div class="name"><div class="content"></div><span class="parentArrow"></span></div><div class="notes"><div class="content"></div></div><div class="children"></div><div class="addButton" title="Add new item">+</div></div><div class="footer"><h3 class="siteSlogan">Make lists, not war.</h3></div><div class="bottomPadding"></div></div>');f.setMinHeightAndBottomPaddingForPages();
$("#pageContainer").append(f);b&&f.addClass("active");return f}jQuery.fn.setMinHeightAndBottomPaddingForPages=function(){var b=$(this),f=$(window).height(),j=Math.round(f*0.2);f=Math.round(f*1.1)-j;b.find(".mainTreeRoot").css({minHeight:f+"px",paddingBottom:j+"px"})};
function initializeShowCompleted(){var b=SHOW_COMPLETED_DEFAULT;if(localstorage_helper.localStorageSupported()){var f=project_tree.mainLocalStorageKey("completedMode");f=localstorage_helper.read(f);if(f==="show")b=true;else if(f==="hide")b=false}setShowCompleted(b)}
jQuery.fn.overwriteProjectChildrenHtml=function(b){var f=$(this);project_tree.getProjectReferenceFromDomProject(f).registerSubtreeRemovedFromDom(true);b=b();f.clearControlsUnderProject(true);f=f.children(".children");dom_utils.clearChildrenOfElement(f[0]);f.html(b)};
function selectAndSearchUsingLocation(b){var f=getCurrentlyFocusedContent();f!==null&&f.blur();f=b.toProjectReference();if(f===null||!f.isValid())f=project_tree.getMainProjectTree().getRootProjectReference();b=b.getSearchQuery();selectProjectReferenceInstantly(f);if(f=b!==null)search.setSearchBoxAndSearch(b);else search.inSearchMode()&&search.cancelSearch();if(!location_history.restoreLastSavedClientViewStateForCurrentLocation()){f||IS_MOBILE||focusFirstChildOfSelected();$(window).scrollTop(0)}}
jQuery.fn.getChildren=function(){return $(this).children(".children").children(".project")};jQuery.fn.getVisibleChildren=function(){return $(this).getChildren().filter(":visible")};jQuery.fn.hasVisibleChildren=function(){return $(this).children(".children").children(".project:visible:first").length>0};jQuery.fn.getFirstVisibleChildOrChildrenEnd=function(){return $(this).children(".children").children(DROP_TARGET_PATTERN).first()};
function getCurrentlyFocusedContent(){var b=$(document.activeElement);if(b.length!==1||!b.is(".content"))return null;if(window.getSelection().rangeCount===0)return null;return b}function getCurrentlyFocusedContentOrInput(){var b=$(document.activeElement);if(b.length!==1||!b.is(".content, input, .previewWindow"))return null;if(!b.is("input")&&window.getSelection().rangeCount===0)return null;return b}
jQuery.fn.selectIt=function(b,f){if(b===undefined)b="first_child";f=animations.getAnimationSpeed(f);var j=$(this),h=project_tree.getProjectReferenceFromDomProject(j);hideControls();if(!j.is(".selected")){var g=selectOnActivePage(".selected"),o=getCurrentlyFocusedContent(),k=null,r=null;if(o!==null){k=project_tree.getProjectReferenceFromDomProject(o.getProject());r=o.getCaret().start}getCurrentlyFocusedContentOrInput()!==null&&blurFocusedContentOrInput();var l=null;if(b==="first_child"){o=h.getPotentiallyVisibleChildren();
if(o.length>0)l=o[0];else h.isMainTreeRoot()||(l=h)}else if(b==="last_selected")l=project_tree.getProjectReferenceFromDomProject(g);o=function(){var x=j.getName();x.removeAttr("style");x.children(".content").removeAttr("style");g.getName().children(".content").removeAttr("style");g.getNotes().removeAttr("style");selectOnActivePage(".addButton").removeAttr("style");$(".nameAnimated").remove();location_history.setLocationModificationInProgress(true);search.inSearchMode()&&search.exitSearchMode();h.constructProjectTreeAsSelected();
saved_views.notifyViewChanged();h.setPageTitleAndFragmentPathForProject();location_history.setLocationModificationInProgress(false);var p=selectOnActivePage(".selected");p.addClass("highlighted");setTimeout(function(){p.removeClass("highlighted")},100);if(IS_MOBILE)$(window).scrollTop(0);else if(l!==null){x=k!==null?k.getMatchingDomProject():null;var a=l.getMatchingDomProject();if(a.length===1){f==="animate"&&animations.getAnimationCounter().setContentToFocus(a.getName().children(".content"));if(x!==
null&&a.filter(x).length>0)f==="animate"?animations.getAnimationCounter().setCaretPos(r):a.children(".name").children(".content").setCaret(r);else f!=="animate"&&a.children(".name").moveCursorToBeginning();b!=="last_selected"&&$(window).scrollTop(0)}}};if(f==="animate"){animations.getAnimationCounter().addCallback(o);o=[{project:j},{project:g}];var c=selectOnActivePage(".mainTreeRoot"),e=c.getChildren(),d=c.attr("class");e.detach();h.constructProjectTreeAsSelected(false);for(var m=function(x){var p=
null,a=null;x=x.getMatchingDomProject();if(x.length===1){a=x.getName().children(".content");if(a.is(":visible"))p=a.offset();a={fontSize:a.css("fontSize"),lineHeight:a.css("lineHeight")}}return{offset:p,style:a}},s=0;s<o.length;s++){var w=o[s],t=project_tree.getProjectReferenceFromDomProject(w.project);t=m(t);w.newOffset=t.offset;w.newStyle=t.style}s=c.children(".children");s.html("");s.append(e);c.attr("class",d);for(s=0;s<o.length;s++){w=o[s];d=w.project.getName().children(".content");d.css("visibility",
"hidden");c=$('<div class="nameAnimated">'+d.html()+"</div>");getActivePage().append(c);c.css({position:"absolute",zIndex:100,whiteSpace:d.css("whiteSpace"),fontSize:d.css("fontSize"),lineHeight:d.css("lineHeight")});if(w.newOffset===null){c.offset(d.offset());w={fontSize:"0px"}}else{c.offset(w.newOffset);e=c.position();d.is(":visible")?c.offset(d.offset()):c.css({fontSize:"0px",lineHeight:"0px"});w=w.newStyle;w.top=e.top;w.left=e.left}c.incrementAnimationCounter().animate(w,animations.getAnimationTiming("zoom"),
function(){animations.getAnimationCounter().decrement()})}o=g.getVisibleChildren();o.slice(0,10).incrementAnimationCounter().slideUpWithoutMemoryLeaks(animations.getAnimationTiming("zoom"),function(){animations.getAnimationCounter().decrement()});o.length>10&&o.slice(10).hideWithoutMemoryLeaks();selectOnActivePage(".addButton").hideWithoutMemoryLeaks();g.hasClass("noted")&&g.children(".notes").incrementAnimationCounter().animate({opacity:0},animations.getAnimationTiming("zoom"),function(){animations.getAnimationCounter().decrement()});
j.is(".parent")?event_tracker.track("zoom--out"):event_tracker.track("zoom--in");o=j.find(".parent");if(j.is(".parent"))o=o.add(j);o.children(".name").incrementAnimationCounter().animate({fontSize:"0px"},animations.getAnimationTiming("zoom"),function(){animations.getAnimationCounter().decrement()});j.addClass("highlighted")}else o()}};
function selectProjectReferenceInstantly(b,f){if(f===undefined)f=false;if(!f){var j=selectOnActivePage(".selected");if(j.length===1&&project_tree.getProjectReferenceFromDomProject(j).equals(b)){var h=b.getAncestors();j=j.getAncestors();if(h.length==j.length){for(var g=true,o=0;o<h.length;o++){var k=h[o],r=j.eq(o);if(!k.equals(project_tree.getProjectReferenceFromDomProject(r))){g=false;break}}if(g)return}}}utils.debugMessage("Rebuilding DOM project tree in selectProjectReferenceInstantly because selected/ancestors changed.");
b.constructProjectTreeAsSelected();b.setPageTitleAndFragmentPathForProject();saved_views.notifyViewChanged()}function reconstructDomProjectTree(){project_tree.getProjectReferenceFromDomProject(selectOnActivePage(".selected")).constructProjectTreeAsSelected()}jQuery.fn.setExpanded=function(b){var f=$(this);project_tree.getProjectReferenceFromDomProject(f).setExpanded(b);return this};
jQuery.fn.refreshExpanded=function(){this.each(function(){var b=$(this);b.is(".mainTreeRoot")||b.is(".open")||project_tree.getProjectReferenceFromDomProject(b).isExpanded()&&b.showChildren("instant")});return this};jQuery.fn.isHalfOpenSearchMatchAncestor=function(){var b=$(this);return shouldShowCompletedProjects()?b.hasClass("halfOpenSearchMatchAncestorWhenCompletedVisible"):b.hasClass("halfOpenSearchMatchAncestorWhenCompletedHidden")};
jQuery.fn.isFullyExpanded=function(){var b=$(this);return b.hasClass("open")&&!b.isHalfOpenSearchMatchAncestor()};
jQuery.fn.showChildren=function(b){b=animations.getAnimationSpeed(b);this.each(function(){var f=$(this),j=project_tree.getProjectReferenceFromDomProject(f);f.addClass("open");var h=f.isHalfOpenSearchMatchAncestor();h&&f.removeClass("halfOpenSearchMatchAncestorWhenCompletedVisible halfOpenSearchMatchAncestorWhenCompletedHidden");if(!f.is(".parent, .selected")){j.setIsExpandedInDom(true);if(h&&b!=="instant")var g=$(project_tree.getProjectReferencesFromDomProjects(f.getVisibleChildren()));f.overwriteProjectChildrenHtml(function(){var r=
j.constructChildProjectTreeHtmls();return global_project_tree_object.constructChildren(r)});if(b!=="instant"){f.addClass("animatingShowChildren");var o=f.getVisibleChildren(),k=h?o.filter(function(r,l){var c=project_tree.getProjectReferenceFromDomProject($(l));return!(g.filter(function(e,d){return c.equals(d)}).length>0)}):o;animations.getAnimationCounter().addCallback(function(){f.removeClass("animatingShowChildren");k.removeAttr("style")});k.hideWithoutMemoryLeaks();k.slice(0,30).incrementAnimationCounter().slideDown(animations.getAnimationTiming("children"),
function(){animations.getAnimationCounter().decrement()})}}});return this};
jQuery.fn.hideChildren=function(b){b=animations.getAnimationSpeed(b);this.each(function(){var f=$(this),j=project_tree.getProjectReferenceFromDomProject(f);if(f.is(".parent, .selected"))f.removeClass("open");else{var h=function(){f.removeClass("open");j.setIsExpandedInDom(false);f.overwriteProjectChildrenHtml(function(){return global_project_tree_object.constructChildren([])})};b=="instant"?h():f.children(".children").incrementAnimationCounter().slideUpWithoutMemoryLeaks(animations.getAnimationTiming("children"),function(){$(this).removeAttr("style");
h();animations.getAnimationCounter().decrement()})}});return this};jQuery.fn.getProject=function(){return $(this).closest(".project")};jQuery.fn.getParent=function(){return $(this).parent(".children").parent(".project")};jQuery.fn.getAncestors=function(){for(var b=this,f=[];!b.is(".mainTreeRoot");){b=b.getParent();f=f.concat(b.get())}return $(f)};jQuery.fn.getPriority=function(){var b=$(this);if(b.is(".childrenEnd")){b=b.getParent();return project_tree.getProjectReferenceFromDomProject(b).getChildren().length}else return project_tree.getProjectReferenceFromDomProject(b).getPriority()};
function getCompletedProjectsToAnimate(){var b=selectOnActivePage(".selected > .children > .project.done, .selected > .children > .project.completedDescendantMatches:not(.matches,.uncompletedDescendantMatches), .selected .project.open:visible > .children > .project.done, .selected .project.open:visible > .children > .project.completedDescendantMatches:not(.matches,.uncompletedDescendantMatches)");b=b.filter(":visible");return b=b.slice(0,10)}
function showCompleted(b){b=animations.getAnimationSpeed(b);setShowCompleted(true);var f=operations.saveClientViewState();blurFocusedContent();reconstructDomProjectTree();var j=function(){IS_MOBILE||operations.restoreClientViewState(f,{scrollToFocusBehavior:"doNotScroll"})};if(b!=="instant"){animations.getAnimationCounter().addCallback(j);b=getCompletedProjectsToAnimate();b.hideWithoutMemoryLeaks();b.incrementAnimationCounter().slideDown(animations.getAnimationTiming("children"),function(){$(this).removeAttr("style");
animations.getAnimationCounter().decrement()})}else j()}
function hideCompleted(b){function f(){var o=null;if(g!==null){var k=g.getProject();if(!k.is(":visible")){var r=k.getPreviousProject();if(r.filter(k).length===0)o=project_tree.getProjectReferenceFromDomProject(r)}}reconstructDomProjectTree();if(!IS_MOBILE)if(o!==null){r=o.getMatchingDomProject();r.length===1&&r.is(":visible")&&r.getName().children(".content").setCaret(0,0,"doNotScroll")}else operations.restoreClientViewState(h,{scrollToFocusBehavior:"doNotScroll"})}b=animations.getAnimationSpeed(b);
var j=getCompletedProjectsToAnimate();setShowCompleted(false);var h=operations.saveClientViewState(),g=getCurrentlyFocusedContent();if(b!=="instant"&&j.length>0){animations.getAnimationCounter().addCallback(f);j.show();j.incrementAnimationCounter().slideUpWithoutMemoryLeaks(animations.getAnimationTiming("children"),function(){$(this).removeAttr("style");animations.getAnimationCounter().decrement()})}else f()}
function setShowCompleted(b){SHOW_COMPLETED=b;if(!search.inSearchMode())if(localstorage_helper.localStorageSupported()){var f=project_tree.mainLocalStorageKey("completedMode");localstorage_helper.write(f,b?"show":"hide")}if(b){getActivePage().addClass("showCompleted");$(".showCompletedButton .show").hide();$(".showCompletedButton .hide").show()}else{getActivePage().removeClass("showCompleted");$(".showCompletedButton .show").show();$(".showCompletedButton .hide").hide()}}
function shouldShowCompletedProjects(){return SHOW_COMPLETED}function toggleCompletedVisibility(){shouldShowCompletedProjects()?hideCompleted():showCompleted();settings.saveShowCompleted(shouldShowCompletedProjects())}jQuery.fn.getLastSavedContentText=function(){var b=$(this),f=project_tree.getProjectReferenceFromDomProject(b.getProject());return b.isName()?f.getName():f.getNote()};
jQuery.fn.contentChanged=function(){var b=$(this),f=b.getLastSavedContentText();return content_text.getTextForContent(b)!==f};jQuery.fn.saveContent=function(b){if(b===undefined)b=false;var f=$(this),j=project_tree.getProjectReferenceFromDomProject(f.getProject());if(j.isValid())if(!j.isReadOnly())if(f.contentChanged()){var h=f.isName(),g=f.getContentText();f=h?g:null;h=!h?g:null;b||undo_redo.startOperationBatch(true);j.applyLocalEdit(f,h);b||undo_redo.finishOperationBatch()}};
jQuery.fn.focusProject=function(){var b=$(this),f=b.getName().children(".content"),j=b.getNotes().children(".content"),h=getCurrentlyFocusedContent();h!==null&&(h[0]===f[0]||h[0]===j[0])||b.getName().moveCursorToBeginning()};jQuery.fn.setContentHtml=function(b){$(this).html(b)};jQuery.fn.setContentHtmlAsUserEdit=function(b){var f=$(this);f.setContentHtml(b);setSaveTimer(f)};jQuery.fn.getContentText=function(){var b=$(this);return content_text.getTextForContent(b)};
jQuery.fn.setContentText=function(b,f){var j=$(this);if(f===undefined)f=j.isNote();var h=!f&&j.getProject().hasClass("parent");j.setContentHtml(content_text.getContentHtml(b,f,null,h))};jQuery.fn.setContentTextAsUserEdit=function(b,f){var j=$(this);if(f===undefined)f=j.isNote();j.setContentText(b,f);setSaveTimer(j)};jQuery.fn.setAndSaveContentText=function(b){var f=$(this);f.setContentText(b);f.saveContent(true)};
jQuery.fn.updateContentHtmlAfterUserEdit=function(){var b=$(this),f=b.isNote(),j=b.html(),h=new content_text.ContentText(b,f),g=h.getContentHtml();if(USE_ANDROID_CHROME_ENTER_HACK){var o=false;b.find("div").each(function(){if($(this).attr("class")==="")o=true})}var k=j===g;if(IS_IE&&!k){CONTENT_HTML_CONTAINER.html(g);k=CONTENT_HTML_CONTAINER.html();CONTENT_HTML_CONTAINER.html("");k=j===k}if(!k){j=getCurrentlyFocusedContent();if(j=j!==null&&j[0]===b[0])var r=b.getCaret();b.setContentHtml(g);j&&b.setCaret(r.start,
r.end)}tagging.getTagAutocompleter().updateDisplay(b);if(USE_ANDROID_CHROME_ENTER_HACK&&o)b.returnHandler();else USE_ANDROID_CHROME_BACKSPACE_HACK&&!f&&!h.originalContentContainsBeginningMarkerChar()&&setTimeout(function(){var l=getCurrentlyFocusedContent();l!==null&&l[0]===b[0]&&b.backspaceHandler()},0);event_tracker.track("edit")};
function addEvents(){$(".dialogCloseButton").live("click",function(){$(this).closest(".ui-dialog-content").dialog("close")});$("#site_message .closeButton").click(function(){$("#site_message").slideUp()});if(!IS_PACKAGED_APP&&!DEMO_MODE)window.onbeforeunload=function(){saveEditingContent();if(project_tree.getAllProjectTreesHelper().haveUnsavedData()){push_poll.scheduleNextPushAndPoll(true);return"You have unsaved changes. Do you want to leave this page and discard your changes?"}};window.onerror=
function(h,g,o){IS_CHROME_APP&&gaTracker.sendEvent("[Chrome App] Javascript Errors",h,SETTINGS.username.value+": "+g+":"+o);window._gaq!==undefined&&_gaq.push(["_trackEvent","Javascript Errors",h,SETTINGS.username.value+": "+g+":"+o])};$(window).bind("resize",function(){$(".page").setMinHeightAndBottomPaddingForPages();IS_MOBILE||library.reposition();search.notifyWindowResized();item_select.notifyWindowResized()});IS_PACKAGED_APP||$.address.externalChange(function(){location_history.notifyExternalFragmentChange();
selectAndSearchUsingLocation(location_history.getCurrentLocation())});if(IS_ANDROID){if("hidden"in document)var b="hidden",f="visibilitychange";else{b="webkitHidden";f="webkitvisibilitychange"}$(document).bind(f,function(){var h=document[b];if(h&&WINDOW_FOCUSED)windowBlurHandler();else!h&&!WINDOW_FOCUSED&&windowFocusHandler()})}else if(!app_detect.isIOSApp()){$(window).focus(windowFocusHandler);$(window).blur(windowBlurHandler)}$(".saveButton.saveNow").clickOrTapHandler({event:function(){push_poll.scheduleNextPushAndPoll(true)},
mousedown:function(){return false}});if(IS_MOBILE){$("#controlsLeft").bind("touchstart",function(){if(event.target===this)return false});$("#controlsLeft a.complete").tapHandler(null,function(){var h=$("#controls").getProject();h.completeIt();blurFocusedContentOrInput();h.addClass("tapped");setTimeout(function(){h.removeClass("tapped")},250);return false});$("#controlsLeft a.note").tapHandler(function(){return false},function(){if(getCurrentlyFocusedContent()!==null){var h=$("#controls").getProject(),
g=h.getNotes();getCurrentlyFocusedContent()[0]===g.children(".content")[0]?h.editName():h.editNote();return false}});$("#controlsLeft #moveMobile span").tapHandler(function(){var h=$(this);h.hasClass("disabled")||h.addClass("tapped")},function(){var h=$(this);if(h.hasClass("disabled"))return false;var g=$("#controls").getProject();if(h.hasClass("indent"))g.indentProjects();else $(this).hasClass("outdent")&&g.outdentProjects();return false},false)}if(!IS_MOBILE){$("#controlsLeft > .note").click(function(){$(this).getProject().editNote();
hideControls()});$("#controlsLeft > .complete").click(function(){$(this).getProject().completeIt();event_tracker.track("completed")});$("#controlsLeft > .share").click(function(){$(this).getProject().showSharePopup();hideControls()});$("#controlsLeft .export").click(function(){$(this).getProject().exportIt();hideControls()});$("#controlsLeft .duplicate").click(function(){var h=$(this).getProject(),g=h.getNextSibling(true);h.duplicateIt(g);hideControls()});$("#controlsLeft .delete").click(function(){$(this).getProject().deleteIt()});
$("#controlsLeft a").click(function(){TIMEOUTS.highlight=setTimeout(function(){selectOnActivePage(".highlighted").removeClass("highlighted")},300)})}if(!IS_MOBILE){jQuery.fn.initiateHideHoverControls=function(){var h=$(this).getProject(),g=h.children(".name").find("#controlsLeft");h.removeClass("highlighted");clearTimeout(TIMEOUTS.showControls);TIMEOUTS.hideHoverControls=setTimeout(function(){g.removeClass("hovered")},1)};jQuery.fn.initiateShowHoverControls=function(){var h=$(this).getProject();if(!(DRAG_MODE||
h.isContainedWithinItemSelection())){selectOnActivePage(".highlighted").removeClass("highlighted");h.is(".selected")||h.addClass("highlighted");clearTimeout(TIMEOUTS.hideHoverControls);TIMEOUTS.showControls=setTimeout(function(){h.is(":visible")&&h.showControls()},500)}};$(".page.active .bullet").live("mouseenter",function(){$(this).initiateShowHoverControls()}).live("mouseleave",function(){$(this).initiateHideHoverControls()});$("#controlsLeft").mouseenter(function(){var h=$(this).getProject();selectOnActivePage(".highlighted").removeClass("highlighted");
h.addClass("highlighted");clearTimeout(TIMEOUTS.hideHoverControls)}).mouseleave(function(){$(this).initiateHideHoverControls()});$(".page.active .selected .name").live("mouseenter",function(){$(this).placeControls()}).live("mouseleave",function(){TIMEOUTS.hideControls=setTimeout(function(){hideControls()},50)});$(".page.active .selected:not(.mainTreeRoot) > .name").live("mouseenter",function(){$(this).initiateShowHoverControls()}).live("mouseleave",function(){$(this).initiateHideHoverControls()})}jQuery.fn.placeControls=
function(){var h=$(this),g=h.getProject();clearTimeout(TIMEOUTS.hideControls);if(!(DRAG_MODE||g.isContainedWithinItemSelection())){g=h.children("#controls");if(g.length===0){g=$("#controls");g.children("#controlsLeft").removeClass("hovered");project_tree.getProjectReferenceFromDomProject(h.getProject()).isReadOnly()?g.addClass("readOnly"):g.removeClass("readOnly");h.append(g);clearTimeout(TIMEOUTS.hideHoverControls)}}};jQuery.fn.showControls=function(){var h=$(this),g=project_tree.getProjectReferenceFromDomProject(h);
g=g.isReadOnly()&&!g.isAddedSubtreePlaceholder();if(IS_MOBILE){k=h.children(".name");k.placeControls();r=k.children("#controls");k=r.find(".outdent");var o=r.find(".indent");k.add(o).removeClass("disabled");h.getNewNextProjectOrChildrenEndForOutdent()===null&&k.addClass("disabled");h.getNewNextProjectOrChildrenEndForIndent()===null&&o.addClass("disabled");IS_ANDROID||r.offset({top:$("body").scrollTop(),left:0});r.width($(window).width());h=$("#controlsLeft");h.addClass("hovered");g&&h.removeClass("hovered")}else{if(g)return;
var k=h.children(".name");k.placeControls();var r=k.find("#controlsLeft");r.fadeIn(50,function(){$(this).removeAttr("style")});r.addClass("hovered")}event_tracker.track("bullet-menu--opened")};if(IS_MOBILE){$("body").bind("touchstart",function(h){$(this).dataWithoutMemoryLeaks("touchMove",false);if(DRAG_MODE){h.preventDefault();h.stopPropagation()}}).bind("touchmove",function(){$(this).dataWithoutMemoryLeaks("touchMove",true)}).bind("touchend",function(h){var g=$(this).dataWithoutMemoryLeaks("touchMove")===
true;$(this).removeDataWithoutMemoryLeaks("touchMove");if(DRAG_MODE){h.preventDefault();h.stopPropagation()}else{var o=$(h.target);if(!g&&getCurrentlyFocusedContentOrInput()!==null&&o.closest("#controls, .content, input, button, .addButton, .parentArrow, .bullet, #searchCancel").length===0){blurFocusedContentOrInput();h.preventDefault()}}});$(window).scroll(function(){clearTimeout(TIMEOUTS.scroll);TIMEOUTS.scroll=setTimeout(function(){IS_IOS&&$(".tapped").removeClass("tapped");var h=getCurrentlyFocusedContent();
if(h!==null)if(h.isOnScreen())IS_ANDROID||h.getProject().showControls();else if(!IS_ANDROID||date_time.getCurrentTimeInMS()-LAST_CONTENT_FOCUS_TIMESTAMP>1500)blurFocusedContentOrInput()},10)});$(".page.active .selected .content").tapHandler(moving.setupMobileDragging,function(h){var g=$(this),o=g.getProject();if(!(READ_ONLY_MAIN_TREE||o.is(".mainTreeRoot")))if($(h.target).closest(".contentTag, .contentLink").length===0){o=getCurrentlyFocusedContentOrInput();if(o!==null)if(o[0]===g[0])return;else{blurFocusedContentOrInput();
return false}if(IS_MOBILE){h=h.originalEvent.changedTouches[0];var k=g.findCaretPositionForTouch(h.pageX,h.pageY);IS_ANDROID?setTimeout(function(){g.setCaret(k)},0):g.setCaret(k);return false}}},false)}if(IS_MOBILE){$(".page.active .parent > .name").tapHandler(null,function(){$(this).getProject().selectIt();return false});$(".page.active .selected .project .parentArrow").tapHandler(null,function(){var h=$(this).getProject();blurFocusedContentOrInput();h.clickExpandButton();return false},true,"delay")}f=
$(".page.active .selected .content .contentTag");f.clickOrTapHandler({untapBehavior:"never",mousedown:function(){return false},event:function(h){function g(){var x=$('<div class="contentTagAnimated">'+k+"</div>");$("#documentView").append(x);x.css({fontSize:o.css("fontSize"),lineHeight:o.css("lineHeight")});x.offset($("#searchBox").offset());var p=x.position();x.offset(o.offset());x.animate({top:p.top,left:p.left,opacity:"0.5"},animations.getAnimationTiming("zoom"),function(){$(this).remove();search.toggleTagInCurrentSearch(k)})}
var o=$(this),k=o.text();if(tagging.tagDeleteModifierDown(h)){h=o.closest(".content");var r=h.isNote(),l=h.getProject();if(project_tree.getProjectReferenceFromDomProject(l).isReadOnly())return false;r=new content_text.ContentText(h,r);l=dom_utils.getTextInNodeBefore(h[0],o[0],0).text.length;var c=r.getPlainText().substring(l).match(RegExp("^"+k+"[ \t]*"));if(c===null)return false;c=c[0].length;r=r.substring(0,l).concatenate(r.substring(l+c));var e=o.css("fontSize"),d=o.css("lineHeight");c=Math.ceil(k.length/
20);for(var m="",s=0;s<k.length;s+=c){var w=k.substring(s,s+c);m+="<span>"+w+"</span>"}c=$(m);o.replaceWith(c);var t=$("#documentView");c.each(function(){var x=$(this),p=x.offset();x=$('<div class="contentTagPiece">'+x.text()+"</div>");t.append(x);x.css({fontSize:e,lineHeight:d});x.offset(p);p=x.position();x.animate({top:p.top+100*(1-2*Math.random()),left:p.left+100*(1-2*Math.random()),opacity:"0.7"},200,"linear",function(){$(this).remove()})});undo_redo.startOperationBatch();h.setAndSaveContentText(r.getText());
h.setCaret(l);undo_redo.finishOperationBatch();return false}blurFocusedContentOrInput();if(search.tagIsInCurrentSearch(k)){search.toggleTagInCurrentSearch(k);return false}IS_IOS?setTimeout(function(){g()},1):g();event_tracker.track("tag--clicked");return false}});f.live("mouseenter",function(h){var g=$(this);tagging.tagDeleteModifierDown(h)&&g.addClass("contentTagDeleteHover")}).live("mouseleave",function(){$(this).removeClass("contentTagDeleteHover")});$(".page.active .selected .content .contentLink").clickOrTapHandler({mousedown:function(){return false},
cancelTapOnMove:true,event:function(h){var g=$(this),o=g.attr("href");blurFocusedContentOrInput();if(!h.ctrlKey&&!h.metaKey){var k=function(l){var c=l.indexOf("#");if(c===-1)c=l.length;return[l.substring(0,c),l.substring(c)]},r=k(o);h=r[0];r=r[1];if(IS_PACKAGED_APP){if(h.match("^https://.*workflowy.com/$")!==null){g=location_history.getLocationFromFragment(r);location_history.notifyLocationChange(g);selectAndSearchUsingLocation(g);return false}}else{k=k(window.location.href)[0];if(h===k){window.location.href=
o;return false}}}if(g.is(".contentLink--image"))images.preview.handleImageLinkClick(g);else if(!app_detect.isIOSApp()||app_detect.getIOSAppVersion()>=6)window.open(o);return false}});$(".showCompletedButton").clickOrTapHandler({event:function(){toggleCompletedVisibility();return false},mousedown:function(){return false}});$("#logo").clickOrTapHandler({event:function(){if(!animations.animationsAreInProgress()){var h=selectOnActivePage(".mainTreeRoot");if(h.is(".selected"))search.cancelSearch();else{$(this).transition({rotateY:"360deg"},
250,function(){$(this).removeAttr("style")});h.selectIt()}}}}).dblclick(function(){var h=selectOnActivePage(".mainTreeRoot");if(h.is(".selected")){h.expandOrCollapseAllDescendantsOfProjectToggle();dom_utils.clearSelection()}});if(!IS_MOBILE){$(".page.active .project.parent > .name > .content").live("click",function(h){var g=$(this).getProject();if(!(h.ctrlKey||h.metaKey)){g.selectIt();return false}});$(".page.active .selected > .name > .content").live("dblclick",function(h){var g=$(this),o=g.getProject();
if(!($(h.target).closest(".contentTag, .contentLink").length>0)){o.expandOrCollapseAllDescendantsOfProjectToggle();g.setCaret(0);return false}})}if(IS_MOBILE)$(".page.active .bullet").tapHandler(function(){$(this).getProject().addClass("tapped")},function(){$(this).getProject().selectIt();return false},true,"never",function(h){h.getProject().removeClass("tapped")});else{$("#expandButton").live("click",function(){$(this).clickExpandButton(true);return false});$(".page.active .bullet").live("mouseenter",
function(){var h=$(this),g=h.getProject();if(DRAG_MODE||g.isContainedWithinItemSelection())h.removeAttr("title");else{var o=project_tree.getProjectReferenceFromDomProject(h.getProject());g=o.getLastModifiedDateString();var k=o.getCompletedDateString(),r=o.getLastModifiedByUserId(),l=o=null;if(k!==null)o="Completed: "+k;if(k===null||k!==g)l="Last changed: "+g;if(r!==USER_ID_AS_INT)if(l!==null)l+=" (by collaborator)";else if(o!==null)o+=" (by collaborator)";g="";if(o!==null)g+=o;if(l!==null){if(g.length>
0)g+=", \n";g+=l}h.attr("title",g)}}).live("mousedown",function(h){var g=$(this);g.dataWithoutMemoryLeaks("preDragClick",true);if(h.button===0)if(!(h.ctrlKey||h.metaKey)){var o=h.altKey,k=g.getProject(),r=k.isContainedWithinItemSelection(),l=r?item_select.getSelectedItems():k,c=o?l:filterReadOnlyProjects(l,true);if(c.filter(k).length===0&&(!r||c.filter(k.getItemSelectedContainer()).length===0))return false;k.initiateHideHoverControls();var e=h.clientX,d=h.clientY;$(window).bind("mousemove.bulletDrag",
function(m){if(Math.sqrt(Math.pow(m.clientX-e,2)+Math.pow(m.clientY-d,2))>=3){$(window).unbind(".bulletDrag");g.removeDataWithoutMemoryLeaks("preDragClick");moving.startDesktopDragging(k,c,h,r,o)}}).bind("mouseup.bulletDrag",function(){$(window).unbind(".bulletDrag")});return false}}).live("click",function(h){var g=$(this),o=g.getProject();if(g.dataWithoutMemoryLeaks("preDragClick")!==true)h.preventDefault();else if(o.isContainedWithinItemSelection()){item_select.clearItemSelection();h.preventDefault()}else if(!(h.ctrlKey||
h.metaKey)){o.selectIt();h.preventDefault()}});var j=function(h){if(!h.hasVisibleChildren())return false;h=h.getParent();if(!project_tree.getProjectReferenceFromDomProject(h).canCreateChild())return false;return true};$(".page.active .addSiblingButton").live("click",function(){var h=$(this),g=h.getProject();if(j(g))if(!h.hasClass("clicked")){h.addClass("clicked");h=g.getParent();g=g.getPriority()+1;undo_redo.startOperationBatch();createNewProject(h,g).getName().moveCursorToBeginning();undo_redo.finishOperationBatch()}}).live("mouseenter",
function(){var h=$(this),g=h.getProject();if(j(g)){h.addClass("hovered");h.attr("title","Add sibling item")}}).live("mouseleave",function(){var h=$(this);h.removeClass("hovered");h.removeClass("clicked")})}$("a.undelete").live("click",function(){undo_redo.undoLastDeleteTriggeringDropdown();return false});$("#message > .close").click(function(){hideMessage()});$("a.refresh").live("click",function(){reloadPageFromServer();return false});IS_MOBILE||$(".page.active .mainTreeRoot").live("click",function(h){if($(h.target).hasClass("mainTreeRoot")){if(item_select.getSelectedItems().length>
0)return false;h=selectOnActivePage(".selected .project:visible:last");if(h.length===1)h.getName().moveCursorToEnd();else search.inSearchMode()||selectOnActivePage(".selected").appendChildProject();return false}});IS_MOBILE?$(".page.active .addButton").tapHandler(null,function(){selectOnActivePage(".selected").appendChildProject();return false}):$(".page.active .addButton").live("click",function(){selectOnActivePage(".selected").appendChildProject();return false});addContentInteractionEventHandlers($(".page.active .selected .content"));
addGlobalKeyboardShortcuts();$("#loginPopup").dialog({autoOpen:false,width:450,buttons:{Login:function(){$("#loginPopup form").submit()}},modal:true,position:["center",180],title:"Login required for "+html_utils.htmlEscapeText(SETTINGS.email.value),dialogClass:"noClose",closeOnEscape:false});$("#exportPopup").dialog({autoOpen:false,width:550,buttons:{Close:function(){$(this).dialog("close")}},modal:false,position:["center",150],title:"Export List",close:function(){clearExportPopup()}});$("#sharePopup").dialog({autoOpen:false,
width:750,modal:true,position:["center",200],title:"Share list"});$(".ui-dialog-titlebar-close").live("mousedown",function(){return false});$("#settingsButton").clickOrTapHandler({useBind:true,event:function(){settings.toggleSettingsDialogVisibility();settings.hideMenu();return false}});f=$("#reloadAppCacheButton");f.length===1&&f.clickOrTapHandler({event:function(){forceReloadAppCache();return false}});$(".logout.button").clickOrTapHandler({event:function(){project_tree.getAllProjectTreesHelper().haveUnsavedData()?
ui_sugar.showAlertDialog("<strong>You have unsaved changes.</strong> If you sign out now before saving them, they will be lost.","Warning",true,[{text:"Sign out now",click:function(){if(!IS_PACKAGED_APP)window.onbeforeunload=null;logoutUser()}}],"Cancel"):logoutUser();return false}});$("#loginPopupContents .loginForm").submit(function(){var h=$(this),g=$("#loginPopup");if(h.hasClass("submitting"))return false;h.addClass("submitting");g.setDialogButtonsDisable(true);var o={};h.find(":input").each(function(){o[$(this).attr("name")]=
$(this).val()});var k=function(){h.removeClass("submitting");g.setDialogButtonsDisable(false);h.find(".loginFormErrorMessage").text("Server did not respond. Please try again.").show();h.find(".loginFormPasswordInput").focus()};$.ajax({url:"/ajax_login",data:o,dataType:"json",type:"POST",success:function(r){if(r==null)k();else if("success"in r&&r.success){hideLoginPopup();push_poll.notifyAjaxLoginComplete()}else{h.removeClass("submitting");g.setDialogButtonsDisable(false);h.find(".loginFormErrorMessage").text("Incorrect password.").show();
r=h.find(".loginFormPasswordInput");r.val("");r.focus()}},error:k});return false});$("#exportAllButton").click(function(){$(".page.active .mainTreeRoot").exportIt(true);return false});$("#printButton").click(function(){setTimeout(function(){window.print()},1)});$("#addSharedSubtreeToMyAccountButton").click(function(){addSharedSubtreeToAccount()});$("#addSharedSubtreeToMyAccountPopup").dialog({autoOpen:false,width:500,modal:true,position:["center",200],title:"Add shared list"});APPCACHE_ENABLED&&appcache_helper.init();
search.init();moving.init();item_select.init();keyboard_shortcut_helper.init();sharing.init();settings.init();undo_redo.init();referral.init();exporting.init();library.init();saved_views.init();upgrade_warning.init()}
function windowFocusHandler(){WINDOW_FOCUSED=true;$("body").removeClass("windowBlurred");$(".content.focusedButWindowBlurred").removeClass("focusedButWindowBlurred");localstorage_helper.localStorageSupported()&&localstorage_helper.notifyWindowFocus();push_poll.pushPollAlreadyScheduled()||push_poll.scheduleNextPushAndPoll(false,true,true);push_poll.updateLastSyncedStrings();location_history.notifyWindowFocus()}
function windowBlurHandler(){WINDOW_FOCUSED=false;$("body").addClass("windowBlurred");saved_views.updateModifierKeyStatus(false,false)}function clearUserStorage(b){userstorage.isEnabled()?userstorage.clear(b):b()}
function logoutUser(){if(IS_PACKAGED_APP)$.ajax({url:"/ajax_logout",dataType:"json",type:"POST",success:function(){clearUserStorage(function(){indexeddb_helper.getStores().otherData.remove(PACKAGED_APP_LOGGED_IN_KEY,function(){reloadPackagedApp()})})}});else{clearUserStorage();apphooks.notifyThatAppCacheIsNowUncached();window.location="/offline_logout"}}
jQuery.fn.findCaretPositionForTouch=function(b,f){function j(n){n=Math.floor((n-l.top)/c);if(n<0)n=0;else if(n>e-1)n=e-1;return n}function h(n){g.setContentHtml(t.getContentHtml(n));var u=g.find(".contentCaret").offset(),v=j(u.top-c/2);if(v<m)return true;else if(v>m)return false;else{u=d.left-u.left;v=Math.abs(u);if(w<0||v<s){w=n;s=v}return u>0}}var g=$(this),o=g.isNote(),k=false,r=getCurrentlyFocusedContent();if(o&&!g.getProject().hasClass("selected")&&r!==null&&r[0]!==g[0]){g.addClass("showAsEditing");
k=true}var l=g.offset(),c=parseInt(g.css("lineHeight")),e=g.height()/c,d={left:b,top:f},m=k?0:j(d.top),s=-1,w=-1;r=g.html();var t=new content_text.ContentText(g,o);o=t.getPlainText();for(var x=0,p=o.length,a=0;x<=p;){var q=a===0?o.length:Math.floor((x+p)/2);if(h(q))x=q+1;else p=q-1;a++}g.setContentHtml(r);k&&g.removeClass("showAsEditing");return w};jQuery.fn.scrollToViewProjectForMobile=function(){var b=$(this),f=$("#controlsLeft").outerHeight();$("body").animate({scrollTop:b.offset().top-f*2},200)};
jQuery.fn.clickExpandButton=function(b,f){if(b===undefined)b=false;if(f===undefined)f=false;var j=$(this),h=j.getProject();if(!h.is(".task")){var g=h.isFullyExpanded(),o=null;if(b){var k=date_time.getCurrentTimeInMS(),r=j.dataWithoutMemoryLeaks("lastClick"),l=j.dataWithoutMemoryLeaks("openOnLastClick"),c=j.dataWithoutMemoryLeaks("lastClickFinished");j.dataWithoutMemoryLeaks("lastClick",k);j.dataWithoutMemoryLeaks("openOnLastClick",g);j.removeDataWithoutMemoryLeaks("lastClickFinished");setTimeout(function(){j.dataWithoutMemoryLeaks("lastClick")===
k&&j.dataWithoutMemoryLeaks("lastClickFinished",date_time.getCurrentTimeInMS())},1);if(r!==undefined&&(c!==undefined&&k-c<250||k-r<250))o=l?"collapse":"expand"}r=h.getName();if(o!==null){f||r.moveCursorToBeginning();o==="expand"?h.expandOrCollapseAllDescendantsOfProject(true):h.expandOrCollapseAllDescendantsOfProject(false)}else{if(!f){o=r.children(".content");animations.getAnimationCounter().setContentToFocus(o)}if(g){h.hideChildren().setExpanded(false);event_tracker.track("collapse")}else{if(search.inSearchMode()){g=
project_tree.getProjectReferenceFromDomProject(h);search.registerFullyExpandedItemForCurrentSearch(g)}h.showChildren().setExpanded(true);event_tracker.track("expand")}}}};jQuery.fn.expandOrCollapseAllDescendantsOfProject=function(b){var f=$(this);project_tree.getProjectReferenceFromDomProject(f).expandOrCollapseAllDescendants(b);f=f.getChildren().not(".task");b?f.showChildren("instant"):f.hideChildren("instant")};
jQuery.fn.expandOrCollapseAllDescendantsOfProjectToggle=function(){var b=$(this);b.find(".project:not(.open,.task)").length>0?b.expandOrCollapseAllDescendantsOfProject(true):b.expandOrCollapseAllDescendantsOfProject(false)};
jQuery.fn.appendChildProject=function(){var b=$(this);if(project_tree.getProjectReferenceFromDomProject(b).canCreateChild()){var f=b.children(".children").children(".childrenEnd").getPriority();undo_redo.startOperationBatch();b=createNewProject(b,f);b.getName().moveCursorToBeginning();if(IS_MOBILE){b=b.offset().top-50;$(window).scrollTop(b)}undo_redo.finishOperationBatch()}};
jQuery.fn.editNote=function(){var b=$(this).getProject();b.addClass("noted");b=b.getNotes();b.moveCursorToEnd();IS_MOBILE||b.scrollToBeOnScreen("down")};jQuery.fn.editName=function(){$(this).getProject().getName().moveCursorToEnd()};jQuery.fn.getName=function(){return $(this).children(".name")};jQuery.fn.getNotes=function(){return $(this).children(".notes")};
jQuery.fn.projectIsEmpty=function(){var b=$(this);return(new content_text.ContentText(b.getName().children(".content"),false)).isEmpty()&&(new content_text.ContentText(b.getNotes().children(".content"),true)).isEmpty()&&b.hasClass("task")&&!b.hasClass("shared")};
jQuery.fn.projectIsMergable=function(b){var f=$(this),j=project_tree.getProjectReferenceFromDomProject(f),h=f.hasClass("shared"),g=f.hasClass("done"),o=b.hasClass("done");return f.hasClass("task")&&(new content_text.ContentText(f.getNotes().children(".content"),true)).isEmpty()&&!h&&!g&&!j.isReadOnly()&&!(o&&!g&&(new content_text.ContentText(b.getName().children(".content"),false)).isEmpty())};
jQuery.fn.caretAtEndOfText=function(b){if(b===undefined)b=false;var f=$(this),j=f.getCaret();if(j.start!==j.end)return false;f=content_text.getPlainTextForContent(f);b=b?f.replace(/\s*$/,"").length:f.length;return j.start>=b};jQuery.fn.caretAtBeginningOfText=function(){var b=$(this).getCaret();if(b.start!==b.end)return false;return b.start===0};
jQuery.fn.focusHandler=function(){var b=$(this);item_select.notifyContentFocused(b);if(IS_MOBILE){LAST_CONTENT_FOCUS_TIMESTAMP=date_time.getCurrentTimeInMS();push_poll.hideOfflineNotice();$("#shared_notice").hide();b.getProject().showControls()}};
jQuery.fn.blurHandler=function(){var b=$(this),f=b.getProject(),j=b.isNote();clearTimeout(TIMEOUTS.saveTimer);TIMEOUTS.saveTimer=null;b.saveContent();var h=function(o){var k=getCurrentlyFocusedContent();k!==null&&k[0]==o[0]||o.hasClass("copyOrPasteInProgress")||o.hasClass("focusedButWindowBlurred")||(new content_text.ContentText(b,j)).isEmpty()&&f.removeClass("noted")},g=getCurrentlyFocusedContent();if(g!==null&&g[0]===b[0]){if(!IS_MOBILE&&j){b.addClass("focusedButWindowBlurred");setTimeout(function(){if(WINDOW_FOCUSED){b.removeClass("focusedButWindowBlurred");
h(b)}},0)}}else FORMAT_FLAGS.clear();j&&h(b);tagging.getTagAutocompleter().detach();IS_MOBILE&&setTimeout(function(){var o=getCurrentlyFocusedContent();if(o===null||o[0]!==b[0])b.removeAttr("contenteditable")},0);if(IS_MOBILE){hideControls();push_poll.unhideOfflineNotice();$("#shared_notice").show()}};
jQuery.fn.clickOrTapHandler=function(b){b=$.extend({touchstart:false,mousedown:false,event:null,untapBehavior:"touchend",useBind:false,neverPreventScrolling:false,cancelTapOnMove:false},b);var f=$(this);if(IS_MOBILE)f.tapHandler(b.touchstart,b.event,true,b.untapBehavior,null,b.useBind,b.neverPreventScrolling,b.cancelTapOnMove);else if(b.useBind){f.bind("click",b.event);b.mousedown&&f.bind("mousedown",b.mousedown)}else{f.live("click",b.event);b.mousedown&&f.live("mousedown",b.mousedown)}return this};
jQuery.fn.tapHandler=function(b,f,j,h,g,o,k,r){function l(d,m){o?e.bind(d,m):e.live(d,m)}function c(d){d.removeClass("tapped");g!==null&&g(d)}if(j===undefined)j=true;if(h===undefined)h="touchend";if(g===undefined)g=null;if(o===undefined)o=false;if(k===undefined)k=false;if(r===undefined)r=false;var e=$(this);l("touchstart",function(d){var m=$(this);j&&m.addClass("tapped");m.dataWithoutMemoryLeaks("touchMove",false);var s=d.originalEvent.touches[0];m.dataWithoutMemoryLeaks("firstTouch",{screenX:s.screenX,
screenY:s.screenY});var w=m.offset();s=w.top-$(document).scrollTop();var t=s+m.outerHeight();w=w.left;var x=w+m.outerWidth();m.dataWithoutMemoryLeaks("touchStartClientBounds",{top:s,bottom:t,left:w,right:x});s=m.closest(".page").length===1&&m.closest("#controls").length===0;if(k)s=true;s||d.preventDefault();m.dataWithoutMemoryLeaks("isOnPage",s);if(typeof b==="function")return b.call(m[0],d)});l("touchmove",function(d){var m=$(this);if(IS_ANDROID&&m.dataWithoutMemoryLeaks("isOnPage")===true){m.dataWithoutMemoryLeaks("touchMove",
true);c(m)}else{d=d.originalEvent.targetTouches[0];var s=m.dataWithoutMemoryLeaks("touchStartClientBounds");if(d.clientX<s.left||d.clientX>=s.right||d.clientY<s.top||d.clientY>=s.bottom){m.dataWithoutMemoryLeaks("touchMove",true);c(m)}if(r){s=m.dataWithoutMemoryLeaks("firstTouch");Math.pow(Math.pow(d.screenX-s.screenX,2)+Math.pow(d.screenY-s.screenY,2),0.5)>20&&m.dataWithoutMemoryLeaks("touchMove",true)}}});l("touchend",function(d){var m=$(this),s=m.dataWithoutMemoryLeaks("touchMove")===true;m.removeDataWithoutMemoryLeaks("touchMove");
m.removeDataWithoutMemoryLeaks("touchStartClientBounds");m.removeDataWithoutMemoryLeaks("firstTouch");if(!s){if(h==="touchend")c(m);else h==="delay"&&setTimeout(function(){c(m)},200);return f.call(this,d)}});l("touchcancel",function(){var d=$(this);d.removeDataWithoutMemoryLeaks("touchMove");d.removeDataWithoutMemoryLeaks("touchStartClientBounds");d.removeDataWithoutMemoryLeaks("firstTouch");c(d)})};
jQuery.fn.tapIt=function(b){if(b===undefined)b="normal";var f=$(this);b=b==="fast"?100:250;f.addClass("tapped");setTimeout(function(){f.removeClass("tapped")},b)};function createDoNothingWhenSavedViewHUDActiveShortcutEventHandler(b){return function(f){if(saved_views.HUDIsVisible())f.preventDefault();else return b.call(this,f)}}
function addContentInteractionEventHandlers(b){function f(k,r){if(r===undefined)r=false;var l=r?function(c){return c.isInReadOnlyTree()}:function(c){return c.isReadOnly()};return function(c){var e=$(this).getProject();e=project_tree.getProjectReferenceFromDomProject(e);if(l(e))return false;return k.call(this,c)}}b.live("focus",function(){$(this).focusHandler()});b.live("blur",function(){$(this).blurHandler()});b.live("click",function(){tagging.getTagAutocompleter().detach()});b.live("keydown",$.fn.keyDownHandler);
b.live("keypress",$.fn.keyPressHandler);b.live("cut",function(){var k=$(this),r=k.getProject();if(project_tree.getProjectReferenceFromDomProject(r).isReadOnly())return false;k.handleCutInContent()});b.live("copy",function(){$(this).handleCopyInContent()});IS_IE||b.live("input",function(){var k=$(this);setSaveTimer(k);IS_IOS&&IOS_VERSION<7?setTimeout(function(){k.updateContentHtmlAfterUserEdit()},0):k.updateContentHtmlAfterUserEdit()});var j=key_events.enableKeyEvents(b);j.addHandler("keydown","down",
createDoNothingWhenSavedViewHUDActiveShortcutEventHandler($.fn.downArrowHandler));j.addHandler("keydown","up",createDoNothingWhenSavedViewHUDActiveShortcutEventHandler($.fn.upArrowHandler));j.addHandler("keydown","left",createDoNothingWhenSavedViewHUDActiveShortcutEventHandler($.fn.leftArrowHandler));j.addHandler("keydown","right",createDoNothingWhenSavedViewHUDActiveShortcutEventHandler($.fn.rightArrowHandler));j.addHandler("keydown","ctrl+p",function(k){return $(this).upArrowHandler(k,true)});j.addHandler("keydown",
"ctrl+n",function(k){return $(this).downArrowHandler(k,true)});USE_ANDROID_CHROME_ENTER_HACK||j.addHandler("keydown","return",createDoNothingWhenSavedViewHUDActiveShortcutEventHandler($.fn.returnHandler));j.addHandler("keydown","shift+return",f(function(){var k=$(this);k.isName()?k.editNote():k.editName();return false}));j.addHandlerForShortcuts("keydown","shift+backspace",["ctrl","meta"],f(function(){$(this).getProject().deleteIt();return false}));j.addHandlerForShortcuts("keydown","return",["ctrl",
"meta"],createDoNothingWhenSavedViewHUDActiveShortcutEventHandler(f(function(){$(this).getProject().completeIt();return false})));j.addHandler("keydown","alt+return",function(){return false});j.addHandler("keydown","ctrl+shift+return",function(){return false});jQuery.fn.backspaceHandler=f(function(){var k=$(this),r=k.getProject(),l=project_tree.getProjectReferenceFromDomProject(r),c=k.isNote(),e=new content_text.ContentText(k,c);if(c){if(e.isEmpty()){r.children(".name").moveCursorToEnd();return false}}else{c=
k.getCaret();if(!(r.is(".selected")||c.start!=0||c.start!=c.end)){var d=r.getPreviousProject(),m=d.projectIsMergable(r);if(d.is(".selected")||d.filter(r).length!=0||d.getParent().filter(r.getParent()).length==0||!m)if(r.projectIsEmpty()&&!l.isReadOnly()){r.deleteIt();return false}else return;undo_redo.startOperationBatch();l=new content_text.ContentText(d.getName().children(".content"),false);e=l.concatenate(e);r.getName().children(".content").setAndSaveContentText(e.getText());d.deleteIt(true);e=
l.getPlainText().length;USE_ANDROID_CHROME_BACKSPACE_HACK&&e===c.start&&k.blur();k.setCaret(e);IS_MOBILE&&r.scrollToViewProjectForMobile();undo_redo.finishOperationBatch();return false}}});USE_ANDROID_CHROME_BACKSPACE_HACK||j.addHandler("keydown","backspace",$.fn.backspaceHandler);j.addHandler("keydown","del",f(function(){var k=$(this),r=k.getProject(),l=k.isNote();if(!l){var c=new content_text.ContentText(k,l);l=c.getPlainText();k=k.getCaret();if(!(r.is(".selected")||k.start!=l.length||k.start!=
k.end)){k=r.getNextProject();var e=project_tree.getProjectReferenceFromDomProject(k),d=r.projectIsMergable(k);if(!(k.filter(r).length!=0||k.getParent().filter(r.getParent()).length==0||!d||e.isReadOnly())){undo_redo.startOperationBatch();k=k.getName().children(".content");e=new content_text.ContentText(k,false);r.deleteIt(true);r=c.concatenate(e);k.setAndSaveContentText(r.getText());k.setCaret(l.length);undo_redo.finishOperationBatch();return false}}}}));j.addHandler("keydown","tab",f(function(){var k=
$(this);if(tagging.getTagAutocompleter().autocompleteSelectedTag(k))return false;if(k.isNote()){var r=new content_text.ContentText(k,true),l=k.getCaret();r=r.insertAtCaret("\t",l);k.setContentTextAsUserEdit(r.getText());k.setCaret(l.start+1)}else k.getProject().indentProjects();return false},true));j.addHandler("keydown","shift+tab",f(function(){var k=$(this);k.isName()&&k.getProject().outdentProjects();return false},true));var h=function(){$(this).keyboardZoomIn();return false},g=function(){keyboardZoomOut();
return false};j.addHandlerForShortcuts("keydown","right",SHORTCUT_KEYS,createDoNothingWhenSavedViewHUDActiveShortcutEventHandler(h));j.addHandlerForShortcuts("keydown","left",SHORTCUT_KEYS,createDoNothingWhenSavedViewHUDActiveShortcutEventHandler(g));j.addHandlerForShortcuts("keydown",".",SHORTCUT_KEYS_WITH_META,h);j.addHandlerForShortcuts("keydown",",",SHORTCUT_KEYS_WITH_META,g);j.addHandlerForShortcuts("keydown","shift+.",SHORTCUT_KEYS_WITH_META,h);j.addHandlerForShortcuts("keydown","shift+,",SHORTCUT_KEYS_WITH_META,
g);j.addHandlerForShortcuts("keydown","up",["ctrl","meta"],createDoNothingWhenSavedViewHUDActiveShortcutEventHandler(function(){$(this).keyboardCollapse();return false}));j.addHandlerForShortcuts("keydown","down",["ctrl","meta"],createDoNothingWhenSavedViewHUDActiveShortcutEventHandler(function(){$(this).keyboardExpand();return false}));j.addHandler("keydown","ctrl+space",function(){var k=$(this).getProject();k.is(".selected")?k.expandOrCollapseAllDescendantsOfProjectToggle():k.clickExpandButton(true,
true);return false});j.addHandlerForShortcuts("keydown","shift+up",SHORTCUT_KEYS_FOR_MOVING_WITH_META,createDoNothingWhenSavedViewHUDActiveShortcutEventHandler(f(function(){var k=$(this);if(!k.isNote()){k.getProject().moveProjectsUpOrDown("up");return false}},true)));j.addHandlerForShortcuts("keydown","shift+down",SHORTCUT_KEYS_FOR_MOVING_WITH_META,createDoNothingWhenSavedViewHUDActiveShortcutEventHandler(f(function(){var k=$(this);if(!k.isNote()){k.getProject().moveProjectsUpOrDown("down");return false}},
true)));j.addHandlerForShortcuts("keydown","shift+left",SHORTCUT_KEYS_FOR_MOVING,createDoNothingWhenSavedViewHUDActiveShortcutEventHandler(f(function(){var k=$(this);if(!k.isNote()){k.getProject().outdentProjects();return false}},true)));j.addHandlerForShortcuts("keydown","shift+right",SHORTCUT_KEYS_FOR_MOVING,createDoNothingWhenSavedViewHUDActiveShortcutEventHandler(f(function(){var k=$(this);if(!k.isNote()){k.getProject().indentProjects();return false}},true)));h=function(k){return function(){var r=
$(this),l=r.getProject();if(project_tree.getProjectReferenceFromDomProject(l).isReadOnly())return false;l=r.getCaret();if(l.start===l.end){FORMAT_FLAGS.setFormatFlagsSetLocation(r,l.start);if(k==="bold")FORMAT_FLAGS.toggleBold();else if(k==="italic")FORMAT_FLAGS.toggleItalic();else k==="underline"&&FORMAT_FLAGS.toggleUnderline();return false}var c=new content_text.ContentText(r,r.isNote());if(k==="bold")c.toggleBoldForCaret(l);else if(k==="italic")c.toggleItalicForCaret(l);else k==="underline"&&c.toggleUnderlineForCaret(l);
r.setContentHtmlAsUserEdit(c.getContentHtml());r.setCaret(l.start,l.end);return false}};j.addHandlerForShortcuts("keydown","b",["ctrl","meta"],h("bold"));j.addHandlerForShortcuts("keydown","i",["ctrl","meta"],h("italic"));j.addHandlerForShortcuts("keydown","u",["ctrl","meta"],h("underline"));h=function(k){var r=$(this),l=r.getCaret();r=content_text.getPlainTextForContent(r);if(l.start===0&&l.end>=r.length){item_select.itemSelectAll();return false}k.stopPropagation()};if(IS_WINDOWS||IS_LINUX)j.addHandler("keydown",
"ctrl+a",h);j.addHandler("keydown","meta+a",h);var o=function(k,r){var l=$(this);k.stopPropagation();if(!l.isNote()){var c=l.getCaret();dom_utils.executeASAP(function(){var e=getCurrentlyFocusedContent();if(!(e===null||e[0]!==l[0])){e=l.getCaret();e.start===c.start&&e.end===c.end&&item_select.startItemSelectionWithProject(l.getProject(),r)}})}};j.addHandler("keydown","shift+up",function(k){return o.call(this,k,"up")});j.addHandler("keydown","shift+down",function(k){return o.call(this,k,"down")});
if(IS_IE){j.addHandlerForShortcuts("keydown","v",["ctrl","meta"],function(k){return $(this).handlePasteIntoContent(k)});j.addHandlerForShortcuts("keydown","v",["ctrl+shift","meta+shift"],function(k){return $(this).handlePasteIntoContent(k)});j.addHandlerForShortcuts("keydown","insert",["shift"],function(k){return $(this).handlePasteIntoContent(k)})}b.live("paste",function(k){return $(this).handlePasteIntoContent(k,true)})}
function addGlobalKeyboardShortcuts(){function b(l){var c=l.ctrlKey||l.metaKey;saved_views.updateModifierKeyStatus(c&&l.shiftKey,c)}function f(l){search.inSearchMode()&&search.exitSearchMode(true);selectProjectReferenceInstantly(l);IS_MOBILE||focusFirstChildOfSelected();$(window).scrollTop(0)}var j=$(window),h=key_events.enableKeyEvents(j,true);h.addHandlerForShortcuts("keydown","left",SHORTCUT_KEYS,function(l){l.preventDefault()});h.addHandlerForShortcuts("keydown","right",SHORTCUT_KEYS,function(l){l.preventDefault()});
h.addHandlerForShortcuts("keydown",",",SHORTCUT_KEYS_WITH_META,function(l){l.preventDefault()});h.addHandlerForShortcuts("keydown",".",SHORTCUT_KEYS_WITH_META,function(l){l.preventDefault()});h.addHandler("keydown","backspace",function(l){getCurrentlyFocusedContentOrInput()===null&&l.preventDefault()});h.addHandlerForShortcuts("keydown","s",["ctrl","meta"],function(){saveEditingContent();push_poll.scheduleNextPushAndPoll(true);return false});h.addHandlerForShortcuts("keydown","z",["ctrl","meta"],
function(){undo_redo.undo();return false});h.addHandlerForShortcuts("keydown","shift+z",["ctrl","meta"],function(){undo_redo.redo();return false});h.addHandlerForShortcuts("keydown","y",["ctrl","meta"],function(){undo_redo.redo();return false});h.addHandlerForShortcuts("keydown","o",["ctrl","meta"],function(){toggleCompletedVisibility();return false});h.addHandlerForShortcuts("keydown","home",["ctrl","meta"],function(){var l=getCurrentlyFocusedContent();if(!(l!==null&&l.isNote())){focusFirstProject();
return false}});h.addHandlerForShortcuts("keydown","end",["ctrl","meta"],function(){var l=getCurrentlyFocusedContent();if(!(l!==null&&l.isNote())){focusLastProject();return false}});h.addHandler("keydown","esc",function(){var l=getCurrentlyFocusedContentOrInput();l=l!==null&&l.is("#searchBox");if(moving.isMoving()){moving.cancelDragging();return false}if(undeleteMessageIsVisible()&&!l){hideMessage();return false}search.searchToggleShortcutHandler();return false});h.addHandlerForShortcuts("keydown",
"shift+/",["ctrl","meta"],function(){keyboard_shortcut_helper.toggle();return false});h.addHandlerForShortcuts("keydown","/",["ctrl","meta"],function(){keyboard_shortcut_helper.toggle();return false});h.addHandlerForShortcuts("keydown","shift+*",["ctrl","meta"],function(){saved_views.toggleCurrentViewSaved();saved_views.pretendModifierKeysNotPressedUntilTheyAreReleased();return false});h.addHandlerForShortcuts("keydown","shift+;",["ctrl","meta"],function(){saved_views.switchLeft();return false});
h.addHandlerForShortcuts("keydown",";",["ctrl","meta"],function(){saved_views.switchRight();return false});j.bind("keydown",function(l){if(tagging.keyCodeIsForTagDeleteModifierKey(l.keyCode)){var c=selectOnActivePage(".selected .contentTag:hover");c.length===1&&c.addClass("contentTagDeleteHover")}b(l);if(saved_views.HUDIsVisible())switch(l.keyCode){case $.ui.keyCode.LEFT:saved_views.switchLeft();return false;case $.ui.keyCode.RIGHT:saved_views.switchRight();return false;case $.ui.keyCode.ENTER:saved_views.switchToSelectedViewIfAppropriate();
return false;default:saved_views.hideIfModifierNotPressed();return}c=l.ctrlKey||l.altKey||l.metaKey||l.shiftKey;var e=l.keyCode===$.ui.keyCode.LEFT||l.keyCode===$.ui.keyCode.RIGHT||l.keyCode===$.ui.keyCode.UP||l.keyCode===$.ui.keyCode.DOWN,d=IS_FIREFOX&&l.keyCode===$.ui.keyCode.SHIFT;if(!DRAG_MODE&&e&&!c&&!d){c=item_select.clearItemSelection();if(c.length>0){e=function(m){m=m.last();var s=m.find(NAVIGABLE_PROJECTS_PATTERN+":last");return s.length>0?s:m};switch(l.keyCode){case $.ui.keyCode.LEFT:c.first().getName().moveCursorToBeginning();
break;case $.ui.keyCode.RIGHT:e(c).getName().moveCursorToEnd();break;case $.ui.keyCode.UP:c.first().getPreviousProject().getName().moveCursorToBeginning();break;case $.ui.keyCode.DOWN:l=e(c);c=l.getNextProject();c[0]===l[0]?c.getName().moveCursorToEnd():c.getName().moveCursorToBeginning()}return false}}});j.bind("keyup",function(l){if(tagging.keyCodeIsForTagDeleteModifierKey(l.keyCode)){var c=selectOnActivePage(".selected .contentTag:hover");c.length===1&&c.removeClass("contentTagDeleteHover")}b(l)});
var g=["meta"];IS_WINDOWS?g.push("alt"):g.push("ctrl");h.addHandlerForShortcuts("keydown","shift+(",g,function(){var l=project_tree.getProjectReferenceFromDomProject(selectOnActivePage(".selected")).getPreviousPotentiallyVisibleSibling(true);if(l===null)return false;f(l);return false});h.addHandlerForShortcuts("keydown","shift+)",g,function(){var l=project_tree.getProjectReferenceFromDomProject(selectOnActivePage(".selected")).getNextPotentiallyVisibleSibling(true);if(l===null)return false;f(l);return false});
if(IS_CHROME_APP){h.addHandlerForShortcuts("keydown","[",["ctrl","meta"],function(){location_history.navigateBackward()});h.addHandlerForShortcuts("keydown","]",["ctrl","meta"],function(){location_history.navigateForward()})}APPCACHE_ENABLED&&ON_DEVELOPMENT_SERVER&&h.addHandlerForShortcuts("keydown","shift+a",["ctrl","meta"],function(){forceReloadAppCache();return false});h.addHandlerForShortcuts("keydown","return",["ctrl","meta"],createDoNothingWhenSavedViewHUDActiveShortcutEventHandler(function(){completeItemSelectedProjects();
return false}));h.addHandlerForShortcuts("keydown","shift+backspace",["ctrl","meta"],function(){deleteItemSelectedProjects();return false});var o=function(l){var c=item_select.getSelectedItems();c=filterReadOnlyProjects(c,true);if(c.length===0)return false;l(c);return false},k=function(){return o(function(l){l.indentProjects(true)})};g=function(){return o(function(l){l.outdentProjects(true)})};h.addHandler("keydown","tab",function(l){var c=document.activeElement;if(!(c!==null&&"tabIndex"in c&&c.tabIndex>=
0))return k(l)});h.addHandler("keydown","shift+tab",g);h.addHandlerForShortcuts("keydown","shift+up",SHORTCUT_KEYS_FOR_MOVING_WITH_META,createDoNothingWhenSavedViewHUDActiveShortcutEventHandler(function(){return o(function(l){l.moveProjectsUpOrDown("up",true)})}));h.addHandlerForShortcuts("keydown","shift+down",SHORTCUT_KEYS_FOR_MOVING_WITH_META,createDoNothingWhenSavedViewHUDActiveShortcutEventHandler(function(){return o(function(l){l.moveProjectsUpOrDown("down",true)})}));h.addHandlerForShortcuts("keydown",
"shift+left",SHORTCUT_KEYS_FOR_MOVING,createDoNothingWhenSavedViewHUDActiveShortcutEventHandler(g));h.addHandlerForShortcuts("keydown","shift+right",SHORTCUT_KEYS_FOR_MOVING,createDoNothingWhenSavedViewHUDActiveShortcutEventHandler(k));var r=function(l){var c=getSelectedProjectsAndNavigableDescendants();c=filterReadOnlyProjects(c);if(c.length!==0){var e=[],d=[],m=function(s,w){var t=new content_text.ContentText(s,w);if(t.getPlainText().length>0){var x={content:s,contentTextContainer:t};e.push(x);
var p=false;if(l==="bold")p=t.isEntirelyBold();else if(l==="italic")p=t.isEntirelyItalic();else if(l==="underline")p=t.isEntirelyUnderline();p||d.push(x)}};c.each(function(){var s=$(this);m(s.getName().children(".content"),false);s.hasClass("noted")&&m(s.getNotes().children(".content"),true)});if(e.length!==0){undo_redo.startOperationBatch();c=function(s){for(var w=0;w<s.length;w++){var t=s[w],x=t.content;t=t.contentTextContainer;var p={start:0,end:t.getPlainText().length};if(l==="bold")t.toggleBoldForCaret(p);
else if(l==="italic")t.toggleItalicForCaret(p);else l==="underline"&&t.toggleUnderlineForCaret(p);x.setAndSaveContentText(t.getText())}};d.length>0?c(d):c(e);undo_redo.finishOperationBatch()}}};h.addHandlerForShortcuts("keydown","b",["ctrl","meta"],function(){r("bold");return false});h.addHandlerForShortcuts("keydown","i",["ctrl","meta"],function(){r("italic");return false});h.addHandlerForShortcuts("keydown","u",["ctrl","meta"],function(){r("underline");return false});g=function(){if(getCurrentlyFocusedContentOrInput()===
null){item_select.itemSelectAll();return false}};if(IS_WINDOWS||IS_LINUX)h.addHandler("keydown","ctrl+a",g);h.addHandler("keydown","meta+a",g);h.addHandler("keydown","shift+up",function(){if(getCurrentlyFocusedContentOrInput()===null){item_select.expandItemSelectionUpOrDown("up");return false}});h.addHandler("keydown","shift+down",function(){if(getCurrentlyFocusedContentOrInput()===null){item_select.expandItemSelectionUpOrDown("down");return false}});j.bind("copy",function(){var l=item_select.getSelectedItems();
l.length!==0&&cut_copy_paste.handleCopyOfSelectedItems(l)});j.bind("cut",function(){var l=item_select.getSelectedItems(),c=filterReadOnlyProjects(l,true);if(c.length===0)if(l.length>0)return false;else return;l=project_tree.getProjectReferencesFromDomProjects(c);var e=projectReferenceSubtreesContainAtLeastNProjects(l,NUM_DELETED_ITEMS_NEEDED_FOR_DROPDOWN_MESSAGE),d=projectReferencesHaveAnyDescendants(l);cut_copy_paste.handleCopyOfSelectedItems(c,function(){c.deleteIt(false,true,e);item_select.clearItemSelection();
if(e)showMessage(c.length+" item"+(c.length>1?"s":"")+(d?" (and "+(c.length>1?"their":"its")+" descendants)":"")+' cut and added to clipboard. <a class="undelete isForCut" href="#">Restore.</a>')})})}function projectReferenceSubtreesContainAtLeastNProjects(b,f){for(var j=0,h=0;h<b.length;h++){var g=b[h].getNumDescendants(f-j);j+=1+g;if(j>=f)return true}return false}function projectReferencesHaveAnyDescendants(b){for(var f=0;f<b.length;f++)if(b[f].hasDescendants())return true;return false}
function filterReadOnlyProjects(b,f){if(f===undefined)f=false;var j=f?function(h){return h.isInReadOnlyTree()}:function(h){return h.isReadOnly()};return b.filter(function(){var h=$(this);h=project_tree.getProjectReferenceFromDomProject(h);return!j(h)})}function getSelectedProjectsAndNavigableDescendants(){var b=item_select.getSelectedItems();return b.add(b.find(NAVIGABLE_PROJECTS_PATTERN))}
function getItemSelectionProjectsToComplete(){var b=getSelectedProjectsAndNavigableDescendants();return filterReadOnlyProjects(b)}function completeItemSelectedProjects(){var b=getItemSelectionProjectsToComplete();b.length!==0&&b.completeIt(true)}function deleteItemSelectedProjects(){var b=item_select.getSelectedItems();b=filterReadOnlyProjects(b);if(b.length!==0){b.deleteIt(false,true);item_select.clearItemSelection()}}
function focusFirstChildOfSelected(){var b=selectOnActivePage(".selected"),f=b.getVisibleChildren();(f.length>0?f.first():b).getName().moveCursorToBeginning()}function focusFirstProject(){var b=$(GLOBAL_NAVIGABLE_PROJECTS_PATTERN+":first");b.length===1&&b.getName().moveCursorToBeginning()}function focusLastProject(){var b=$(GLOBAL_NAVIGABLE_PROJECTS_PATTERN+":last");b.length===1&&b.getName().moveCursorToEnd()}
function saveEditingContent(){var b=getCurrentlyFocusedContent();b!==null&&b.saveContent()}
jQuery.fn.keyDownHandler=function(b){var f=$(this),j=f.getProject();IS_MOBILE||hideControls();j.hasClass("highlighted")&&j.removeClass("highlighted");item_select.isDragSelecting()&&item_select.getSelectedItems().length>0&&b.preventDefault();if(project_tree.getProjectReferenceFromDomProject(j).isReadOnly())if(!b.ctrlKey&&!b.altKey&&!b.metaKey)switch(b.keyCode){case $.ui.keyCode.DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:case $.ui.keyCode.RIGHT:case $.ui.keyCode.HOME:case $.ui.keyCode.END:break;default:b.preventDefault();
return}if(IS_IE){setSaveTimer(f);setTimeout(function(){f.updateContentHtmlAfterUserEdit()},0)}};
jQuery.fn.keyPressHandler=function(b){var f=$(this);if(!IS_MOBILE){var j=String.fromCharCode(b.which);tagging.isTagStartChar(j)&&tagging.getTagAutocompleter().attach(f,j);if(!FORMAT_FLAGS.isEmpty()){var h=f.getCaret();FORMAT_FLAGS.clearFormatFlagsSetLocationIfChanged(f,h.start);FORMAT_FLAGS.isEmpty()||setTimeout(function(){var g=getCurrentlyFocusedContent();if(!(g===null||g[0]!==f[0])){g=f.getCaret();if(g.start===h.start+1){var o=new content_text.ContentText(f,f.isNote()),k=o.getPlainText(),r={start:g.start-
1,end:g.end};if(k.charAt(r.start)===j){FORMAT_FLAGS.boldIsSet()&&o.toggleBoldForCaret(r);FORMAT_FLAGS.italicIsSet()&&o.toggleItalicForCaret(r);FORMAT_FLAGS.underlineIsSet()&&o.toggleUnderlineForCaret(r);FORMAT_FLAGS.clear();f.setContentHtmlAsUserEdit(o.getContentHtml());f.setCaret(g.start,g.end)}}}},0)}}};function setSaveTimer(b){clearTimeout(TIMEOUTS.saveTimer);TIMEOUTS.saveTimer=setTimeout(function(){TIMEOUTS.saveTimer=null;b.saveContent()},1E3)}
jQuery.fn.downArrowHandler=function(b,f){if(f===undefined)f=false;var j=$(this);if(tagging.getTagAutocompleter().moveSelection(j,"down"))return false;var h=j.getProject();if(j.isNote()){if(j.caretAtEndOfText()){var g=h.getNextProject();if(g.filter(h).length===0){g.getName().moveCursorToBeginning();return false}}}else{var o=j.getCaret();if(!f){o=j.getContentCaretLineInfo(o.end);if(o.caretPosLine<o.numLines-1){LAST_UP_OR_DOWN_ARROW_IN_NAME_USED_DEFAULT_BEHAVIOR=true;return}}var k=null;if(h.is(".selected")&&
h.is(".noted"))k=function(){h.getNotes().moveCursorToBeginning()};else{g=h.getNextProject();k=g.filter(h).length!=0?function(){h.getName().moveCursorToEnd()}:function(){g.getName().moveCursorToBeginning()}}o=LAST_UP_OR_DOWN_ARROW_IN_NAME_USED_DEFAULT_BEHAVIOR;LAST_UP_OR_DOWN_ARROW_IN_NAME_USED_DEFAULT_BEHAVIOR=false;if(IS_FIREFOX&&!f&&o)dom_utils.executeASAP(function(){var r=getCurrentlyFocusedContent();r!==null&&r[0]===j[0]&&k()});else{k();return false}}};
jQuery.fn.upArrowHandler=function(b,f){if(f===undefined)f=false;var j=$(this);if(tagging.getTagAutocompleter().moveSelection(j,"up"))return false;var h=j.getProject();if(j.isNote()){if(j.caretAtBeginningOfText()){h.children(".name").moveCursorToBeginning();return false}}else{var g=j.getCaret();if(!f)if(j.getContentCaretLineInfo(g.start).caretPosLine>0){LAST_UP_OR_DOWN_ARROW_IN_NAME_USED_DEFAULT_BEHAVIOR=true;return}var o=null,k=h.getPreviousProject();o=k.is(".selected")&&!h.is(".selected")&&k.is(".noted")?
function(){k.getNotes().moveCursorToEnd()}:function(){k.children(".name").moveCursorToBeginning()};h=LAST_UP_OR_DOWN_ARROW_IN_NAME_USED_DEFAULT_BEHAVIOR;LAST_UP_OR_DOWN_ARROW_IN_NAME_USED_DEFAULT_BEHAVIOR=false;if(IS_FIREFOX&&!f&&h)dom_utils.executeASAP(function(){var r=getCurrentlyFocusedContent();r!==null&&r[0]===j[0]&&o()});else{o();return false}}};
jQuery.fn.leftArrowHandler=function(){var b=$(this),f=b.isNote();if(b.caretAtBeginningOfText()){b=b.getProject();if(f)b.getName().moveCursorToEnd();else{f=b.getPreviousProject();f.is(".selected")&&!b.is(".selected")&&f.is(".noted")?f.getNotes().moveCursorToEnd():f.getName().moveCursorToEnd()}return false}};
jQuery.fn.rightArrowHandler=function(){var b=$(this);if(b.caretAtEndOfText()){var f=b.isNote();b=b.getProject();if(!f&&b.is(".selected")&&b.is(".noted")){b.getNotes().moveCursorToBeginning();return false}var j=b.getNextProject();if(!f||j.filter(b).length===0){j.getName().moveCursorToBeginning();return false}}};
jQuery.fn.returnHandler=function(){var b=$(this);if(tagging.getTagAutocompleter().autocompleteSelectedTag(b))return false;var f=b.getProject(),j=b.isNote(),h=project_tree.getProjectReferenceFromDomProject(f).isReadOnly(),g=new content_text.ContentText(b,j);if(j){if(!h){var o=b.getCaret();f=g.insertAtCaret("\n",o);b.setContentTextAsUserEdit(f.getText(),true);b.setCaret(o.start+1)}return false}if(g.isEmpty())if(f.outdentProjects())return false;j=function(c){var e=IS_ANDROID&&!USE_ANDROID_CHROME_ENTER_HACK,
d=function(m){if(m===undefined)m=false;c.getName().children(".content").setCaret(0,0,null,m)};d(e);e&&setTimeout(function(){blurFocusedContent();d(false)},0)};if(f.is(".selected")||b.caretAtEndOfText(true)||h&&!b.caretAtBeginningOfText()){var k;if(f.is(".open, .selected")){k=f;f=0}else{k=f.getParent();f=f.getPriority()+1}o=project_tree.getProjectReferenceFromDomProject(k);if(o.canCreateChild()){undo_redo.startOperationBatch();k=createNewProject(k,f);j(k);undo_redo.finishOperationBatch()}}else{k=f.getParent();
o=project_tree.getProjectReferenceFromDomProject(k);if(o.canCreateChild()){o=b.getCaret();b=g.substring(0,o.start);g=g.substring(o.end);undo_redo.startOperationBatch();k=createNewProject(k,f.getPriority());var r=f.getName(),l=k.getName();o=o.start===0&&o.end===0;if(!h&&!o){l.children(".content").setAndSaveContentText(b.getText());r.children(".content").setAndSaveContentText(g.getText());j(f)}else j(k);undo_redo.finishOperationBatch()}}return false};
jQuery.fn.moveProjectsUpOrDown=function(b,f){if(f===undefined)f=false;var j=$(this);if(!j.first().is(".selected")){var h=j.splitIntoAdjacentProjectGroups();if(b==="up"){h=h[0];var g=h.first()}else{h=h[h.length-1];g=h.last()}var o=function(e){for(var d=project_tree.getProjectReferenceFromDomProject(e),m=function(p){p=p.getParent();if(p.is(".selected"))return null;p=b==="up"?p:p.getNextSibling(true);return d.isValidMove(p)?p:null},s=e,w=0;;){var t=b==="up"?s.getPreviousSibling():s.getNextSibling();
if(w>0)for(;t.length===1&&t.is(":not(.task):not(.open)");)t=b==="up"?t.getPreviousSibling():t.getNextSibling();if(t.length===1)break;s=s.getParent();w++;if(s.is(".selected"))return m(e)}if(w===0)w=b==="up"?t:t.getNextSibling(true);else{s=t;for(t=0;t<w-1;){var x=s.getVisibleChildren();if(x.length===0)break;x=b==="up"?x.last():x.first();if(x.is(":not(.task):not(.open)"))break;s=x;t++}(w=s.is(".task"))&&s.showChildren("instant").setExpanded(true);if(b==="up"||w)w=s.children(".children").children(".childrenEnd");
else{w=s.getVisibleChildren().first();if(w.length===0)w=s.children(".children").children(".childrenEnd")}}if(!d.isValidMove(w))return m(e);return w}(g);var k=(g=o!==null)?o:b==="up"?h.last().getNextSibling(true):h.first();j=j;g||(j=j.not(h));var r=$();j.each(function(){var e=$(this);if(project_tree.getProjectReferenceFromDomProject(e).isValidMove(k))r=r.add(e)});if(r.length!==0){if(!f){var l=project_tree.getProjectReferenceFromDomProject(r),c=null;j=r.getName().children(".content");h=getCurrentlyFocusedContent();
if(h!==null&&h[0]===j[0])c=j.getCaret()}undo_redo.startOperationBatch();r.moveProjects(k);f||c!==null&&l.getMatchingDomProject().getName().children(".content").setCaret(c.start,c.end);undo_redo.finishOperationBatch()}}};
jQuery.fn.indentProjects=function(b){if(b===undefined)b=false;var f=$(this);if(!b){var j=project_tree.getProjectReferenceFromDomProject(f),h=null,g=f.getName().children(".content"),o=getCurrentlyFocusedContent();if(o!==null&&o[0]===g[0])h=g.getCaret()}f=f.splitIntoAdjacentProjectGroups();var k=false;g=false;for(o=0;o<f.length;o++){var r=f[o],l=r.eq(0),c=l.getNewNextProjectOrChildrenEndForIndent();if(c===null)k=true;else{var e=c.newNextProjectOrChildrenEnd;c=c.previousSibling;var d=l;r.slice(1).each(function(){var m=
$(this);if(project_tree.getProjectReferenceFromDomProject(m).isValidMove(e))d=d.add(m);else k=true});if(!g){undo_redo.startOperationBatch();g=true}d.moveProjects(e);c.is(".open")||c.showChildren("instant").setExpanded(true)}}if(g){b||h!==null&&restoreCaretAfterIndentOrOutdent(j,h);undo_redo.finishOperationBatch()}k||event_tracker.track("indent");return!k};
jQuery.fn.splitIntoAdjacentProjectGroups=function(){var b=null,f=[];$(this).each(function(){var j=$(this);if(b===null||j.getPreviousSibling().filter(b).length!==1)f.push(j);else f[f.length-1]=f[f.length-1].add(j);b=j});return f};
jQuery.fn.getNewNextProjectOrChildrenEndForIndent=function(){var b=$(this),f=project_tree.getProjectReferenceFromDomProject(b);if(b.is(".selected"))return null;b=b.getPreviousSibling();if(b.length===0)return null;var j=b.children(".children").children(".childrenEnd");if(!f.isValidMove(j))return null;return{newNextProjectOrChildrenEnd:j,previousSibling:b}};
jQuery.fn.outdentProjects=function(b){if(b===undefined)b=false;var f=$(this);if(!b){var j=project_tree.getProjectReferenceFromDomProject(f),h=null,g=f.getName().children(".content"),o=getCurrentlyFocusedContent();if(o!==null&&o[0]===g[0])h=g.getCaret()}f=f.splitIntoAdjacentProjectGroups();var k=g=false;for(o=0;o<f.length;o++){var r=f[o],l=r.eq(0),c=l.getNewNextProjectOrChildrenEndForOutdent();if(c===null)k=true;else{var e=c.newNextProjectOrChildrenEnd,d=l;r.slice(1).each(function(){var m=$(this);
if(project_tree.getProjectReferenceFromDomProject(m).isValidMove(e))d=d.add(m);else k=true});if(!g){undo_redo.startOperationBatch();g=true}d.moveProjects(e)}}if(g){b||h!==null&&restoreCaretAfterIndentOrOutdent(j,h);undo_redo.finishOperationBatch()}k||event_tracker.track("outdent");return!k};
function restoreCaretAfterIndentOrOutdent(b,f){var j=IS_ANDROID&&!USE_ANDROID_CHROME_ENTER_HACK,h=function(g){if(g===undefined)g=false;var o=b.getMatchingDomProject();o.length===1&&o.getName().children(".content").setCaret(f.start,f.end,null,g)};h(j);j&&setTimeout(function(){blurFocusedContent();h(false)},0)}
jQuery.fn.getNewNextProjectOrChildrenEndForOutdent=function(){var b=$(this);if(b.is(".selected"))return null;var f=b.getParent();if(f.is(".mainTreeRoot")||f.is(".selected"))return null;f=f.next(".project, .childrenEnd");if(!project_tree.getProjectReferenceFromDomProject(b).isValidMove(f))return null;return{newNextProjectOrChildrenEnd:f}};jQuery.fn.isName=function(){return $(this).parent(".name").length>0};jQuery.fn.isNote=function(){return $(this).parent(".notes").length>0};
function createNewProject(b,f){return project_tree.getProjectReferenceFromDomProject(b).applyLocalCreateChild(f).getMatchingDomProject()}jQuery.fn.getPreviousProject=function(b,f){if(b===undefined)b=false;if(f===undefined)f=false;var j=$(this),h=b?DROP_TARGET_PATTERN:NAVIGABLE_PROJECTS_PATTERN,g=j.getPreviousSibling();if(g.length===0){g=j.getParent();if(g.is(h))return g;return j}else if(f)return g;else for(j=g;;){g=j.children(".children").children(h).last();if(g.length===0)return j;j=g}};
jQuery.fn.getNextProject=function(b,f){if(b===undefined)b=false;if(f===undefined)f=false;var j=$(this),h=f?DROP_TARGET_PATTERN:NAVIGABLE_PROJECTS_PATTERN;if(!b){var g=j.children(".children").children(h).first();if(g.length>0)return g}g=j;do{var o=g.getNextSibling(f);if(o.length>0)return o;g=g.getParent()}while(g.is(h));return j};jQuery.fn.getPreviousSibling=function(){var b=$(this);do b=b.prev();while(b.length===1&&!b.is(NAVIGABLE_PROJECTS_PATTERN));return b};
jQuery.fn.getNextSibling=function(b){if(b===undefined)b=false;var f=$(this);b=b?DROP_TARGET_PATTERN:NAVIGABLE_PROJECTS_PATTERN;f=f;do f=f.next();while(f.length===1&&!f.is(b));return f};jQuery.fn.moveCursorToEnd=function(){$(this).children(".content").setCaret(-1);return this};jQuery.fn.moveCursorToBeginning=function(){$(this).children(".content").setCaret(0);return this};jQuery.fn.keyboardZoomIn=function(){$(this).getProject().selectIt("first_child");return this};
function keyboardZoomOut(){var b=selectOnActivePage(".selected");b.is(".mainTreeRoot")||b.getParent().selectIt("last_selected")}jQuery.fn.keyboardCollapse=function(){var b=$(this).getProject();if(b.is(".selected")){var f=b.find(".project.open:visible").getAncestorCounts();b=f.maxNumAncestors;f=f.numAncestorsToProjectMap;if(b!==undefined){b=f[b];for(var j in b)b[j].hideChildren("instant").setExpanded(false)}}else b.is(".task")||!b.is(".open")||b.hideChildren().setExpanded(false)};
jQuery.fn.keyboardExpand=function(){var b=$(this).getProject();if(b.is(".selected")){var f=b.find(".project:visible:not(.task):not(.open)").getAncestorCounts();b=f.minNumAncestors;f=f.numAncestorsToProjectMap;if(b!==undefined){b=f[b];for(var j in b)b[j].showChildren("instant").setExpanded(true)}}else if(!(b.is(".task")||b.isFullyExpanded())){if(search.inSearchMode()){j=project_tree.getProjectReferenceFromDomProject(b);search.registerFullyExpandedItemForCurrentSearch(j)}b.showChildren().setExpanded(true)}};
jQuery.fn.getAncestorCounts=function(){var b=$(this),f={},j=undefined,h=undefined;b.each(function(){var g=$(this),o=project_tree.getProjectReferenceFromDomProject(g).getAncestors().length;if(o in f)f[o].push(g);else f[o]=[g];j=j===undefined||o<j?o:j;h=h===undefined||o>h?o:h});return{numAncestorsToProjectMap:f,minNumAncestors:j,maxNumAncestors:h}};
function showMessage(b,f,j){if(f===undefined)f=false;if(j===undefined)j=null;var h=$("#message");h.removeClass();f&&h.addClass("errorMessage");j!==null&&h.addClass(j);h.find(".messageContent").html(b);if(!h.is(":visible")){h.children(".close").hide();h.slideDown("normal",function(){$(this).find(".close").show()})}}function hideMessage(b){if(b===undefined)b=false;var f=$("#message");f.children(".close").hide();f.find(".messageContent").html("");b?f.hide():f.slideUp()}
function undeleteMessageIsVisible(b){if(b===undefined)b=null;var f=$("#message:visible > .messageContent > .undelete");if(f.length!==1)return false;if(b!==null&&f.hasClass("isForCut")!==b)return false;return true}
jQuery.fn.completeIt=function(b){if(b===undefined)b=false;var f=$(this);undo_redo.startOperationBatch();var j=false,h=f.not(".done").length>0,g=10;f.each(function(){var r=$(this),l=project_tree.getProjectReferenceFromDomProject(r);if(h){if(!r.is(".done")){l.applyLocalComplete();r.show();if(!shouldShowCompletedProjects()){var c=function(){r.removeAttr("style");animations.getAnimationCounter().decrement()};setTimeout(g>0?function(){r.clearControlsUnderProject();r.incrementAnimationCounter().slideUpWithoutMemoryLeaks(animations.getAnimationTiming("children"),
c)}:function(){r.clearControlsUnderProject();r.incrementAnimationCounter();setTimeout(c,animations.getAnimationTiming("children"))},1E3);g--}if(r.is(".selected"))j=true}}else l.applyLocalUncomplete()});if(h)if(j)setTimeout(function(){selectOnActivePage(".selected").getParent().selectIt()},500);else{if(!IS_MOBILE&&(!b||!shouldShowCompletedProjects())){var o=f.last(),k=o.getNextProject(true);if(k.filter(o).length===1)for(;;){o=k;k=k.getPreviousProject();if(k.filter(o).length===1)break;if(shouldShowCompletedProjects()||
!k.is(".done"))break}f.filter(k).length===0&&k.children(".name").moveCursorToBeginning()}}else!IS_MOBILE&&!b&&f.focusProject();undo_redo.finishOperationBatch();b&&!shouldShowCompletedProjects()&&item_select.clearItemSelection();return this};
jQuery.fn.deleteIt=function(b,f,j){if(b===undefined)b=false;if(f===undefined)f=false;if(j===undefined)j=null;var h=$(this);if(!b){f||saveEditingContent();undo_redo.startOperationBatch()}var g=false,o=0,k=undefined,r=false,l=project_tree.getProjectReferencesFromDomProjects(h);if(j===null)var c=projectReferenceSubtreesContainAtLeastNProjects(l,NUM_DELETED_ITEMS_NEEDED_FOR_DROPDOWN_MESSAGE),e=projectReferencesHaveAnyDescendants(l);h.each(function(d){var m=$(this);d=l[d];o+=1;var s=m.getParent(),w=m.is(".selected");
g|=!d.isAddedSubtreePlaceholder();if(!b)if(k===undefined){k=m.getPreviousProject();if(k[0]===m[0]){k=m.getNextProject(true);if(k[0]===m[0])k=null;else r=true}}m=false;if(!b)if(w)s.selectIt();else if(k!==null){m=IS_ANDROID&&!USE_ANDROID_CHROME_BACKSPACE_HACK;s=k.getName().children(".content");w=r?0:-1;s.setCaret(w,w,null,m);m=true}d.applyLocalDelete();m&&IS_MOBILE&&k.scrollToViewProjectForMobile()});if(!b){f=j!==null?j:!g||c;undo_redo.finishOperationBatch(f);if(j===null&&f)if(g){if(c)showMessage((o>
1?o+" items":"Item")+(e?" (and "+(o>1?"their":"its")+" descendants)":"")+' deleted. <a class="undelete" href="#">Undo.</a>')}else showMessage("Embedded list"+(o>1?"s":"")+' removed from this account. <a class="undelete" href="#">Undo.</a>')}return this};
jQuery.fn.duplicateIt=function(b,f){if(f===undefined)f=false;var j=$(this),h=project_tree.getProjectReferenceFromDomProject(b.getParent()),g=b.getPriority(),o=[];j.each(function(){var r=$(this);r=project_tree.getProjectReferenceFromDomProject(r).duplicateProjectTreeForBulkCreate(true);o.push(r)});undo_redo.startOperationBatch();j=h.applyLocalBulkCreateChildren(g,o);if(f){item_select.clearItemSelection();project_tree.getMatchingDomProjectsForProjectReferences(j).addToItemSelection();undo_redo.finishOperationBatch(false,
true)}else{var k=j[0].getMatchingDomProject();if(k.length>0&&k.is(":visible")){k.getName().moveCursorToBeginning();k.addClass("moving");setTimeout(function(){k.removeClass("moving")},500)}undo_redo.finishOperationBatch()}return this};function showLoginPopup(){closeAllDialogs();var b=$("#loginPopup");b.append($("#loginPopupContents").children().clone(true));b.setDialogButtonsDisable(false);b.dialog("open");b.find(".loginFormPasswordInput").focus()}
function hideLoginPopup(){var b=$("#loginPopup");b.html("");b.dialog("close")}function closeAllDialogs(){$(".ui-dialog:visible > .ui-dialog-content").dialog("close")}jQuery.fn.moveProjects=function(b){var f=$(this);f=project_tree.getProjectReferencesFromDomProjects(f);var j=project_tree.getProjectReferenceFromDomProject(b.getParent());b=b.getPriority();project_tree.applyLocalMoveForProjectReferences(f,j,b);b=$();for(j=0;j<f.length;j++)b=b.add(f[j].getMatchingDomProject());return b};
function hideControls(){var b=$("#controlsLeft");$("#hidden").append($("#controls"));b.removeClass("hovered")}jQuery.fn.clearControlsUnderProject=function(b){if(b===undefined)b=false;var f=$(this);(b?f.children(".children"):f).find("#controls").length===1&&hideControls()};function blurFocusedContent(){var b=getCurrentlyFocusedContent();b!==null&&b.blur()}function blurFocusedContentOrInput(){var b=getCurrentlyFocusedContentOrInput();b!==null&&b.blur()}
jQuery.fn.setDialogButtonsDisable=function(b){$(this).parent().find("button").button("option","disabled",b)};
function addSharedSubtreeToAccount(){var b=project_tree.getMainProjectTree();if(b.isShared()){b=b.getShareId();var f=$("#addSharedSubtreeToMyAccountPopup");f.removeClass("success failure");f.dialog("open");f.addSpinner();f.dialog("option",{buttons:{}});var j=function(h,g,o){if(o===undefined)o="There was an error communicating with the server. Please try again.";f.addClass("failure");f.find(".failureMessage").text(o);f.removeSpinner();f.dialog("option",{buttons:{Close:function(){f.dialog("close")}}})};
$.ajax({url:"/add_shared_subtree",data:{share_id:b},dataType:"json",type:"POST",success:function(h,g){if(h==null)j();else if(h.success){f.addClass("success");f.removeSpinner();f.dialog("option",{buttons:{"View my account":function(){f.addSpinner();f.setDialogButtonsDisable(true);window.location="/"},Close:function(){f.dialog("close")}}});_gaq.push(["_trackEvent","Interaction","Added shared subtree"])}else{var o=undefined;switch(h.error){case "no_shared_project":o="This list is no longer shared.";
break;case "adding_own_shared_project":o="This is your own list. It's already in your account!";break;case "already_added_shared_project":o="You've already added this list to your account."}j(h,g,o)}},error:j})}}
function refreshVisibleChildrenUnderSelectedForAddButton(b){if(!IS_MOBILE){if(b===undefined)b=selectOnActivePage(".addButton");selectOnActivePage(".selected > .children > .project:visible:first").length>0?b.addClass("visibleChildrenUnderSelected"):b.removeClass("visibleChildrenUnderSelected")}}function reloadPageFromServer(){if(IS_PACKAGED_APP)reloadPackagedApp();else APPCACHE_ENABLED?forceReloadAppCache():window.location.reload(true)}
function reloadPackagedApp(){indexeddb_helper.getStores().initializationData.clear(function(){if(IS_CHROME_APP)chrome.runtime.reload();else IS_ANDROID_APP&&androidInterface.reload()})}function forceReloadAppCache(){localstorage_helper.localStorageSupported()&&localstorage_helper.write("next",window.location.pathname+window.location.search+window.location.hash);apphooks.notifyThatAppCacheIsNowUncached();window.location="/force_update_appcache"}
function checkIfMostRecentlyOpenedWindowIdChanged(){if(localstorage_helper.localStorageSupported()){var b=localstorage_helper.read(MOST_RECENTLY_OPENED_WINDOW_ID_KEY);if(!(!FULL_OFFLINE_ENABLED||!APPCACHE_ENABLED||app_detect.isIOSApp()))if(WINDOW_ID!==b){window.onbeforeunload=null;window.location="/window_preempted"}}}
var event_tracker=function(){return{track:function(b){EMBED&&parent!==window&&parent.handleWorkFlowyEvent!==undefined&&parent.handleWorkFlowyEvent(b)}}}(),localstorage_helper=function(){function b(r){return o.getItem(r)}function f(r){o.removeItem(r)}function j(r){for(var l=o.length,c=[],e=0;e<l;e++){var d=o.key(e);c.push(d)}for(l=0;l<c.length;l++)r(c[l])}function h(){var r={};j(function(l){r[l]=b(l)});return r}var g=null,o=null,k=null;return{init:function(){if(IS_PACKAGED_APP){k=true;g=false;o=indexeddb_helper.getLocalStorageAdapter()}else{k=
localstorage_detect.localStorageSupported();g=true;o=window.localStorage;if(!k)return}IS_PACKAGED_APP||$(window).bind("storage",function(r){if("originalEvent"in r&&"key"in r.originalEvent){r=r.originalEvent.key;if(r===MOST_RECENTLY_OPENED_WINDOW_ID_KEY)checkIfMostRecentlyOpenedWindowIdChanged();else if(userstorage.isEnabled())if(userstorage.isUserStorageKey(r)){r=userstorage.stripKeyPrefix(r);userstorage.notifyChange(r)}}})},localStorageSupported:function(){return k},write:function(r,l){try{o.setItem(r,
l)}catch(c){FULL_OFFLINE_ENABLED&&!IS_PACKAGED_APP&&ui_sugar.showAlertDialog("The storage available to WorkFlowy on your device is full. If you are working offline, syncing your data should free up space. If problems persist, please email <strong>help@workflowy.com</strong> and tell us what is happening.")}},read:b,remove:f,bulkRemove:function(r,l){if(l===undefined)l=null;if(g){for(var c=0;c<r.length;c++)f(r[c]);l!==null&&l()}else o.bulkRemove(r,l)},forEachKey:j,dumpAll:h,hackyDumpAllWithDecompressedChunks:function(){var r=
h(),l;for(l in r)if(l.match(/\.chunk\.\d+$/)!==null){var c=r[l];if(c.charAt(0)==="*"){c=LZString.decompressFromUTF16(c.substring(1));r[l]=c}}return r},notifyWindowFocus:function(){project_tree.getAllProjectTreesHelper().readLocalStorageExpandedProjects();userstorage.isEnabled()&&userstorage.notifyWindowFocus()}}}(),userstorage=function(){function b(){this.name="InitializationError"}function f(n){if(n===undefined)n=false;if(!n)if(r(s)!==USER_ID)return;var u=h(w);if(u!==null){n=n;if(n===undefined)n=
false;for(var v in u){var A=u[v];if(v in SETTINGS){var y=A!==SETTINGS[v].value;SETTINGS[v].value=A;!n&&y&&settings.registerSettingChange(v)}}}}function j(n){var u=h(w);if(u===null)u={};for(var v in n)if(v in SETTINGS&&SETTINGS[v].saveToClient)u[v]=n[v];g(w,u)}function h(n){n=r(n);if(n===null)return null;try{return JSON.parse(n)}catch(u){return null}}function g(n,u){var v=JSON.stringify(u);l(n,v)}function o(n){if(n===undefined)n=null;var u=[];k(function(v){u.push(v)});c(u,n)}function k(n){localstorage_helper.forEachKey(function(u){if(e(u)){u=
d(u);n(u)}})}function r(n){return localstorage_helper.read(m+n)}function l(n,u){return localstorage_helper.write(m+n,u)}function c(n,u){if(u===undefined)u=null;for(var v=[],A=0;A<n.length;A++)v.push(m+n[A]);return localstorage_helper.bulkRemove(v,u)}function e(n){return utils.isPrefixMatch(n,m)}function d(n){return n.substring(m.length)}var m="userstorage.",s="user_id",w="settings",t=false;b.prototype=Error();var x=Class.extend({init:function(n,u,v){this.namespace=n;this.name=u;this.storageKey=this.namespace+
"."+this.name;this.value=v;this.isInStorage()?this.syncFromStorage():this.syncToStorage()},setValue:function(n){this.value=n;this.syncToStorage()},getValue:function(){return this.value},isInStorage:function(){if(!FULL_OFFLINE_ENABLED)return false;return userstorage.read(this.storageKey)!==null},syncFromStorage:function(){if(FULL_OFFLINE_ENABLED){var n=userstorage.read(this.storageKey);this.value=utils.parseJsonWithErrorHandling(n,function(){throw new b;})}},syncToStorage:function(){if(FULL_OFFLINE_ENABLED){var n=
JSON.stringify(this.value);userstorage.write(this.storageKey,n)}}}),p=x.extend({init:function(n,u){this._super(n,u,{})},set:function(n,u){this.value[n]=u;this.syncToStorage()},get:function(n){return this.value[n]},getDict:function(){return this.getValue()},clear:function(){this.setValue({})},copyTo:function(n){n.setValue(this.value)},overlayOn:function(n){for(var u in this.value)n[u]=this.value[u]},isEmpty:function(){return utils.objectIsEmpty(this.value)}}),a=Class.extend({type:null,init:function(n,
u){this.namespace=n;this.queueName=u;this.fullyQualifiedQueueName=this.namespace+"."+this.type+"."+this.queueName;this.list=null;this.isInStorage()?this.syncFromStorage():this.clear()},isInStorage:function(){if(!FULL_OFFLINE_ENABLED)return false;return this.readKey("length")!==null},syncFromStorage:function(){if(FULL_OFFLINE_ENABLED)this.list=this.readList()},syncToStorage:function(){FULL_OFFLINE_ENABLED&&this.writeList(this.list)},syncToStorageForAppendAtPosition:function(n){FULL_OFFLINE_ENABLED&&
this.appendListInStorage(this.list,n)},syncToStorageForUpdateOfLastItem:function(){if(FULL_OFFLINE_ENABLED){var n=this.list[this.list.length-1],u=this.readKey("num_chunks")-1,v=this.readChunk(u);v[v.length-1]=n;this.writeChunk(u,v)}},clear:function(){this.list=[];this.syncToStorage()},append:function(n){var u=this.list.length>0?this.list[this.list.length-1]:null;if(u!==null){u=this.collapseItemIntoPreviousItemIfApplicable(u,n);if(u!==null){this.list[this.list.length-1]=u;this.syncToStorageForUpdateOfLastItem();
return}}this.appendList([n])},collapseItemIntoPreviousItemIfApplicable:function(){return null},appendList:function(n){var u=this.list.length;utils.pushArray(this.list,n);this.syncToStorageForAppendAtPosition(u)},copyTo:function(n){n.list=this.list;n.syncToStorage()},prependTo:function(n){n.list=this.list.concat(n.list);n.syncToStorage()},setList:function(n){this.list=n;this.syncToStorage()},getLength:function(){return this.list.length},getList:function(){return this.list},applyToEachItemInList:function(n){for(var u=
false,v=0;v<this.list.length;v++)u|=n(this.list[v]);u&&this.syncToStorage()},readList:function(){var n=[],u=this.readKey("num_chunks");if(u===null)throw new b;u=parseInt(u);if(isNaN(u)||u<0)throw new b;for(var v=0;v<u;v++){var A=this.readChunk(v);if(A===null)throw new b;utils.pushArray(n,A)}return n},writeList:function(n){var u=this.readKey("num_chunks");u=u!==null?parseInt(u):0;for(var v=0;v<u;v++)this.removeKey(this.chunkKey(v));this.appendChunksInStorage(0,n);this.writeKey("length",n.length)},
appendListInStorage:function(n,u){var v=n.slice(u),A=this.readKey("num_chunks");if(A>0){var y=A-1,C=this.readChunk(y),z=10-C.length;if(z>0){z=v.splice(0,z);utils.pushArray(C,z);this.writeChunk(y,C)}}v.length>0&&this.appendChunksInStorage(A,v);this.writeKey("length",n.length)},appendChunksInStorage:function(n,u){for(var v=n,A=0;A<u.length;A+=10){var y=v,C=u.slice(A,A+10);this.writeChunk(y,C);v++}this.writeKey("num_chunks",v)},readChunk:function(n){n=this.readKey(this.chunkKey(n));if(n===null||n.length===
0)return null;if(n.charAt(0)==="*"){n=LZString.decompressFromUTF16(n.substring(1));if(n===null)return null}else n=n;try{var u=JSON.parse(n)}catch(v){return null}return u},writeChunk:function(n,u){var v=JSON.stringify(u);v="*"+LZString.compressToUTF16(v);this.writeKey(this.chunkKey(n),v)},chunkKey:function(n){return"chunk."+n},getUserStorageKeyName:function(n){return this.fullyQualifiedQueueName+"."+n},readKey:function(n){return userstorage.read(this.getUserStorageKeyName(n))},writeKey:function(n,
u){return userstorage.write(this.getUserStorageKeyName(n),u)},removeKey:function(n,u){return userstorage.remove(this.getUserStorageKeyName(n),u)}}),q=a.extend({type:"operation_queue",init:function(n,u){this._super(n,u)},containsOperationType:function(n){for(var u=0;u<this.list.length;u++)if(this.list[u].type===n)return true;return false},collapseItemIntoPreviousItemIfApplicable:function(n,u){return operations.collapseOperationIntoPreviousOperationIfApplicable(n,u)}});a=a.extend({type:"operation_transaction_queue",
init:function(n,u){this._super(n,u)},getMostRecentOperationTransactionId:function(){return this.list.length===0?null:this.list[this.list.length-1].id},garbageCollectPastOperationTransactions:function(n){for(var u=this.list.length;u>0;u--)if(this.list[u-1].id<=n)break;if(u>0){this.list=this.list.slice(u);this.syncToStorage()}return u}});return{InitializationError:b,init:function(){if(localstorage_helper.localStorageSupported()){t=true;var n=r(s);if(n===null||n!==USER_ID){utils.debugMessage("Clearing userstorage because of new or different user_id");
o();l(s,USER_ID);l("format_version",3)}n=r("appcache_id");if(n===null||APPCACHE_ID!==n){utils.debugMessage("First run for this app cache version");l("appcache_id",APPCACHE_ID)}else{utils.debugMessage("Not the first run for this app cache version");for(var u in FIRST_LOAD_FLAGS)FIRST_LOAD_FLAGS[u]=false}f(true)}},isEnabled:function(){return t},read:r,write:l,readJSON:h,writeJSON:g,remove:function(n){return localstorage_helper.remove(m+n)},clear:o,isUserStorageKey:e,stripKeyPrefix:d,dumpAll:function(){var n=
{};k(function(u){n[u]=r(u)});return n},updateSettingsFromServer:function(n){j(n);f()},saveSettings:j,notifyChange:function(n){n===w&&f()},notifyWindowFocus:function(){f()},PersistentValue:x,PersistentDict:p,PersistentOperationQueue:q,PersistentOperationTransactionQueue:a}}(),appcache_helper=function(){function b(l,c){for(var e=0;e<l.length;e++)(0,l[e])(c)}function f(){try{window.applicationCache.update()}catch(l){utils.debugMessage(l);utils.debugMessage("Exception thrown when applicationCache.update() called. Update failed.");
b(k,false);b(r,false);k=[];r=[];o=false}}function j(l){if(l===undefined)l=null;if(g()){l!==null&&r.push(l);o=true}else{l!==null&&k.push(l);f()}}function h(l){if(g())k.push(function(){h(l)});else{utils.debugMessage("Marking cache manifest dirty on server so we can update app cache");$.ajax({url:"/mark_cache_manifest_dirty",success:function(){j(l)}})}}function g(){return window.applicationCache.status===window.applicationCache.CHECKING||window.applicationCache.status===window.applicationCache.DOWNLOADING}
var o=false,k=[],r=[];return{init:function(){window.applicationCache.onupdateready=window.applicationCache.oncached=window.applicationCache.onobsolete=window.applicationCache.onnoupdate=function(){b(k,window.applicationCache.status===window.applicationCache.UPDATEREADY);k=r;r=[];if(o){o=false;f()}else apphooks.notifyThatAppCacheIsNowCached()};window.applicationCache.onerror=function(){utils.pushArray(k,r);r=[];if(o||k.length>0){o=false;f()}}},update:j,markCacheManifestDirtyAndThenUpdate:h,swapCache:function(){window.applicationCache.swapCache()},
isCurrentlyDownloading:function(){return window.applicationCache.status===window.applicationCache.DOWNLOADING}}}(),indexeddb_helper=function(){var b=null,f=["initializationData","localStorage","otherData"],j=null,h=null,g=Class.extend({init:function(k){this._name=k},write:function(k,r,l){if(l===undefined)l=null;var c=b.transaction([this._name],"readwrite");c.objectStore(this._name).put(r,k);c.oncomplete=function(){l!==null&&l()}},read:function(k,r){b.transaction([this._name]).objectStore(this._name).get(k).onsuccess=
function(l){r(l.target.result)}},writeJSON:function(k,r,l){r=JSON.stringify(r);this.write(k,r,l)},readJSON:function(k,r){this.read(k,function(l){l=l!==undefined?JSON.parse(l):undefined;r(l)})},writeJSONWithTimestamp:function(k,r,l){var c=this;this.writeJSON(k,r,function(){var e=date_time.getCurrentTimeInMS();c.write(k+"__writeTimestamp",e,l)})},readJSONWithTimestamp:function(k,r){var l=this;this.readJSON(k,function(c){c===undefined?r(c,null):l.read(k+"__writeTimestamp",function(e){if(e===undefined)e=
0;r(c,e)})})},readAll:function(k){var r={};b.transaction([this._name]).objectStore(this._name).openCursor().onsuccess=function(l){l=l.target.result;if(l===undefined||l===null)k(r);else{r[l.key]=l.value;l["continue"]()}}},remove:function(k,r){if(r===undefined)r=null;var l=b.transaction([this._name],"readwrite");l.objectStore(this._name)["delete"](k);l.oncomplete=function(){r!==null&&r()}},bulkRemove:function(k,r){if(r===undefined)r=null;for(var l=b.transaction([this._name],"readwrite"),c=l.objectStore(this._name),
e=0;e<k.length;e++)c["delete"](k[e]);l.oncomplete=function(){r!==null&&r()}},clear:function(k){if(k===undefined)k=null;var r=b.transaction([this._name],"readwrite");r.objectStore(this._name).clear();r.oncomplete=function(){k!==null&&k()}}}),o=Class.extend({init:function(k){this._cachedKeyArray=this.length=this._keysToValues=null;var r=this;j.localStorage.readAll(function(l){r._keysToValues=l;r.length=utils.objectSize(l);k()})},setItem:function(k,r){k=String(k);r=String(r);k in this._keysToValues||
this.length++;this._keysToValues[k]=r;j.localStorage.write(k,r)},getItem:function(k){k=String(k);return k in this._keysToValues?this._keysToValues[k]:null},removeItem:function(k){k=String(k);if(k in this._keysToValues){this.length--;delete this._keysToValues[k];j.localStorage.remove(k)}},bulkRemove:function(k,r){for(var l=[],c=0;c<k.length;c++){var e=String(k[c]);if(e in this._keysToValues){this.length--;delete this._keysToValues[e];l.push(e)}}j.localStorage.bulkRemove(l,r)},key:function(k){if(k===
0)this._cachedKeyArray=utils.objectPropertyNames(this._keysToValues);if(k<0||k>=this._cachedKeyArray.length)return null;return this._cachedKeyArray[k]},clear:function(){this._keysToValues={};this.length=0;j.localStorage.clear()}});return{open:function(k){var r=indexedDB.open("workflowy",1);r.onupgradeneeded=function(l){l=l.target.result;for(var c=0;c<f.length;c++)l.createObjectStore(f[c])};r.onsuccess=function(l){b=l.target.result;b.onerror=function(e){throw Error("IndexedDB database error: "+e.target.errorCode);
};j={};for(l=0;l<f.length;l++){var c=f[l];j[c]=new g(c)}h=new o(function(){k()})};r.onerror=function(){throw Error("Error opening IndexedDB database.");}},getLocalStorageAdapter:function(){return h},getStores:function(){return j}}}(),dom_utils=function(){function b(e,d){for(var m=e.childNodes,s=0,w=m.length;s<w;s++){var t=m[s];f(t)&&d(t)}}function f(e){if(e.nodeName.toLowerCase()==="style")return false;return true}function j(e){var d=[];e.nodeType===Node.TEXT_NODE?d.push(e):b(e,function(m){d.push.apply(d,
j(m))});return d}function h(e,d,m){var s=e===d;if(e.nodeType===Node.TEXT_NODE)return s?{text:e.nodeValue.substring(0,m),containsBeforeContainer:true}:{text:e.nodeValue,containsBeforeContainer:false};else{e=e.childNodes;for(var w=s?m:e.length,t=false,x="",p=0;p<w;p++){var a=e[p];if(f(a)){a=h(a,d,m);x+=a.text;if(a.containsBeforeContainer){t=true;break}}}return{text:x,containsBeforeContainer:s||t}}}function g(e){e=j(e);for(var d="",m=0;m<e.length;m++)d+=e[m].nodeValue;return d}function o(e,d,m){var s=
$("#header").outerHeight(),w=$(window),t=w.height(),x=w.scrollTop(),p=x+s;x=x+t;var a=e-s-20,q=d+20-t,n=d-e>t-s-40;if(m==="none"){if(e<p||d>x)n?w.scrollTop(a):w.scrollTop(e+(d-e)/2-(t-s)/2-s)}else if(e<p)if(m==="up"||!n)w.scrollTop(a);else m==="down"&&d>x&&w.scrollTop(q);else if(d>x)if(m==="down"||!n)w.scrollTop(q)}function k(e,d){for(var m=0,s=0;m<d+1;){e.charAt(s)!==content_text.CONTENT_BEGINNING_MARKER_CHAR_FOR_ANDROID_BACKSPACE_HACK&&m++;s++}return s-1}var r=window.requestAnimationFrame||window.mozRequestAnimationFrame||
window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||null,l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||null,c=IS_IE?function(e){var d=document.body.createTextRange();d.moveToElementText(e);return d.text.replace(/\r\n/g,"\n")}:function(e){var d=window.getSelection();d.selectAllChildren(e);e=d.toString();d.removeAllRanges();return e};jQuery.fn.getCaret=function(){var e=this[0],d=window.getSelection().getRangeAt(0),
m=h(e,d.startContainer,d.startOffset).text;e=d.collapsed?m:h(e,d.endContainer,d.endOffset).text;if(USE_ANDROID_CHROME_BACKSPACE_HACK){m=m.replace(content_text.CONTENT_BEGINNING_MARKER_CHAR_FOR_ANDROID_BACKSPACE_HACK_REGEXP,"");e=e.replace(content_text.CONTENT_BEGINNING_MARKER_CHAR_FOR_ANDROID_BACKSPACE_HACK_REGEXP,"")}return{start:m.length,end:e.length}};jQuery.fn.setCaret=function(e,d,m,s){if(d===undefined)d=e;if(m===undefined)m=null;if(s===undefined)s=false;if(!animations.animationsAreInProgress())if(!READ_ONLY_MAIN_TREE){var w=
$(this);IS_MOBILE&&w.attr("contenteditable")===undefined&&w.attr("contenteditable","true");if(!IS_IOS&&!s){s=null;if(m==="doNotScroll"||m==="doNotScrollIfOnScreen"&&w.isOnScreen()){var t=$(window);s=t.scrollTop()}w.focus();s!==null&&t.scrollTop(s)}m=w[0];t=null;if(!USE_ANDROID_CHROME_BACKSPACE_HACK&&e===0&&d===0){d=document.createRange();d.setStart(m,0);d.setEnd(m,0);t=d}else{w=content_text.getPlainTextForContent(w).length;e=e===-1?w:Math.min(e,w);d=d===-1?w:Math.min(d,w);if(USE_ANDROID_CHROME_BACKSPACE_HACK){w=
g(m);e=k(w,e);d=k(w,d)}e=e;w=d;d=document.createRange();d.selectNodeContents(m);t=j(m);s=false;for(var x=0,p,a=e===w,q=0,n;n=t[q++];){p=x+n.length;if(!s&&e>=x&&(e<p||a&&e===p)){d.setStart(n,e-x);s=true}if(s&&w<=p){d.setEnd(n,w-x);break}x=p}if(!s){e=m.childNodes.length;d.setStart(m,e);d.setEnd(m,e)}t=d}m=window.getSelection();m.removeAllRanges();m.addRange(t)}};jQuery.fn.getCaretForTextArea=function(){var e=$(this)[0];return{start:e.selectionStart,end:e.selectionEnd}};jQuery.fn.setCaretForTextArea=
function(e,d){if(d===undefined)d=e;var m=$(this),s=m[0];m.focus();s.setSelectionRange(e,d)};jQuery.fn.getContentCaretOffset=function(e){if(e===undefined)e=null;var d=$(this),m=d.isNote(),s=d.html(),w=d.getCaret();if(e===null)e=w.start;m=new content_text.ContentText(d,m);d.setContentHtml(m.getContentHtml(e));e=d.find(".contentCaret").offset();d.setContentHtml(s);d.setCaret(w.start,w.end);return e};jQuery.fn.getContentCaretLineInfo=function(e){var d=$(this),m=parseInt(d.css("lineHeight")),s=Math.round(d.height()/
m),w={numLines:s};if(s===1||e===0){w.caretPosLine=0;return w}s=d.isNote();s=new content_text.ContentText(d,s);e=$('<div class="content">'+s.getContentHtml(e)+"</div>");e.css({position:"absolute",width:d.width()+"px"});d.after(e);d=e.offset();s=e.find(".contentCaret").offset();e.remove();w.caretPosLine=Math.floor((s.top-m/2-d.top)/m);return w};jQuery.fn.isOnScreen=function(){var e=$(this),d=e.offset().top;e=d+e.outerHeight();var m=$(window).scrollTop(),s=m+$(window).height();return d<s&&e>m};jQuery.fn.scrollToBeOnScreen=
function(e){var d=$(this),m=d.first();d=d.last();m=m.offset().top;d=d.offset().top+d.outerHeight();o(m,d,e)};jQuery.fn.hideWithoutMemoryLeaks=function(){this.css("display","none");return this};jQuery.fn.slideUpWithoutMemoryLeaks=function(e,d){this.css("overflow","hidden");this.animate({height:0},e,function(){var m=$(this);m.removeAttr("style");m.hideWithoutMemoryLeaks();d!==undefined&&d.call(this)});return this};jQuery.fn.dataWithoutMemoryLeaks=function(e,d){var m="data-"+utils.camelCaseToHyphenated(e);
if(d!==undefined){var s=JSON.stringify(d);this.attr(m,s);return this}else{m=this.attr(m);return m!==undefined?JSON.parse(m):undefined}};jQuery.fn.removeDataWithoutMemoryLeaks=function(e){this.removeAttr("data-"+utils.camelCaseToHyphenated(e));return this};return{supportsRequestAnimationFrame:function(){return r!==null&&l!==null},requestAnimationFrame:function(e){return r(e)},cancelAnimationFrame:function(e){l(e)},executeASAP:function(e){r!==null?r(e):setTimeout(e,0)},executeAfterRepaint:function(e){r===
null?setTimeout(e,0):r(function(){r(e)})},selectionIsBackward:function(){var e=window.getSelection();if(e.rangeCount===0||e.isCollapsed)return false;var d=e.anchorNode.compareDocumentPosition(e.focusNode);if(d===0)return e.anchorOffset>e.focusOffset;return(d&Node.DOCUMENT_POSITION_PRECEDING)!==0},clearSelection:function(){window.getSelection().removeAllRanges()},selectElementText:function(e){var d=window.getSelection(),m=document.createRange();m.selectNodeContents(e);d.removeAllRanges();d.addRange(m)},
elementContainsSelection:function(e){var d=window.getSelection();if(d.rangeCount===0)return false;d=d.getRangeAt(0).commonAncestorContainer;return d===e||$.contains(e,d)},forEachVisibleChildOfNode:b,getInnerText:g,getTextInNodeBefore:h,getFormattedElementText:c,clearChildrenOfElement:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},scrollForRangeToBeOnScreen:o}}(),content_text=function(){function b(z,D){for(var E="",G=1;z!==0;){if((z&1)!==0){var H=t[G].tag;if(D)E+="<"+H+">";else E="</"+
H+">"+E}z>>=1;G<<=1}return E}function f(z,D){if(z===null)return D===null?null:D;else if(D===null)return z;for(var E=0;E<z.length;E++)z[E]|=D[E];return z}function j(z,D){if(z.nodeType===Node.TEXT_NODE)return utils.createArrayOfIdenticalElements(D,z.nodeValue.length);else{var E=z.nodeName.toLowerCase();if(E==="parsererror")throw Error("Encountered parsererror");if(E in x)D|=x[E].flag;var G=[];dom_utils.forEachVisibleChildOfNode(z,function(H){H=j(H,D);utils.pushArray(G,H)});return G}}function h(z,D,
E,G,H){if(G===undefined)G=0;if(H===undefined)H=0;if(!D&&z.nodeType===Node.TEXT_NODE){D=G&~H;z=z.nodeValue;E.plainText+=z;utils.pushArray(E.formatFlagsForChars,utils.createArrayOfIdenticalElements(D,z.length))}else{if(!D){D=z.className.split(" ");for(var O=0;O<D.length;O++){var M=D[O];if(M in p&&p[M].tag!==null)G|=p[M].flag}if(IS_IOS){D=z.nodeName.toLowerCase();if(D in x)G|=x[D].flag;D=z.style;if(D.fontWeight==="normal")H|=u;if(D.fontStyle==="normal")H|=v}}dom_utils.forEachVisibleChildOfNode(z,function(Q){h(Q,
false,E,G,H)})}}function g(z){return z.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")}function o(z,D,E,G,H,O){if(G===undefined)G=null;if(H===undefined)H=false;if(O===undefined)O=false;var M=null;if(search.inSearchMode())M=search.getSearchQuery().getMatchingChars(z,m);E=f(M,E);var Q=[];content_parsing.forEachUrlInString(z,function(P,V,fa){Q.push({type:"url",spanStart:P,spanLength:V.length,urlContainsProtocol:fa})});content_parsing.forEachEmailAddressInString(z,function(P,V){Q.push({type:"email",
spanStart:P,spanLength:V.length})});content_parsing.forEachPhoneNumberInString(z,function(P,V){Q.push({type:"phonenumber",spanStart:P,spanLength:V.length})});tagging.forEachTagInString(z,function(P,V){Q.push({type:"tag",spanStart:P,spanLength:V.length})},false);Q.sort(function(P,V){if(P.spanStart==V.spanStart)return 0;return P.spanStart<V.spanStart?-1:1});M="";var W=search.inSearchMode()&&search.getSearchQuery().canMetaMatch();if(W)M+='<span class="innerContentContainer">';if(!D&&USE_ANDROID_CHROME_BACKSPACE_HACK)M+=
e;var U=0,aa;for(aa in Q){var X=Q[aa],F=X.spanStart;if(!(F<U)){M+=r(z,E,G,U,X.spanStart,O);U=F+X.spanLength;var K=z.substring(F,U),I=html_utils.htmlEscapeTextForContent(K);switch(X.type){case "url":I=I;X.urlContainsProtocol||(I="http://"+I);F=r(z,E,G,F,U,O);F=k(F,I,H);M+=F;break;case "email":F=r(z,E,G,F,U,O);M+=k(F,"mailto:"+I,H);break;case "phonenumber":I=html_utils.htmlEscapeTextForContent(urls.formatPhoneNumberForTelUrl(K));F=r(z,E,G,F,U,O);M+=k(F,"tel:"+I,H);break;case "tag":K=r(z,E,G,F,F+1,O);
F=r(z,E,G,F+1,U,O);M+='<span class="contentTag" title="Filter '+I+'">'+K+'<span class="contentTagText">'+F+"</span></span>"}U=X.spanStart+X.spanLength}}M+=r(z,E,G,U,z.length,O);if(D)M+="\n";if(W)M+="</span>";return M}function k(z,D,E){return E?'<span class="contentLink">'+z+"</span>":'<a class="contentLink" target="_blank" href="'+D+'">'+z+"</a>"}function r(z,D,E,G,H,O){if(D===null&&E===null)return html_utils.htmlEscapeTextForContent(z.substring(G,H));var M="";for(G=G;G<H;){var Q=G,W;if(D!==null){W=
D[G]|0;for(var U=W===0||!O?Number.MAX_VALUE:1;G<H&&G-Q<U&&(D[G]|0)===W;)G++}else{W=0;G=H}U=G;if(E!==null&&E>=Q&&E<U){Q=z.substring(Q,E);U=z.substring(E,U);Q=html_utils.htmlEscapeTextForContent(Q)+'<span class="contentCaretContainer"><span class="contentCaret"></span>'+html_utils.htmlEscapeTextForContent(U.charAt(0))+"</span>"+html_utils.htmlEscapeTextForContent(U.substring(1))}else{Q=z.substring(Q,U);Q=html_utils.htmlEscapeTextForContent(Q)}if(W!==0){W=W;U="";for(var aa=1,X=false;W!==0;){if((W&1)!==
0){var F=t[aa].contentClass;if(X)U+=" ";U+=F;X=true}W>>=1;aa<<=1}M+='<span class="'+U+'">'+Q+"</span>"}else M+=Q}if(E!==null&&E===z.length&&H===z.length)M+='<span class="contentCaret"></span>';return M}for(var l=new window.DOMParser,c=/&|</,e="\u200b",d=RegExp(e,"g"),m=null,s="",w=[{tag:null,contentClass:"contentMatch"},{tag:"b",contentClass:"contentBold"},{tag:"i",contentClass:"contentItalic"},{tag:"u",contentClass:"contentUnderline"}],t={},x={},p={},a=0;a<w.length;a++){var q=w[a],n=Math.pow(2,a);
q.flag=n;if(q.contentClass==="contentMatch")m=n;t[n]=q;if(q.tag!==null){x[q.tag]=q;s+=(s.length>0?", ":"")+"."+q.contentClass}p[q.contentClass]=q}var u=x.b.flag,v=x.i.flag,A=x.u.flag,y=Class.extend({init:function(z){if(z===undefined)z=null;if(z!==null){this._formatFlags=z._formatFlags;this._setLocation=z._setLocation!==null?utils.copyObject(z._setLocation):null}else{this._formatFlags=0;this._setLocation=null}},copy:function(){return new y(this)},isEmpty:function(){return this._formatFlags===0},boldIsSet:function(){return(this._formatFlags&
u)!==0},italicIsSet:function(){return(this._formatFlags&v)!==0},underlineIsSet:function(){return(this._formatFlags&A)!==0},clear:function(){this._formatFlags=0;this._setLocation=null},toggleBold:function(){this._formatFlags^=u},toggleItalic:function(){this._formatFlags^=v},toggleUnderline:function(){this._formatFlags^=A},setFormatFlagsSetLocation:function(z,D,E){if(E===undefined)E=false;var G=this._setLocation;z={projectReference:project_tree.getProjectReferenceFromDomProject(z.getProject()),isNote:z.isNote(),
caretPos:D};G=G!==null&&z.projectReference.equals(G.projectReference)&&z.isNote===G.isNote&&z.caretPos===G.caretPos;if(!G)this._formatFlags=0;this._setLocation=!G&&E?null:z},clearFormatFlagsSetLocationIfChanged:function(z,D){this.setFormatFlagsSetLocation(z,D,true)}}),C=Class.extend({init:function(z,D){if(z instanceof C){this._isForNote=z._isForNote;this._plainText=z._plainText;this._formatFlagsForChars=z._formatFlagsForChars}else{if(D===undefined)D=false;this._isForNote=D;if(typeof z==="string")if(c.test(z)){var E=
null;try{E=l.parseFromString("<root>"+z+"</root>","text/xml")}catch(G){E=null}var H=false;if(E!==null){var O=E.childNodes.length===1&&E.childNodes[0].nodeName.toLowerCase()==="root"?E.childNodes[0]:null,M=null;if(O!==null){H=true;try{var Q=O.childNodes;M=Q.length===1&&Q[0].nodeType===Node.TEXT_NODE?null:j(O,0)}catch(W){H=false}}}if(H){this._plainText=dom_utils.getInnerText(O);this._formatFlagsForChars=M}else{this._plainText="";this._formatFlagsForChars=null}this._requiredParse=true;this._failedParse=
!H}else{this._plainText=z;this._formatFlagsForChars=null}else{M={plainText:"",formatFlagsForChars:[]};h(z[0],true,M);E=M.plainText;M=M.formatFlagsForChars;if(USE_ANDROID_CHROME_BACKSPACE_HACK){this._originalContentContainsBeginningMarkerChar=E.length>0&&E.charAt(0)===e;H="";O=[];for(Q=0;Q<E.length;Q++){var U=E.charAt(Q),aa=M[Q];if(U!==e){H+=U;O.push(aa)}}E=H;M=O}if(E.charAt(E.length-1)==="\n"){E=E.substring(0,E.length-1);M.splice(M.length-1,1)}this._plainText=E;this._formatFlagsForChars=M}}},requiredParse:function(){return this._requiredParse===
true},failedParse:function(){return this._failedParse===true},originalContentContainsBeginningMarkerChar:function(){return this._originalContentContainsBeginningMarkerChar===true},containsFormatting:function(){if(this._formatFlagsForChars===null)return false;for(var z=0;z<this._formatFlagsForChars.length;z++)if(this._formatFlagsForChars[z]!==0)return true;return false},getLines:function(){for(var z=[],D=0;D<this._plainText.length;){var E=this._plainText.indexOf("\n",D);if(E===-1)E=this._plainText.length;
var G=this._plainText.substring(D,E);D=this._formatFlagsForChars!==null?this._formatFlagsForChars.slice(D,E):null;var H=this.copy();H._plainText=G;H._formatFlagsForChars=D;z.push(H);D=E+1}return z},getText:function(){if(this._formatFlagsForChars===null)return g(this._plainText);for(var z="",D=0,E=0;E<this._plainText.length;){for(var G=E,H=this._formatFlagsForChars[G];E<this._plainText.length&&this._formatFlagsForChars[E]===H;)E++;var O=D&~H,M=H&~D,Q=0;if(M!==0&&(D&~O)>M){for(var W=-2;(M&~W)===0;)W<<=
1;Q|=D&~O&W}if(O!==0&&(D&~O)>O){for(W=-2;(O&~W)===0;)W<<=1;Q|=D&~O&W}O|=Q;M|=Q;if(O!==0)z+=b(O,false);if(M!==0)z+=b(M,true);D=this._plainText.substring(G,E);z+=g(D);D=H}if(D!==0)z+=b(D,false);return z},getContentHtml:function(z,D){if(z===undefined)z=null;if(D===undefined)D=false;return o(this._plainText,this._isForNote,this._formatFlagsForChars,z,D)},getContentHtmlWithSingleCharFormattingSpans:function(){return o(this._plainText,this._isForNote,this._formatFlagsForChars,null,false,true)},getHtml:function(){return r(this._plainText,
this._formatFlagsForChars,null,0,this._plainText.length,false)},getPlainText:function(){return this._plainText},isEmpty:function(){return this._plainText.length===0},copy:function(){return new C(this)},substring:function(z,D){var E=this.copy();E._plainText=E._plainText.substring(z,D);E._formatFlagsForChars=E._formatFlagsForChars!==null?E._formatFlagsForChars.slice(z,D):null;return E},concatenate:function(z){var D=this.copy();if(D._formatFlagsForChars!==null||z._formatFlagsForChars!==null)D._formatFlagsForChars=
(D._formatFlagsForChars||utils.createArrayOfIdenticalElements(0,D._plainText.length)).concat(z._formatFlagsForChars||utils.createArrayOfIdenticalElements(0,z._plainText.length));D._plainText+=z._plainText;return D},insertAtCaret:function(z,D){var E=this.copy();E._plainText=E._plainText.substring(0,D.start)+z+E._plainText.substring(D.end);if(E._formatFlagsForChars!==null){var G=D.start===0?0:E._formatFlagsForChars[D.start-1];E._formatFlagsForChars=E._formatFlagsForChars.slice(0,D.start).concat(utils.createArrayOfIdenticalElements(G,
z.length),E._formatFlagsForChars.slice(D.end))}return E},isEntirelyBold:function(){return this.isEntirelyFormatFlagged(u)},isEntirelyItalic:function(){return this.isEntirelyFormatFlagged(v)},isEntirelyUnderline:function(){return this.isEntirelyFormatFlagged(A)},isEntirelyFormatFlagged:function(z){if(this._plainText.length===0)return true;if(this._formatFlagsForChars===null)return false;for(var D=0;D<this._formatFlagsForChars.length;D++)if((this._formatFlagsForChars[D]&z)===0)return false;return true},
toggleBoldForCaret:function(z){this.toggleFormatFlagForCaret(u,z)},toggleItalicForCaret:function(z){this.toggleFormatFlagForCaret(v,z)},toggleUnderlineForCaret:function(z){this.toggleFormatFlagForCaret(A,z)},toggleFormatFlagForCaret:function(z,D){if(this._formatFlagsForChars===null)this._formatFlagsForChars=utils.createArrayOfIdenticalElements(0,this._plainText.length);for(var E=true,G=D.start;G<D.end;G++)if((this._formatFlagsForChars[G]&z)===0){E=false;break}for(G=D.start;G<D.end;G++)if(E)this._formatFlagsForChars[G]&=
~z;else this._formatFlagsForChars[G]|=z}});return{CONTENT_BEGINNING_MARKER_CHAR_FOR_ANDROID_BACKSPACE_HACK:e,CONTENT_BEGINNING_MARKER_CHAR_FOR_ANDROID_BACKSPACE_HACK_REGEXP:d,FormatFlags:y,ContentText:C,getContentHtml:function(z,D,E,G){if(E===undefined)E=null;if(G===undefined)G=false;return(new C(z,D)).getContentHtml(E,G)},getHtml:function(z){return(new C(z)).getHtml()},getPlainText:function(z){return(new C(z)).getPlainText()},getTextForContent:function(z){return(new C(z)).getText()},getPlainTextForContent:function(z){return(new C(z)).getPlainText()},
createContentTextContainerFromPlainText:function(z,D){return new C(g(z),D)},xmlEscapeTextForContentText:g,getContentClassesSelector:function(){return s}}}(),html_utils=function(){function b(f){return f.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/\u00A0/g,"&nbsp;")}return{xmlEscapeText:function(f){return f.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\n/g,"&#10;")},htmlEscapeTextForContent:b,htmlEscapeText:function(f){return b(f).replace(/"/g,
"&quot;")}}}(),key_events=function(){var b=["keydown","keyup","keypress"],f={8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",91:"meta",93:"meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",
122:"f11",123:"f12",144:"numlock",145:"scroll",186:";",188:",",190:".",191:"/",219:"[",221:"]",222:"'",224:"meta"},j={"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|","[":"{","]":"}"},h=Class.extend({init:function(g,o){function k(e){function d(m){return r.handleEvent(this,e,m,arguments)}o?g.bind(e,d):g.live(e,d)}if(o===undefined)o=false;var r=this;this._useBind=o;this._boundHandlers={};for(var l=
0;l<b.length;l++){var c=b[l];this._boundHandlers[c]={};k(c)}},handleEvent:function(g,o,k,r){o=this._boundHandlers[o];var l=k.type!=="keypress"&&k.which in f?f[k.which]:null,c=String.fromCharCode(k.which).toLowerCase(),e="";if(k.altKey&&l!=="alt")e+="alt+";if(k.ctrlKey&&l!=="ctrl")e+="ctrl+";if(k.metaKey&&!k.ctrlKey&&l!=="meta")e+="meta+";if(k.shiftKey&&l!=="shift")e+="shift+";k={};if(l!==null)k[e+l]=true;else{k[e+c]=true;k[e+j[c]]=true;if(e==="shift+")k[j[c]]=true}l=false;for(var d in o)if(d in k){c=
o[d];for(e=0;e<c.length;e++){var m=c[e].apply(g,r);l|=m===false}}if(l)return false},addHandler:function(g,o,k){o=o.toLowerCase();g=this._boundHandlers[g];if(o in g)g[o].push(k);else g[o]=[k]},addHandlerForShortcuts:function(g,o,k,r){for(var l=0;l<k.length;l++)this.addHandler(g,k[l]+"+"+o,r)}});return{enableKeyEvents:function(g,o){return new h(g,o)},getStringRepresentationForKeyCode:function(g){return g in f?f[g]:null}}}(),animations=function(){var b={zoom:150,children:100,pageSlide:400},f=new (Class.extend({init:function(){this._animationsInProgress=
0;this._callbacks=[];this._contentToFocus=null;this._caretPos=0},setContentToFocus:function(j){this._contentToFocus=j},setCaretPos:function(j){this._caretPos=j},addCallback:function(j){this._callbacks.push(j)},increment:function(){this._animationsInProgress++},decrement:function(){this._animationsInProgress--;if(this._animationsInProgress===0)this.animationsComplete();else this._animationsInProgress<0&&ui_sugar.showAlertDialog("Less than zero animations!")},animationsAreInProgress:function(){return this._animationsInProgress>
0},animationsComplete:function(){$.each(this._callbacks,function(g,o){o()});this._callbacks=[];var j=this._contentToFocus,h=this._caretPos;this._contentToFocus=null;this._caretPos=0;setTimeout(function(){IS_MOBILE||j!==null&&j.setCaret(h)},0)}}));jQuery.fn.incrementAnimationCounter=function(){$(this).each(function(){f.increment()});$(this).length===0&&!f.animationsAreInProgress()&&f.animationsComplete();return this};return{getAnimationTiming:function(j){return b[j]},setAnimationTiming:function(j,
h){b[j]=h},getAnimationSpeed:function(j){if(NO_ANIMATIONS)return"instant";if(j===undefined)return"animate";return j},animationsAreInProgress:function(){return f.animationsAreInProgress()},getAnimationCounter:function(){return f}}}(),project_tree_object=function(){function b(p,a){r(p,a);o(p);k(p);p[t]=new tagging.ItemTagManager(p,true)}function f(p){return c in p}function j(p){return f(p)?p[c]:""}function h(p){return e in p}function g(p){return h(p)?p[e]:""}function o(p){if(f(p)){var a=new content_text.ContentText(j(p),
false);if(a.requiredParse()){p[s]=a;return}}delete p[s]}function k(p){if(h(p)){var a=new content_text.ContentText(g(p),true);if(a.requiredParse()){p[w]=a;return}}delete p[w]}function r(p,a){if(a===null)p[m]=null;else if(a.isAuxiliary())p[m]=a}function l(p){return d in p?p[d]:null}var c="nm",e="no",d="as",m="pt",s="name_ct",w="note_ct",t="tag_mgr",x=null;return{initModule:function(){x={};x[c]="<i>(removed by owner)</i>";x.ch=[];b(x,null)},create:function(p,a,q,n,u){if(a===undefined)a=null;if(q===undefined)q=
null;if(n===undefined)n=null;if(u===undefined)u=null;var v={};v.id=p;if(a!==null)v[c]=a;if(q!==null)v[e]=q;if(n!==null)v.cp=n;if(u!==null)v.ch=u;return v},initialize:function(p,a){"ch"in p||(p.ch=[]);r(p,a);o(p);k(p);p[t]=new tagging.ItemTagManager(p,false);if("shared"in p){var q=p.shared;"share_id"in q||(q.share_id=p.id);p.shared_info=new sharing.ItemSharedInfo(q);delete p.shared}},initializeRootOfSharedSubtree:b,getProjectId:function(p){return p.id},setProjectId:function(p,a){p.id=a},hasName:f,
getName:j,setName:function(p,a){p[c]=a},hasNote:h,getNote:g,setNote:function(p,a){p[e]=a},isCompleted:function(p){return"cp"in p},getCompleted:function(p){return"cp"in p?p.cp:false},setCompleted:function(p,a){if(a===false)delete p.cp;else p.cp=a},getLastModified:function(p){return p.lm},setLastModified:function(p,a,q){p.lm=a;if(q===null)delete p.lmb;else p.lmb=q},getLastModifiedBy:function(p){return"lmb"in p?p.lmb:null},getSharedInfo:function(p){return"shared_info"in p?p.shared_info:null},setSharedInfo:function(p,
a){if(a===null)delete p.shared_info;else p.shared_info=a},getChildren:function(p){return p.ch},setChildren:function(p,a){p.ch=a},getParent:function(p){return p.pa},setParent:function(p,a){p.pa=a},updateNameContentText:o,updateNoteContentText:k,getNameInPlainText:function(p){return s in p?p[s].getPlainText():j(p)},getNoteInPlainText:function(p){return w in p?p[w].getPlainText():g(p)},getTagManager:function(p){return p[t]},hasSearchResult:function(p){return"search_result"in p},getSearchResult:function(p){return"search_result"in
p?p.search_result:null},setSearchResult:function(p,a){p.search_result=a},clearSearchResult:function(p){delete p.search_result},getProjectTree:function(p){return m in p?p[m]:project_tree.getMainProjectTree()},setProjectTree:r,isAddedSubtreePlaceholder:function(p){return l(p)!==null},getAddedSubtreeShareId:l,setAddedSubtreeShareId:function(p,a){p[d]=a},getAddedSubtree:function(p){return"added_subtree"in p?p.added_subtree:null},setAddedSubtree:function(p,a){p.added_subtree=a},isInDom:function(p){return"in_dom"in
p?p.in_dom:false},setInDom:function(p,a){if(a)p.in_dom=true;else delete p.in_dom},isExpandedInDom:function(p){return"is_expanded_in_dom"in p?p.is_expanded_in_dom:null},setIsExpandedInDom:function(p,a){if(a===null)delete p.is_expanded_in_dom;else p.is_expanded_in_dom=a},getDanglingPlaceholderProjectTreeObject:function(){return x}}}(),global_project_tree_object=function(){function b(g){if(project_tree_object.isAddedSubtreePlaceholder(g)){g=project_tree_object.getAddedSubtree(g);return g!==null?g.getRootProject():
project_tree_object.getDanglingPlaceholderProjectTreeObject()}else return g}function f(g){if(project_tree_object.isAddedSubtreePlaceholder(g)){g=project_tree_object.getAddedSubtree(g);g!==null&&g.notifyContentsAreVisibleMayHaveChanged()}}function j(g){return g.join("")+'<div class="childrenEnd"></div>'+(!IS_MOBILE?'<div class="addSiblingButton"></div>':"")}function h(g){var o={};global_project_tree_object.hasName(g)&&project_tree_object.setName(o,global_project_tree_object.getName(g));global_project_tree_object.hasNote(g)&&
project_tree_object.setNote(o,global_project_tree_object.getNote(g));global_project_tree_object.isCompleted(g)&&project_tree_object.setCompleted(o,true);if(global_project_tree_object.isExpanded(g))o.expanded=true;g=global_project_tree_object.getChildren(g);if(g.length>0){for(var k=[],r=0;r<g.length;r++){var l=h(g[r],false);k.push(l)}project_tree_object.setChildren(o,k)}return o}return{getProjectId:function(g){return project_tree.getProjectIdOfProjectTreeObject(g)},getProjectTree:function(g){return g===
null?project_tree.getMainProjectTree():project_tree_object.getProjectTree(g)},hasName:function(g){return project_tree_object.hasName(b(g))},getName:function(g){return project_tree_object.getName(b(g))},setName:function(g,o){project_tree_object.setName(b(g),o)},hasNote:function(g){return project_tree_object.hasNote(b(g))},getNote:function(g){return project_tree_object.getNote(b(g))},setNote:function(g,o){project_tree_object.setNote(b(g),o)},isCompleted:function(g){return project_tree_object.isCompleted(b(g))},
getCompleted:function(g){return project_tree_object.getCompleted(b(g))},setCompleted:function(g,o){project_tree_object.setCompleted(b(g),o)},getLastModified:function(g){return project_tree_object.getLastModified(g)},setLastModified:function(g,o,k){project_tree_object.setLastModified(g,o,k)},getLastModifiedByUserId:function(g){var o=project_tree_object.getLastModifiedBy(g);return o!==null?o:global_project_tree_object.getProjectTree(g).getOwnerId()},getSharedInfo:function(g){return project_tree_object.getSharedInfo(b(g))},
setSharedInfo:function(g,o){project_tree_object.setSharedInfo(b(g),o)},getNameInPlainText:function(g){return project_tree_object.getNameInPlainText(b(g))},getNoteInPlainText:function(g){return project_tree_object.getNoteInPlainText(b(g))},getTagManager:function(g){return project_tree_object.getTagManager(b(g))},hasSearchResult:function(g){return project_tree_object.hasSearchResult(g)},getSearchResult:function(g){g=project_tree_object.getSearchResult(g);return g!==null?g:search.getNonMatchItemSearchResult()},
setSearchResult:function(g,o){project_tree_object.setSearchResult(g,o)},clearSearchResult:function(g){project_tree_object.clearSearchResult(g)},getAddedSubtreeShareId:function(g){return project_tree_object.getAddedSubtreeShareId(g)},isInDom:function(g){return g===null?true:project_tree_object.isInDom(g)},setInDom:function(g,o){project_tree_object.setInDom(g,o);f(g)},isExpandedInDom:function(g){return project_tree_object.isExpandedInDom(g)},setIsExpandedInDom:function(g,o){project_tree_object.setIsExpandedInDom(g,
o);f(g)},getChildren:function(g){if(g===null)return project_tree.getMainProjectTree().getRootProjectChildren();if(project_tree_object.isAddedSubtreePlaceholder(g)){g=project_tree_object.getAddedSubtree(g);return g!==null?g.getRootProjectChildren():project_tree_object.getChildren(project_tree_object.getDanglingPlaceholderProjectTreeObject())}else return project_tree_object.getChildren(g)},getParent:function(g){var o=project_tree_object.getParent(g);if(o!==null)return o;else{g=global_project_tree_object.getProjectTree(g);
return g.isAuxiliary()?project_tree.getMainProjectTree().getSharedSubtreePlaceholder(g.getShareId()):null}},getSiblings:function(g){if(g===null)return[null];g=global_project_tree_object.getParent(g);return global_project_tree_object.getChildren(g)},isReadOnly:function(g){return READ_ONLY_MAIN_TREE||g===null||project_tree_object.isAddedSubtreePlaceholder(g)||global_project_tree_object.isInReadOnlyTree(g)},isInReadOnlyTree:function(g){return g!==null&&project_tree_object.getProjectTree(g).isReadOnly()},
getProjectReference:function(g){return(g===null?project_tree.getMainProjectTree():global_project_tree_object.getProjectTree(g)).getProjectReferenceByProjectTreeObject(g)},isExpanded:function(g){return global_project_tree_object.getProjectTree(g).projectIdIsExpanded(global_project_tree_object.getProjectId(g))},isAddedSubtreePlaceholder:function(g){return g!==null&&project_tree_object.isAddedSubtreePlaceholder(g)},isPotentiallyVisible:function(g,o){if(o===undefined)o=false;var k=shouldShowCompletedProjects(),
r=false;if(!global_project_tree_object.isCompleted(g)||k)if(!o&&search.inSearchMode()){r=global_project_tree_object.getProjectReference(g);r=!global_project_tree_object.getSearchResult(g).isNeverVisibleForSearch(r,k)}else r=true;return r},getPotentiallyVisibleChildren:function(g,o){if(o===undefined)o=false;for(var k=global_project_tree_object.getChildren(g),r=[],l=0;l<k.length;l++){var c=k[l];global_project_tree_object.isPotentiallyVisible(c,o)&&r.push(c)}return r},getPreviousPotentiallyVisibleSibling:function(g,
o){for(var k=global_project_tree_object.getSiblings(g),r=k.indexOf(g)-1;r>=0;r--){var l=k[r];if(global_project_tree_object.isPotentiallyVisible(l,o))return l}return null},getNextPotentiallyVisibleSibling:function(g,o){for(var k=global_project_tree_object.getSiblings(g),r=k.indexOf(g)+1;r<k.length;r++){var l=k[r];if(global_project_tree_object.isPotentiallyVisible(l,o))return l}return null},getTreeForChildren:function(g){return g===null?project_tree.getMainProjectTree():project_tree_object.isAddedSubtreePlaceholder(g)?
project_tree_object.getAddedSubtree(g):project_tree_object.getProjectTree(g)},childrenAreInReadOnlyTree:function(g){g=global_project_tree_object.getTreeForChildren(g);return g!==null?g.isReadOnly():true},constructProjectTreeAsSelected:function(g,o){if(o===undefined)o=true;var k=selectOnActivePage(".mainTreeRoot");k.overwriteProjectChildrenHtml(function(){var c=[];if(o){var e=global_project_tree_object.getChildren(g),d;for(d in e)c.push(global_project_tree_object.constructProjectTreeHtml(e[d]))}e=
true;d=g;for(c=c;d!==null;){c=[global_project_tree_object.constructProjectTreeHtml(d,c,e?"selected":"parent")];d=global_project_tree_object.getParent(d);e=false}return j(c)});if(project_tree.getMainProjectTree().isShared()){var r=project_tree.getMainProjectTree(),l=r.getName();r=r.getNote()}else{l="Home";r=""}k.getName().children(".content").html(content_text.getContentHtml(l));k.getNotes().children(".content").html(content_text.getContentHtml(r));k.removeClass("selected parent noted");g===null?k.addClass("selected"):
k.addClass("parent");r!==""&&k.addClass("noted");if(o){k=selectOnActivePage(".addButton");global_project_tree_object.childrenAreInReadOnlyTree(g)?k.addClass("selectedTreeIsReadOnly"):k.removeClass("selectedTreeIsReadOnly");refreshVisibleChildrenUnderSelectedForAddButton(k)}},constructProjectTreeHtml:function(g,o,k){if(o===undefined)o=null;if(k===undefined)k="";var r=global_project_tree_object.getProjectReference(g),l=global_project_tree_object.getProjectId(g),c=global_project_tree_object.getName(g),
e=global_project_tree_object.getNote(g),d=global_project_tree_object.isCompleted(g),m=global_project_tree_object.getSharedInfo(g)!==null,s=global_project_tree_object.isAddedSubtreePlaceholder(g),w=global_project_tree_object.getChildren(g),t=shouldShowCompletedProjects();if(o===null)if(d&&!t||search.inSearchMode()&&global_project_tree_object.getSearchResult(g).isNeverVisibleForSearch(r,t))return"";var x=false;if(w.length>0)x=search.inSearchMode()?global_project_tree_object.getSearchResult(g).isExpandedForSearch(r):
global_project_tree_object.isExpanded(g);global_project_tree_object.setInDom(g,true);global_project_tree_object.setIsExpandedInDom(g,o!==null||x);var p=t="",a="";if(w.length===0)t+="task ";if(d)t+="done ";if(e!=="")t+="noted ";if(m)t+="shared ";if(s)t+="addedShared ";if(x)t+="open ";t+=k+" ";if(search.inSearchMode()){r=global_project_tree_object.getSearchResult(g).getAdditionalClassesForSearch(r);t+=r.project+" ";p+=r.name+" ";a+=r.note+" "}o=o!==null?o:x?global_project_tree_object.constructChildProjectTreeHtmls(g):
[];r=k==="parent";k=!IS_MOBILE&&!READ_ONLY_MAIN_TREE&&!r?" contenteditable":"";if(!IS_MOBILE&&!IS_PACKAGED_APP)var q=window.location.pathname+"#/"+project_ids.truncateProjectId(l);c=content_text.getContentHtml(c,false,null,r);c=r&&!IS_MOBILE&&!IS_PACKAGED_APP?'<a class="content" href="'+q+'">'+c+"</a>":'<div class="content"'+k+">"+c+"</div>";q=IS_MOBILE?'<div class="bullet"><div></div></div>':'<a class="bullet"'+(IS_PACKAGED_APP?"":' href="'+q+'"')+"></a>";g=global_project_tree_object.getProjectTree(g);
g=g.isAuxiliary()?' data-tid="'+g.getTreeId()+'"':"";return'<div class="project '+t+'" projectid="'+l+'"'+g+'><div class="name '+p+'">'+q+c+'<span class="parentArrow"></span></div><div class="notes '+a+'"><div class="content"'+k+">"+content_text.getContentHtml(e,true)+'</div></div><div class="children">'+j(o)+"</div></div>"},constructChildProjectTreeHtmls:function(g){g=global_project_tree_object.getChildren(g);for(var o=[],k=0;k<g.length;k++)o.push(global_project_tree_object.constructProjectTreeHtml(g[k]));
return o},constructChildren:j,registerSubtreeRemovedFromDom:function(g,o){if(o===undefined)o=false;if(!o){if(!global_project_tree_object.isInDom(g))return;global_project_tree_object.setInDom(g,false);global_project_tree_object.setIsExpandedInDom(g,null)}for(var k=global_project_tree_object.getChildren(g),r=0;r<k.length;r++)global_project_tree_object.registerSubtreeRemovedFromDom(k[r])},duplicateProjectTreeForBulkCreate:function(g,o){if(o===undefined)o=false;var k=h(g);o&&project_tree_object.setName(k,
project_tree_object.getName(k)+" (copy)");return k}}}(),project_tree=function(){function b(a,q){if(q===undefined)q=false;var n=String(e);e++;var u=new x(a,n);c[n]=u;q||h().registerAddedAuxiliaryProjectTree(u)}function f(a){for(var q=new tagging.TagCounter,n=global_project_tree_object.getChildren(a),u=0;u<n.length;u++){var v=f(n[u]);q.add(v)}if(a===null){a=h();if(a.isShared()){a=a.getRootProject();a=project_tree_object.getTagManager(a);q.add(a.getTagCounts())}tagging.setRootDescendantTagCounts(q);
return q}else{a=global_project_tree_object.getTagManager(a);q.isEmpty()||a.setDescendantTagCounts(q);n=new tagging.TagCounter;n.add(a.getTagCounts());n.add(q);return n}}function j(a,q){if(q===undefined)q=c;for(var n in q){var u=q[n];if(u.isShared()&&u.getShareId()===a)return u}return null}function h(){return c[l]}function g(a,q){for(var n={},u=0;u<a.length;u++){var v=a[u],A=global_project_tree_object.getProjectId(v);v=global_project_tree_object.getProjectTree(v).getTreeId();v in n||(n[v]=[]);n[v].push(A)}for(v in n)(v in
c?c[v]:null).setExpandedForProjectIds(n[v],q)}function o(a){var q=a.attr("projectid");a=a.attr("data-tid");if(a===undefined)a=l;return new t(q,a)}function k(a){return a!==null?project_tree_object.getProjectId(a):m}function r(){if(s===null)s=new p;return s}var l="main",c={},e=0,d={},m="None",s=null,w=Class.extend({init:function(a){this.treeId=a},getProjectTree:function(){return this.treeId in c?c[this.treeId]:null}}),t=Class.extend({init:function(a,q){this.projectid=a;this.treeId=q},isValid:function(){return this.getProjectTree()!==
null&&this.getProjectTreeObject()!==undefined},getProjectId:function(){return this.projectid},getProjectTreeObject:function(){return this.getProjectTree().getProjectTreeObjectByProjectId(this.projectid)},getDeletedProjectTreeObject:function(){return this.getProjectTree().getDeletedProjectTreeObjectByProjectId(this.projectid)},getProjectTree:function(){return this.treeId in c?c[this.treeId]:null},equals:function(a){return this.treeId===a.treeId&&this.projectid===a.projectid},isTreeRoot:function(){return this.projectid===
m},isMainTreeRoot:function(){return this.treeId===l&&this.isTreeRoot()},getUniqueIdentifier:function(){return this.treeId+":"+this.projectid},getUniqueIdentifierWithTruncatedProjectIds:function(){var a="",q=this.getProjectTree().getRootProjectId();if(q!==null)a+=project_ids.truncateProjectId(q)+":";a+=project_ids.truncateProjectId(this.projectid);return a},getName:function(){var a=this.getProjectTreeObject();return a!==null?global_project_tree_object.getName(a):null},getNote:function(){var a=this.getProjectTreeObject();
return a!==null?global_project_tree_object.getNote(a):null},getSharedInfo:function(){var a=this.getProjectTreeObject();return a!==null?global_project_tree_object.getSharedInfo(a):null},getTagManager:function(){var a=this.getProjectTreeObject();return a!==null?global_project_tree_object.getTagManager(a):null},getSharedUrl:function(){var a=this.getProjectTreeObject();if(this.isAddedSubtreePlaceholder())a=global_project_tree_object.getAddedSubtreeShareId(a);else{a=global_project_tree_object.getSharedInfo(a);
a=a!==null?a.getShareId():null}return a!==null?"https://workflowy.com/s/"+a:"(not known yet)"},translateToGlobalProjectTreeObject:function(){if(this.projectid===m){var a=this.getProjectTree();if(a===null)return;if(a.isAuxiliary())return h().getSharedSubtreePlaceholder(a.getShareId())}return this.getProjectTreeObject()},getPlaceholderReferenceIfApplicable:function(){var a=this.translateToGlobalProjectTreeObject();return global_project_tree_object.getProjectReference(a)},getNonPlaceholderReferenceIfApplicable:function(){if(!this.isAddedSubtreePlaceholder())return this;
var a=this.getProjectTreeObject();a=project_tree_object.getAddedSubtree(a);return a!==null?a.getRootProjectReference():null},getMatchingDomProject:function(){var a=this.translateToGlobalProjectTreeObject();if(a!==undefined){if(!global_project_tree_object.isInDom(a))return $();var q=global_project_tree_object.getProjectTree(a).getTreeId();a=global_project_tree_object.getProjectId(a)}else{if(this.projectid===m)return $();q=this.treeId;a=this.projectid}return selectOnActivePage(".project[projectid="+
a+"]"+(q===l?":not([data-tid])":"[data-tid="+q+"]"))},getParent:function(){var a=this.getProjectTreeObject();if(a===null)return null;a=global_project_tree_object.getParent(a);return global_project_tree_object.getProjectReference(a)},getAncestors:function(){for(var a=this.getProjectTreeObject(),q=[];a!==null;){a=global_project_tree_object.getParent(a);q.push(global_project_tree_object.getProjectReference(a))}return q},getNumDescendants:function(a){if(a===undefined)a=null;if(a!==null&&a===0)return 0;
var q=this.getProjectTreeObject(),n=0,u=function(v){v=global_project_tree_object.getChildren(v);if(v.length>0)for(var A=0;A<v.length;A++){n++;if(a!==null&&n===a)return true;if(u(v[A]))return true}return false};u(q);return n},hasDescendants:function(){return this.getNumDescendants(1)>0},isReadOnly:function(){return global_project_tree_object.isReadOnly(this.getProjectTreeObject())},isInReadOnlyTree:function(){return global_project_tree_object.isInReadOnlyTree(this.getProjectTreeObject())},isAddedSubtreePlaceholder:function(){return global_project_tree_object.isAddedSubtreePlaceholder(this.getProjectTreeObject())},
isInSameTree:function(a){return this.treeId===a.treeId},childrenAreInSameTree:function(a){var q=this.getProjectTreeObject();q=global_project_tree_object.getTreeForChildren(q);return q!==null?q.getTreeId()===a.treeId:false},childrenAreInReadOnlyTree:function(){return global_project_tree_object.childrenAreInReadOnlyTree(this.getProjectTreeObject())},getShareTypeForTreeForChildren:function(){var a=this.getProjectTreeObject();a=global_project_tree_object.getTreeForChildren(a);return a!==null&&a.isShared()?
a.getShareType():null},isDescendantOf:function(a){var q=this.getAncestors(),n=false;$.each(q,function(u,v){if(a.equals(v)){n=true;return false}});return n},isValidMove:function(a,q){if(q===undefined)q=false;var n=q?this.getProjectTree().deletedProjectSubtreeContainsAddedSubtreePlaceholder(this.getDeletedProjectTreeObject()):this.containsAddedSubtreePlaceholder();if(a.is(".project")){var u=project_tree.getProjectReferenceFromDomProject(a);if(!u.isInSameTree(this))return false;if(n&&u.hasSharedAncestor())return false;
if(!q&&u.isDescendantOf(this))return false}else{u=a.getProject();u=project_tree.getProjectReferenceFromDomProject(u);if(!u.childrenAreInSameTree(this))return false;if(n&&u.hasSharedAncestor(true))return false;if(!q&&u.isDescendantOf(this)||u.equals(this))return false}return true},isValidDuplicate:function(a){if(a.is(".project")){a=project_tree.getProjectReferenceFromDomProject(a);if(a.isInReadOnlyTree())return false;if(a.isDescendantOf(this))return false}else{a=a.getProject();a=project_tree.getProjectReferenceFromDomProject(a);
if(a.childrenAreInReadOnlyTree())return false;if(a.isDescendantOf(this)||a.equals(this))return false}return true},canCreateChild:function(){var a=this.getProjectTreeObject();a=global_project_tree_object.getTreeForChildren(a);return a!==null?!a.isReadOnly():false},hasSharedAncestor:function(a){if(a===undefined)a=false;if(a&&this.isAddedSubtreePlaceholder())return false;return this.getProjectTree().projectTreeObjectHasSharedAncestor(this.getProjectTreeObject(),a)},containsAddedSubtreePlaceholder:function(){return this.getProjectTree().projectSubtreeContainsAddedSubtreePlaceholder(this.getProjectTreeObject())},
constructProjectTreeAsSelected:function(a){global_project_tree_object.constructProjectTreeAsSelected(this.getProjectTreeObject(),a)},constructChildProjectTreeHtmls:function(){return global_project_tree_object.constructChildProjectTreeHtmls(this.getProjectTreeObject())},getChildren:function(){for(var a=global_project_tree_object.getChildren(this.getProjectTreeObject()),q=[],n=0;n<a.length;n++)q.push(global_project_tree_object.getProjectReference(a[n]));return q},getPotentiallyVisibleChildren:function(){for(var a=
global_project_tree_object.getPotentiallyVisibleChildren(this.getProjectTreeObject()),q=[],n=0;n<a.length;n++){var u=global_project_tree_object.getProjectReference(a[n]);q.push(u)}return q},getPreviousPotentiallyVisibleSibling:function(a){a=global_project_tree_object.getPreviousPotentiallyVisibleSibling(this.getProjectTreeObject(),a);return a!==null?global_project_tree_object.getProjectReference(a):null},getNextPotentiallyVisibleSibling:function(a){a=global_project_tree_object.getNextPotentiallyVisibleSibling(this.getProjectTreeObject(),
a);return a!==null?global_project_tree_object.getProjectReference(a):null},setPageTitleForProject:function(){var a=this.getProjectTreeObject(),q=null,n=true;if(a===null){a=this.getProjectTree();if(a.isShared())q=content_text.getPlainText(a.getName());else if(!IS_MOBILE){q="Organize your brain.";n=false}}else q=content_text.getPlainText(global_project_tree_object.getName(a));if(q!==null){if(q.length>100)q=q.substring(0,100)+"...";document.title=n?q+" - WorkFlowy":"WorkFlowy - "+q}else document.title=
"WorkFlowy"},setPageTitleAndFragmentPathForProject:function(){this.setPageTitleForProject();location_history.notifyZoomChange(this)},setExpanded:function(a){this.getProjectTree().setExpandedForProjectIds([this.projectid],a)},isExpanded:function(){return global_project_tree_object.isExpanded(this.getProjectTreeObject())},expandOrCollapseAllDescendants:function(a){function q(A){var y=global_project_tree_object.getChildren(A);if(y.length>0){u.push(A);for(A=0;A<y.length;A++)q(y[A])}}var n=this.getProjectTreeObject(),
u=[];n=global_project_tree_object.getChildren(n);for(var v=0;v<n.length;v++)q(n[v]);g(u,a)},getLastModifiedDateString:function(){var a=this.getProjectTreeObject();a=global_project_tree_object.getLastModified(a);return this.getProjectTree().clientTimestampToString(a)},getCompletedDateString:function(){var a=this.getProjectTreeObject();a=global_project_tree_object.getCompleted(a);return a===false?null:this.getProjectTree().clientTimestampToString(a)},getLastModifiedByUserId:function(){var a=this.getProjectTreeObject();
return global_project_tree_object.getLastModifiedByUserId(a)},getPriority:function(){var a=this.getProjectTreeObject();return global_project_tree_object.getSiblings(a).indexOf(a)},duplicateProjectTreeForBulkCreate:function(a,q){if(a===undefined)a=false;if(q===undefined)q=false;var n=q?this.getDeletedProjectTreeObject():this.getProjectTreeObject();return global_project_tree_object.duplicateProjectTreeForBulkCreate(n,a)},registerSubtreeRemovedFromDom:function(a){global_project_tree_object.registerSubtreeRemovedFromDom(this.getProjectTreeObject(),
a)},setIsExpandedInDom:function(a){global_project_tree_object.setIsExpandedInDom(this.getProjectTreeObject(),a)},applyLocalEdit:function(a,q){this.getProjectTree().applyLocalEdit(this.getProjectTreeObject(),a,q)},applyLocalCreateChild:function(a){var q=this.getParentReferenceForCreate();return q.getProjectTree().applyLocalCreateChild(q.getProjectTreeObject(),a)},applyLocalBulkCreateChildren:function(a,q){var n=this.getParentReferenceForCreate();return n.getProjectTree().applyLocalBulkCreateChildren(n.getProjectTreeObject(),
a,q)},getParentReferenceForCreate:function(){var a=this.getProjectTreeObject();if(a!==null&&project_tree_object.isAddedSubtreePlaceholder(a)){a=project_tree_object.getAddedSubtree(a);if(a!==null)return a.getProjectReferenceByProjectId(m);else throw Error("Trying to create child of dangling placeholder.");}else return this},applyLocalComplete:function(){this.getProjectTree().applyLocalComplete(this.getProjectTreeObject())},applyLocalUncomplete:function(){this.getProjectTree().applyLocalUncomplete(this.getProjectTreeObject())},
applyLocalDelete:function(){this.getProjectTree().applyLocalDelete(this.getProjectTreeObject())},applyLocalUndelete:function(a,q){var n=this._getNewParentProjectTreeObjectFromReference(a);this.getProjectTree().applyLocalUndelete(this.projectid,n,q)},_getNewParentProjectTreeObjectFromReference:function(a){var q=this.getProjectTree();a=a.getProjectTreeObject();if(a!==null&&project_tree_object.isAddedSubtreePlaceholder(a)){var n=project_tree_object.getAddedSubtree(a);if(n!==null){if(n===q)a=null}else throw Error("Trying to move an item under a dangling placeholder.");
}return a},applyLocalShare:function(a,q){this.getProjectTree().applyLocalShare(this.getProjectTreeObject(),a,q)},applyLocalUnshare:function(){this.getProjectTree().applyLocalUnshare(this.getProjectTreeObject())},applyLocalAddSharedEmail:function(a,q){this.getProjectTree().applyLocalAddSharedEmail(this.getProjectTreeObject(),a,q)},applyLocalRemoveSharedEmail:function(a){this.getProjectTree().applyLocalRemoveSharedEmail(this.getProjectTreeObject(),a)}}),x=Class.extend({init:function(a,q){this.treeId=
q;this.isMainProjectTree=q===l;this.isDefunct=false;var n=a.rootProject;this.namespace="tree."+(n!==null?project_tree_object.getProjectId(n):l);this.rootProject=n;this.rootProjectChildren=a.rootProjectChildren;this.initialMostRecentOperationTransactionId=a.initialMostRecentOperationTransactionId;this.initialPollingIntervalInMs=a.initialPollingIntervalInMs;this.serverExpandedProjectsList=a.serverExpandedProjectsList;this.readOnly=DEMO_MODE&&this.isMainProjectTree?false:a.isReadOnly;this.ownerId=a.ownerId;
this.dateJoinedTimestampInSeconds=a.dateJoinedTimestampInSeconds;if(this.rootProject!==null)this.overQuota=new userstorage.PersistentValue(this.namespace,"overQuota",a.overQuota);else{this.itemsCreatedInCurrentMonth=new userstorage.PersistentValue(this.namespace,"itemsCreatedInCurrentMonth",a.itemsCreatedInCurrentMonth);this.monthlyItemQuota=new userstorage.PersistentValue(this.namespace,"monthlyItemQuota",a.monthlyItemQuota)}if(this.rootProject!==null){this.shareId="shareId"in a?a.shareId:project_tree_object.getProjectId(n);
this.shareType=a.shareType}else this.shareType=this.shareId=null;this.isMainProjectTree?utils.debugMessage("Initializing main project tree."):utils.debugMessage("Initializing auxiliary project tree (id: "+q+") rooted at projectid: "+project_tree_object.getProjectId(this.rootProject));utils.debugMessage("Initial polling interval: "+this.initialPollingIntervalInMs+" ms");this.operationRunner=new operations.ProjectTreeOperationRunner(this);this.projectIdToProjectMap=new project_ids.ProjectIdMap;this.deletedProjectIdToProjectMap=
new project_ids.ProjectIdMap;this.sharedSubtreePlaceholders={};this.expandedProjects={};this.localStorageExpandedProjects={};this.serverRunOperationTransactionQueue=new userstorage.PersistentOperationTransactionQueue(this.namespace,"server-run");this.pendingOperationQueue=new userstorage.PersistentOperationQueue(this.namespace,"pending");this.inFlightOperationQueue=new userstorage.PersistentOperationQueue(this.namespace,"in-flight");this.pendingExpandedProjectsDelta=new userstorage.PersistentDict(this.namespace,
"pendingExpandedProjectsDelta");this.inFlightExpandedProjectsDelta=new userstorage.PersistentDict(this.namespace,"inFlightExpandedProjectsDelta");this.mostRecentOperationTransactionId=new userstorage.PersistentValue(this.namespace,"mostRecentOperationTransactionId",this.initialMostRecentOperationTransactionId);this.pollingIntervalInMs=new userstorage.PersistentValue(this.namespace,"pollingIntervalInMs",this.initialPollingIntervalInMs);this.pushPollInProgress=new userstorage.PersistentValue(this.namespace,
"pushPollInProgress",false);this.mostRecentOperationTransactionIdWhenPushPollInitiated=new userstorage.PersistentValue(this.namespace,"mostRecentOperationTransactionIdWhenPushPollInitiated",null);this.lastPushPollCompleteTimestamp=new userstorage.PersistentValue(this.namespace,"lastPushPollCompleteTimestamp",date_time.getCurrentTimeInMS());this.initializeProjectTree();FULL_OFFLINE_ENABLED&&this.initializeTreeStateFromUserstorage();this.initializeExpandedProjects()},getOwnerId:function(){return this.ownerId},
getName:function(){return this.isShared()?project_tree_object.getName(this.rootProject):"root"},getNote:function(){return this.isShared()?project_tree_object.getNote(this.rootProject):""},isAuxiliary:function(){return!this.isMainProjectTree},isInGlobalTree:function(){return this.isAuxiliary()?h().getSharedSubtreePlaceholder(this.getShareId())!==undefined:true},isShared:function(){return this.rootProject!==null},getShareId:function(){return this.shareId},getShareType:function(){return this.shareType},
isReadOnly:function(){return READ_ONLY_MAIN_TREE||this.readOnly},getIsDefunct:function(){return this.isDefunct},makeDefunct:function(){this.isDefunct=true;h().registerRemovedAuxiliaryProjectTree(this);delete c[this.treeId];d[this.treeId]=this},isOverQuota:function(){return!this.isShared()?this.itemsCreatedInCurrentMonth.getValue()>this.monthlyItemQuota.getValue():this.overQuota.getValue()},getItemsCreatedInCurrentMonth:function(){return!this.isShared()?this.itemsCreatedInCurrentMonth.getValue():null},
getMonthlyItemQuota:function(){return!this.isShared()?this.monthlyItemQuota.getValue():null},localStorageKey:function(a){var q=this.getShareId();return q===null?a:a+"-"+q},clientTimestampToString:function(a){return date_time.dateToDateTimeString(new Date((this.dateJoinedTimestampInSeconds+a)*1E3))},getCurrentClientTimestamp:function(){return this.getClientTimestampForTimestamp(date_time.getCurrentTimeInMS())},getClientTimestampForTimestamp:function(a){return Math.floor(a/1E3-this.dateJoinedTimestampInSeconds)},
initializeProjectTree:function(){this.projectIdToProjectMap=new project_ids.ProjectIdMap;this.sharedSubtreePlaceholders={};this.rootProject!==null&&project_tree_object.initializeRootOfSharedSubtree(this.rootProject,this);for(var a=0;a<this.rootProjectChildren.length;a++)this.initializeProjectTreeSubtree(this.rootProjectChildren[a],null)},initializeProjectTreeSubtree:function(a,q){var n=project_tree_object.getAddedSubtreeShareId(a);n===null?project_tree_object.initialize(a,this):project_tree_object.setProjectTree(a,
this);this.projectIdToProjectMap.set(project_tree_object.getProjectId(a),a);project_tree_object.setParent(a,q);if(n!==null){this.registerAddedSharedSubtreePlaceholder(a);if(!this.isAuxiliary()&&!this.isShared()){n=j(n);n!==null&&this.registerAddedAuxiliaryProjectTree(n)}}else{n=project_tree_object.getChildren(a);for(var u=0;u<n.length;u++)this.initializeProjectTreeSubtree(n[u],a)}},initializeTreeStateFromUserstorage:function(){var a=this.initialMostRecentOperationTransactionId==="None"?-1:parseInt(this.initialMostRecentOperationTransactionId),
q,n=this.mostRecentOperationTransactionId.getValue();q=n==="None"?-1:parseInt(n);n=false;if(a>q){n=true;this.mostRecentOperationTransactionId.setValue(this.initialMostRecentOperationTransactionId)}a=this.serverRunOperationTransactionQueue.garbageCollectPastOperationTransactions(a);a>0&&utils.debugMessage("Garbage collected "+a+" OTs from server-run queue because they are already reflected in base tree.");a=this.serverRunOperationTransactionQueue.getMostRecentOperationTransactionId();if(this.operationRunner.reconstructTreeStateFromUserstorageOperations(this.serverRunOperationTransactionQueue.getList(),
n).errorEncountered){utils.debugMessage("Error encountered running operations in userstorage queues during initialization.");throw new userstorage.InitializationError;}a!==null&&this.mostRecentOperationTransactionId.setValue(String(a));if(this.hasInFlightOperations()&&!this.pushPollIsInProgress())throw new userstorage.InitializationError;},registerAddedAuxiliaryProjectTree:function(a){var q=a.getShareId();q in this.sharedSubtreePlaceholders&&project_tree_object.setAddedSubtree(this.sharedSubtreePlaceholders[q],
a)},registerRemovedAuxiliaryProjectTree:function(a){a=a.getShareId();a in this.sharedSubtreePlaceholders&&project_tree_object.setAddedSubtree(this.sharedSubtreePlaceholders[a],null)},getSharedSubtreePlaceholder:function(a){return this.sharedSubtreePlaceholders[a]},registerAddedSharedSubtreePlaceholder:function(a){this.sharedSubtreePlaceholders[project_tree_object.getAddedSubtreeShareId(a)]=a},registerRemovedSharedSubtreePlaceholder:function(a){delete this.sharedSubtreePlaceholders[project_tree_object.getAddedSubtreeShareId(a)]},
loadRefreshed:function(a,q){this.rootProject=a;this.rootProjectChildren=q;this.initializeProjectTree()},initializeExpandedProjects:function(){for(var a=0;a<this.serverExpandedProjectsList.length;a++){var q=this.serverExpandedProjectsList[a];this.expandedProjects[q]={expanded:true}}this.readLocalStorageExpandedProjects();for(q in this.localStorageExpandedProjects)this.expandedProjects[q]={expanded:this.localStorageExpandedProjects[q].expanded}},readLocalStorageExpandedProjects:function(){this.localStorageExpandedProjects=
{};var a=null;if(localstorage_helper.localStorageSupported()){a=this.localStorageKey("expanded");a=localstorage_helper.read(a)}if(!(a===null||a.length===0)){a=a.split(",");for(var q in a){var n=a[q].split(":");this.localStorageExpandedProjects[n[0].substring(0,8)]={expanded:n.length===1||n[1]==="e"}}}},writeLocalStorageExpandedProjects:function(){var a=[];for(truncatedProjectId in this.localStorageExpandedProjects)a.push(truncatedProjectId+":"+(this.localStorageExpandedProjects[truncatedProjectId].expanded?
"e":"c"));a=a.join(",");if(localstorage_helper.localStorageSupported()){var q=this.localStorageKey("expanded");localstorage_helper.write(q,a)}},projectIdIsExpanded:function(a){a=a.substring(0,8);return a in this.expandedProjects?this.expandedProjects[a].expanded:false},setExpandedForProjectIds:function(a,q){var n=search.inSearchMode(),u;for(u in a){var v=a[u];if(!(n&&!search.isLocallyCreatedItemForCurrentSearch(this.getProjectReferenceByProjectId(v)))){v=v.substring(0,8);this.expandedProjects[v]=
{expanded:q};this.localStorageExpandedProjects[v]={expanded:q};this.pendingExpandedProjectsDelta.set(v,q)}}this.writeLocalStorageExpandedProjects()},addSubtreeExpansionsToPendingDelta:function(a){if(!(a!==null&&project_tree_object.isAddedSubtreePlaceholder(a))){var q=this.getChildrenOfProjectTreeObject(a);if(q.length!==0)if(a!==null){a=project_tree_object.getProjectId(a);var n=this.projectIdIsExpanded(a);this.pendingExpandedProjectsDelta.set(a.substring(0,8),n);for(var u in q)this.addSubtreeExpansionsToPendingDelta(q[u])}}},
getProjectTreeObjectByProjectId:function(a){return a===m?null:this.projectIdToProjectMap.get(a)},getDeletedProjectTreeObjectByProjectId:function(a){return this.deletedProjectIdToProjectMap.get(a)},getNormalOrDeletedProjectTreeObjectByTruncatedProjectId:function(a){var q=this.projectIdToProjectMap.getTruncated(a);if(q!==undefined)return q;return this.deletedProjectIdToProjectMap.getTruncated(a)},getProjectReferenceByProjectId:function(a){return new t(a,this.treeId)},getProjectReferenceByProjectTreeObject:function(a){return new t(k(a),
this.treeId)},getRootProjectReference:function(){return this.getProjectReferenceByProjectId(m)},getProjectReferenceByTruncatedProjectId:function(a){a=this.getNormalOrDeletedProjectTreeObjectByTruncatedProjectId(a);if(a===undefined)return null;return this.getProjectReferenceByProjectTreeObject(a)},getChildrenOfProjectTreeObject:function(a){return a===null?this.rootProjectChildren:project_tree_object.getChildren(a)},getSiblingsOfProjectTreeObject:function(a){return this.getChildrenOfProjectTreeObject(project_tree_object.getParent(a))},
getPriorityOfProjectTreeObject:function(a){return this.getSiblingsOfProjectTreeObject(a).indexOf(a)},projectTreeObjectHasSharedAncestor:function(a,q){if(q===undefined)q=false;for(var n=q?a:project_tree_object.getParent(a);n!==null;){if(project_tree_object.getSharedInfo(n)!==null)return true;n=project_tree_object.getParent(n)}return false},projectSubtreeContainsAddedSubtreePlaceholder:function(a){if(project_tree_object.isAddedSubtreePlaceholder(a))return true;if(this.getChildrenOfProjectTreeObject(a).length===
0)return false;for(var q in this.sharedSubtreePlaceholders){var n=this.sharedSubtreePlaceholders[q];do{n=project_tree_object.getParent(n);if(n===a)return true}while(n!==null)}return false},deletedProjectSubtreeContainsAddedSubtreePlaceholder:function(a){var q=false;this.applyToProjectSubtree(a,function(n){if(project_tree_object.isAddedSubtreePlaceholder(n))q=true});return q},knowAboutProjectId:function(a){if(this.getProjectTreeObjectByProjectId(a)!==undefined)return true;return this.deletedProjectIdToProjectMap.contains(a)},
containsSharedProjectWithShareId:function(a){var q=false;this.applyToProjectSubtree(null,function(n){n=project_tree_object.getSharedInfo(n);if(n!==null&&n.getShareId()===a)q=true});return q},applyToProjectSubtree:function(a,q){var n=a===null;n||q(a);if(n||!project_tree_object.isAddedSubtreePlaceholder(a)){n=this.getChildrenOfProjectTreeObject(a);for(var u=0;u<n.length;u++)this.applyToProjectSubtree(n[u],q)}},applyLocalOperationAndAddToPendingQueue:function(a,q,n){if(n===undefined)n=null;var u=this.getCurrentClientTimestamp(),
v=this.getOwnerId();v=USER_ID_AS_INT!==v?USER_ID_AS_INT:null;if(n!==null){q=operations.createOperationWithUndoData(a,q,n,u,v);utils.debugMessage("Applying local undo/redo operation:");utils.debugMessage(q);try{this.operationRunner.applyOperations([q])}catch(A){utils.debugMessage(A);return false}}else{q=operations.createOperation(a,q,u,v);q=this.operationRunner.applyOperations([q])[0];undo_redo.addOperationToCurrentBatch(q,new w(this.treeId))}this.pendingOperationQueue.append(q);push_poll.updateSaveStatus();
push_poll.scheduleNextPushAndPoll();event_tracker.track("operation--"+a);return true},isLastLocallyDeletedProjectId:function(a){return r().isLastLocallyDeletedProject(this.getProjectReferenceByProjectId(a))},hasUnsavedData:function(){return this.pendingOperationQueue.getLength()>0||this.inFlightOperationQueue.getLength()>0},pushPollIsInProgress:function(){return this.pushPollInProgress.getValue()},hasPendingOperations:function(){return this.pendingOperationQueue.getLength()>0},hasInFlightOperations:function(){return this.inFlightOperationQueue.getLength()>
0},notifyContentsAreVisibleMayHaveChanged:function(){this.pushPollIsInProgress()||this.contentsAreVisible()&&date_time.getCurrentTimeInMS()-this.lastPushPollCompleteTimestamp.getValue()>this.pollingIntervalInMs.getValue()+1E3&&push_poll.scheduleImmediatePollOnNextTick()},contentsAreVisible:function(){if(this.isAuxiliary()){var a=h().getSharedSubtreePlaceholder(this.getShareId());return a!==undefined&&global_project_tree_object.isInDom(a)&&global_project_tree_object.isExpandedInDom(a)}else return true},
currentlySkippingPushPolls:function(){if(!this.isAuxiliary()||this.contentsAreVisible())return false;if(this.hasPendingOperations())return false;return date_time.getCurrentTimeInMS()<this.lastPushPollCompleteTimestamp.getValue()+6E5},beginPushAndPoll:function(){this.pushPollInProgress.setValue(true);this.mostRecentOperationTransactionIdWhenPushPollInitiated.setValue(this.mostRecentOperationTransactionId.getValue());this.pendingOperationQueue.copyTo(this.inFlightOperationQueue);this.pendingOperationQueue.clear();
this.pendingExpandedProjectsDelta.copyTo(this.inFlightExpandedProjectsDelta);this.pendingExpandedProjectsDelta.clear();return this.getPushPollData()},getPushPollData:function(){if(!this.pushPollInProgress.getValue())return null;var a={most_recent_operation_transaction_id:this.mostRecentOperationTransactionId.getValue()};if(this.mostRecentOperationTransactionIdWhenPushPollInitiated.getValue()!==this.mostRecentOperationTransactionId.getValue())a.most_recent_operation_transaction_id_when_pushpoll_initiated=
this.mostRecentOperationTransactionIdWhenPushPollInitiated.getValue();if(this.inFlightOperationQueue.getLength()>0)a.operations=this.inFlightOperationQueue.getList();if(!this.inFlightExpandedProjectsDelta.isEmpty())a.project_expansions_delta=this.inFlightExpandedProjectsDelta.getDict();if(this.isShared())a.share_id=this.getShareId();return a},resetPushAndPoll:function(){this.pushPollInProgress.setValue(false);this.mostRecentOperationTransactionIdWhenPushPollInitiated.setValue(null);this.inFlightOperationQueue.prependTo(this.pendingOperationQueue);
this.inFlightOperationQueue.clear();this.pendingExpandedProjectsDelta.overlayOn(this.inFlightExpandedProjectsDelta);this.inFlightExpandedProjectsDelta.clear()},completePushAndPoll:function(a,q){var n=false,u=false,v=false,A=false,y=false,C=this.inFlightOperationQueue.getLength()>0;utils.debugMessage("Completing "+(C?"PUSH":"POLL")+' for tree "'+this.treeId+'".');var z="error"in a?a.error:null;if(z===null){var D="new_most_recent_operation_transaction_id"in a?a.new_most_recent_operation_transaction_id:
null,E="server_run_operation_transaction_json"in a?a.server_run_operation_transaction_json:null,G="concurrent_remote_operation_transactions"in a?a.concurrent_remote_operation_transactions:null,H="error_encountered_in_remote_operations"in a?a.error_encountered_in_remote_operations:false,O="new_polling_interval_in_ms"in a?a.new_polling_interval_in_ms:null,M="refreshed_root_project"in a?a.refreshed_root_project:null,Q="refreshed_project_tree"in a?a.refreshed_project_tree:null,W="need_refreshed_project_tree"in
a&&a.need_refreshed_project_tree;z="over_quota"in a?a.over_quota:null;var U="items_created_in_current_month"in a?a.items_created_in_current_month:null,aa="monthly_item_quota"in a?a.monthly_item_quota:null;if(D===null||C&&!q&&E===null||O===null||W&&(Q===null||this.isShared()&&M===null||!this.isShared()&&M!==null)||G===null&&Q===null||this.isShared()&&z===null||!this.isShared()&&(U===null||aa===null))n=true;if(!n){var X=null;if(E!==null)X=utils.parseJsonWithErrorHandling(E,function(){n=true});var F=
null;if(G!==null)F=utils.parseJsonListWithErrorHandling(G,function(){n=true})}if(!n){utils.debugMessage("Polling interval from server: "+O+" ms");this.mostRecentOperationTransactionId.setValue(D);this.pollingIntervalInMs.setValue(O);H&&utils.debugMessage("Server returned error_encountered_in_remote_operations");D=this.operationRunner.applyConcurrentRemoteOperationTransactionsOrRefreshProjectTree(F,Q!==null?{refreshedRootProjectJsonOrData:M,refreshedRootProjectChildrenJsonOrData:Q}:null,W,q&&X===null);
X!==null&&this.operationRunner.updateShareIdsFromServerRunOperationsIfApplicable(X);if((E=F!==null&&F.length>0)||X!==null){E&&this.serverRunOperationTransactionQueue.appendList(F);X!==null&&this.serverRunOperationTransactionQueue.append(X)}if(D.errorEncountered)v=true;if(D.loadedRefreshedProjectTree)A=true;if(this.isShared()){utils.debugMessage("Quota info from server: "+(z?"over":"under")+" quota");X=z!==this.overQuota.getValue();this.overQuota.setValue(z)}else{utils.debugMessage("Quota info from server: "+
U+" / "+aa+" items");X=U!==this.itemsCreatedInCurrentMonth.getValue()||aa!==this.monthlyItemQuota.getValue();this.itemsCreatedInCurrentMonth.setValue(U);this.monthlyItemQuota.setValue(aa)}X&&quota.notifyQuotaStatsChangedForProjectTree(this);if(this.isOverQuota()&&(this.inFlightOperationQueue.containsOperationType("create")||this.inFlightOperationQueue.containsOperationType("bulk_create")))quota.notifyLocalCreateWhileOverQuotaForProjectTree(this)}}else{utils.debugMessage('Server error: "'+z+'"');if(z===
"shared_project_does_not_exist"&&this.isAuxiliary())y=true;else if(C)u=true;else n=true}z=n||u||v;C&&sharing.notifyShareOrUnshareCompleteIfNeeded(this.inFlightOperationQueue,z);this.pushPollInProgress.setValue(false);this.mostRecentOperationTransactionIdWhenPushPollInitiated.setValue(null);this.inFlightOperationQueue.clear();this.inFlightExpandedProjectsDelta.clear();this.lastPushPollCompleteTimestamp.setValue(date_time.getCurrentTimeInMS());return{invalidResult:n,errorEncounteredRunningClientOperationsOnServer:u,
errorEncounteredRunningRemoteOperationsOnClient:v,loadedRefreshedProjectTree:A,makeDefunct:y}},operationTransactionsContainUndeleteOfUnknownProject:function(a){return this.operationRunner.operationTransactionsContainUndeleteOfUnknownProject(a)},getPendingOperationList:function(){return this.pendingOperationQueue.getList()},getInFlightOperationList:function(){return this.inFlightOperationQueue.getList()},setPendingOperationList:function(a){this.pendingOperationQueue.setList(a)},setInFlightOperationList:function(a){this.inFlightOperationQueue.setList(a)},
getStats:function(){var a=0,q=0,n=0;this.applyToProjectSubtree(null,function(u){a++;!project_tree_object.isAddedSubtreePlaceholder(u)&&project_tree_object.getChildren(u).length===0&&q++;project_tree_object.isCompleted(u)&&n++});return{items:a,leaves:q,completed:n}},applyLocalEdit:function(a,q,n){a={projectid:project_tree_object.getProjectId(a)};if(q!==null)a.name=q;if(n!==null)a.description=n;this.applyLocalOperationAndAddToPendingQueue("edit",a)},applyLocalCreateChild:function(a,q){var n=utils.generateUUID(),
u=new t(n,this.treeId);search.inSearchMode()&&search.registerLocallyCreatedItemForCurrentSearch(u);this.applyLocalOperationAndAddToPendingQueue("create",{projectid:n,parentid:k(a),priority:q});return u},applyLocalBulkCreateChildren:function(a,q,n){var u=[],v=[],A=[],y=this.treeId,C=function(D,E){if(E===undefined)E=false;var G=false;if("expanded"in D){G=true;delete D.expanded}var H=utils.generateUUID();project_tree_object.setProjectId(D,H);var O=new t(H,y);E&&u.push(O);search.inSearchMode()&&search.registerLocallyCreatedItemForCurrentSearch(O);
H=project_tree_object.getChildren(D);if(H!==undefined){if(G){v.push(O);E&&A.push(O)}for(G=0;G<H.length;G++)C(H[G])}},z=0;for(;z<n.length;z++)C(n[z],true);this.applyLocalOperationAndAddToPendingQueue("bulk_create",{parentid:k(a),starting_priority:q,project_trees:JSON.stringify(n)});project_tree.setExpandedForProjectReferences(v,true);for(z=0;z<A.length;z++)A[z].getMatchingDomProject().showChildren("instant");return u},applyLocalComplete:function(a){this.applyLocalOperationAndAddToPendingQueue("complete",
{projectid:project_tree_object.getProjectId(a)})},applyLocalUncomplete:function(a){this.applyLocalOperationAndAddToPendingQueue("uncomplete",{projectid:project_tree_object.getProjectId(a)})},applyLocalDelete:function(a){project_tree_object.getParent(a);this.applyLocalOperationAndAddToPendingQueue("delete",{projectid:project_tree_object.getProjectId(a)})},applyLocalUndelete:function(a,q,n){this.applyLocalOperationAndAddToPendingQueue("undelete",{projectid:a,parentid:k(q),priority:n})},applyLocalMove:function(a,
q,n){var u=this.getPriorityOfProjectTreeObject(a),v=project_tree_object.getParent(a);q===v&&n>u&&n--;this.applyLocalOperationAndAddToPendingQueue("move",{projectid:project_tree_object.getProjectId(a),parentid:k(q),priority:n})},applyLocalBulkMove:function(a,q,n){for(var u=[],v=0,A=0;A<a.length;A++){var y=a[A];u.push(project_tree_object.getProjectId(y));if(project_tree_object.getParent(y)===q){y=this.getPriorityOfProjectTreeObject(y);n>y&&v++}}n-=v;this.applyLocalOperationAndAddToPendingQueue("bulk_move",
{projectids_json:JSON.stringify(u),parentid:k(q),priority:n})},applyLocalShare:function(a,q,n){if(n===undefined)n=null;this.addSubtreeExpansionsToPendingDelta(a);var u=project_tree_object.getSharedInfo(a);u!==null&&u.isSharedViaUrl();a={projectid:project_tree_object.getProjectId(a),share_type:q};if(q==="url")a.write_permission=n;this.applyLocalOperationAndAddToPendingQueue("share",a)},applyLocalUnshare:function(a){this.applyLocalOperationAndAddToPendingQueue("unshare",{projectid:project_tree_object.getProjectId(a)})},
applyLocalAddSharedEmail:function(a,q,n){var u=null,v=project_tree_object.getSharedInfo(a).getInfoForEmail(q);if(v!==null)u=v.access_token;if(u===null)u=urls.generateUrlSafeRandomString(10);this.applyLocalOperationAndAddToPendingQueue("add_shared_email",{projectid:project_tree_object.getProjectId(a),shared_email:q,write_permission:n,access_token:u})},applyLocalRemoveSharedEmail:function(a,q){project_tree_object.getSharedInfo(a);this.applyLocalOperationAndAddToPendingQueue("remove_shared_email",{projectid:project_tree_object.getProjectId(a),
shared_email:q})},getTreeId:function(){return this.treeId},getRootProject:function(){return this.rootProject},getRootProjectId:function(){return this.rootProject!==null?project_tree_object.getProjectId(this.rootProject):null},getRootProjectChildren:function(){return this.rootProjectChildren},getProjectIdToProjectMap:function(){return this.projectIdToProjectMap},getDeletedProjectIdToProjectMap:function(){return this.deletedProjectIdToProjectMap},getPollingIntervalInMs:function(){return this.pollingIntervalInMs.getValue()},
getLastPushPollCompleteTimestamp:function(){return this.lastPushPollCompleteTimestamp.getValue()}}),p=Class.extend({init:function(){},applyToAllProjectTrees:function(a){for(var q in c)a(c[q])},findProjectByProjectId:function(a){if(a===m)return h().getProjectReferenceByProjectId(a);for(var q in c){var n=c[q].getProjectReferenceByProjectId(a);if(n.isValid())return n}return null},getMatchingKnownProjectIdForTruncatedProjectId:function(a){for(var q in c){var n=c[q].getProjectReferenceByTruncatedProjectId(a);
if(n!==null)return n.getProjectId()}return null},haveUnsavedData:function(){for(var a in c)if(c[a].hasUnsavedData())return true;return false},readLocalStorageExpandedProjects:function(){for(var a in c)c[a].readLocalStorageExpandedProjects()},getMinPollingInterval:function(){var a=null,q;for(q in c){var n=c[q];if(!n.currentlySkippingPushPolls()){n=n.getPollingIntervalInMs();if(a===null||n<a)a=n}}return a},getLastPushPollCompleteTimestamp:function(){var a=null,q;for(q in c){var n=c[q].getLastPushPollCompleteTimestamp();
a=a===null?n:Math.max(a,n)}return a},pushPollIsInProgress:function(){for(var a in c)if(c[a].pushPollIsInProgress())return true;return false},havePendingOperations:function(){for(var a in c)if(c[a].hasPendingOperations())return true;return false},haveInFlightOperations:function(){for(var a in c)if(c[a].hasInFlightOperations())return true;return false},beginPushAndPoll:function(){var a=[],q;for(q in c){var n=c[q];if(!n.currentlySkippingPushPolls()){n=n.beginPushAndPoll();a.push(n)}}return a},getPushPollData:function(){var a=
[],q;for(q in c){var n=c[q].getPushPollData();n!==null&&a.push(n)}return a},resetPushAndPoll:function(){for(var a in c){var q=c[a];q.pushPollIsInProgress()&&q.resetPushAndPoll()}},markIfRefreshedProjectTreeNeededForRemoteUndeletes:function(a){if(!("results"in a))return false;a=a.results;for(var q=0;q<a.length;q++){var n=a[q];if(!("need_refreshed_project_tree"in n&&n.need_refreshed_project_tree)){var u="concurrent_remote_operation_transactions"in n?n.concurrent_remote_operation_transactions:null,v=
"share_id"in n?n.share_id:null;if("remote_operations_contain_undelete"in n&&n.remote_operations_contain_undelete){utils.debugMessage("Remote operations contain undelete. Testing if we know about the item being undeleted...");if(u!==null){v=v!==null?j(v):h();if(v!==null){u=utils.parseJsonListWithErrorHandling(u);if(u!==null)if(v.operationTransactionsContainUndeleteOfUnknownProject(u)){utils.debugMessage("... We do not. Marking that we need a refreshed project tree.");n.need_refreshed_project_tree=
true}else utils.debugMessage("... We do. No refreshed project tree needed.")}}}}}},needRefreshedProjectTreesOrAddedSharedSubtrees:function(a){if(!("results"in a))return false;var q=a.results;if(("newly_added_shared_project_share_ids"in a?a.newly_added_shared_project_share_ids:[]).length>0)return true;for(a=0;a<q.length;a++){var n=q[a];if("need_refreshed_project_tree"in n&&n.need_refreshed_project_tree)return true}return false},extractRefreshedProjectTreesAndNewlyAddedSharedSubtreesFromNewProjectTreeData:function(a,
q){function n(z){for(var D=0;D<a.auxiliaryProjectTreeInfos.length;D++){var E=a.auxiliaryProjectTreeInfos[D];if(E.shareId===z)return E}return null}var u="newly_added_shared_project_share_ids"in q?q.newly_added_shared_project_share_ids:[],v=[],A=0;for(;A<u.length;A++){var y=u[A],C=n(y);if(C!==null){v.push(C);utils.debugMessage("Extracted newly added shared subtree with share-id "+y)}}if(v.length>0)q.newly_added_shared_project_trees=v;u=q.results;for(v=0;v<u.length;v++){A=u[v];if("need_refreshed_project_tree"in
A&&A.need_refreshed_project_tree){y="share_id"in A?A.share_id:null;C=null;C=y===null?a.mainProjectTreeInfo:n(y);if(C!==null){A.refreshed_project_tree=C.rootProjectChildren;A.new_most_recent_operation_transaction_id=C.initialMostRecentOperationTransactionId}}}},completePushAndPoll:function(a,q){if(!("results"in a))return{invalidData:true};var n=a.results,u="newly_added_shared_project_tree_jsons"in a?a.newly_added_shared_project_tree_jsons:null,v="newly_added_shared_project_trees"in a?a.newly_added_shared_project_trees:
null,A=false,y=false,C=false,z=false,D=false;if(u!==null)if(v===null){v=[];for(var E=0;E<u.length;E++){var G=u[E];try{var H=JSON.parse(G)}catch(O){utils.debugMessage(O);A=true;continue}v.push(H)}}else A=true;u=false;for(E=0;E<n.length;E++){H=n[E];if("concurrent_remote_operation_transactions"in H&&H.concurrent_remote_operation_transactions.length>0||"refreshed_project_tree"in H||"error"in H&&H.error==="shared_project_does_not_exist"){u=true;break}}if(v!==null)u=true;if(u){var M=operations.saveClientViewState();
blurFocusedContent()}if(v!==null)for(E=0;E<v.length;E++){H=v[E];G=H.shareId;j(G)===null&&j(G,d)===null&&b(H)}for(E=0;E<n.length;E++){H=n[E];G="share_id"in H?H.share_id:null;G=G!==null?j(G):h();if(G===null||!G.pushPollIsInProgress())A=true;else{H=G.completePushAndPoll(H,q);A|=H.invalidResult;y|=H.errorEncounteredRunningClientOperationsOnServer;C|=H.errorEncounteredRunningRemoteOperationsOnClient;z|=H.loadedRefreshedProjectTree;if(H.makeDefunct){G.makeDefunct();D=true}}}if(this.pushPollIsInProgress())A=
true;if(u){n=false;if(z||v!==null||D){TRACK_TAG_COUNTS&&f(null);search.inSearchMode()&&M.selectedProjectReference.isValid()&&search.reapplyCurrentSearch(M.selectedProjectReference);z&&undo_redo.clearStacks();n=true}operations.restoreClientViewState(M,{forceDomRebuild:n,scrollToFocusBehavior:"doNotScroll"})}return{invalidData:A,errorEncounteredRunningClientOperationsOnServer:y,errorEncounteredRunningRemoteOperationsOnClient:C}},getStats:function(){var a={},q;for(q in c)a[q]=c[q].getStats();var n={};
for(q in a){var u=a[q],v;for(v in u)n[v]=(v in n?n[v]:0)+u[v]}return{trees:a,totals:n}}});return{ROOT_PROJECTID:m,ProjectReference:t,applyLocalMoveForProjectReferences:function(a,q,n){var u=a[0];q=u._getNewParentProjectTreeObjectFromReference(q);u=u.getProjectTree();for(var v=[],A=0;A<a.length;A++)v.push(a[A].getProjectTreeObject());v.length===1?u.applyLocalMove(v[0],q,n):u.applyLocalBulkMove(v,q,n)},setExpandedForProjectReferences:function(a,q){for(var n=[],u=0;u<a.length;u++)n.push(a[u].getProjectTreeObject());
g(n,q)},initializeProjectTrees:function(a,q){for(var n=0;n<q.length;n++)b(q[n],true);n=new x(a,l);c[l]=n;TRACK_TAG_COUNTS&&f(null)},initializeGlobalDescendantTagCounts:f,mainLocalStorageKey:function(a){return h().localStorageKey(a)},getMainProjectTree:h,getProjectTreeByRootProjectId:function(a){for(var q in c){var n=c[q];if(n.getRootProjectId()===a)return n}return null},getSharedProjectTreeByShareId:j,getProjectIdOfProjectTreeObject:k,getProjectReferenceFromDomProject:o,getProjectReferencesFromDomProjects:function(a){var q=
[];a.each(function(){var n=$(this);q.push(o(n))});return q},getProjectReferenceFromUniqueIdentifierWithTruncatedProjectIds:function(a){var q=a.split(":");if(q.length>2)return null;if(q.length===1){q=q[0];var n=h()}else{a=q[0];q=q[1];n=null;for(var u in c){var v=c[u],A=v.getRootProjectId();if(A!==null)if(project_ids.projectIdMatchesTruncatedProjectId(A,a)){n=v;break}}if(n===null)return null}return n.getProjectReferenceByTruncatedProjectId(q)},getMatchingDomProjectsForProjectReferences:function(a){for(var q=
$(),n=0;n<a.length;n++)q=q.add(a[n].getMatchingDomProject());return q},getAllProjectTreesHelper:r}}(),project_ids=function(){function b(j){return j.substring(j.length-f)}var f=12;return{ProjectIdMap:Class.extend({init:function(){this._projectIdMap={};this._truncatedProjectIdToProjectIdMap={}},get:function(j){return this._projectIdMap[j]},getTruncated:function(j){if(j in this._truncatedProjectIdToProjectIdMap)return this.get(this._truncatedProjectIdToProjectIdMap[j])},set:function(j,h){this._projectIdMap[j]=
h;this._truncatedProjectIdToProjectIdMap[b(j)]=j},remove:function(j){delete this._projectIdMap[j];delete this._truncatedProjectIdToProjectIdMap[b(j)]},contains:function(j){return j in this._projectIdMap},applyToAll:function(j){for(projectId in this._projectIdMap)j(this._projectIdMap[projectId])}}),truncateProjectId:b,isTruncatedProjectId:function(j){return j.length===f},projectIdMatchesTruncatedProjectId:function(j,h){return utils.isSuffixMatch(j,h)},INVALID_PROJECT_ID:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"}}(),
operations=function(){function b(c,e,d,m){c={type:c,data:e,client_timestamp:d};if(m!==null)c.executed_by=m;return c}function f(c,e,d,m,s){c=b(c,e,m,s);c.undo_data=d;return c}function j(c,e){var d=utils.deepCopyObject(c);d.undo_data=e;return d}function h(c,e){if(e===undefined)e=false;for(var d=[],m=0;m<c.length;m++){var s=c[m];e&&utils.debugMessage(function(){return"remote operation transaction: "+JSON.stringify(s)});var w=s.ops,t=s.client_timestamp,x="ex"in s?s.ex:null,p=0;for(;p<w.length;p++){var a=
w[p];a.client_timestamp=t;if(x!==null)a.executed_by=x}utils.pushArray(d,w)}return d}function g(c){for(var e=[],d=c.length-1;d>=0;d--){var m=c[d];utils.debugMessage("inverting: "+m.type);m=o(m);e=e.concat(m)}return e}function o(c){var e=l(c,"type"),d=l(c,"data"),m=l(c,"undo_data"),s=l(c,"client_timestamp");c="executed_by"in c?c.executed_by:null;switch(e){case "edit":var w=l(d,"projectid");e="name"in d?d.name:null;d="description"in d?d.description:null;var t=l(m,"previous_last_modified"),x=l(m,"previous_last_modified_by");
w={projectid:w};s={previous_last_modified:s,previous_last_modified_by:c};if(e!==null){w.name=l(m,"previous_name");s.previous_name=e}if(d!==null){w.description=l(m,"previous_description");s.previous_description=d}return[f("edit",w,s,t,x)];case "create":m=l(d,"projectid");e=l(d,"parentid");d=l(d,"priority");return[f("delete",{projectid:m},{parentid:e,priority:d,previous_last_modified:s,previous_last_modified_by:c},null,null)];case "complete":return r("complete",d,m,s,c);case "uncomplete":return r("uncomplete",
d,m,s,c);case "delete":d=l(d,"projectid");e=l(m,"parentid");t=l(m,"priority");x=l(m,"previous_last_modified");m=l(m,"previous_last_modified_by");return[f("undelete",{projectid:d,parentid:e,priority:t},{previous_last_modified:s,previous_last_modified_by:c},x,m)];case "undelete":e=l(d,"projectid");t=l(d,"parentid");d=l(d,"priority");x=l(m,"previous_last_modified");m=l(m,"previous_last_modified_by");return[f("delete",{projectid:e},{parentid:t,priority:d,previous_last_modified:s,previous_last_modified_by:c},
x,m)];case "move":e=l(d,"projectid");t=l(d,"parentid");d=l(d,"priority");x=l(m,"previous_parentid");w=l(m,"previous_priority");var p=l(m,"previous_last_modified");m=l(m,"previous_last_modified_by");return[f("move",{projectid:e,parentid:x,priority:w},{previous_parentid:t,previous_priority:d,previous_last_modified:s,previous_last_modified_by:c},p,m)];case "share":e=l(d,"projectid");t=l(d,"share_type");x="write_permission"in d?d.write_permission:null;w=l(m,"previous_share_type");p="previous_write_permission"in
m?m.previous_write_permission:null;d=l(m,"previous_last_modified");m=l(m,"previous_last_modified_by");if(w==="url"&&t==="url"){if(p===null)throw Error("Missing previous_write_permission when inverting a write_permission change to URL-based sharing.");s=[f("share",{projectid:e,share_type:"url",write_permission:p},{previous_share_type:"url",previous_write_permission:x,previous_last_modified:s,previous_last_modified_by:c},d,m)]}else{w=new sharing.ItemSharedInfo;if(t==="url")w.shareViaUrl(x);else t===
"email"&&w.shareViaEmail();e={projectid:e};s={previous_shared_info:w.makeCopyOfRawSharedInfoWithoutShareId(),previous_last_modified:s,previous_last_modified_by:c};s=[f("unshare",e,s,d,m)]}return s;case "unshare":d=l(d,"projectid");e=l(m,"previous_shared_info");t=l(m,"previous_last_modified");m=l(m,"previous_last_modified_by");e=new sharing.ItemSharedInfo(e);return e.getOperationsToCreate(d,s,c,t,m);case "add_shared_email":e=l(d,"projectid");t=l(d,"shared_email");x=l(d,"write_permission");d=l(d,"access_token");
w="previous_write_permission"in m?m.previous_write_permission:null;p=l(m,"previous_last_modified");m=l(m,"previous_last_modified_by");s=w!==null?[f("add_shared_email",{projectid:e,shared_email:t,write_permission:w,access_token:d},{previous_write_permission:x,previous_last_modified:s,previous_last_modified_by:c},p,m)]:[f("remove_shared_email",{projectid:e,shared_email:t},{write_permission:x,access_token:d,previous_last_modified:s,previous_last_modified_by:c},p,m)];return s;case "remove_shared_email":e=
l(d,"projectid");d=l(d,"shared_email");t=l(m,"write_permission");x=l(m,"access_token");w="user_id"in m?m.user_id:null;p=l(m,"previous_last_modified");m=l(m,"previous_last_modified_by");var a=[];a.push(f("add_shared_email",{projectid:e,shared_email:d,write_permission:t,access_token:x,send_email_if_new:false},{previous_last_modified:s,previous_last_modified_by:c},p,m));w!==null&&a.push(f("register_shared_email_user",{projectid:e,access_token:x,user_id:w},{previous_last_modified:s,previous_last_modified_by:c},
p,m));return a;case "register_shared_email_user":t=l(d,"projectid");x=l(d,"access_token");d="user_id"in d?d.user_id:null;w="previous_user_id"in m?m.previous_user_id:null;e=l(m,"previous_last_modified");m=l(m,"previous_last_modified_by");t={projectid:t,access_token:x};if(w!==null){if(d!==null)throw Error("Unexpected 'register_shared_email_user' operation with both user_id and previous_user_id !== null");t.user_id=w}s={previous_last_modified:s,previous_last_modified_by:c};if(d!==null)s.previous_user_id=
d;return[f("register_shared_email_user",t,s,e,m)];case "make_shared_subtree_placeholder":throw Error("Can't invert make_shared_subtree_placeholder - not implemented.");case "bulk_create":return k(d,m,s,c);case "bulk_move":t=l(d,"projectids_json");e=l(d,"parentid");l(d,"priority");m=l(m,"move_undo_datas");d=JSON.parse(t);if(m.length!==d.length)throw Error("move_undo_datas is different length than projectids when inverting bulk_move.");t=[];for(x=d.length-1;x>=0;x--){a=d[x];var q=m[x],n=l(q,"previous_parentid"),
u=l(q,"previous_priority");w=l(q,"previous_last_modified");p=l(q,"previous_last_modified_by");q=l(q,"priority_used_for_move");a={projectid:a,parentid:n,priority:u};q={previous_parentid:e,previous_priority:q,previous_last_modified:s,previous_last_modified_by:c};w=f("move",a,q,w,p);t.push(w)}return t;default:throw Error("Unrecognized operation type: '"+e+"'");}}function k(c,e,d,m){e=l(c,"parentid");var s=l(c,"starting_priority");c=l(c,"project_trees");c=JSON.parse(c);for(var w=[],t=c.length-1;t>=0;t--){var x=
{projectid:project_tree_object.getProjectId(c[t])};x=f("delete",x,{parentid:e,priority:s+t,previous_last_modified:d,previous_last_modified_by:m},null,null);w.push(x)}return w}function r(c,e,d,m,s){e=l(e,"projectid");var w=l(d,"previous_completed"),t=l(d,"previous_last_modified");d=l(d,"previous_last_modified_by");return[f(w===false?"uncomplete":"complete",{projectid:e},{previous_last_modified:m,previous_last_modified_by:s,previous_completed:c==="complete"?m:false},t,d)]}function l(c,e){if(!(e in c))throw Error("Expected field '"+
e+"' not found.");return c[e]}return{ProjectTreeOperationRunner:Class.extend({init:function(c){this.projectTree=c},applyConcurrentRemoteOperationTransactionsOrRefreshProjectTree:function(c,e,d,m){if(d===undefined)d=false;if(m===undefined)m=false;if(e===null&&(c===null||c.length===0)&&!m)return{errorEncountered:false,loadedRefreshedProjectTree:false};var s=false;if(d||c===null)if(e!==null){c=this.loadRefreshedProjectTree(e);c=c.errorEncountered;s=true}else c=true;else{c=this.applyConcurrentRemoteOperationTransactions(c,
m);c=c.errorEncountered}return{errorEncountered:c,loadedRefreshedProjectTree:s}},loadRefreshedProjectTree:function(c){utils.debugMessage("loadRefreshedProjectTree called");var e=c.refreshedRootProjectJsonOrData;c=c.refreshedRootProjectChildrenJsonOrData;try{var d=typeof e==="string"?JSON.parse(e):e,m=typeof c==="string"?JSON.parse(c):c}catch(s){utils.debugMessage(s);return{errorEncountered:true}}utils.debugMessage("Installing refreshed project tree");this.projectTree.loadRefreshed(d,m);selectOnActivePage(".mainTreeRoot").overwriteProjectChildrenHtml(function(){return""});
this.applyPendingOperations(true);return{errorEncountered:false}},applyConcurrentRemoteOperationTransactions:function(c,e){if(e===undefined)e=false;utils.debugMessage("applyConcurrentRemoteOperationTransactions called");try{var d=h(c,true)}catch(m){utils.debugMessage(m);return{errorEncountered:true}}utils.debugMessage("num remote operations: "+d.length);var s=this.projectTree.getPendingOperationList(),w=this.projectTree.getInFlightOperationList(),t=false;try{if(s.length>0){utils.debugMessage("undoing pending");
this.undoLocalOperations(s)}if(w.length>0){utils.debugMessage("undoing in-flight");this.undoLocalOperations(w)}if(d.length>0){utils.debugMessage("applying remote");this.applyOperations(d,true,false);t=true}}catch(x){utils.debugMessage(x);return{errorEncountered:true}}e?utils.debugMessage("NOT applying in-flight because operations not applied on server for redo"):this.applyInFlightOperations(t,true);this.applyPendingOperations(t,true);return{errorEncountered:false}},applyInFlightOperations:function(c,
e,d){if(e===undefined)e=false;if(d===undefined)d=false;var m=this.projectTree.getInFlightOperationList();if(m.length>0){utils.debugMessage("applying in-flight");e=this.applyOperations(m,false,e,d);if(c){utils.debugMessage("(amending in-flight operations because they were run over a new baseline tree)");this.projectTree.setInFlightOperationList(e)}}},applyPendingOperations:function(c,e,d){if(e===undefined)e=false;if(d===undefined)d=false;var m=this.projectTree.getPendingOperationList();if(m.length>
0){utils.debugMessage("applying pending");e=this.applyOperations(m,false,e,d);if(c){utils.debugMessage("(amending pending operations because they were run over a new baseline tree)");this.projectTree.setPendingOperationList(e)}}},reconstructTreeStateFromUserstorageOperations:function(c,e){if(e===undefined)e=false;utils.debugMessage("reconstructTreeStateFromUserstorageOperations called");try{var d=h(c,true)}catch(m){utils.debugMessage(m);return{errorEncountered:true}}utils.debugMessage("num server-run operations: "+
d.length);if(d.length>0){utils.debugMessage("applying server-run");try{this.applyOperations(d,true,false,true)}catch(s){utils.debugMessage(s);return{errorEncountered:true}}}this.applyInFlightOperations(e,false,true);this.applyPendingOperations(e,false,true);return{errorEncountered:false}},updateShareIdsFromServerRunOperationsIfApplicable:function(c){try{var e=h([c]);for(c=0;c<e.length;c++){var d=e[c],m=l(d,"type"),s=l(d,"data");if(m==="share"&&"share_id"in s){var w=l(s,"projectid"),t=s.share_id,x=
this.projectTree.getProjectTreeObjectByProjectId(w);if(x!==undefined){var p=project_tree_object.getSharedInfo(x);p!==null&&p.setShareId(t)}}}}catch(a){utils.debugMessage(a)}},operationTransactionsContainUndeleteOfUnknownProject:function(c){try{var e=h(c),d=new utils.Set,m=new utils.Set;for(c=0;c<e.length;c++){var s=e[c],w=l(s,"type"),t=l(s,"data");if(w==="undelete"){var x=l(t,"projectid");d.add(x)}else if(w==="create"){x=l(t,"projectid");m.add(x)}else if(w==="bulk_create"){var p=l(t,"project_trees"),
a=this.getProjectIdsToCreate(JSON.parse(p),false);m.addSet(a)}}var q=d.elements();for(c=0;c<q.length;c++){var n=q[c];if(!this.projectTree.knowAboutProjectId(n)&&!m.contains(n))return true}}catch(u){utils.debugMessage(u)}return false},applyOperations:function(c,e,d,m){if(e===undefined)e=true;if(d===undefined)d=false;if(m===undefined)m=false;for(var s=[],w=0;w<c.length;w++){var t=c[w],x=false,p=null;try{var a=l(t,"type"),q=l(t,"data"),n=l(t,"client_timestamp"),u="executed_by"in t?t.executed_by:null;
if("server_data"in t&&"was_noop"in t.server_data&&t.server_data.was_noop)continue;utils.debugMessage("apply: "+a);switch(a){case "edit":p=this.applyEditOperation(q,n,u,m);break;case "create":p=this.applyCreateOperation(q,n,u,m,d);break;case "complete":p=this.applyCompleteOperation(q,n,u,m);break;case "uncomplete":p=this.applyUncompleteOperation(q,n,u,m);break;case "delete":p=this.applyDeleteOperation(q,n,u,m);break;case "undelete":p=this.applyUndeleteOperation(q,n,u,m);break;case "move":p=this.applyMoveOperation(q,
n,u,m);break;case "share":p=this.applyShareOperation(q,n,u,m);break;case "unshare":p=this.applyUnshareOperation(q,n,u,m);break;case "add_shared_email":p=this.applyAddSharedEmailOperation(q,n,u,m);break;case "remove_shared_email":p=this.applyRemoveSharedEmailOperation(q,n,u,m);break;case "register_shared_email_user":p=this.applyRegisterSharedEmailUserOperation(q,n,u,m);break;case "make_shared_subtree_placeholder":p=this.applyMakeSharedSubtreePlaceholderOperation(q,n,u,m);break;case "bulk_create":p=
this.applyBulkCreateOperation(q,n,u,m,d);break;case "bulk_move":p=this.applyBulkMoveOperation(q,n,u,m);break;default:throw Error("Unrecognized operation type: '"+a+"'");}}catch(v){if(e)throw v;else x=true}if(!x){t=j(t,p);s.push(t)}}return s},applyEditOperation:function(c,e,d,m){var s=l(c,"projectid"),w="name"in c?c.name:null;c="description"in c?c.description:null;var t=this.getProjectTreeObjectByProjectIdOrThrowException(s);if(this.projectTree.isShared()&&t===null)t=this.projectTree.getRootProject();
var x={previous_last_modified:project_tree_object.getLastModified(t),previous_last_modified_by:project_tree_object.getLastModifiedBy(t)};if(w!==null){x.previous_name=project_tree_object.getName(t);project_tree_object.setName(t,w);project_tree_object.updateNameContentText(t)}if(c!==null){x.previous_description=project_tree_object.getNote(t);project_tree_object.setNote(t,c);project_tree_object.updateNoteContentText(t)}project_tree_object.setLastModified(t,e,d);global_project_tree_object.getTagManager(t).nameOrNoteChanged(m);
if(!m){m=this.projectTree.getProjectReferenceByProjectId(s);e=m.getMatchingDomProject();if(e.length===1){d=getCurrentlyFocusedContent();if(w!==null){s=e.getName().children(".content");if(d===null||d[0]!==s[0])s.setContentText(w,false);e.hasClass("selected")&&m.setPageTitleForProject()}if(c!==null){w=e.getNotes().children(".content");if(d===null||d[0]!==w[0]){w.setContentText(c,true);c.length>0?e.addClass("noted"):e.removeClass("noted")}}}}return x},applyCreateOperation:function(c,e,d,m,s){if(s===
undefined)s=false;var w=l(c,"projectid"),t=l(c,"parentid");c=l(c,"priority");var x={};if(s){this.applyUndeleteOperation({projectid:w,parentid:t,priority:c},e,d,m);return x}s={};project_tree_object.setProjectId(s,w);this.createProjects(t,c,[s],e,d,m);return x},applyBulkCreateOperation:function(c,e,d,m,s){if(s===undefined)s=false;var w=l(c,"parentid"),t=l(c,"starting_priority"),x=l(c,"project_trees"),p={};if(s){e=k(c,{},e,d);e=g(e);for(d=0;d<e.length;d++){w=e[d];this.applyUndeleteOperation(w.data,w.client_timestamp,
"executed_by"in w?w.executed_by:null,m)}return p}c=JSON.parse(x);this.createProjects(w,t,c,e,d,m);return p},createProjects:function(c,e,d,m,s,w){function t(n){var u=[],v=project_tree_object.getChildren(n);if(v!==undefined)for(var A=0;A<v.length;A++){var y=t(v[A]);u.push(y)}A=project_tree_object.getProjectId(n);y=project_tree_object.hasName(n)?project_tree_object.getName(n):null;var C=project_tree_object.hasNote(n)?project_tree_object.getNote(n):null;n=project_tree_object.isCompleted(n)?m:null;v=u.length>
0?u:null;u=project_tree_object.create(A,y,C,n,v);project_tree_object.setLastModified(u,m,s);return u}this.getProjectIdsToCreate(d);c=this.getProjectTreeObjectByProjectIdOrThrowException(c);var x=this.projectTree.getChildrenOfProjectTreeObject(c);e=e>=x.length?x.length:e;for(var p=[],a=0;a<d.length;a++){var q=t(d[a]);p.push(q)}d=[e,0].concat(p);x.splice.apply(x,d);x=this.projectTree.getProjectReferenceByProjectTreeObject(c);for(d=0;d<p.length;d++){q=p[d];this.projectTree.initializeProjectTreeSubtree(q,
c);if(!w){project_tree.initializeGlobalDescendantTagCounts(q);global_project_tree_object.getTagManager(q).itemMoved(null,x)}}if(!w){w=$();for(d=0;d<p.length;d++){q=p[d];w=this.addProjectToDOM(c,e+d,function(){return $(global_project_tree_object.constructProjectTreeHtml(q))})}w.refreshExpanded()}},getProjectIdsToCreate:function(c,e){function d(t){var x=project_tree_object.getProjectId(t);if(e)if(m.contains(x)||s.getProjectTreeObjectByProjectId(x)!==undefined)throw Error("Trying to create project with already-existing projectid "+
x);m.add(x);t=project_tree_object.getChildren(t);if(t!==undefined)for(x=0;x<t.length;x++)d(t[x])}if(e===undefined)e=true;for(var m=new utils.Set,s=this.projectTree,w=0;w<c.length;w++)d(c[w]);return m},addProjectToDOM:function(c,e,d){c=this.projectTree.getProjectReferenceByProjectTreeObject(c).getMatchingDomProject();if(c.length===1){var m=c.is(".selected");if(!c.is("parent")&&(m||c.is(".open"))){d=d();for(var s=c.getChildren(),w=Math.min(e,s.length-1);w>=0;){var t=s.eq(w),x=project_tree.getProjectReferenceFromDomProject(t).getPriority();
if(x<=e)break;w--}if(w<0)(s.length===0?c.children(".children").children(".childrenEnd"):s.eq(0)).before(d);else x===e?t.before(d):t.after(d);m&&refreshVisibleChildrenUnderSelectedForAddButton()}c.removeClass("task")}return c},applyCompleteOperation:function(c,e,d,m){var s=l(c,"projectid"),w=this.getProjectTreeObjectByProjectIdOrThrowException(s);c={previous_last_modified:project_tree_object.getLastModified(w),previous_last_modified_by:project_tree_object.getLastModifiedBy(w),previous_completed:project_tree_object.getCompleted(w)};
project_tree_object.setCompleted(w,e);project_tree_object.setLastModified(w,e,d);if(!m){e=this.projectTree.getProjectReferenceByProjectId(s).getMatchingDomProject();e.length==1&&e.addClass("done")}return c},applyUncompleteOperation:function(c,e,d,m){var s=l(c,"projectid"),w=this.getProjectTreeObjectByProjectIdOrThrowException(s);c={previous_last_modified:project_tree_object.getLastModified(w),previous_last_modified_by:project_tree_object.getLastModifiedBy(w),previous_completed:project_tree_object.getCompleted(w)};
project_tree_object.setCompleted(w,false);project_tree_object.setLastModified(w,e,d);if(!m){e=this.projectTree.getProjectReferenceByProjectId(s).getMatchingDomProject();if(e.length==1)e.removeClass("done");else{e=project_tree_object.getParent(w);d=this.projectTree.getChildrenOfProjectTreeObject(e).indexOf(w);this.addProjectToDOM(e,d,function(){return $(global_project_tree_object.constructProjectTreeHtml(w))}).refreshExpanded()}}return c},applyDeleteOperation:function(c,e,d,m){c=this.getProjectTreeObjectByProjectIdOrThrowException(l(c,
"projectid"),true);var s=project_tree_object.getParent(c),w=this.projectTree.getChildrenOfProjectTreeObject(s),t=w.indexOf(c),x={previous_last_modified:project_tree_object.getLastModified(c),previous_last_modified_by:project_tree_object.getLastModifiedBy(c),parentid:project_tree.getProjectIdOfProjectTreeObject(s),priority:t};w.splice(t,1);var p=this.projectTree.getProjectIdToProjectMap(),a=this.projectTree.getDeletedProjectIdToProjectMap(),q=this.projectTree;this.projectTree.applyToProjectSubtree(c,
function(n){project_tree_object.setLastModified(n,e,d);var u=project_tree_object.getProjectId(n);p.remove(u);a.set(u,n);project_tree_object.isAddedSubtreePlaceholder(n)&&q.registerRemovedSharedSubtreePlaceholder(n)});if(!m){m=this.projectTree.getProjectReferenceByProjectTreeObject(s);global_project_tree_object.getTagManager(c).itemMoved(m,null);this.removeProjectFromDOM(c,s)}return x},removeProjectFromDOM:function(c,e){var d=this.projectTree.getProjectReferenceByProjectId(project_tree_object.getProjectId(c)).getMatchingDomProject();
if(d.length===1){var m=d.getParent().is(".selected");d.clearControlsUnderProject();d.remove();global_project_tree_object.registerSubtreeRemovedFromDom(c);m&&refreshVisibleChildrenUnderSelectedForAddButton()}if(this.projectTree.getChildrenOfProjectTreeObject(e).length===0){d=this.projectTree.getProjectReferenceByProjectTreeObject(e).getMatchingDomProject();d.length===1&&d.addClass("task").hideChildren("instant")}},applyUndeleteOperation:function(c,e,d,m){var s=l(c,"projectid"),w="parentid"in c?c.parentid:
undefined,t=w===null;if(!t)var x=l(c,"priority");if(t&&!this.projectTree.isShared())throw Error("Encountered parentid of null for undelete operation on main tree.");var p=this.projectTree.getDeletedProjectIdToProjectMap();if(!p.contains(s))throw Error("No deleted project with projectid "+s);var a=p.get(s);if(!t){if(w===undefined)w=project_tree.getProjectIdOfProjectTreeObject(project_tree_object.getParent(a));var q=this.getProjectTreeObjectByProjectIdOrThrowException(w)}c={previous_last_modified:project_tree_object.getLastModified(a),
previous_last_modified_by:project_tree_object.getLastModifiedBy(a)};if(t)this.projectTree.applyToProjectSubtree(a,function(v){v=project_tree_object.getProjectId(v);p.remove(v)});else{var n=this.projectTree.getProjectIdToProjectMap(),u=this.projectTree;this.projectTree.applyToProjectSubtree(a,function(v){project_tree_object.setLastModified(v,e,d);var A=project_tree_object.getProjectId(v);p.remove(A);n.set(A,v);if(project_tree_object.isAddedSubtreePlaceholder(v)){u.registerAddedSharedSubtreePlaceholder(v);
A=project_tree_object.getAddedSubtree(v);A!==null&&A.getIsDefunct()&&project_tree_object.setAddedSubtree(v,null)}});this.insertProjectIntoProjectTree(a,q,x);if(!m){m=this.projectTree.getProjectReferenceByProjectTreeObject(q);global_project_tree_object.getTagManager(a).itemMoved(null,m);this.addProjectToDOM(q,x,function(){return $(global_project_tree_object.constructProjectTreeHtml(a))}).refreshExpanded()}}return c},applyMoveOperation:function(c,e,d,m){var s=l(c,"projectid"),w=l(c,"parentid"),t=w===
null;c=t?null:l(c,"priority");return this.moveProjects([s],w,c,t,e,d,m,false)[0]},applyBulkMoveOperation:function(c,e,d,m){var s=l(c,"projectids_json"),w=l(c,"parentid"),t=w===null;c=t?null:l(c,"priority");return{move_undo_datas:this.moveProjects(JSON.parse(s),w,c,t,e,d,m,true)}},moveProjects:function(c,e,d,m,s,w,t,x){if(m&&!this.projectTree.isShared())throw Error("Encountered parentid of null for move operation on main tree.");if(!m)var p=this.getProjectTreeObjectByProjectIdOrThrowException(e);e=
m?null:this.projectTree.getProjectReferenceByProjectTreeObject(p);for(var a=[],q=0;q<c.length;q++){var n=c[q],u=this.getProjectTreeObjectByProjectIdOrThrowException(n,true);a.push(u)}if(!m){var v={};for(q=0;q<a.length;q++){var A=a[q];c=project_tree_object.getParent(A);if(c===p)v[project_tree_object.getProjectId(A)]=true}if(utils.objectIsEmpty(v))u=d;else{c=this.projectTree.getChildrenOfProjectTreeObject(p);for(q=u=0;u<d&&q<c.length;q++)project_tree_object.getProjectId(c[q])in v||u++;u=q}v={};for(q=
0;q<a.length;q++){A=a[q];c=project_tree_object.getParent(A);if(c===p){n=this.projectTree.getChildrenOfProjectTreeObject(c);var y=n.indexOf(A);if(y<u)v[project_tree_object.getProjectId(A)]=true}}}u=[];var C=$();for(q=0;q<a.length;q++){A=a[q];c=project_tree_object.getParent(A);n=this.projectTree.getChildrenOfProjectTreeObject(c);y=n.indexOf(A);n.splice(y,1);y={previous_parentid:project_tree.getProjectIdOfProjectTreeObject(c),previous_priority:y,previous_last_modified:project_tree_object.getLastModified(A),
previous_last_modified_by:project_tree_object.getLastModifiedBy(A)};if(!m){n=project_tree_object.getProjectId(A);n in v&&delete v[n];var z=d+utils.objectSize(v)+q;if(x)y.priority_used_for_move=z}u.push(y);if(m){var D=this.projectTree.getProjectIdToProjectMap();this.projectTree.applyToProjectSubtree(A,function(E){E=project_tree_object.getProjectId(E);D.remove(E)})}else{this.insertProjectIntoProjectTree(A,p,z);project_tree_object.setLastModified(A,s,w)}if(!t){n=this.projectTree.getProjectReferenceByProjectTreeObject(c);
global_project_tree_object.getTagManager(A).itemMoved(n,e);this.removeProjectFromDOM(A,c);m||(C=this.addProjectToDOM(p,z,function(){return $(global_project_tree_object.constructProjectTreeHtml(A))}))}}!t&&!m&&C.refreshExpanded();return u},insertProjectIntoProjectTree:function(c,e,d){project_tree_object.getProjectId(c);var m=this.projectTree.getChildrenOfProjectTreeObject(e);m.splice(d>=m.length?m.length:d,0,c);project_tree_object.setParent(c,e)},applyShareOperation:function(c,e,d,m){var s=l(c,"projectid"),
w="share_type"in c?c.share_type:"url",t="write_permission"in c?c.write_permission:null,x="share_id"in c?c.share_id:null;if(w!=="url"&&w!=="email")throw Error("Encountered 'share' operation with unrecognized share_type: '"+w+"'");var p=this.getProjectTreeObjectByProjectIdOrThrowException(s),a=project_tree_object.getSharedInfo(p),q=null;if(a!==null)q=a.isSharedViaUrl()?"url":"email";c={previous_share_type:q,previous_last_modified:project_tree_object.getLastModified(p),previous_last_modified_by:project_tree_object.getLastModifiedBy(p)};
if(q==="url")c.previous_write_permission=a.getUrlSharingWritePermission();if(a===null){a=new sharing.ItemSharedInfo;project_tree_object.setSharedInfo(p,a)}x!==null&&a.setShareId(x);if(w==="url")a.shareViaUrl(t);else w==="email"&&a.shareViaEmail();project_tree_object.setLastModified(p,e,d);if(!m){e=this.projectTree.getProjectReferenceByProjectId(s);d=e.getMatchingDomProject();d.length===1&&d.addClass("shared");sharing.updateShareDialogIfOpenToProject(e)}return c},applyUnshareOperation:function(c,e,
d,m){var s=l(c,"projectid"),w=this.getProjectTreeObjectByProjectIdOrThrowException(s);c=project_tree_object.getSharedInfo(w);c={previous_shared_info:c!==null?c.makeCopyOfRawSharedInfoWithoutShareId():null,previous_last_modified:project_tree_object.getLastModified(w),previous_last_modified_by:project_tree_object.getLastModifiedBy(w)};project_tree_object.setSharedInfo(w,null);project_tree_object.setLastModified(w,e,d);if(!m){e=this.projectTree.getProjectReferenceByProjectId(s);d=e.getMatchingDomProject();
d.length===1&&d.removeClass("shared");sharing.updateShareDialogIfOpenToProject(e)}return c},applyAddSharedEmailOperation:function(c,e,d,m){var s=l(c,"projectid"),w=l(c,"shared_email"),t=l(c,"write_permission"),x=l(c,"access_token"),p=this.getProjectTreeObjectByProjectIdOrThrowException(s),a=project_tree_object.getSharedInfo(p);if(a===null||!a.isSharedViaEmail())throw Error("'add_shared_email' applied to an item that isn't shared by email.");c={previous_last_modified:project_tree_object.getLastModified(p),
previous_last_modified_by:project_tree_object.getLastModifiedBy(p)};var q=a.getInfoForEmail(w);if(q!==null)c.previous_write_permission=q.write_permission;a.addSharedEmail(w,t,x);project_tree_object.setLastModified(p,e,d);if(!m){e=this.projectTree.getProjectReferenceByProjectId(s);sharing.updateShareDialogIfOpenToProject(e)}return c},applyRemoveSharedEmailOperation:function(c,e,d,m){var s=l(c,"projectid"),w=l(c,"shared_email"),t=this.getProjectTreeObjectByProjectIdOrThrowException(s),x=project_tree_object.getSharedInfo(t);
if(x===null||!x.isSharedViaEmail())throw Error("'remove_shared_email' applied to an item that isn't shared by email.");var p=x.getInfoForEmail(w);if(p===null)throw Error("'remove_shared_email' applied to item that isn't shared for the given email.");c={write_permission:p.write_permission,access_token:p.access_token,previous_last_modified:project_tree_object.getLastModified(t),previous_last_modified_by:project_tree_object.getLastModifiedBy(t)};if("user_id"in p)c.user_id=p.user_id;x.removeSharedEmail(w);
project_tree_object.setLastModified(t,e,d);if(!m){e=this.projectTree.getProjectReferenceByProjectId(s);sharing.updateShareDialogIfOpenToProject(e)}return c},applyRegisterSharedEmailUserOperation:function(c,e,d,m){var s=l(c,"projectid"),w=l(c,"access_token"),t="user_id"in c?c.user_id:null,x=this.getProjectTreeObjectByProjectIdOrThrowException(s),p=project_tree_object.getSharedInfo(x);if(p===null||!p.isSharedViaEmail())throw Error("'register_shared_email_user' applied to an item that isn't shared by email.");
c={previous_last_modified:project_tree_object.getLastModified(x),previous_last_modified_by:project_tree_object.getLastModifiedBy(x)};var a=p.getSharedEmailUserId(w);if(a!==null)c.previous_user_id=a;p.registerSharedEmailUser(w,t);project_tree_object.setLastModified(x,e,d);if(!m){e=this.projectTree.getProjectReferenceByProjectId(s);sharing.updateShareDialogIfOpenToProject(e)}return c},applyMakeSharedSubtreePlaceholderOperation:function(c){var e=l(c,"projectid");c="added_shared_project_share_id"in c?
c.added_shared_project_share_id:l(c,"added_shared_project_projectid");if(this.projectTree.isShared())throw Error("Trying to run make_shared_subtree_placeholder in a shared tree.");e=this.getProjectTreeObjectByProjectIdOrThrowException(e);if(this.projectTree.projectTreeObjectHasSharedAncestor(e))throw Error("Trying to run make_shared_subtree_placeholder on a project with a shared ancestor.");if(this.projectTree.getChildrenOfProjectTreeObject(e).length>0)throw Error("Trying to run make_shared_subtree_placeholder on a project with children.");
if(this.projectTree.containsSharedProjectWithShareId(c))throw Error("Trying to add the user's own shared subtree to their account.");if(this.projectTree.getSharedSubtreePlaceholder(c))throw Error("Trying to add a shared subtree that's already been added.");project_tree_object.setAddedSubtreeShareId(e,c);c=project_tree.getSharedProjectTreeByShareId(c);c!==null&&project_tree_object.setAddedSubtree(e,c);this.projectTree.registerAddedSharedSubtreePlaceholder(e);return null},undoLocalOperations:function(c){this.applyOperations(g(c))},
getProjectTreeObjectByProjectIdOrThrowException:function(c,e){if(e===undefined)e=false;var d=this.projectTree.getProjectTreeObjectByProjectId(c);if(d===undefined)throw Error("No project tree object with projectid "+c);if(d!==null&&project_tree_object.isAddedSubtreePlaceholder(d)&&!e)throw Error("Tried to perform disallowed operation on placeholder with projectid "+c);return d}}),createOperation:b,createOperationWithUndoData:f,invertLocalOperation:o,collapseOperationIntoPreviousOperationIfApplicable:function(c,
e){if(c.type==="edit"&&e.type==="edit"&&c.data.projectid===e.data.projectid){var d=utils.deepCopyObject(c);if("name"in e.data){d.data.name=e.data.name;"previous_name"in d.undo_data||(d.undo_data.previous_name=e.undo_data.previous_name)}if("description"in e.data){d.data.description=e.data.description;"previous_description"in d.undo_data||(d.undo_data.previous_description=e.undo_data.previous_description)}return d}if(c.type==="move"&&e.type==="move"&&c.data.projectid===e.data.projectid)return d=j(e,
c.undo_data);if(c.type==="bulk_move"&&e.type==="bulk_move"&&c.data.projectids_json===e.data.projectids_json)return d=j(e,c.undo_data);return null},saveClientViewState:function(c){c=$.extend({editingContentInfo:true,editingContentText:true,tagAutocompleterState:true,selectedProject:true,scrollPosition:false},c||{});var e={itemSelectionState:item_select.saveSelectionState()};if(c.editingContentInfo){var d=getCurrentlyFocusedContent(),m=null;if(d!==null){m={};m.formatFlags=FORMAT_FLAGS.copy();m.projectReference=
project_tree.getProjectReferenceFromDomProject(d.getProject());if(d.isName())m.contentType="name";else if(d.isNote())m.contentType="note";m.caret=d.getCaret();if(c.editingContentText){var s=d.getContentText();if(s!==d.getLastSavedContentText())m.changedContentText=s}if(c.tagAutocompleterState){d=tagging.getTagAutocompleter();if(d.isAttached())m.tagAutocompleterState=d.saveState()}}e.editingContentInfo=m}if(c.selectedProject)e.selectedProjectReference=project_tree.getProjectReferenceFromDomProject(selectOnActivePage(".selected"));
if(c.scrollPosition)e.scrollPosition=$(window).scrollTop();return e},restoreClientViewState:function(c,e){e=$.extend({forceDomRebuild:false,scrollToFocusBehavior:"doNotScrollIfOnScreen",doSetScrollAfterTimeoutHack:false},e||{});if("selectedProjectReference"in c){var d=c.selectedProjectReference;if(!d.isValid()){d=project_tree.getMainProjectTree().getRootProjectReference();search.inSearchMode()&&search.exitSearchMode(true)}selectProjectReferenceInstantly(d,e.forceDomRebuild)}if("editingContentInfo"in
c){d=c.editingContentInfo;if(d!==null){var m=d.projectReference.getMatchingDomProject();if(m.length===1&&m.is(":visible")){var s=null;if(d.contentType==="name")s=m.getName().children(".content");else if(d.contentType==="note"){s=m.getNotes().children(".content");m.addClass("noted")}if(s!==null){"changedContentText"in d&&s.setContentText(d.changedContentText,d.contentType==="note");s.setCaret(d.caret.start,d.caret.end,e.scrollToFocusBehavior);"tagAutocompleterState"in d&&tagging.getTagAutocompleter().restoreState(s,
d.tagAutocompleterState);FORMAT_FLAGS=d.formatFlags}}}}item_select.restoreSelectionState(c.itemSelectionState);if("scrollPosition"in c){var w=c.scrollPosition;d=function(){$(window).scrollTop(w)};d();e.doSetScrollAfterTimeoutHack&&setTimeout(d,0)}moving.isMoving()&&moving.notifyDomProjectTreeMayHaveChanged()}}}(),push_poll=function(){function b(){return d!==null}function f(){var u=project_tree.getAllProjectTreesHelper().haveInFlightOperations()||project_tree.getAllProjectTreesHelper().havePendingOperations();
u=e&&m?"saving":u?"saveNow":"saved";$(".saveButton").removeClass("saving saveNow saved").addClass(u)}function j(){var u=project_tree.getAllProjectTreesHelper().getLastPushPollCompleteTimestamp();u=date_time.getCurrentTimeInMS()-u;u=date_time.convertMillisecondsToTimeDeltaString(u);$(".lastSyncedString").text(u)}function h(u,v,A,y){if(u===undefined)u=false;if(v===undefined)v=false;if(A===undefined)A=false;if(y===undefined)y=false;if(!e){var C=b();if(A){A=date_time.getCurrentTimeInMS();var z=project_tree.getAllProjectTreesHelper().getLastPushPollCompleteTimestamp();
if(A-z>6E5)s=true}if(x){if(C)return;u=l;d=setTimeout(g,u);m=project_tree.getAllProjectTreesHelper().haveInFlightOperations()}else{z=C&&m;if(A=project_tree.getAllProjectTreesHelper().havePendingOperations()){if(z&&!u)return;u=u?1:y?l:r}else{if(z||C&&!v)return;if(!WINDOW_FOCUSED)return;u=v?1:project_tree.getAllProjectTreesHelper().getMinPollingInterval()}if(C){clearTimeout(d);d=null}d=setTimeout(g,u);m=A}utils.debugMessage("Scheduled "+(x?"REDO ":"")+"push/poll (type: "+(m?"push":"poll")+") to happen in "+
u+" ms.")}}function g(){utils.debugMessage("pushAndPollServer called"+(x?" (in redo mode)":""));d=null;if(e||!x&&t.getValue()!==null)ui_sugar.showAlertDialog("BAD: pushAndPollServer called while one is already in progress");else{e=true;var u,v;if(x){u=project_tree.getAllProjectTreesHelper().haveInFlightOperations();v=project_tree.getAllProjectTreesHelper().getPushPollData()}else{t.setValue(urls.generateUrlSafeRandomString(n));u=project_tree.getAllProjectTreesHelper().havePendingOperations();v=project_tree.getAllProjectTreesHelper().beginPushAndPoll()}FULL_OFFLINE_ENABLED?
setTimeout(f,100):f();var A=function(){utils.debugMessage("pushAndPollServer failed. Retrying...");c++;if(u)x=true;o();if(FULL_OFFLINE_ENABLED){if(c>0)if(s||c>=2){p=true;a||$("#offlineNotice").is(":visible")||$("#offlineNotice").slideDown()}}else if(u&&c>=2){c===2&&ui_sugar.showAlertDialog("We are unable to save your changes right now.<br /><br />Your internet connection may be down, or we may be unable to contact the server. Your changes will be saved when we can reconnect.","Warning");showMessage("<strong>Warning: We are unable to save your changes right now.</strong><br>Your changes will be saved when we can reconnect to the server.",
true,"connectionErrorMessage")}};v={client_id:CLIENT_ID,client_version:CLIENT_VERSION,push_poll_id:t.getValue(),push_poll_data:JSON.stringify(v)};if(project_tree.getMainProjectTree().isShared())v.share_id=project_tree.getMainProjectTree().getShareId();if(SEND_TIMEZONE_TO_SERVER)v.timezone=TIMEZONE_INFO.olson_tz;if(x)v.is_redo="true";if(FULL_OFFLINE_ENABLED)v.full_offline_enabled="true";v={url:"/push_and_poll",data:v,dataType:"json",type:"POST",success:function(y){function C(){var D=x;e=false;t.setValue(null);
var E=SEND_TIMEZONE_TO_SERVER=x=false,G=false,H=false;D=project_tree.getAllProjectTreesHelper().completePushAndPoll(z,D);if(!D.invalidData){E=true;G=D.errorEncounteredRunningClientOperationsOnServer;H=D.errorEncounteredRunningRemoteOperationsOnClient}f();j();if(E)if(G)showMessage("We're sorry, the server encountered an error while saving your data. Please <a href='#' class='refresh'>reload the page</a> and try again.",true);else H&&showMessage("An unexpected error occurred when applying the changes made in another session for this account. Please <a href='#' class='refresh'>reload the page</a> before continuing.",
true);else showMessage("We're sorry, the server returned an unexpected response. Please <a href='#' class='refresh'>reload the page</a> and try again.",true);"alert_message"in z&&ui_sugar.showAlertMessage(z.alert_message);"dropdown_message"in z&&showMessage(z.dropdown_message,true);h();u&&!project_tree.getAllProjectTreesHelper().havePendingOperations()&&apphooks.notifyThatAllChangesAreSaved()}if(y==null)A();else{utils.debugMessage("pushAndPollServer succeeded!");c=0;s=false;if(FULL_OFFLINE_ENABLED){p=
false;$("#offlineNotice").is(":visible")&&$("#offlineNotice").slideUp()}else $("#message.connectionErrorMessage:visible").length>0&&hideMessage();if("logged_out"in y&&y.logged_out)showLoginPopup();else{var z=y;project_tree.getAllProjectTreesHelper().markIfRefreshedProjectTreeNeededForRemoteUndeletes(z);FULL_OFFLINE_ENABLED&&project_tree.getAllProjectTreesHelper().needRefreshedProjectTreesOrAddedSharedSubtrees(z)?k(z,C):C()}}},error:A};if(!project_tree.getAllProjectTreesHelper().haveInFlightOperations())v.timeout=
3E4;$.ajax(v)}}function o(){e=false;if(!x){t.setValue(null);project_tree.getAllProjectTreesHelper().resetPushAndPoll()}f();h(false,false,false,true)}function k(u,v){function A(y){utils.debugMessage("New project tree data loaded. Attaching refreshed project trees and adding shared subtrees.");y=y.projectTreeData;var C=u;y.clientId!==CLIENT_ID&&project_tree.getAllProjectTreesHelper().extractRefreshedProjectTreesAndNewlyAddedSharedSubtreesFromNewProjectTreeData(y,C);v()}utils.debugMessage("getRefreshedProjectTreesAndAddedSharedSubtrees called");
IS_PACKAGED_APP?fetchInitializationData(function(y){writeInitializationDataToStorage(y);A(y)}):appcache_helper.markCacheManifestDirtyAndThenUpdate(function(y){if(y){utils.debugMessage("App cache updated. Swapping to new cache and loading new project tree data.");appcache_helper.swapCache();fetchInitializationData(A)}else{utils.debugMessage("Failed to update app cache.");v()}})}var r=5E3,l=5E3,c=0,e=false,d=null,m=false,s=false,w=null,t=null,x=false,p=false,a=false,q=null,n=8;return{init:function(){f();
j();t=new userstorage.PersistentValue("pushpoll","currentId",null);var u=project_tree.getAllProjectTreesHelper().pushPollIsInProgress();if(u&&t.getValue()===null)throw new userstorage.InitializationError;if(t.getValue()!==null){var v=false;if(u)if(project_tree.getAllProjectTreesHelper().haveInFlightOperations()){utils.debugMessage("push_poll init: Redoing push recovered from userstorage");v=m=x=true}else{utils.debugMessage("push_poll init: Resetting poll recovered from userstorage");project_tree.getAllProjectTreesHelper().resetPushAndPoll()}v||
t.setValue(null)}u=FULL_OFFLINE_ENABLED||x?1:project_tree.getAllProjectTreesHelper().getMinPollingInterval();d=setTimeout(g,u);if(FULL_OFFLINE_ENABLED)s=true;setInterval(function(){j()},6E4)},updateSaveStatus:f,updateLastSyncedStrings:j,hideOfflineNotice:function(){a=true;if(q!==null){clearTimeout(q);q=null}$("#offlineNotice").hide()},unhideOfflineNotice:function(){a=false;if(q===null)if(p)q=setTimeout(function(){q=null;$("#offlineNotice").show()},1)},notifyAjaxLoginComplete:function(){e&&o()},scheduleNextPushAndPoll:h,
pushPollAlreadyScheduled:b,scheduleImmediatePollOnNextTick:function(){if(w===null)w=setTimeout(function(){w=null;h(false,true)},1)}}}(),location_history=function(){function b(){u=setTimeout(function(){if(!(animations.animationsAreInProgress()||search.inSearchMode()&&x.getSearchQuery()===null)){var y={editingContentText:false,tagAutocompleterState:false,selectedProject:false,scrollPosition:true};if(IS_MOBILE)y.editingContentInfo=false;y=operations.saveClientViewState(y);j().storeClientViewStateForLocation(x,
y)}u=null;WINDOW_FOCUSED&&b()},500)}function f(){var y=$("#backwardNavigationButton");e()?y.addClass("enabled"):y.removeClass("enabled");y=$("#forwardNavigationButton");d()?y.addClass("enabled"):y.removeClass("enabled")}function j(){if(n===null)n=new A;return n}function h(){if(IS_PACKAGED_APP){var y=null;if(IS_ANDROID_APP)if(userstorage.isEnabled()){var C=userstorage.read(w);if(C!==null){y=JSON.parse(C);y=new v(y.zoomedProjectId,y.searchQuery,y.projectTreeRootProjectId)}}return y!==null?y:new v(project_tree.ROOT_PROJECTID,
null,null)}else{if(app_detect.isIOSApp())if(userstorage.isEnabled()){y=userstorage.read(t);y!==null&&$.address.value(y)}return o()}}function g(){if(IS_PACKAGED_APP){if(userstorage.isEnabled()){var y=x.getJson();userstorage.write(w,y)}}else app_detect.isIOSApp()&&userstorage.isEnabled()&&setTimeout(function(){var C=window.location.hash.substring(1);userstorage.write(t,C)},0)}function o(){var y=$.address.pathNames(),C=$.address.parameter("q");return k(y,C)}function k(y,C){if(C===undefined)C=null;var z;
if(y.length===0)z=project_tree.ROOT_PROJECTID;else{z=y[0];if(project_ids.isTruncatedProjectId(z)){z=project_tree.getAllProjectTreesHelper().getMatchingKnownProjectIdForTruncatedProjectId(z);if(z===null)z=project_ids.INVALID_PROJECT_ID}else z=z}return new v(z,C!==null?C.replace(/\+/g," "):null)}function r(y){if(!x.equals(y)){var C=x;x=y;l(C);g()}}function l(y){if(IS_PACKAGED_APP)if(!p)if(!(!a.isEmpty()&&y.equals(a.last()))){a.push(y);q.clear();f()}}function c(y){return"/"+(y!==project_tree.ROOT_PROJECTID?
project_ids.truncateProjectId(y):"")}function e(){return!a.isEmpty()}function d(){return!q.isEmpty()}function m(){if(e()){var y=a.pop();q.push(x);x=y;selectAndSearchUsingLocation(y);g();f()}}function s(){if(d()){var y=q.pop();a.push(x);x=y;selectAndSearchUsingLocation(y);g();f()}}var w="savedLocation",t="urlhash",x=null,p=false,a=null,q=null,n=null,u=null,v=Class.extend({init:function(y,C,z){if(C===undefined)C=null;this._zoomedProjectId=y;this._searchQuery=C;if(z===undefined){y=project_tree.getAllProjectTreesHelper().findProjectByProjectId(y);
this._projectTreeRootProjectId=y!==null?y.getProjectTree().getRootProjectId():null}else this._projectTreeRootProjectId=z;this._uniqueId=this._generateUniqueId()},getZoomedProjectId:function(){return this._zoomedProjectId},getSearchQuery:function(){return this._searchQuery},getSearchString:function(){return this._searchQuery!==null?this._searchQuery:""},getProjectTreeRootProjectId:function(){return this._projectTreeRootProjectId},getUniqueId:function(){return this._uniqueId},toProjectReference:function(){var y=
project_tree.getProjectTreeByRootProjectId(this._projectTreeRootProjectId);return y!==null?y.getProjectReferenceByProjectId(this._zoomedProjectId):null},withNewZoomedProject:function(y){return new v(y.getProjectId(),this._searchQuery,y.getProjectTree().getRootProjectId())},withNewSearchQuery:function(y){return new v(this._zoomedProjectId,y,this._projectTreeRootProjectId)},equals:function(y){return this._projectTreeRootProjectId===y._projectTreeRootProjectId&&this._zoomedProjectId===y._zoomedProjectId&&
this._searchQuery===y._searchQuery},getJson:function(){return JSON.stringify({zoomedProjectId:this._zoomedProjectId,searchQuery:this._searchQuery,projectTreeRootProjectId:this._projectTreeRootProjectId})},getNonPlaceholderLocation:function(){var y=this.toProjectReference();if(y===null)return null;if(!y.isAddedSubtreePlaceholder())return this;var C=y.getNonPlaceholderReferenceIfApplicable();if(C===null)C=y;return new v(C.getProjectId(),this._searchQuery,C.getProjectTree().getRootProjectId())},_generateUniqueId:function(){for(var y=
[["zoomedProjectId",this._zoomedProjectId],["projectTreeRootProjectId",this._projectTreeRootProjectId],["searchString",this.getSearchString()]],C="",z=0;z<y.length;z++){var D=y[z][0],E=y[z][1];if(z!==0)C+=",";C+=D+":"+E}return hex_md5(C)}}),A=Class.extend({init:function(){this._table=new utils.LookupTable(200,100)},storeClientViewStateForLocation:function(y,C){this._table.add(y.getNonPlaceholderLocation().getUniqueId(),C)},retrieveClientViewStateForLocation:function(y){return this._table.get(y.getNonPlaceholderLocation().getUniqueId())}});
return{init:function(){a=new utils.Stack(200,100);q=new utils.Stack;IS_PACKAGED_APP||$.address.tracker(null);x=h();b();if(IS_PACKAGED_APP){$("#backwardNavigationButton.enabled").live("click",function(){m()});$("#forwardNavigationButton.enabled").live("click",function(){s()});$(".navigationButton").mousedown(function(){return false});f()}},notifyWindowFocus:function(){u===null&&b()},Location:v,getCurrentLocation:function(){return x},getLocationFromFragment:function(y){y=urls.parseUrlFragment(y);return k(y.pathNames,
y.parameters.q)},notifyZoomChange:function(y){if(!IS_PACKAGED_APP&&!p){var C=y.getProjectId();$.address.path(c(C))}r(x.withNewZoomedProject(y))},notifySearchChange:function(y){if(y!==null&&y.length===0)y=null;!IS_PACKAGED_APP&&!p&&$.address.parameter("q",y);r(x.withNewSearchQuery(y))},notifyLocationChange:function(y){r(y)},notifyExternalFragmentChange:function(){var y=o();r(y)},setLocationModificationInProgress:function(y){if(!p&&y)l(x);else if(p&&!y)if(!IS_PACKAGED_APP){var C=x.getZoomedProjectId();
C=c(C);var z=$.address.path();(C=C!==z)&&$.address.autoUpdate(false);z=x.getSearchQuery();$.address.parameter("q",z);C&&$.address.autoUpdate(true);C=x.getZoomedProjectId();$.address.path(c(C))}p=y},canNavigateBackward:e,canNavigateForward:d,navigateBackward:m,navigateForward:s,restoreLastSavedClientViewStateForCurrentLocation:function(y){if(y===undefined)y=false;var C=j().retrieveClientViewStateForLocation(x);if(C!==null){y||blurFocusedContentOrInput();operations.restoreClientViewState(C,{doSetScrollAfterTimeoutHack:!IS_PACKAGED_APP});
return true}return false},getLastSavedScrollPositionForLocation:function(y){y=j().retrieveClientViewStateForLocation(y);return y!==null?y.scrollPosition:null}}}(),undo_redo=function(){function b(){saveEditingContent();var e;if(k.isEmpty())e=null;else{e=k.pop();var d=j(e);r.push(d);e=e}if(e===null)return false;h(e);if(e===c){undeleteMessageIsVisible()&&hideMessage();c=null}o();return true}function f(){saveEditingContent();var e;if(r.isEmpty())e=null;else{e=r.pop();var d=j(e);k.push(d);e=e}if(e===null)return false;
h(e);o();return true}function j(e){for(var d=[],m=e.operationInfos.length-1;m>=0;m--)for(var s=e.operationInfos[m],w=operations.invertLocalOperation(s.operation),t=0;t<w.length;t++)d.push({operation:w[t],projectTreeReference:s.projectTreeReference});return{operationInfos:d,preBatchClientViewState:e.postBatchClientViewState,postBatchClientViewState:e.preBatchClientViewState}}function h(e){var d=e.operationInfos;e=e.postBatchClientViewState;blurFocusedContentOrInput();for(var m=false,s=0;s<d.length;s++){var w=
d[s],t=w.operation;w=w.projectTreeReference.getProjectTree();if(w===null)m=true;else{t=w.applyLocalOperationAndAddToPendingQueue(t.type,t.data,t.undo_data);m&=t}}m||operations.restoreClientViewState(e)}function g(){return operations.saveClientViewState({editingContentText:false,tagAutocompleterState:false})}function o(){k.isEmpty()?$(".undo-button").removeClass("enabled"):$(".undo-button").addClass("enabled");r.isEmpty()?$(".redo-button").removeClass("enabled"):$(".redo-button").addClass("enabled")}
var k=null,r=null,l=null,c=null;return{init:function(){k=new utils.Stack(200,100);r=new utils.Stack;$(".undo-button.enabled").live("click",function(){b()});$(".redo-button.enabled").live("click",function(){f()})},startOperationBatch:function(e,d){if(e===undefined)e=false;if(d===undefined)d=null;if(l!==null){utils.debugAlert("Trying to start operation batch while one is already in progress.");_gaq.push(["_trackEvent","Miscellaneous","Trying to start operation batch while one is already in progress."])}else{e||
saveEditingContent();if(d===null)d=g();l={operationInfos:[],preBatchClientViewState:d,postBatchClientViewState:null};r.clear()}},addOperationToCurrentBatch:function(e,d){if(l===null){ui_sugar.showAlertDialog("Trying to add to operation batch while none are in progress.");_gaq.push(["_trackEvent","Miscellaneous","Trying to add to operation batch while none are in progress."])}l.operationInfos.push({operation:e,projectTreeReference:d})},finishOperationBatch:function(e,d){if(e===undefined)e=false;if(d===
undefined)d=false;if(l===null){utils.debugAlert("Trying to finish operation batch while none are in progress.");_gaq.push(["_trackEvent","Miscellaneous","Trying to finish operation batch while none are in progress."])}else{var m=l;l=null;if(m.operationInfos.length!==0){m.postBatchClientViewState=g();var s=j(m);k.push(s);if(e)c=s;o();d||item_select.restoreSelectionState(m.preBatchClientViewState.itemSelectionState)}}},undo:b,redo:f,clearStacks:function(){k.clear();r.clear()},undoLastDeleteTriggeringDropdown:function(){if(c!==
null){h(c);var e=j(c);k.push(e);undeleteMessageIsVisible()&&hideMessage();c=null;o()}},saveClientViewStateForUndoRedo:g}}(),search=function(){function b(){return n!==null}function f(){var B=$("#searchForm");if(!B.hasClass("clearPrompt")){B.addClass("clearPrompt");j()}}function j(){if(!(!IS_MOBILE||IS_TABLET))if($("#searchForm").hasClass("clearPrompt")){var B=$("#searchBox");B.removeAttr("style");var J=B.offset().left+B.width();B.width(J-10)}}function h(){var B=$("#searchForm");if(B.hasClass("clearPrompt")){B.removeClass("clearPrompt");
IS_MOBILE&&!IS_TABLET&&$("#searchBox").removeAttr("style")}}function g(B){return B.getUniqueIdentifier()in v}function o(B){return B.getUniqueIdentifier()in u}function k(B){var J=parseInt(B);if(isNaN(J)||J<0)J=0;if(B.length>0){B=B.charAt(B.length-1);if(B==="h")J*=60;else if(B==="d")J*=1440}J=J*60*1E3;return date_time.getCurrentTimeInMS()-J}function r(B,J,L,N){if(J===undefined)J=false;if(L===undefined)L=null;if(N===undefined)N=false;B=new C(B);var R=false;if(B.isEmpty()){if(b()){c(J);R=true}}else{l(B,
J,L);if(B.shouldRevealMatchingCompletedItems())shouldShowCompletedProjects()||setShowCompleted(true);else N&&shouldShowCompletedProjects()!==A&&setShowCompleted(A);R=true}R&&!J&&reconstructDomProjectTree();return R}function l(B,J,L){if(J===undefined)J=false;if(L===undefined)L=null;var N=b();m();L=L;if(L===undefined)L=null;var R=B.isOnlyNots();L=L===null?project_tree.getProjectReferenceFromDomProject(selectOnActivePage(".selected")):L;d(L.getProjectTreeObject(),B,R,true);n=B;getActivePage().addClass("searching");
N||(A=shouldShowCompletedProjects());IS_MOBILE||$("#searchCancel").show();N=getCurrentlyFocusedContentOrInput();if(J||N===null||!N.is("#searchBox"))t(B.getSearchString());J||saved_views.notifyViewChanged()}function c(B){if(B===undefined)B=false;shouldShowCompletedProjects()!==A&&setShowCompleted(A);A=null;m();getActivePage().removeClass("searching");IS_MOBILE||$("#searchCancel").hide();var J=getCurrentlyFocusedContentOrInput();if(B||J===null||!J.is("#searchBox"))t("");B||saved_views.notifyViewChanged()}
function e(){project_tree.getAllProjectTreesHelper().applyToAllProjectTrees(function(B){B.applyToProjectSubtree(null,project_tree_object.clearSearchResult);B.getDeletedProjectIdToProjectMap().applyToAll(project_tree_object.clearSearchResult)})}function d(B,J,L,N,R){if(N===undefined)N=false;if(R===undefined)R=false;var T=!N&&B!==null?global_project_tree_object.isCompleted(B):false;T|=R;var Y=R=false,Z=false,S=false;if(!L||N||global_project_tree_object.isExpanded(B))for(var ga=global_project_tree_object.getChildren(B),
ca=0;ca<ga.length;ca++){N=d(ga[ca],J,L,false,T);R|=N.uncompletedDescendantMatches;Y|=N.completedDescendantMatches;var ba=!N.uncompletedDescendantMatches&&!N.completedDescendantMatches;Z|=!N.isCompleted&&!N.uncompletedDescendantMatches;S|=ba}N=R||Y;Z&=N;S&=N;L=false;if(B!==null){N=J.matches(B);L=N.matches;J=N.nameMatches;ga=N.noteMatches;N=N.metaMatches;if(L||R||Y){Z=new da(L,R,Y,J,ga,N,Z,S);global_project_tree_object.setSearchResult(B,Z)}}return{uncompletedDescendantMatches:!T&&L||R,completedDescendantMatches:T&&
L||Y,isCompleted:T}}function m(){n=null;u={};v={};e()}function s(){if("search"in TIMEOUTS){clearTimeout(TIMEOUTS.search);delete TIMEOUTS.search}r($("#searchBox").val())&&$(window).scrollTop(0);clearTimeout(TIMEOUTS.setSearchInFragment);TIMEOUTS.setSearchInFragment=setTimeout(function(){location_history.notifySearchChange($("#searchBox").val())},1E3)}function w(){clearTimeout(TIMEOUTS.search);TIMEOUTS.search=setTimeout(function(){var B=$("#searchBox").val();clearTimeout(TIMEOUTS.search);if(!(b()&&
B===n.getSearchString())){B=B.length;TIMEOUTS.search=setTimeout(function(){s()},B==0||B>2?1:500)}},1)}function t(B){$("#searchBox").val(B);var J=$.trim(B);J.length>0?f():h();location_history.notifySearchChange(J.length>0?B:null)}function x(B){t(B);s()}function p(){if(b())if(IS_MOBILE)$("#searchBox").val("").blur();else{$("#searchBox").val("");s();event_tracker.track("search--cancelled")}}function a(){var B=null;if(getCurrentlyFocusedContent()!==null){saveEditingContent();B=operations.saveClientViewState()}var J=
y;blurFocusedContentOrInput();p();B!==null&&operations.restoreClientViewState(B);if(getCurrentlyFocusedContent()===null){IS_MOBILE||focusFirstProject();J!==null?operations.restoreClientViewState(J):location_history.restoreLastSavedClientViewStateForCurrentLocation(true)}}function q(B){return $("#searchBox").val().match(RegExp("(^|\\s)"+B+"(?=$|\\s)","ig"))!==null}var n=null,u={},v={},A=null,y=null,C=Class.extend({init:function(B){function J(ba){ba=ba.split(/\s+/);for(var ha=0;ha<ba.length;ha++){var ia=
ba[ha];ia.length>0&&L.push(ia)}}for(var L=[],N=RegExp('(^|\\s)(-?"[^"]*")($|\\s)',"g"),R=0;;){var T=N.exec(B);if(T==null)break;var Y=T[0],Z=T[2];T=T.index;J(B.substring(R,T));L.push(Z);R=T+Y.length}J(B.substring(R));R=B.length>0&&B.charAt(B.length-1).match(/\s/)!==null;Y=[];N=[Y];for(Z=0;Z<L.length;Z++){var S=L[Z];if(S==="OR"){Y=[];N.push(Y)}else{T=false;if(S.charAt(0)==="-"){T=true;S=S.substring(1);if(S.length===0)continue}var ga=S.length>=2&&S.charAt(0)==='"'&&S.charAt(S.length-1)==='"';if(!(ga&&
S.length===2)){S=S.toLowerCase();var ca=function(ba){return utils.splitOnFirstOccurrence(ba,":")[1]};if(ga){S=S.substring(1,S.length-1);S=new M(S)}else S=utils.isPrefixMatch(S,"last-changed:")?new X(ca(S)):utils.isPrefixMatch(S,"completed:")?new F(ca(S)):utils.isPrefixMatch(S,"last-changed-since:")?new W(ca(S)):utils.isPrefixMatch(S,"last-changed-before:")?new U(ca(S)):utils.isPrefixMatch(S,"completed-since:")?new aa(ca(S)):utils.isPrefixMatch(S,"last-changed-by:")?new K(ca(S)):S==="is:shared"?new P:
S==="is:complete"?new I:S==="is:embedded"?new V:S==="has:note"?new fa:utils.isOnlyCJK(S)?new M(S):new O(S,Z===L.length-1&&!R);if(T)S=new D(S);Y.push(S)}}}R=[];for(Y=0;Y<N.length;Y++){Z=N[Y];if(Z.length!==0){Z=Z.length>1?new E(Z):Z[0];R.push(Z)}}N=R.length===0?new E([]):R.length>1?new G(R):R[0];this._searchString=B;this._rootNode=N;this._canMetaMatch=this._rootNode.canMetaMatch();this._shouldRevealMatchingCompletedItems=this._rootNode.shouldRevealMatchingCompletedItems()},getSearchString:function(){return this._searchString},
matches:function(B){return this._rootNode.matches(B)},getMatchingChars:function(B,J){var L=Array(B.length);this._rootNode.markMatchingChars(B,L,J);return L},isEmpty:function(){return this._rootNode.isEmpty()},isOnlyNots:function(){return this._rootNode.isOnlyNots()},canMetaMatch:function(){return this._canMetaMatch},shouldRevealMatchingCompletedItems:function(){return this._shouldRevealMatchingCompletedItems}}),z=Class.extend({init:function(){},matches:function(){return{matches:false,metaMatches:false,
nameMatches:false,noteMatches:false}},markMatchingChars:function(){},isEmpty:function(){return false},isOnlyNots:function(){return false},canMetaMatch:function(){return false},shouldRevealMatchingCompletedItems:function(){return false}}),D=z.extend({init:function(B){this._super();this.child=B},matches:function(B){B=this.child.matches(B);if(B.matches)B.matches=B.nameMatches=B.noteMatches=B.metaMatches=false;else{B.matches=true;B.metaMatches=this.child.canMetaMatch()}return B},isOnlyNots:function(){return true},
canMetaMatch:function(){return this.child.canMetaMatch()},shouldRevealMatchingCompletedItems:function(){return this.child.shouldRevealMatchingCompletedItems()}}),E=z.extend({init:function(B){this._super();this.children=B},matches:function(B){for(var J=false,L=false,N=false,R=0;R<this.children.length;R++){var T=this.children[R].matches(B);if(!T.matches)return{matches:false,nameMatches:false,noteMatches:false,metaMatches:false};J|=T.nameMatches;L|=T.noteMatches;N|=T.metaMatches}return{matches:true,
nameMatches:J,noteMatches:L,metaMatches:N}},markMatchingChars:function(B,J,L){for(var N=0;N<this.children.length;N++)this.children[N].markMatchingChars(B,J,L)},isEmpty:function(){for(var B=0;B<this.children.length;B++)if(!this.children[B].isEmpty())return false;return true},isOnlyNots:function(){if(this.children.length===0)return false;for(var B=0;B<this.children.length;B++)if(!this.children[B].isOnlyNots())return false;return true},canMetaMatch:function(){for(var B=0;B<this.children.length;B++)if(this.children[B].canMetaMatch())return true;
return false},shouldRevealMatchingCompletedItems:function(){for(var B=0;B<this.children.length;B++)if(this.children[B].shouldRevealMatchingCompletedItems())return true;return false}}),G=z.extend({init:function(B){this._super();this.children=B},matches:function(B){for(var J=false,L=false,N=false,R=false,T=0;T<this.children.length;T++){var Y=this.children[T].matches(B);J|=Y.matches;L|=Y.nameMatches;N|=Y.noteMatches;R|=Y.metaMatches}return{matches:J,nameMatches:L,noteMatches:N,metaMatches:R}},markMatchingChars:function(B,
J,L){for(var N=0;N<this.children.length;N++)this.children[N].markMatchingChars(B,J,L)},isEmpty:function(){for(var B=0;B<this.children.length;B++)if(!this.children[B].isEmpty())return false;return true},isOnlyNots:function(){if(this.children.length===0)return false;for(var B=0;B<this.children.length;B++)if(this.children[B].isOnlyNots())return true;return false},canMetaMatch:function(){for(var B=0;B<this.children.length;B++)if(this.children[B].canMetaMatch())return true;return false},shouldRevealMatchingCompletedItems:function(){for(var B=
0;B<this.children.length;B++)if(this.children[B].shouldRevealMatchingCompletedItems())return true;return false}}),H=z.extend({canMetaMatch:function(){return false},_generateTextualMatchResult:function(B,J,L){return{matches:B,nameMatches:J,noteMatches:L,metaMatches:false}}});z=z.extend({canMetaMatch:function(){return true},_generateMetaMatchResult:function(B){return{matches:B,nameMatches:false,noteMatches:false,metaMatches:B}}});var O=H.extend({init:function(B,J){this._super();var L=utils.isWordOrNumberChar(B.charAt(0)),
N=utils.isWordOrNumberChar(B.charAt(B.length-1))?"(?=$|[^"+WORD_CHARS_PLUS_DIGITS+"])":"()";L=(L?"(^|[^"+WORD_CHARS_PLUS_DIGITS+"])":"()")+"("+utils.regExpEscapeString(B)+")";J||(L+=N);this.term=B;this.termRegExp=XRegExp(L,"ig")},matches:function(B){var J=global_project_tree_object.hasName(B)&&global_project_tree_object.getNameInPlainText(B).match(this.termRegExp)!==null;B=global_project_tree_object.hasNote(B)&&global_project_tree_object.getNoteInPlainText(B).match(this.termRegExp)!==null;return this._generateTextualMatchResult(J||
B,J,B)},markMatchingChars:function(B,J,L){for(this.termRegExp.lastIndex=0;;){var N=this.termRegExp.exec(B);if(N==null)break;var R=N[2];for(var T=N=N.index+N[1].length;T<N+R.length;T++)J[T]=L}}}),M=H.extend({init:function(B){this._super();var J=utils.regExpEscapeString(B);this.literalString=B;this.literalStringRegExp=XRegExp(J,"ig")},matches:function(B){var J=global_project_tree_object.hasName(B)&&global_project_tree_object.getNameInPlainText(B).match(this.literalStringRegExp)!==null;B=global_project_tree_object.hasNote(B)&&
global_project_tree_object.getNoteInPlainText(B).match(this.literalStringRegExp)!==null;return this._generateTextualMatchResult(J||B,J,B)},markMatchingChars:function(B,J,L){for(this.literalStringRegExp.lastIndex=0;;){var N=this.literalStringRegExp.exec(B);if(N==null)break;for(var R=N[0],T=N.index;T<N.index+R.length;T++)J[T]=L}}});H=z.extend({init:function(B){this._super();var J;if(typeof B==="string"){B=B.match(/^(\d{1,2})\/(\d{1,2})(\/(\d{4}))?(@(\d{2}):(\d{2})(:(\d{2}))?)?$/);if(B===null){this._hasInvalidValue=
true;return}var L=function(ca,ba,ha){if(ba===undefined)ba=Number.MIN_VALUE;if(ha===undefined)ha=Number.MAX_VALUE;integer=parseInt(ca);if(integer<ba||integer>ha)throw Error("Integer not in range ["+ba+", "+ha+']: "'+integer+'"');return integer};try{J=L(B[1],1,12);var N=L(B[2],1,31),R=B[4],T=R!==undefined?L(R):(new Date).getFullYear(),Y=L(B[6]!==undefined?B[6]:"00",0,23),Z=L(B[7]!==undefined?B[7]:"00",0,59),S=L(B[9]!==undefined?B[9]:"00",0,59)}catch(ga){this._hasInvalidValue=true;return}J=(new Date(T,
J-1,N,Y,Z,S)).getTime()}else J=B;this._hasInvalidValue=false;this._timestamp=J;this._treeIdToClientTimestampMap={}},_getClientTimestampForProjectTree:function(B){var J=B.getTreeId();J in this._treeIdToClientTimestampMap||(this._treeIdToClientTimestampMap[J]=B.getClientTimestampForTimestamp(this._timestamp));return this._treeIdToClientTimestampMap[J]}});var Q=H.extend({init:function(B){this._super(B)},matches:function(B){if(this._hasInvalidValue)return this._generateMetaMatchResult(false);var J=global_project_tree_object.getLastModified(B);
B=this._getClientTimestampForProjectTree(global_project_tree_object.getProjectTree(B));return this._generateMetaMatchResult(this.compareTimestamps(J,B))},shouldRevealMatchingCompletedItems:function(){return true}}),W=Q.extend({init:function(B){this._super(B)},compareTimestamps:function(B,J){return B>=J}}),U=Q.extend({init:function(B){this._super(B)},compareTimestamps:function(B,J){return B<J}}),aa=H.extend({init:function(B){this._super(B)},matches:function(B){if(this._hasInvalidValue)return this._generateMetaMatchResult(false);
var J=false;if(global_project_tree_object.isCompleted(B)){J=global_project_tree_object.getCompleted(B);B=this._getClientTimestampForProjectTree(global_project_tree_object.getProjectTree(B));J=J>=B}return this._generateMetaMatchResult(J)},shouldRevealMatchingCompletedItems:function(){return true}}),X=W.extend({init:function(B){this._super(k(B))}}),F=aa.extend({init:function(B){this._super(k(B))}}),K=z.extend({TyPE_INVALID:0,TYPE_ME:1,TYPE_OTHERS:2,init:function(B){this._super();this._type=B==="me"?
this.TYPE_ME:B==="others"?this.TYPE_OTHERS:this.TYPE_INVALID},matches:function(B){B=global_project_tree_object.getLastModifiedByUserId(B);var J=false;if(this._type===this.TYPE_ME)J=B===USER_ID_AS_INT;else if(this._type===this.TYPE_OTHERS)J=B!==USER_ID_AS_INT;return this._generateMetaMatchResult(J)},shouldRevealMatchingCompletedItems:function(){return true}}),I=z.extend({init:function(){this._super()},matches:function(B){return this._generateMetaMatchResult(global_project_tree_object.isCompleted(B))},
shouldRevealMatchingCompletedItems:function(){return true}}),P=z.extend({init:function(){this._super()},matches:function(B){return this._generateMetaMatchResult(global_project_tree_object.getSharedInfo(B)!==null)}}),V=z.extend({init:function(){this._super()},matches:function(B){return this._generateMetaMatchResult(global_project_tree_object.isAddedSubtreePlaceholder(B))}}),fa=z.extend({init:function(){this._super()},matches:function(B){return this._generateMetaMatchResult(global_project_tree_object.hasNote(B))}}),
da=Class.extend({init:function(B,J,L,N,R,T,Y,Z){this.matches=B;this.uncompletedDescendantMatches=J;this.completedDescendantMatches=L;this.nameMatches=N;this.noteMatches=R;this.metaMatches=T;this.isHalfOpenSearchMatchAncestorWhenCompletedHidden=Y;this.isHalfOpenSearchMatchAncestorWhenCompletedVisible=Z},isExpandedForSearch:function(B){return o(B)?B.isExpanded():this.isByDefaultExpandedForSearch()},isByDefaultExpandedForSearch:function(){return this.uncompletedDescendantMatches||this.completedDescendantMatches},
isNeverVisibleForSearch:function(B,J){if(this.matches||this.uncompletedDescendantMatches||J&&this.completedDescendantMatches||o(B)||g(B.getParent()))return false;var L=global_project_tree_object.getParent(B.getProjectTreeObject());if(L===null||global_project_tree_object.getSearchResult(L).isByDefaultExpandedForSearch())return true;return false},getAdditionalClassesForSearch:function(B){var J={project:"",name:"",note:""},L=o(B)||g(B.getParent());if(this.matches||L){J.project+="matches ";if(L||!this.uncompletedDescendantMatches&&
!this.completedDescendantMatches)J.project+="terminalMatch "}if(this.uncompletedDescendantMatches)J.project+="uncompletedDescendantMatches ";if(this.completedDescendantMatches)J.project+="completedDescendantMatches ";if(!g(B)){if(this.isHalfOpenSearchMatchAncestorWhenCompletedHidden)J.project+="halfOpenSearchMatchAncestorWhenCompletedHidden ";if(this.isHalfOpenSearchMatchAncestorWhenCompletedVisible)J.project+="halfOpenSearchMatchAncestorWhenCompletedVisible "}if(this.metaMatches)J.project+="metaMatches ";
if(this.nameMatches)J.name+="matches ";if(this.noteMatches)J.note+="matches ";return J}}),ea=new da(false,false,false,false,false,false,false,false);return{init:function(){function B(){IS_MOBILE||w()}function J(){if(b())a();else IS_MOBILE&&$("#searchBox").val("").blur();return false}$("#searchBox").val("");$("#searchForm").submit(function(){IS_MOBILE?$("#searchBox").blur():s();return false});var L=$("#searchPrompt");IS_MOBILE?L.tapHandler(null,function(){function N(){$("#searchBox").focus()}f();IS_IOS?
dom_utils.executeAfterRepaint(N):N();return false}):L.click(function(){$("#searchBox").focus()});L=$("#searchBox");L.bind("keydown",function(N){var R=$(this);if(!IS_MOBILE){setTimeout(function(){tagging.getTagAutocompleter().updateDisplay(R)},1);if(!(N.keyCode===$.ui.keyCode.TAB||N.keyCode===$.ui.keyCode.ESCAPE||N.keyCode===$.ui.keyCode.DOWN)){w();event_tracker.track("search--typed")}}});L.bind("keypress",function(N){var R=$(this);if(!IS_MOBILE){N=String.fromCharCode(N.which);tagging.isTagStartChar(N)&&
tagging.getTagAutocompleter().attach(R,N)}});L.bind("cut",B);L.bind("paste",B);L.bind("click",function(){tagging.getTagAutocompleter().detach()});L.focus(function(){f();item_select.clearItemSelection()});L.blur(function(){var N=$.trim($(this).val()).length===0;$("#searchForm");N?h():f();tagging.getTagAutocompleter().detach();y=null;IS_MOBILE&&s()});L=key_events.enableKeyEvents(L,"true");L.addHandler("keydown","tab",function(){if(tagging.getTagAutocompleter().autocompleteSelectedTag($(this)))return false;
focusFirstProject();return false});L.addHandler("keydown","return",function(){if(tagging.getTagAutocompleter().autocompleteSelectedTag($(this)))return false});L.addHandler("keydown","up",function(){if(tagging.getTagAutocompleter().moveSelection($(this),"up"))return false});L.addHandler("keydown","down",function(){if(tagging.getTagAutocompleter().moveSelection($(this),"down"))return false;if($(this).caretAtEndOfText()){focusFirstProject();return false}});IS_MOBILE?$("#searchCancel").tapHandler(function(){return false},
J):$("#searchCancel").click(J).mousedown(function(){return false})},inSearchMode:b,getSearchQuery:function(){return n},getNonMatchItemSearchResult:function(){return ea},registerLocallyCreatedItemForCurrentSearch:function(B){if(b())u[B.getUniqueIdentifier()]=true},registerFullyExpandedItemForCurrentSearch:function(B){if(b())v[B.getUniqueIdentifier()]=true},isLocallyCreatedItemForCurrentSearch:o,setSearchBoxAndSearch:x,cancelSearch:p,reapplyCurrentSearch:function(B){l(n,true,B)},searchProjectTree:r,
exitSearchMode:c,searchWithSearchBoxAfterChange:w,searchToggleShortcutHandler:function(){var B=getCurrentlyFocusedContentOrInput();B=B!==null&&B.is("#searchBox");if(b())a();else if(B){B=y;$("#searchBox").blur();focusFirstProject();B&&operations.restoreClientViewState(B)}else{y=operations.saveClientViewState({editingContentText:false,tagAutocompleterState:false,selectedProject:false,scrollPosition:true});$("#searchBox").focus()}},tagIsInCurrentSearch:q,toggleTagInCurrentSearch:function(B){var J=$("#searchBox").val();
if(q(B))J=J.replace(RegExp("(^|\\s)"+B+"(?=$|\\s)","ig"),"");else J+=" "+B;J=$.trim(J);if(J.length>0)J+=" ";x(J)},notifyWindowResized:function(){j()}}}(),tagging=function(){function b(){if(k===null)k=new s;return k}function f(t){return l.indexOf(t)!==-1}function j(t,x,p){if(p===undefined)p=true;var a=null;if(p){a=Array(t.length);content_parsing.forEachUrlInString(t,function(v,A){for(var y=v;y<v+A.length;y++)a[y]=true})}for(m.lastIndex=0;;){var q=m.exec(t);if(q==null)break;var n=q[2];q=q.index+q[1].length;
if(!(p&&a[q]===true)){if(utils.isDigit(n.charAt(1))){var u=n.substring(1);if(u.length<4&&utils.isOnlyDigits(u))continue}x(q,n)}}}function h(t,x){for(var p=t;p!==null;){global_project_tree_object.getTagManager(p).applyTagCountsDelta(x);p=global_project_tree_object.getParent(p)}b().add(x)}function g(){if(r===null)r=new w;return r}function o(t,x){if(x){var p=t.val();return content_text.createContentTextContainerFromPlainText(p,false)}else return new content_text.ContentText(t,t.isNote())}var k=null,
r=null,l="#@",c="["+WORD_CHARS_PLUS_DIGITS+"]["+WORD_CHARS_PLUS_DIGITS+"\\-_]*",e=c+"(:("+c+"))*",d=XRegExp("^"+(c+"(:("+c+")?)*")+"$","i"),m=XRegExp("(^|\\s|"+TEXT_ENTITY_BOUNDARY_CHARS+")(["+l+"]("+e+"))(?=$|\\s|"+TEXT_ENTITY_BOUNDARY_CHARS+")","ig"),s=Class.extend({init:function(t){if(t===undefined)t=null;this.tagInfoMap=t==null?{}:utils.deepCopyObject(t.tagInfoMap)},applyTagDelta:function(t,x){var p=t.toLowerCase();if(!(p in this.tagInfoMap)){var a={count:0};if(p!==t)a.canonicalName=t;this.tagInfoMap[p]=
a}this.tagInfoMap[p].count+=x;this.tagInfoMap[p].count===0&&delete this.tagInfoMap[p]},add:function(t,x){if(x===undefined)x=false;for(var p in t.tagInfoMap){var a=t.tagInfoMap[p];this.applyTagDelta("canonicalName"in a?a.canonicalName:p,x?-a.count:a.count)}},subtract:function(t){this.add(t,true)},incrementWithString:function(t){var x=this;j(t,function(p,a){x.applyTagDelta(a,1)})},isEmpty:function(){return utils.objectIsEmpty(this.tagInfoMap)},getTagList:function(t,x,p,a){if(t===undefined)t="";if(x===
undefined)x=null;if(p===undefined)p=0;if(a===undefined)a=null;t=t.toLowerCase();var q=[],n;for(n in this.tagInfoMap)if(utils.isPrefixMatch(n,t)){var u=this.tagInfoMap[n],v="canonicalName"in u?u.canonicalName:n;if(a===null||!(n in a))q.push({tag:v,count:u.count})}q.sort(function(A,y){if(A.count===y.count){var C=utils.isDigit(A.tag.charAt(1)),z=utils.isDigit(y.tag.charAt(1));return C&&!z?1:z&&!C?-1:A.tag<y.tag?-1:1}else return A.count<y.count?1:-1});return x!==null?q.slice(p,p+x):p>0?q.slice(p):q}});
c=Class.extend({init:function(t,x){if(x===undefined)x=false;this.pto=t;this.isForRootOfSharedSubtree=x;this.descendantTagCounts=this.tagCounts=null;this.nameOrNoteChanged(true)},getTagCounts:function(){return this.tagCounts!==null?this.tagCounts:new s},setDescendantTagCounts:function(t){this.descendantTagCounts=t},nameOrNoteChanged:function(t){if(t===undefined)t=false;if(TRACK_TAG_COUNTS){var x=this.tagCounts,p=new s;if(this.isForRootOfSharedSubtree){project_tree_object.hasName(this.pto)&&p.incrementWithString(project_tree_object.getNameInPlainText(this.pto));
project_tree_object.hasNote(this.pto)&&p.incrementWithString(project_tree_object.getNoteInPlainText(this.pto))}else{global_project_tree_object.hasName(this.pto)&&p.incrementWithString(global_project_tree_object.getNameInPlainText(this.pto));global_project_tree_object.hasNote(this.pto)&&p.incrementWithString(global_project_tree_object.getNoteInPlainText(this.pto))}var a=new s(p);x!==null&&a.subtract(x);if(!a.isEmpty()){this.tagCounts=p;if(!t)if(this.isForRootOfSharedSubtree){t=project_tree_object.getProjectTree(this.pto);
if(t.isAuxiliary()){t=project_tree.getMainProjectTree().getSharedSubtreePlaceholder(t.getShareId());h(global_project_tree_object.getParent(t),a)}else b().add(a)}else h(global_project_tree_object.getParent(this.pto),a)}}},itemMoved:function(t,x){if(!(t!==null&&x!==null&&x.equals(t))){var p=this.getSubtreeTagCounts();if(!p.isEmpty()){if(t!==null){var a=new s;a.subtract(p);var q=t.translateToGlobalProjectTreeObject();h(q,a)}if(x!==null){a=x.translateToGlobalProjectTreeObject();h(a,p)}}}},applyTagCountsDelta:function(t){if(this.descendantTagCounts===
null)this.descendantTagCounts=new s;this.descendantTagCounts.add(t)},getSubtreeTagCounts:function(){var t=new s;this.tagCounts!==null&&t.add(this.tagCounts);this.descendantTagCounts!==null&&t.add(this.descendantTagCounts);return t}});var w=Class.extend({init:function(){function t(x){x.siblings(".autocompleteTag.selectedAutocompleteTag").removeClass("selectedAutocompleteTag");x.addClass("selectedAutocompleteTag")}this.autocompleteBox=$("#autocompleteBox");this.cachedTagCountsSecondary=this.cachedTagCountsPrimary=
this.tagStartCaretPos=this.isAttachedToSearchBox=this.content=null;this.tagListStartPos=0;this.lastStartPosSearched=this.lastPrefixSearched=null;$("#autocompleteBox > .autocompleteTag").live("mouseenter",function(){var x=$(this);t(x)}).live("mousedown",function(){var x=$(this);t(x);g().autocompleteSelectedTag()})},isAttached:function(){return this.content!==null||this.isAttachedToSearchBox},attach:function(t,x){this.isAttached()&&this.detach();var p=t.is("#searchBox"),a="\\s|"+TEXT_ENTITY_BOUNDARY_CHARS;
if(p)a+="|-";var q=XRegExp(a,"i"),n=o(t,p);a=(p?t.getCaretForTextArea():t.getCaret()).start;if(!(a>0&&n.getPlainText().charAt(a-1).match(q)===null)){p&&this.autocompleteBox.addClass("attachedToSearchBox");n=project_tree.getProjectReferenceFromDomProject(selectOnActivePage(".selected"));q=n.isMainTreeRoot()?b():n.getTagManager().getSubtreeTagCounts();n=p||n.isMainTreeRoot()?null:b();this.content=p?null:t;this.isAttachedToSearchBox=p;this.tagStartCaretPos=a;this.cachedTagCountsPrimary=new s(q);this.cachedTagCountsSecondary=
n!==null?new s(n):null;this.tagListStartPos=0;this.autocompleteBox.appendTo("#documentView");this.updateDisplay(t,x)}},updateDisplay:function(t,x){if(x===undefined)x=null;if(this.isAttached()){var p=t.is("#searchBox"),a=o(t,p),q=p?t.getCaretForTextArea():t.getCaret();if(this.isAttachedToSearchBox){if(!p){this.detach();return}}else if(t[0]!==this.content[0]){this.detach();return}if(x===null&&q.start!==q.end)this.detach();else if(q.start<this.tagStartCaretPos)this.detach();else{var n=x!==null?x:a.getPlainText().substring(this.tagStartCaretPos,
q.start);if(n.length===0)this.detach();else{p=n.charAt(0);a=n.substring(1);if(!f(p)||a.length>0&&a.match(d)===null)this.detach();else{if(n!==this.lastPrefixSearched||this.tagListStartPos!==this.lastStartPosSearched){if(n!==this.lastPrefixSearched)this.tagListStartPos=0;var u=this;a=function(){var v=u.cachedTagCountsPrimary.getTagList(n,8,u.tagListStartPos);if(v.length<8&&u.cachedTagCountsSecondary!==null){for(var A=u.cachedTagCountsPrimary.getTagList(n),y={},C=0;C<A.length;C++){var z=A[C].tag.toLowerCase();
y[z]=true}A=u.cachedTagCountsSecondary.getTagList(n,8-v.length,v.length>0?0:u.tagListStartPos,y);v=v.concat(A)}return v=function(D){function E(H,O){if(!_(H).some(function(Q){return O===Q.tag})){var M=_.chain(H).map(function(Q){return Q.tag.search(O)>-1?true:false}).lastIndexOf(true).value();H.splice(M+1,0,{count:1,tag:O})}}var G=function(H){return _.chain(H).filter(function(O){return O.tag.search(":")!==-1}).map(function(O){var M=O.tag.lastIndexOf(":");return O.tag.slice(0,M+1)}).uniq(function(O,
M){return O.tag!==M.tag}).value()}(D);_(G).forEach(function(H){E(D,H)});return D}(v)};p=a();if(this.tagListStartPos>0&&p.length<8){this.tagListStartPos=Math.max(this.tagListStartPos-(8-p.length),0);p=a()}this.autocompleteBox.html("");for(a=0;a<p.length;a++){q=$('<div class="autocompleteTag">'+p[a].tag+"</div>");a===0&&q.addClass("selectedAutocompleteTag");this.autocompleteBox.append(q)}p.length===0?this.autocompleteBox.hide():this.autocompleteBox.show();this.lastPrefixSearched=n;this.lastStartPosSearched=
this.tagListStartPos}if(this.isAttachedToSearchBox){a=t.offset();q=t.height();p=t.width();a={top:a.top+q+7,left:a.left};p=p}else{a=this.content.getContentCaretOffset(this.tagStartCaretPos);a.top+=IS_IE?parseInt(this.content.css("lineHeight")):5;p="auto"}this.autocompleteBox.offset({top:Math.round(a.top),left:Math.round(a.left)});this.autocompleteBox.width(p)}}}}},detach:function(){if(this.isAttached()){this.cachedTagCountsSecondary=this.cachedTagCountsPrimary=this.tagStartCaretPos=this.isAttachedToSearchBox=
this.content=null;this.tagListStartPos=0;this.lastStartPosSearched=this.lastPrefixSearched=null;this.autocompleteBox.removeClass("attachedToSearchBox");this.autocompleteBox.appendTo("#hidden")}},saveState:function(){return{isAttachedToSearchBox:this.isAttachedToSearchBox,tagStartCaretPos:this.tagStartCaretPos,cachedTagCountsPrimary:this.cachedTagCountsPrimary,cachedTagCountsSecondary:this.cachedTagCountsSecondary}},restoreState:function(t,x){this.isAttached()&&this.detach();this.content=!x.isAttachedToSearchBox?
t:null;this.isAttachedToSearchBox=x.isAttachedToSearchBox;this.tagStartCaretPos=x.tagStartCaretPos;this.cachedTagCountsPrimary=x.cachedTagCountsPrimary;this.cachedTagCountsSecondary=x.cachedTagCountsSecondary;this.autocompleteBox.appendTo("#documentView");this.updateDisplay(t)},moveSelection:function(t,x){var p=this.getSelectedTag();if(p===null)return false;var a;if(x==="up"){a=p.prev(".autocompleteTag");if(a.length===0){if(this.tagListStartPos===0)this.detach();else{this.tagListStartPos--;this.updateDisplay(t)}return true}}else{a=
p.next(".autocompleteTag");if(a.length===0){this.tagListStartPos++;this.updateDisplay(t);p=this.getSelectedTag();a=this.getDisplayedTags().last()}}p.removeClass("selectedAutocompleteTag");a.addClass("selectedAutocompleteTag");return true},autocompleteSelectedTag:function(t){function x(){var z=t,D=A;y?z.val(D.getPlainText()):z.setContentTextAsUserEdit(D.getText());z=t;D=C;y?z.setCaretForTextArea(D):z.setCaret(D);y&&search.searchWithSearchBoxAfterChange()}if(t===undefined)t=null;var p=this.getSelectedTag();
if(p===null)return false;var a;if(t===null){t=this.isAttachedToSearchBox?$("#searchBox"):this.content;a=true}else a=false;var q=p.text();p=o(t,this.isAttachedToSearchBox);for(var n=p.getPlainText(),u=0;this.tagStartCaretPos+u<n.length&&n.charAt(this.tagStartCaretPos+u).toLowerCase()===q.charAt(u).toLowerCase();u++);if(u===0)return false;u=this.tagStartCaretPos+u;q=q;var v=q.charAt(q.length-1);if((u===n.length||n.charAt(u).match(/\s/)===null)&&v!==":")q+=" ";var A=p.insertAtCaret(q,{start:this.tagStartCaretPos,
end:u}),y=this.isAttachedToSearchBox,C=this.tagStartCaretPos+q.length;a?setTimeout(x,1):x();this.detach();return true},getSelectedTag:function(){if(!this.isAttached())return null;var t=this.autocompleteBox.find(".autocompleteTag.selectedAutocompleteTag");return t.length===1?t:null},getDisplayedTags:function(){return this.autocompleteBox.find(".autocompleteTag")}});return{TagCounter:s,ItemTagManager:c,getTagAutocompleter:g,isTagStartChar:f,forEachTagInString:j,getRootDescendantTagCounts:b,setRootDescendantTagCounts:function(t){k=
t},keyCodeIsForTagDeleteModifierKey:function(t){t=key_events.getStringRepresentationForKeyCode(t);return t==="meta"||t==="alt"},tagDeleteModifierDown:function(t){return t.metaKey&&!t.ctrlKey||t.altKey}}}(),content_parsing=function(){function b(s){return utils.isAlpha(s)}function f(s){return c.test(s)}function j(s){if(s.charAt(s.length-1)===")"){var w=s.substring(0,s.length-1),t=0;for(i=0;i<w.length;i++){var x=w.charAt(i);if(x==="(")t++;else x===")"&&t>0&&t--}if(t===0)return w}return s}var h=XRegExp("://|\\.([a-z]{2}[a-z]*)(?=$|[^.\\-"+
WORD_CHARS_PLUS_DIGITS+"]|\\.$|\\.[^"+WORD_CHARS_PLUS_DIGITS+"])","ig"),g="["+WORD_CHARS_PLUS_DIGITS+"](["+WORD_CHARS_PLUS_DIGITS+"\\-_]*["+WORD_CHARS_PLUS_DIGITS+"])?",o=XRegExp("^"+g+"(\\."+g+")*$","i"),k=XRegExp("["+WORD_CHARS_PLUS_DIGITS+".\\-_]","i");g=WORD_CHARS_PLUS_DIGITS+"\\/\\:#?&%=~;$@\\-_+!*'(){}";var r=XRegExp("^(["+(g+".,")+"]*["+g+"])","i"),l={AC:true,AD:true,AE:true,AERO:true,AF:true,AG:true,AI:true,AL:true,AM:true,AN:true,AO:true,AQ:true,AR:true,ARPA:true,AS:true,ASIA:true,AT:true,
AU:true,AW:true,AX:true,AZ:true,BA:true,BB:true,BD:true,BE:true,BF:true,BG:true,BH:true,BI:true,BIZ:true,BJ:true,BM:true,BN:true,BO:true,BR:true,BS:true,BT:true,BV:true,BW:true,BY:true,BZ:true,CA:true,CAT:true,CC:true,CD:true,CF:true,CG:true,CH:true,CI:true,CK:true,CL:true,CM:true,CN:true,CO:true,COM:true,COOP:true,CR:true,CU:true,CV:true,CW:true,CX:true,CY:true,CZ:true,DE:true,DJ:true,DK:true,DM:true,DO:true,DZ:true,EC:true,EDU:true,EE:true,EG:true,ER:true,ES:true,ET:true,EU:true,FI:true,FJ:true,
FK:true,FM:true,FO:true,FR:true,GA:true,GB:true,GD:true,GE:true,GF:true,GG:true,GH:true,GI:true,GL:true,GM:true,GN:true,GOV:true,GP:true,GQ:true,GR:true,GS:true,GT:true,GU:true,GW:true,GY:true,HK:true,HM:true,HN:true,HR:true,HT:true,HU:true,ID:true,IE:true,IL:true,IM:true,IN:true,INFO:true,INT:true,IO:true,IQ:true,IR:true,IS:true,IT:true,JE:true,JM:true,JO:true,JOBS:true,JP:true,KE:true,KG:true,KH:true,KI:true,KM:true,KN:true,KP:true,KR:true,KW:true,KY:true,KZ:true,LA:true,LB:true,LC:true,LI:true,
LK:true,LR:true,LS:true,LT:true,LU:true,LV:true,LY:true,MA:true,MC:true,MD:true,ME:true,MG:true,MH:true,MIL:true,MK:true,ML:true,MM:true,MN:true,MO:true,MOBI:true,MP:true,MQ:true,MR:true,MS:true,MT:true,MU:true,MUSEUM:true,MV:true,MW:true,MX:true,MY:true,MZ:true,NA:true,NAME:true,NC:true,NE:true,NET:true,NF:true,NG:true,NI:true,NL:true,NO:true,NP:true,NR:true,NU:true,NZ:true,OM:true,ORG:true,PA:true,PE:true,PF:true,PG:true,PH:true,PK:true,PL:true,PM:true,PN:true,POST:true,PR:true,PRO:true,PS:true,
PT:true,PW:true,PY:true,QA:true,RE:true,RO:true,RS:true,RU:true,RW:true,SA:true,SB:true,SC:true,SD:true,SE:true,SG:true,SH:true,SI:true,SJ:true,SK:true,SL:true,SM:true,SN:true,SO:true,SR:true,ST:true,SU:true,SV:true,SX:true,SY:true,SZ:true,TC:true,TD:true,TEL:true,TF:true,TG:true,TH:true,TJ:true,TK:true,TL:true,TM:true,TN:true,TO:true,TP:true,TR:true,TRAVEL:true,TT:true,TV:true,TW:true,TZ:true,UA:true,UG:true,UK:true,US:true,UY:true,UZ:true,VA:true,VC:true,VE:true,VG:true,VI:true,VN:true,VU:true,
WF:true,WS:true,XXX:true,YE:true,YT:true,ZA:true,ZM:true,ZW:true},c=/[a-z0-9-\+.]/i,e=/[a-z0-9._%+-]/i,d=/^[a-z0-9]+[a-z0-9\-.]*\.[a-z]+/i,m=RegExp("(^|\\s|"+TEXT_ENTITY_BOUNDARY_CHARS+")((\\+?1[\\-. ]?)?(\\([2-9][0-9][0-9]\\)|[2-9][0-9][0-9])[\\-. ]?[2-9][0-9][0-9][\\-. ]?[0-9]{4})(?=$|\\s|"+TEXT_ENTITY_BOUNDARY_CHARS+")","g");return{forEachUrlInString:function(s,w){for(h.lastIndex=0;;){var t=h.exec(s);if(t==null)break;var x=t[0],p=t.index,a;if(x==="://"){for(a=p=p;a>0&&f(s.charAt(a-1));)a--;for(;a<
p&&!b(s.charAt(a));)a++;if(a===p)continue;if(s.substring(a,p).match(/^javascript$/i)!==null)continue;var q=p+x.length;t=r.exec(s.substring(q));if(t===null)continue;x=t[0];x=j(x);p=true;a=a;x=q+x.length}else{if(!(t[1].toUpperCase()in l))continue;for(q=t=p;q>0&&k.test(s.charAt(q-1));)q--;p=s.substring(q,t);if(!o.test(p))continue;p=false;a=q;x=t+x.length;if(x===s.length||s.charAt(x)!=="/")x=x;else{t=r.exec(s.substring(x));q=t[0];q=j(q);x=x+q.length}}q=s.substring(a,x);w(a,q,p);h.lastIndex=x}},forEachEmailAddressInString:function(s,
w){for(var t=0;;){t=s.indexOf("@",t);if(t===-1)break;var x=t;t+=1;for(var p=x;p>0&&e.test(s.charAt(p-1));)p--;if(p!==x){x=d.exec(s.substring(t));if(x!==null){t+=x[0].length;x=s.substring(p,t);w(p,x)}}}},forEachPhoneNumberInString:function(s,w){for(m.lastIndex=0;;){var t=m.exec(s);if(t==null)break;w(t.index+t[1].length,t[2])}}}}(),urls=function(){return{generateUrlSafeRandomString:function(b){for(var f="",j=0;j<b;j++)f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(Math.random()*
62));return f},parseUrlFragment:function(b){var f={pathNames:[],parameters:{}};if(b.charAt(0)==="#")b=b.substring(1);var j=b.indexOf("?");if(j===-1)j=b.length;var h=b.substring(0,j);b=b.substring(j+1);j=h.split("/");for(h=0;h<j.length;h++){var g=j[h];g.length>0&&f.pathNames.push(g)}b=b.split("&");for(h=0;h<b.length;h++){j=b[h];if(j.length!==0){g=j.split("=");j=g[0];g=(g.length>1?g[1]:"").replace(/\+/g," ");g=decodeURIComponent(g);f.parameters[j]=g}}return f},isValidEmailAddress:function(b){var f=
b.lastIndexOf("@");if(f===-1)return false;b=b.substring(f+1);f=b.lastIndexOf(".");if(f===-1||f===b.length-1)return false;return true},formatPhoneNumberForTelUrl:function(b){var f=b.replace(/[^0-9]/g,"");b=b.charAt(0)==="+";var j=[];switch(f.length){case 11:j.push(f.substring(0,1));f=f.substring(1);case 10:j.push(f.substring(0,3));f=f.substring(3);case 7:j.push(f.substring(0,3),f.substring(3,7));break;default:j.push(f)}return(b?"+":"")+j.join("-")}}}(),sharing=function(){function b(){var c=$("#sharePopup"),
e=r,d=e.getSharedInfo();e.isAddedSubtreePlaceholder();l=false;c.html($("#sharePopupTemplate").html());payments.removeFreeOrProAsNeededFromDOMSubtree(c);var m=c.children(".sharePopupContentsContainer");if(e.isAddedSubtreePlaceholder()){d=m.children(".embedded_settings");m.addClass("embedded");var s=!e.childrenAreInReadOnlyTree();d.addClass(s?"embeddedEditable":"embeddedViewOnly");if(e.getShareTypeForTreeForChildren()==="url"){d.addClass("embeddedSharedByUrl");d=d.find("input.collabLink");d.val(e.getSharedUrl());
d.focus().select()}c.dialog("option",{buttons:{Close:function(){$(this).dialog("close")}}})}else if(d===null){d=m.children(".share_prompt");d.find("#id_share_type_url").attr("checked","checked");d.find("#urlShareTypeOption").addClass("chosenShareTypeOption");var w=d.find("#urlShareTypeOption .shareTypeAdditionalInfo"),t=d.find("#emailShareTypeOption .shareTypeAdditionalInfo");w.show();t.hide();d.find("#url_editable_false, #email_editable_false").attr("checked","checked");c.dialog("option",{buttons:{Share:f,
Cancel:function(){$(this).dialog("close")}}})}else{if(d.isSharedViaUrl()){w=m.children(".url_shared_settings");m.addClass("sharedViaUrl");s=d.getUrlSharingWritePermission();d=w.find(".is_editable.buttonset");s?d.find("#url_settings_editable_true").attr("checked","checked"):d.find("#url_settings_editable_false").attr("checked","checked");d=w.find("input.collabLink");d.val(e.getSharedUrl());d.focus().select()}else{w=m.children(".email_shared_settings");m.addClass("sharedViaEmail");t="";for(var x=d.getSortedEmailInfos(),
p=0;p<x.length;p++){var a=x[p],q="user_id"in a,n="shared_email_"+p+"_editable",u="shared_email_"+p+"_editable_false",v="shared_email_"+p+"_editable_true",A;if(s=a.write_permission){A="";s='checked="checked"'}else{A='checked="checked"';s=""}s='<span class="is_editable buttonset smallButtonset"><span class="buttons"><input type="radio" id="'+u+'" name="'+n+'" data-editable="false" '+A+' /><label for="'+u+'">view</label><input type="radio" id="'+v+'" name="'+n+'"  data-editable="true" '+s+' /><label for="'+
v+'">edit</label></span></span>';a=html_utils.htmlEscapeText(a.email);t+='<tr><td class="sharedEmail" title="'+a+'">'+a+'</td><td class="sharedEmailActive">'+(q?"active":"inactive")+'</td><td class="sharedEmailWritePermissionToggle">'+s+'</td><td class="sharedEmailRemoveLinkContainer"><span class="sharedEmailRemoveLink">Remove</span></td></tr>'}x.length===0&&w.addClass("noSharedEmails");w.find("#sharedEmailsTable").children("tbody").html(t);w=w.find(".addPeopleWidget .is_editable.buttonset");d=d.getEmailInfos();
(d.length>0?d[d.length-1].write_permission:false)?w.find("#shared_email_editable_true").attr("checked","checked"):w.find("#shared_email_editable_false").attr("checked","checked")}c.dialog("option",{buttons:{"Stop sharing this list":function(){m.addSpinner();l=true;c.setDialogButtonsDisable(true);undo_redo.startOperationBatch();e.applyLocalUnshare();undo_redo.finishOperationBatch();push_poll.scheduleNextPushAndPoll(true)},Close:function(){$(this).dialog("close")}}})}m.find(".buttonset").buttonset()}
function f(){var c=$("#sharePopup"),e=c.children(".sharePopupContentsContainer"),d=e.children(".share_prompt"),m=r;e.addSpinner();l=true;c.setDialogButtonsDisable(true);if(d.find("#id_share_type_url, #id_share_type_email").filter(":checked").is("#id_share_type_url")){c=d.find("#url_editable_false, #url_editable_true").filter(":checked").is("#url_editable_true");h(m,"url",c)}else{c=d.find("#email_editable_false, #email_editable_true").filter(":checked").is("#email_editable_true");d=j(d.find(".emailListInput").val());
d.length>0?h(m,"email",c,d):h(m,"email")}}function j(c){c=c.split(",");for(var e=[],d=0;d<c.length;d++){var m=$.trim(c[d]);urls.isValidEmailAddress(m)&&e.push(m)}return e}function h(c,e,d,m){if(d===undefined)d=null;if(m===undefined)m=null;if(!(e==="email"&&!payments.isPro())){undo_redo.startOperationBatch();c.applyLocalShare(e,d);if(m!==null)for(e=0;e<m.length;e++)c.applyLocalAddSharedEmail(m[e],d);undo_redo.finishOperationBatch();push_poll.scheduleNextPushAndPoll(true)}}function g(c,e,d){undo_redo.startOperationBatch();
for(var m=0;m<e.length;m++)c.applyLocalAddSharedEmail(e[m],d);undo_redo.finishOperationBatch();push_poll.scheduleNextPushAndPoll(true)}function o(c,e){for(var d=0;d<c.length;d++){var m=c[d];if(m.email===e)return m}return null}function k(c,e){for(var d=0;d<c.length;d++){var m=c[d];if(m.access_token===e)return m}return null}var r=null,l=false;jQuery.fn.showSharePopup=function(){var c=$(this);c=project_tree.getProjectReferenceFromDomProject(c);if(!c.isAddedSubtreePlaceholder()&&c.containsAddedSubtreePlaceholder())ui_sugar.showAlertDialog("It's not possible (yet) to share an item containing lists added from other accounts. If you want to share this item, move any such lists elsewhere first.",
"Error");else{var e=$("#sharePopup");e.dialog("option",{title:"Share list: "+content_text.getHtml(c.getName())});r=c;l=false;e.dialog("open");b()}};return{init:function(){$("#sharePopup").dialog({autoOpen:false,width:500,modal:true,position:["center",150],title:"Share list",close:function(){r=null;l=false}});$("#sharePopup .share_prompt #shareTypeSelector .shareTypeOption > :radio").live("click",function(){var c=$(this).closest(".shareTypeOption"),e=c.find(".shareTypeAdditionalInfo"),d=c.closest("#shareTypeSelector");
c.addClass("chosenShareTypeOption");c=d.find(".shareTypeOption").not(c);c.removeClass("chosenShareTypeOption");e.slideDown(200);c.find(".shareTypeAdditionalInfo").slideUp(200)});$("#sharePopup .url_shared_settings .is_editable.buttonset :radio").live("click",function(){var c=$(this).data("editable")===true;h(r,"url",c)});$("#sharePopup .email_shared_settings #sharedEmailsTable .is_editable.buttonset :radio").live("click",function(){var c=$(this).data("editable")===true,e=$(this).closest("tr").children("td.sharedEmail").text();
g(r,[e],c)});$("#sharePopup .email_shared_settings #sharedEmailsTable .sharedEmailRemoveLink").live("click",function(){var c=$(this).closest("tr").children("td.sharedEmail").text(),e=r;undo_redo.startOperationBatch();e.applyLocalRemoveSharedEmail(c);undo_redo.finishOperationBatch();push_poll.scheduleNextPushAndPoll(true)});$("#sharePopup input.collabLink").live("click",function(){$(this).focus().select()});$("#sharePopup .share_prompt form").live("submit",function(){f();return false});$("#sharePopup .email_shared_settings form.emailEntryForm").live("submit",
function(){var c=$(this),e=c.find("#shared_email_editable_false, #shared_email_editable_true").filter(":checked").is("#shared_email_editable_true");c=j(c.find(".emailListInput").val());c.length>0&&g(r,c,e);return false});$("#sharePopup .email_shared_settings form.emailEntryForm .emailEntryFormSubmitButton").live("click",function(){$(this).closest("form.emailEntryForm").submit()})},ItemSharedInfo:Class.extend({init:function(c){if(c===undefined)c=null;if(c===null)c={share_id:null};this.rawItemSharedInfo=
c},getShareId:function(){return this.rawItemSharedInfo.share_id},setShareId:function(c){this.rawItemSharedInfo.share_id=c},isSharedViaUrl:function(){return"url_shared_info"in this.rawItemSharedInfo},isSharedViaEmail:function(){return"email_shared_info"in this.rawItemSharedInfo},makeCopyOfRawSharedInfoWithoutShareId:function(){var c=utils.deepCopyObject(this.rawItemSharedInfo);c.share_id=null;return c},getUrlSharingWritePermission:function(){return this.rawItemSharedInfo.url_shared_info.write_permission},
getInfoForEmail:function(c){return o(this.rawItemSharedInfo.email_shared_info.emails,c)},getEmailInfos:function(){return this.rawItemSharedInfo.email_shared_info.emails},getSortedEmailInfos:function(){for(var c=this.getEmailInfos(),e=[],d=0;d<c.length;d++)e.push(c[d]);e.sort(function(m,s){return m.email<s.email?-1:1});return e},shareViaUrl:function(c){"email_shared_info"in this.rawItemSharedInfo&&delete this.rawItemSharedInfo.email_shared_info;this.rawItemSharedInfo.url_shared_info={write_permission:c}},
shareViaEmail:function(){"url_shared_info"in this.rawItemSharedInfo&&delete this.rawItemSharedInfo.url_shared_info;"email_shared_info"in this.rawItemSharedInfo||(this.rawItemSharedInfo.email_shared_info={emails:[]})},addSharedEmail:function(c,e,d){if(this.isSharedViaEmail()){var m=this.rawItemSharedInfo.email_shared_info.emails,s=o(m,c);if(s!==null)s.write_permission=e;else m.push({email:c,access_token:d,write_permission:e})}},removeSharedEmail:function(c){if(this.isSharedViaEmail()){for(var e=this.rawItemSharedInfo.email_shared_info.emails,
d=null,m=0;m<e.length;m++)if(e[m].email===c){d=m;break}d!==null&&e.splice(d,1)}},registerSharedEmailUser:function(c,e){if(this.isSharedViaEmail()){var d=k(this.rawItemSharedInfo.email_shared_info.emails,c);if(!(d===null||e!==null&&"user_id"in d))if(e!==null)d.user_id=e;else delete d.user_id}},getSharedEmailUserId:function(c){if(!this.isSharedViaEmail())return null;c=k(this.rawItemSharedInfo.email_shared_info.emails,c);if(c===null||!("user_id"in c))return null;return c.user_id},getOperationsToCreate:function(c,
e,d,m,s){if(this.isSharedViaUrl()){var w={projectid:c,share_type:"url",write_permission:this.rawItemSharedInfo.url_shared_info.write_permission},t={previous_share_type:null,previous_last_modified:e,previous_last_modified_by:d};return[operations.createOperationWithUndoData("share",w,t,m,s)]}else{var x=[];w={projectid:c,share_type:"email"};t={previous_share_type:null,previous_last_modified:e,previous_last_modified_by:d};x.push(operations.createOperationWithUndoData("share",w,t,m,s));w=this.rawItemSharedInfo.email_shared_info.emails;
for(t=0;t<w.length;t++){var p=w[t];x.push(operations.createOperationWithUndoData("add_shared_email",{projectid:c,shared_email:p.email,write_permission:p.write_permission,access_token:p.access_token,send_email_if_new:false},{previous_last_modified:e,previous_last_modified_by:d},m,s));"user_id"in p&&x.push(operations.createOperationWithUndoData("register_shared_email_user",{projectid:c,access_token:p.access_token,user_id:p.user_id},{previous_last_modified:e,previous_last_modified_by:d},m,s))}return x}}}),
updateShareDialogIfOpenToProject:function(c){r===null||!r.equals(c)||l||b()},notifyShareOrUnshareCompleteIfNeeded:function(c,e){var d=c.containsOperationType("share"),m=c.containsOperationType("unshare");if(d||m)if(r!==null)if(e||!r.isValid())$("#sharePopup").dialog("close");else{b();m&&$("#sharePopup").dialog("close")}}}}(),exporting=function(){function b(){var c=$("#exportPopup"),e=c.find("form input:radio:checked"),d=c.children(".previewWindow");d.html("");d.removeClass("hasHtml hasText hasOpml");
if(e.hasClass("htmlButton")){e=g;var m=$('<div class="formattedExport">'+e.content+"</div>");d.addClass("hasHtml")}else if(e.hasClass("textButton")){e=o;m=$("<pre />").text(e.content);d.addClass("hasText")}else if(e.hasClass("opmlButton")){e=k;m=$("<pre />").text(e.content);d.addClass("hasOpml")}d.append(m);r&&c.find(".downloadText").show();d.focus();dom_utils.selectElementText(d.get()[0])}function f(c,e,d,m,s,w,t){if(w===undefined)w=false;if(t===undefined)t=false;if(w)var x="";if(t)var p="";var a=
function(q,n,u,v){if(v===undefined)v=true;var A="";if(v){var y=new content_text.ContentText(global_project_tree_object.getName(q),false),C=new content_text.ContentText(global_project_tree_object.getNote(q),true),z=global_project_tree_object.isCompleted(q),D=y.getPlainText(),E=C.getPlainText(),G=y.getHtml(),H=C.getHtml();if(t)var O=html_utils.xmlEscapeText(y.getText()),M=html_utils.xmlEscapeText(C.getText());y="name";if(w)if(n>0)x+=u+"- ";if(t)p+="<outline ";if(z){y+=" done";if(w)x+="[COMPLETE] ";
if(t)p+='_complete="true" '}z="";if(s&&n===e){C=global_project_tree_object.getProjectReference(q).getUniqueIdentifierWithTruncatedProjectIds();z+=" "+h+'="'+C+'"'}A+='<span class="'+y+'"'+z+">"+G+"</span>";if(w){x+=D+"\n";if(n===0)x+="\n"}if(t)p+='text="'+O+'" ';if(E!=""){A+=n>0?"<br />":"<br /><br />";A+='<span class="note">'+H+"</span>";if(w){D=n>0?u+"  ":"";E=D+'"'+E.replace(/\n/g,"\n"+D)+'"\n';x+=E;if(n===0)x+="\n"}if(t)p+='_note="'+M+'" '}}q=m(q);if(q.length>0){if(t)if(v)p+=">";A+="<ul>";n=n+
1;u=n>1?u+"  ":u;for(M=0;M<q.length;M++){E=a(q[M],n,u);A+="<li>"+E+"</li>"}A+="</ul>";if(t)if(v)p+="</outline>"}else if(t)if(v)p+="/>";return A};c={html:a(c,e,"",d)};if(w)c.text=x;if(t)c.opml=p;return c}function j(c,e){var d=function(p){return global_project_tree_object.getPotentiallyVisibleChildren(p,e)},m,s,w;if(c.length===1){var t=c[0];t=t.getProjectTreeObject();t=f(t,0,t!==null,d,false,true,true);m=t.html;s=t.text;w=t.opml}else{s=w="";m="<ul>";for(var x=0;x<c.length;x++){t=c[x];t=t.getProjectTreeObject();
t=f(t,1,true,d,false,true,true);m+="<li>"+t.html+"</li>";s+=t.text;w+=t.opml}m+="</ul>"}d='<?xml version="1.0"?><opml version="2.0"><head><ownerEmail>'+html_utils.xmlEscapeText(SETTINGS.email.value)+"</ownerEmail></head><body>"+w+"</body></opml>";d=vkbeautify.xml(d,2);return{html:m,text:s,opml:d}}var h="data-wfid",g=null,o=null,k=null,r=false;try{r=!!new Blob}catch(l){}jQuery.fn.exportIt=function(c){if(c===undefined)c=false;var e=[];$(this).each(function(){var m=$(this);e.push(project_tree.getProjectReferenceFromDomProject(m))});
var d=$("#exportPopup");d.html($("#exportPopupTemplate").html());c=j(e,c);g={content:c.html,contentType:"text/html",fileExtension:"html"};o={content:c.text,contentType:"text/plain",fileExtension:"txt"};k={content:c.opml,contentType:"text/xml",fileExtension:"opml"};d.dialog("open");d.find(":radio#id_html").attr("checked",true);b()};return{init:function(){$("#exportPopup").dialog({autoOpen:false,width:550,buttons:{Close:function(){$(this).dialog("close")}},modal:false,position:["center",150],title:"Export List",
close:function(){$("#exportPopup").html("");g=o=k=null}});$("#exportPopup form input:radio").live("change",function(){b()});var c=$("#exportPopup .downloadLink");c.live("click",function(){var e=$("#exportPopup").find("form input:radio:checked"),d=null;if(e.hasClass("htmlButton"))d=g;else if(e.hasClass("textButton"))d=o;else if(e.hasClass("opmlButton"))d=k;if(d!==null){e=d.content;if(d.contentType==="text/html")e='<!doctype html><html><head><meta charset="utf-8"><style>'+$("#formatted_export_css").html()+
'</style></head><body class="formattedExport">'+e+"</body></html>";if(IS_WINDOWS)e=e.replace(/([^\r]|^)\n/g,"$1\r\n");e=new Blob([e],{type:d.contentType+";charset=utf-8"});saveAs(e,"workflowy-export."+d.fileExtension)}return false});c.live("mousedown",function(){return false})},generateProjectTreeHtmlForCopy:function(c){var e=shouldShowCompletedProjects(),d=function(t){if(!global_project_tree_object.isExpandedInDom(t))return[];t=global_project_tree_object.getChildren(t);for(var x=[],p=0;p<t.length;p++){var a=
t[p];if(global_project_tree_object.isInDom(a)&&(e||!global_project_tree_object.isCompleted(a)))x.push(a)}return x};if(c.length===1&&c.eq(0).is(".selected")){var m=project_tree.getProjectReferenceFromDomProject(c.eq(0)).getProjectTreeObject();return f(m,0,true,d,true).html}var s=[];c.each(function(){var t=$(this);s.push(project_tree.getProjectReferenceFromDomProject(t))});c="<ul>";for(var w=0;w<s.length;w++){m=s[w].getProjectTreeObject();m=f(m,1,true,d,true).html;c+="<li>"+m+"</li>"}c+="</ul>";return c},
getProjectReferencesFromPasteBucketIfApplicable:function(c){var e=c.children();if(e.length===0)return null;var d=function(w){w=w.children(".name");if(w.length!==1)return null;w=w.attr(h);if(w===undefined)return null;return project_tree.getProjectReferenceFromUniqueIdentifierWithTruncatedProjectIds(w)};e=e.eq(0);if(e.is(".name")){var m=d(c);return m!==null?[m]:null}if(!e.is("ul"))return null;c=[];e=e.children("li");for(var s=0;s<e.length;s++){m=e.eq(s);m=d(m);if(m===null)return null;c.push(m)}return c.length>
0?c:null}}}(),cut_copy_paste=function(){function b(p){p=p.split("\n");for(var a=[],q=0;q<p.length;q++){var n=p[q];$.trim(n).length>0&&a.push(new t(content_text.xmlEscapeTextForContentText(n)))}return a}function f(p){p=p.getLines();for(var a=[],q=0;q<p.length;q++){var n=p[q];$.trim(n.getPlainText()).length>0&&a.push(new t(n.getText()))}return a}function j(p){function a(n){var u=/^\s*((\*|-)\s+)?([\s\S]*)$/;n.forEach(function(v){v.name=u.exec(v.name)[3]})}if(p.length===0)return p;var q=function(n){for(var u=
utils.sortArrayOfNumbers(utils.copyArray(n)),v={},A=-1,y=-1,C=0;C<u.length;C++){var z=u[C];if(z!==A){A=z;y++;v[z]=y}}n=n.map(function(D){return v[D]});n[0]=0;return n}(function(n){function u(v){return(v=/^\s+/.exec(v.name))?v[0].length:0}counts=[];$(n).each(function(v,A){counts.push(u(A))});return counts}(p));p.length>1&&a(p);return function(n,u){var v=[],A=v,y=0,C={0:v};u.forEach(function(z,D){if(z>y){C[y]=A;y+=1;newParent=[];A.push(newParent);A=newParent}else if(z<y){A=C[z];y=z}A.push(n[D])});return v}(p,
q)}function h(p){var a=p;if(!k()){p=p.html().replace(/<br>/ig,"\n").replace(/&nbsp;/ig," ");a=$("<div />").html(p)}return a}function g(p,a){function q(C){return C.replace(/\n/g,"").replace(/\t/g,s)}var n=p.isNote(),u=p.getCaret();n&&p.addClass("copyOrPasteInProgress");var v=p.getContentCaretOffset(),A=$("#cutAndCopyBucket");A.show();A.offset({left:-9999,top:v.top});A.focus();var y=content_text.getPlainTextForContent(p);v=q(y.substring(0,u.start));y=q(y.substring(u.start,u.end));v={start:v.length,
end:v.length+y.length};y=new content_text.ContentText(p,n);y=IS_FIREFOX?y.getContentHtml():y.getContentHtmlWithSingleCharFormattingSpans();y=y.charAt(y.length-1)==="\n"?y.substring(0,y.length-1):y;y=r(y);A.html(y);A.setCaret(v.start,v.end);setTimeout(function(){dom_utils.clearSelection();A.html("");A.removeAttr("style");a(u);n&&p.removeClass("copyOrPasteInProgress")},0)}function o(p){var a=p.isNote(),q=p.getCaret(),n=new content_text.ContentText(p,a);if(n.containsFormatting()){p.setContentHtml(n.getContentHtmlWithSingleCharFormattingSpans());
p.setCaret(q.start,q.end);setTimeout(function(){var u=p.getCaret(),v=new content_text.ContentText(p,a);p.setContentHtml(v.getContentHtml());p.setCaret(u.start,u.end)},0)}}function k(){return!IS_FIREFOX&&!IS_IOS&&!IS_IE}function r(p){return p.replace(/\n/g,"<br>").replace(/\t/g,s).replace(/  /g,"&nbsp; ")}function l(p){if(window.DOMParser===undefined)return null;p=p.replace(RegExp(String.fromCharCode(160),"g")," ");var a=new DOMParser;try{var q=a.parseFromString(p,"text/xml")}catch(n){return null}p=
$(q).children("opml");if(p.length!==1)return null;p=p.children("body");if(p.length!==1)return null;return c(p)}function c(p){var a=[];p.children("outline").each(function(){var q=$(this),n=q.attr("text")||null,u=q.attr("_note")||null,v=q.attr("_complete")==="true"?true:null;n=n!==null?e(n,false):"";if(u!==null)u=e(u,true);a.push(new t(n,u,v,true));q=c(q);q.length>0&&a.push(q)});return a}function e(p,a){var q=new content_text.ContentText(p,a);if(q.requiredParse()&&q.failedParse()){q=content_text.xmlEscapeTextForContentText(p);
q=new content_text.ContentText(q,a)}return q.getText()}function d(p){for(var a=[],q=function(y,C,z){if(y===undefined)y=null;if(C===undefined)C=null;if(z===undefined)z=null;var D={};y!==null&&project_tree_object.setName(D,y);C!==null&&project_tree_object.setNote(D,C);z!==null&&project_tree_object.setCompleted(D,z);a.push(D)},n=0;n<p.length;n++){var u=p[n];if(u instanceof t){var v=u.fromOpml?u.name:$.trim(u.name);q(v,u.note,u.isComplete)}else{u=u;a.length===0&&q();u=d(u);v=a[a.length-1];var A=project_tree_object.getChildren(v)||
[];project_tree_object.setChildren(v,A.concat(u));v.expanded=true}}return a}var m=/^\s*(<\?\s*xml[^?]*\?>)?\s*<\s*opml[\s\S]*<\/\s*opml\s*>\s*$/i,s="    ",w=0,t=Class.extend({init:function(p,a,q,n){if(a===undefined)a=null;if(q===undefined)q=null;if(n===undefined)n=false;this.name=p;this.note=a;this.isComplete=q;this.fromOpml=n}});jQuery.fn.getInnerLines=function(p){if(p===undefined)p=true;for(var a=false,q=$(this),n=[];;){var u=q.find("ul, ol, li").first();if(u.length===1){a=true;var v=document.createRange();
v.setStart(q.get(0),0);v.setEndBefore(u.get(0));if(!v.collapsed){var A;A=v.cloneContents();var y=new content_text.ContentText($(A),false);if(y.containsFormatting()){if(!k()){y=document.createElement("div");y.appendChild(A);A=h($(y));y=new content_text.ContentText(A,false)}A=f(y);v.collapsed||v.deleteContents()}else{A=window.getSelection();A.removeAllRanges();A.addRange(v);v=A.toString();A.isCollapsed||A.deleteFromDocument();A.removeAllRanges();k()||(v=v.replace(/&nbsp;/ig," "));A=b(v)}n=n.concat(A)}v=
u.is("li");A=u.getInnerLines(false);if(p||v)n=n.concat(A);else if(n.length>0&&!(n[n.length-1]instanceof t))n[n.length-1]=n[n.length-1].concat(A);else n.push(A);u.remove()}else{if(q.find(content_text.getContentClassesSelector()).length>0){q=h(q);q=f(new content_text.ContentText(q,false))}else{q=x.isWordPaste(q[0])?x.reformatWordPaste(q[0]):dom_utils.getFormattedElementText(q[0]);k()||(q=q.replace(/\u00A0/g," "));q=b(q)}n=n.concat(q);if(p&&!a)n=j(n);break}}return n};var x={isWordPaste:function(p){return/<o:p>|MsoList|mso-list/i.test($(p).html())&&
this.getLines(p).length>0},reformatWordPaste:function(p){var a=[];this.getLines(p).each(function(q,n){n=$(n);lineText=x.getLineText(n);lineIndentation=x.getLineIndentation(n);for(q=1;q<lineIndentation;q++)lineText=" "+lineText;a.push(lineText)});return a.join("\n")},getLines:function(p){return $(p).find("p, h1, h2, h3, h4, h5, h6")},getLineText:function(p){var a=p.text().replace(/\n/g," ");if(x.isVisuallyStyledLine(p))a=a.match(/\s*\S*\s*(.*)/)[1];return a},getLineIndentation:function(p){var a=/h(\d)/i,
q=/MsoHeading(\d+)/i,n=1;if(x.isVisuallyStyledLine(p))n=p.attr("style").match(x.STYLED_LINE_REGEX)[1];else if(a.test(p.attr("tagName")))n=p.attr("tagName").match(a)[1];else if(q.test(p.attr("class")))n=p.attr("class").match(q)[1];return parseInt(n,10)},isVisuallyStyledLine:function(p){return(p=p.attr("style"))&&x.STYLED_LINE_REGEX.test(p)},STYLED_LINE_REGEX:/mso-list:.*level(\d+)/};jQuery.fn.handleCutInContent=function(){var p=$(this);if(k)IS_FIREFOX?setTimeout(function(){p.updateContentHtmlAfterUserEdit()},
0):o(p);else{var a=p.isNote();g(p,function(q){var n=new content_text.ContentText(p,a);n=n.substring(0,q.start).concatenate(n.substring(q.end));p.setContentTextAsUserEdit(n.getText(),a);p.setCaret(q.start,q.start,"doNotScrollIfOnScreen")})}};jQuery.fn.handleCopyInContent=function(){var p=$(this);if(k())IS_FIREFOX||o(p);else g(p,function(a){p.setCaret(a.start,a.end,"doNotScrollIfOnScreen")})};jQuery.fn.handlePasteIntoContent=function(p,a){if(a===undefined)a=false;var q=$(this),n=q.isNote(),u=q.getProject(),
v=project_tree.getProjectReferenceFromDomProject(u).isReadOnly();if(v&&n)return false;u=getCurrentlyFocusedContent();if(!(u===null||u[0]!==q[0])){w++;var A=w;if(IS_IE&&a){if(v)return false;setTimeout(function(){q.handleDirectPasteIntoContent()},1)}else{n&&q.addClass("copyOrPasteInProgress");var y=q.getCaret(),C=undo_redo.saveClientViewStateForUndoRedo();u=q.getContentCaretOffset();var z=$("#pasteBucket");z.html("");z.show();z.offset({left:-9999,top:u.top});z.focus();var D=null,E=function(){document.activeElement===
z[0]&&z.blur();z.html("");z.removeAttr("style");$("#pasteBucketSelectableCSS").html("");n&&q.removeClass("copyOrPasteInProgress")},G=function(){D!==null&&clearTimeout(D);A===w&&setTimeout(function(){$("#pasteBucketSelectableCSS").html("#pasteBucket * { -moz-user-select: text !important; -webkit-user-select: text !important; -ms-user-select: text !important; -user-select: text !important; }");if(n){if(z.find(content_text.getContentClassesSelector()).length>0){var H=h(z);H=new content_text.ContentText(H,
true)}else H=content_text.createContentTextContainerFromPlainText(dom_utils.getFormattedElementText(z[0]),true);q.handlePasteIntoNote(H,y,C);E()}else{H=exporting.getProjectReferencesFromPasteBucketIfApplicable(z);if(H!==null){E();q.handleItemSelectionPasteIntoName(H,C,y.start===0&&y.start===y.end)||q.setCaret(y.start,y.end)}else if(v){E();q.setCaret(y.start,y.end)}else{H=z.text();var O=null;if(H.match(m)!==null)O=l(H);if(O===null)O=z.getInnerLines();E();q.handlePasteIntoName(O,y,C)}}},1)};if(a)G();
else{$("body").one("paste",function(){G()});D=setTimeout(function(){E()},1E3)}}}};jQuery.fn.handlePasteIntoName=function(p,a,q){var n=$(this),u=new content_text.ContentText(n,false),v=u.substring(0,a.start),A=u.substring(a.end);u=function(G){undo_redo.startOperationBatch(true,q);G=new content_text.ContentText(G.name,false);var H=v.concatenate(G).concatenate(A);n.setAndSaveContentText(H.getText());G=a.start+G.getPlainText().length;n.setCaret(G,G,"doNotScrollIfOnScreen");undo_redo.finishOperationBatch()};
if(p.length===0)u(new t(""));else{var y=p[0]instanceof t&&p[0].note===null&&p[0].isComplete!==true;if(p.length===1&&y)u(p[0]);else{undo_redo.startOperationBatch(true,q);u=n.getProject();y=project_tree.getProjectReferenceFromDomProject(u);var C=(new content_text.ContentText(u.getNotes().children(".content"),true)).isEmpty()&&u.is(".task"),z=u.is(".selected");if(!z&&C){C=p[0];var D=v;if(C instanceof t){D=D.concatenate(new content_text.ContentText(C.name.replace(/\s*$/,""),false));C.note!==null&&y.applyLocalEdit(null,
C.note);C.isComplete===true&&y.applyLocalComplete();p.shift()}n.setAndSaveContentText(D.getText());C=A.getText();$.trim(C).length>0&&p.push(new t(C))}if(z){z=p;C=[]}else{for(C=0;C<p.length&&!(p[C]instanceof t);)C++;D=p.slice(0,C);z=[];for(var E=0;E<D.length;E++)z=z.concat(D[E]);C=p.slice(C)}p=d(z);z=d(C);D=u.getParent();C=u.getPriority();D=project_tree.getProjectReferenceFromDomProject(D);E=null;if(p.length>0){u.is("open")||u.showChildren("instant").setExpanded(true);y=y.applyLocalBulkCreateChildren(0,
p);E=y[y.length-1]}if(z.length>0){y=D.applyLocalBulkCreateChildren(C+1,z);E=y[y.length-1]}if(E!==null){u=E.getMatchingDomProject();y=u.find(NAVIGABLE_PROJECTS_PATTERN+":last");(y.length===1?y:u).getName().moveCursorToEnd()}else u.getName().moveCursorToEnd();undo_redo.finishOperationBatch()}}};jQuery.fn.handleItemSelectionPasteIntoName=function(p,a,q){var n=$(this).getProject(),u=project_tree.getProjectReferenceFromDomProject(n);if(u.isInReadOnlyTree())return false;var v=false,A=n.hasClass("selected"),
y=n.projectIsEmpty();if(q&&!A&&!y){A=n.getParent();q=n;u=n.getPriority()}else if((n.hasClass("open")||A)&&!u.childrenAreInReadOnlyTree()){A=n;q=n.getFirstVisibleChildOrChildrenEnd();u=0}else{if(A)return false;A=n.getParent();q=n.getNextSibling(true);u=n.getPriority();if(y){v=true;u=u}else u=u+1}A=project_tree.getProjectReferenceFromDomProject(A);undo_redo.startOperationBatch(true,a);var C=null;a=false;y=[];for(var z=[],D=0;D<p.length;D++){var E=p[D],G=!E.isValid();if(!G||!E.isValidMove(q,true)){var H=
E.duplicateProjectTreeForBulkCreate(false,G);z.push(H);G&&y.push(E)}else{if(z.length>0){A.applyLocalBulkCreateChildren(u+D-z.length,z);z=[]}E.applyLocalUndelete(A,u+D);a=true;C=E}}if(z.length>0){p=A.applyLocalBulkCreateChildren(u+D-z.length,z);C=p[p.length-1]}v&&n.deleteIt(true);n=C.getMatchingDomProject();v=n.find(NAVIGABLE_PROJECTS_PATTERN+":last");(v.length===1?v:n).getName().moveCursorToEnd();undo_redo.finishOperationBatch();if(y.length>0){hideMessage(true);showMessage("<strong>WARNING</strong>: You just pasted deleted (probably cut) item(s) into a place where they can't be moved. Instead of moving them to the new location, they were copied (and if they were shared or embedded, the new copies are not). If you didn't intend this, please undo the paste and the cut.")}else a&&
undeleteMessageIsVisible(true)&&hideMessage();return true};jQuery.fn.handlePasteIntoNote=function(p,a,q){var n=$(this),u=new content_text.ContentText(n,true);u=u.substring(0,a.start).concatenate(p).concatenate(u.substring(a.end));undo_redo.startOperationBatch(true,q);n.setAndSaveContentText(u.getText());p=a.start+p.getPlainText().length;n.setCaret(p,p,"doNotScrollIfOnScreen");undo_redo.finishOperationBatch()};jQuery.fn.handleDirectPasteIntoContent=function(){var p=$(this),a=p.getProject(),q=dom_utils.getFormattedElementText(p[0]);
if(p.isNote()){a=content_text.createContentTextContainerFromPlainText(q,true);undo_redo.startOperationBatch(true);p.setAndSaveContentText(a.getText());undo_redo.finishOperationBatch()}else{q=b(q);if(!(q.length<=1)){undo_redo.startOperationBatch(true);var n=new content_text.ContentText(q[0].name.replace(/\s*$/,""),false);p.setAndSaveContentText(n.getText());q.shift();p=d(q);if(a.is(".selected")){q=a;a=0}else{q=a.getParent();a=a.getPriority()+1}a=project_tree.getProjectReferenceFromDomProject(q).applyLocalBulkCreateChildren(a,
p);a=a[a.length-1].getMatchingDomProject();p=a.find(NAVIGABLE_PROJECTS_PATTERN+":last");(p.length===1?p:a).getName().moveCursorToEnd();undo_redo.finishOperationBatch()}}};return{handleCopyOfSelectedItems:function(p,a){if(a===undefined)a=null;var q=$("#cutAndCopyBucket");q.show();q.offset({left:-9999,top:$(document).scrollTop()+$(window).height()/2});q.focus();var n=exporting.generateProjectTreeHtmlForCopy(p);k()||(n=r(n));q.html(n);dom_utils.selectElementText(q[0]);setTimeout(function(){dom_utils.clearSelection();
q.blur();q.html("");q.removeAttr("style");item_select.blurAndClearTextSelection();a!==null&&a()},0)}}}(),item_select=function(){function b(){var v=p.getClientY()+$(document).scrollTop(),A=t.getRangesBetweenPositionAndStartInclusive(v),y={},C=[];v=[];for(var z=0;z<A.length;z++){var D=A[z],E=D.getProjectReference();y[E.getUniqueIdentifier()]=true;if(!(E.getParent().getUniqueIdentifier()in y)){var G=D.getElement();C.push(G[0]);v.push(new u(E,D.getCreationTimestamp()))}}A=$().add(C);A.not(a).addClass("addedToSelection");
a.not(A).removeClass("addedToSelection");if(a.length===0&&A.length>0){ui_sugar.makeSelectionInvisible();x=new scrolling.VerticalScroller(function(){return p},b)}else{a.length>0&&A.length===0&&ui_sugar.makeSelectionVisible();x!==null&&x.startOrStopScrollingIfNeeded()}a=A;q=v}function f(v){if(v===undefined)v=false;$(window).unbind(".itemSelect");if(w){if(READ_ONLY_MAIN_TREE){var A=window.getSelection(),y=null;if(document.activeElement===s[0]&&dom_utils.elementContainsSelection(s[0])){y=A.getRangeAt(0);
s.blur()}s.removeAttr("contenteditable");if(y!==null){A.removeAllRanges();A.addRange(y)}}v&&o();x!==null&&x.stopScrollingIfStarted();ui_sugar.clearPageCursor();ui_sugar.makeSelectionVisible();p=x=t=null;DRAG_MODE=w=false;g().length>0&&e();j()}s=m=null}function j(){var v=$("#itemSelectionControls"),A=g(),y=A.first();if(A.length===0||A.length===1&&!y.is(".selected")&&!y.is(".open"))$("#hidden").append(v);else{$("#documentView").append(v);var C=A.add(A.find(NAVIGABLE_PROJECTS_PATTERN));C.not(".done").length>
0?v.removeClass("allProjectsDone"):v.addClass("allProjectsDone");h(A)?v.addClass("readOnly"):v.removeClass("readOnly");v.find(".numSelectedItemsValue").text(String(C.length));C=y.offset();A=C.top;y=Math.round(C.left+y.outerWidth()-v.outerWidth());v.offset({top:A,left:y})}}function h(v){if(READ_ONLY_MAIN_TREE)return true;var A=false;v.each(function(){var y=$(this);if(!project_tree.getProjectReferenceFromDomProject(y).isReadOnly()){A=true;return false}});return!A}function g(v){if(v===undefined)v=false;
if(a.length===0)return a;var A=a.filter(GLOBAL_NAVIGABLE_PROJECTS_PATTERN);if(v){a.removeClass("addedToSelection");a=$();q=[];j();(IS_FIREFOX||IS_SAFARI||IS_IE)&&$("#cutAndCopyDetectionContainer").removeAttr("style")}return A}function o(){return g(true)}function k(){if(a.length===0)return null;for(var v=utils.copyArray(q).sort(function(C,z){return z.getAddedToSelectionTimestamp()-C.getAddedToSelectionTimestamp()}),A=0;A<v.length;A++){var y=v[A].getProjectReference().getMatchingDomProject();if(y.length===
1&&y.is(GLOBAL_NAVIGABLE_PROJECTS_PATTERN))return y}return null}function r(v){for(var A=0;A<v.length;A++){var y=a.index(v[A]);q[y].updateAddedToSelectionTimestamp(date_time.getStrictlyIncreasingCurrentTimeInMS())}}function l(v){var A=c();if(A!==null){A.addToItemSelection(true);var y=a.index(A);y=q[y];var C=y.getLastShiftClickSelectedProjectReferences();if(C!==null)for(var z=0;z<C.length;z++){var D=C[z].getMatchingDomProject();D.length===1&&D.removeFromItemSelection(true)}C=function(E,G,H){var O=[];
for(G=G;;){var M=G;G=H==="down"?G.getNextProject(true):G.getPreviousProject();if(G[0]===M[0])break;M=G[0]===E[0];var Q=!M&&E.add(G).first()[0]===E[0];if(H==="down"&&Q||H==="up"&&!M&&!Q)break;G.addToItemSelection(true);O.push(project_tree.getProjectReferenceFromDomProject(G));if(M)break}return O};z=v.add(A);if(z.length>1){v=z.eq(0).filter(A).length===1?C(v,A,"down"):C(v,A,"up");y.updateLastShiftClickPivotTimestamp(date_time.getCurrentTimeInMS(),v)}j()}}function c(){if(a.length===0){var v=getCurrentlyFocusedContent();
if(v!==null)return v.getProject();else{v=selectOnActivePage(".selected").getVisibleChildren().first();return v.length===1?v:null}}v=utils.copyArray(q).sort(function(C,z){return z.getLastShiftClickPivotTimestamp()-C.getLastShiftClickPivotTimestamp()});for(var A=0;A<v.length;A++){var y=v[A];if(y.getLastShiftClickPivotTimestamp()===0)break;y=y.getProjectReference().getMatchingDomProject();if(y.length===1&&y.is(GLOBAL_NAVIGABLE_PROJECTS_PATTERN))return y}return k()}function e(){if(READ_ONLY_MAIN_TREE)dom_utils.clearSelection();
else{var v=getCurrentlyFocusedContentOrInput();if(v!==null){dom_utils.clearSelection();v.blur()}}d()}function d(){if(IS_FIREFOX||IS_SAFARI||IS_IE){var v=$("#cutAndCopyDetectionContainer");v.show();v.text(".");dom_utils.selectElementText(v[0])}}var m=null,s=null,w=false,t=null,x=null,p=null,a=$(),q=[],n=null,u=Class.extend({init:function(v,A,y){if(y===undefined)y=null;this._projectReference=v;this._addedToSelectionTimestamp=A;this._lastShiftClickPivotTimestamp=0;this._lastShiftClickSelectedProjectReferences=
null;this._selectedProjectsSubsumedMetaDatas=y},getProjectReference:function(){return this._projectReference},getAddedToSelectionTimestamp:function(){return this._addedToSelectionTimestamp},updateAddedToSelectionTimestamp:function(v){this._addedToSelectionTimestamp=v},getLastShiftClickPivotTimestamp:function(){return this._lastShiftClickPivotTimestamp},updateLastShiftClickPivotTimestamp:function(v,A){this._lastShiftClickPivotTimestamp=v;this._lastShiftClickSelectedProjectReferences=A;for(var y=0;y<
q.length;y++){var C=q[y];if(C!==this)C.__lastShiftClickSelectedProjectReferences=null}},getLastShiftClickSelectedProjectReferences:function(){return this._lastShiftClickSelectedProjectReferences},getSelectedProjectsSubsumedMetaDatas:function(){return this._selectedProjectsSubsumedMetaDatas}});jQuery.fn.isItemSelected=function(){return $(this).hasClass("addedToSelection")};jQuery.fn.getItemSelectedContainer=function(){var v=$(this);if(a.length===0)return null;v=v.closest(".project.addedToSelection");
return v.length>0?v:null};jQuery.fn.isContainedWithinItemSelection=function(){return $(this).getItemSelectedContainer()!==null};jQuery.fn.addToItemSelection=function(v,A){if(v===undefined)v=false;if(A===undefined)A=null;$(this).each(function(y){var C=$(this),z=a.index(C);if(z===-1)if(C.closest(".project.addedToSelection").length===0){C.addClass("addedToSelection");z=C.find(".project.addedToSelection");if(A!==null)y=A[y];else{if(z.length>0){var D=[];z.each(function(){var E=$(this);E=a.index(E);D.push(q[E])})}else D=
null;y=project_tree.getProjectReferenceFromDomProject(C);y=new u(y,date_time.getStrictlyIncreasingCurrentTimeInMS(),D)}z.removeFromItemSelection(true);a=a.add(C);z=a.index(C);q.splice(z,0,y)}});v||j();return this};jQuery.fn.removeFromItemSelection=function(v,A){if(v===undefined)v=false;if(A===undefined)A=false;$(this).each(function(){var y=$(this),C=a.index(y);if(C!==-1){y.removeClass("addedToSelection");a.splice(C,1);y=q.splice(C,1)[0];if(A){y=y.getSelectedProjectsSubsumedMetaDatas();if(y!==null)for(C=
0;C<y.length;C++){var z=y[C],D=z.getProjectReference().getMatchingDomProject();D.length===1&&D.addToItemSelection(true,[z])}}}});v||j();return this};return{init:function(){if(!IS_MOBILE){$(GLOBAL_NAVIGABLE_PROJECTS_PATTERN+" > .name > .content").live("mousedown",function(v){var A=$(this),y=A.getProject();if(!(!IS_CHROME_OS&&v.button===0&&v.ctrlKey)){var C=IS_CHROME_OS?v.ctrlKey:v.metaKey||v.altKey;if(v.button===0&&C){if(y.isContainedWithinItemSelection())y.isItemSelected()?y.removeFromItemSelection():
y.closest(".project.addedToSelection").removeFromItemSelection();else{y.addToItemSelection();A=a.index(y);q[A].updateLastShiftClickPivotTimestamp(date_time.getCurrentTimeInMS(),null)}e();v.preventDefault()}else if(v.button===0&&v.shiftKey){C=getCurrentlyFocusedContent();if(!(C!==null&&C[0]===A[0])){l(y);e();v.preventDefault()}}else if(!IS_FIREFOX&&v.button===2&&y.isContainedWithinItemSelection()){n=A;dom_utils.executeASAP(function(){e()})}else if(v.button===0){m=project_tree.getProjectReferenceFromDomProject(y);
s=A;$(window).bind("mousemove.itemSelect",function(z){if(!w){READ_ONLY_MAIN_TREE&&s.attr("contenteditable","true");o();hideControls();t=new ranges.VerticalRangeFinder(m);ui_sugar.setPageCursor("text");DRAG_MODE=w=true}p=scrolling.createMoveEventDataFromMouseOrTouchMoveEvent(z);b()}).bind("mouseup.itemSelect",function(){f()}).bind("drag.itemSelect",function(){f(true)})}}});$("#documentView").bind("mousedown",function(v){if(a.length!==0)if(v.button===0)if(!(v.metaKey||v.altKey||v.ctrlKey||v.shiftKey)){v=
$(v.target);v.closest("#itemSelectionControls").length===1||v.is(".bullet")&&v.getProject().isContainedWithinItemSelection()||o()}});$("#itemSelectionControls > .complete").click(function(){completeItemSelectedProjects()}).mousedown(function(){var v=getItemSelectionProjectsToComplete().not(".done");v.addClass("doneAppearance");$(window).bind("mouseup.itemSelectionCompleteButton",function(){v.removeClass("doneAppearance")}).bind("drag.itemSelectionCompleteButton",function(){v.removeClass("doneAppearance")})});
$("#itemSelectionControls > .delete").click(function(){deleteItemSelectedProjects()});$("#cutAndCopyDetectionContainer").bind("keydown",function(v){v.ctrlKey||v.metaKey||v.preventDefault()}).bind("paste",function(){return false})}},isDragSelecting:function(){return w},getSelectedItems:g,getMostRecentlySelectedItem:k,clearItemSelection:o,saveSelectionState:function(){return q},restoreSelectionState:function(v){if(m!==null)if(m.getMatchingDomProject().length!==1)f(true);else{if(w){t=new ranges.VerticalRangeFinder(m);
b()}}else{o();if(v.length!==0)if(getCurrentlyFocusedContentOrInput()===null){for(var A=$(),y={},C=0;C<v.length;C++){var z=v[C],D=z.getProjectReference().getMatchingDomProject();if(D.length===1){A=A.add(D);D.addClass("addedToSelection");y[z.getProjectReference().getUniqueIdentifier()]=z}}var E=[];A.each(function(){var G=$(this);G=project_tree.getProjectReferenceFromDomProject(G);G=y[G.getUniqueIdentifier()];E.push(G)});a=A;q=E;A.find(".project.addedToSelection").removeFromItemSelection(true);if(a.length>
0){a.scrollToBeOnScreen("none");d()}j()}}},itemSelectAll:function(){var v=selectOnActivePage(".selected");v.is(NAVIGABLE_PROJECTS_PATTERN)?v.addToItemSelection():v.getVisibleChildren().addToItemSelection();e()},expandItemSelectionUpOrDown:function(v){var A=k();if(A!==null){var y=q[a.index(A)].getSelectedProjectsSubsumedMetaDatas();if(v==="down"&&y!==null)A.removeFromItemSelection(false,true);else{y=function(D,E){var G;if(E==="up"){G=D.getPreviousProject();if(G.filter(D).length!==0)return null;G=G.closest(".project.addedToSelection");
if(G.length===0)G=D.getPreviousProject(false,true)}else{G=D.getNextProject(true);if(G.filter(D).length!==0)return null}return G};var C=y(A,v);if(C!==null){if(C.isItemSelected())A.removeFromItemSelection();else{C.addToItemSelection();A=[];for(var z=C;;){z=y(z,v);if(z===null||!z.isItemSelected())break;A.push(z);z=z}r(A)}C.scrollToBeOnScreen(v)}}}},startItemSelectionWithProject:function(v,A){e();v.addToItemSelection();v.scrollToBeOnScreen(A)},notifyContentFocused:function(v){var A=n;n=null;if(a.length!==
0)A!==null&&A[0]===v[0]||o()},notifyWindowResized:function(){j()},blurAndClearTextSelection:e}}(),appearance=function(){function b(o,k){var r;$(k==="font"?FONT_OPTIONS:THEME_OPTIONS).each(function(l,c){if(c.name===o){r=c;return false}});return r}function f(o){var k=o.type==="font"?$("#fontChooser"):$("#themeChooser");k.find(".galleryShowButton").html(o.pretty_name+" &raquo;");$(".option-thumb.current",k).removeClass("current");o=$(".option-name-"+o.name,k);o.addClass("current");$(".currentMark",k).remove();
o.find(".option-pretty-name").prepend('<span class="currentMark">Current: </span>')}function j(){APPCACHE_ENABLED&&appcache_helper.update()}function h(o,k,r){if(r===undefined)r=false;r=g(o.type,o.name);var l=o.type==="font"?"font_css":"theme_css";r={url:r,cache:true,dataType:"text",success:function(c){if(c!=null){c=$('<style id="'+l+'" >'+c+"</style>");$("head > #"+l).replaceWith(c);k(o.type)}}};r.WF_isForStaticResource=true;$.ajax(r)}function g(o,k){if(o==="font")var r="",l="fonts";else{r=IS_MOBILE?
"mobile.":"desktop.";l="themes"}return ON_DEVELOPMENT_SERVER?"/get_css/"+k+"?type="+o:MEDIA_URL+"versioned/"+SOURCE_VERSION+"/"+l+"/"+r+k+".css"}return{buildVisualSelector:function(o,k,r,l,c,e){r=$(r);r.empty();$(o).filter(function(){return this.name===k}).length>0||(k="default");var d=$(o).filter(function(w,t){return t.is_free}).get();o=$(o).filter(function(w,t){return!t.is_free}).get();o=(l=IS_MOBILE&&!payments.isPro())?d:d.concat(o);for(d=0;d<o.length;d++){var m=o[d],s=$('<div class="option-thumb option-name-'+
m.name+'" data-name="'+m.name+'" data-type="'+m.type+'"  />');if(m.type==="theme")s.append('<img src="'+MEDIA_URL+"i/"+e+"/"+m.name+'_thumb.jpg"><div class="option-pretty-name">'+m.pretty_name+"</div>");else{s.append(m.pretty_name);d==0&&s.append('<div style="font-size:11px;font-style:italic;color:#999;">default</div>');s.attr("style",m.font_styles)}m.is_free&&s.addClass("free");r.append(s);m.name===k&&f(m)}!payments.isPro()&&!l&&r.find(".option-thumb.free:last").after('<div class="moreInfo">'+c+
"</div>")},getStyleObjectFromThumb:function(o){var k=o.data("type");o=o.data("name");return b(o,k)},setStyle:function(o){function k(d,m){var s=d.type==="font"?$("#fontChooser > .gallery"):$("#themeChooser > .gallery");$(".waiting",s).remove();$(".option-name-"+d.name,s).append('<div class="waiting"></div>');h(d,function(w){m(w);f(d);$(".waiting",s).remove()})}var r=o.type==="font"?$("#fontChooser > .gallery"):$("#themeChooser > .gallery"),l=$(".option-name-"+o.name,r);$(".option-thumb .galleryProNotice",
r).remove();if(!payments.isPro()&&!o.is_free){$(".galleryProNotice",r).clone().appendTo(l);return false}if(o.type==="font")k(o,function(){settings.changeSettings({font:o.name},false,j)});else{var c=b(o.font,"font"),e={theme:false,font:false};r=function(d){e[d]=true;e.theme&&e.font&&settings.changeSettings({theme:o.name,font:c.name},false,j)};k(o,r);k(c,r)}},changeCSS:h}}(),friend_recommendation=function(){function b(){$("#promptContext").html("You've been using WorkFlowy for more than a week! We'd really appreciate it if you took a moment to let us know how useful WorkFlowy is to you.");
$("#ratingDialog").dialog({modal:true,width:500,title:"What do you think of WorkFlowy?",open:function(){_gaq.push(["_trackPageview","/virtual/friend_recommendation_prompt/10_days/rating_prompted/"])},close:function(){_gaq.push(["_trackPageview","/virtual/friend_recommendation_prompt/10_days/rating_dialog_closed/"])}})}function f(j){var h=$("#ratingDialog");_gaq.push(["_trackPageview","/virtual/friend_recommendation_prompt/10_days/rating_given/"+j]);if(j==="high"){j="<p>We're glad you like WorkFlowy. Please share it with your friends!</p>";
payments.isPro()||(j+=$("#post-rating-dialog-text").html());var g=REFERRAL_LINK+"&utm_campaign=friend_recommendation_prompt_10_days&utm_medium=facebook&utm_source=wf";h.html(j).dialog("option",{title:"Yay! Three stars!",buttons:{"Share WorkFlowy on Facebook":function(){FB.ui({method:"feed",link:g,picture:"https://www.workflowy.com/media/i/workflowy_icon_rounded_corners_512x512.png",name:"WorkFlowy - Simplify your life.",caption:"workflowy.com",description:"WorkFlowy offers a simple, but powerful way to manage all the information in your life. It'll help you stress less and do more.",
actions:[{name:"Try WorkFlowy",link:g}]},function(o){o&&o.post_id&&_gaq.push(["_trackPageview","/virtual/friend_recommendation_prompt/10_days/facebook_post_completed"]);h.dialog("close")});_gaq.push(["_trackPageview","/virtual/friend_recommendation_prompt/10_days/facebook_share_button_clicked"])},Close:function(){$(this).dialog("close")}}});quota.updateProgressBars(project_tree.getMainProjectTree())}else{j='<p style="margin:20px 10px 10px;">Thanks, we hope you enjoy WorkFlowy.</p>';h.html(j).dialog("option",
{title:"Thanks for your feedback!",buttons:{Close:function(){h.dialog("close")}}})}}return{init:function(){$("#ratingDialog .star").live("click",function(){var j=$(this).parent(".rating").data("rating");f(j)});b()}}}(),keyboard_shortcut_helper=function(){function b(){settings.changeSettings({show_keyboard_shortcuts:true},true)}function f(){settings.changeSettings({show_keyboard_shortcuts:false},true)}return{init:function(){$("#keyboardShortcutHelper > .title").live("click",function(){$("#keyboardShortcutHelper").toggleClass("closed")});
$("input[type=checkbox].keyboardShortcutHelper").live("change",function(){var j=$(this);j.is(":checked")?b(j):f(j)})},toggle:function(){$("#keyboardShortcutHelper").hasClass("visible")?f():b()},registerSettingChange:function(){if(!IS_MOBILE){var j=SETTINGS.show_keyboard_shortcuts.value,h=$("#keyboardShortcutHelper"),g=$("input[type=checkbox].keyboardShortcutHelper");if(j){h.removeClass("closed").addClass("visible");g.attr("checked","checked")}else{h.removeClass("visible");g.removeAttr("checked")}}}}}(),
forms_=function(){var b=function(f,j){f.find(".errors").remove();$.each(j,function(h,g){var o="";$.each(g,function(r,l){o+=l+" "});var k="input[name="+h+"]";f.has(k).length!==0?f.find(k).after('<div class="errors">'+o+"</div>"):f.prepend('<div class="errors">'+o+"</div>")})};return{ajaxify:function(f,j,h,g){function o(){if(f.data("submitting")===true)return false;f.data("submitting",true);h!==null&&h();var k={};$("input[type=text], input[type=email], input[type=password]",f).each(function(r,l){l=
$(l);k[l.attr("name")]=l.val()});$.ajax({url:f.attr("action"),data:k,dataType:"json",type:"POST",success:function(r){f.data("submitting",false);if("errors"in r)b(f,r.errors);else j!==null&&j.call(f,r)},error:function(){f.data("submitting",false);f.children(".errors").remove();f.prepend('<div class="errors">You must be online to do this. Please check your connection and try again.</div>')}});return false}if(j===undefined)j=null;if(h===undefined)h=null;if(g===undefined)g=false;g?f.bind("submit",o):
f.live("submit",o)}}}(),settings=function(){function b(){$(".chromeAppOnly").show();gaService.getConfig().addCallback(function(e){e.isTrackingPermitted();var d=$(".js-chrome-app-no-track");e.isTrackingPermitted()||d.attr("checked","checked");d.live("change",function(m){$(m.target).attr("checked")?e.setTrackingPermitted(false):e.setTrackingPermitted(true)})})}function f(){$.ajax({url:"/get_settings",dataType:"json",success:function(e){if(e!=null){userstorage.isEnabled()&&userstorage.updateSettingsFromServer(e);
messages.init()}}})}function j(){for(var e in SETTINGS)g(e)}function h(e,d){d?e.attr("checked","checked"):e.removeAttr("checked")}function g(e){switch(e){case "show_keyboard_shortcuts":keyboard_shortcut_helper.registerSettingChange();break;case "unsubscribe_from_summary_emails":h($("#summaryEmailsCheckboxSettings"),!SETTINGS.unsubscribe_from_summary_emails.value);break;case "backup_to_dropbox":h($("#backupToDropbox"),SETTINGS.backup_to_dropbox.value);break;case "email":e=SETTINGS.email.value;$(".userEmail").text(e);
break;case "username":e=SETTINGS.username.value;$(".loginForm input[name=username]").attr("value",html_utils.htmlEscapeText(e));break;case "saved_views_json":saved_views.registerSettingChange()}}function o(e,d,m){if(d===undefined)d=false;if(m===undefined)m=null;var s={},w={};for(settingName in e){var t=e[settingName],x=SETTINGS[settingName],p=x.value;x.value=t;s[settingName]=t;if(x.saveToServer)if(settingName==="saved_views_json")w.saved_views_json_delta=saved_views.generateViewListJsonDiff(p,t);
else w[settingName]=x.isFlag?t?"yes":"no":t;d&&g(settingName)}utils.objectIsEmpty(s)||userstorage.isEnabled()&&userstorage.saveSettings(s);utils.objectIsEmpty(w)||k(w,m)}function k(e,d){if(d===undefined)d=null;var m={url:"/change_settings",data:e,dataType:"json",type:"POST"};if(d!==null)m.success=d;$.ajax(m)}function r(e){e.fadeOut(100).hide();e=IS_MOBILE?"touchend":"click";$("body").die(e+".hideGallery")}function l(e){var d=e.form,m=e.button;d.hide=function(){m.removeClass("cancel");d.slideUp(function(){d.find(".errors").text("");
d.find("input[type=text], input[type=password]").val("")})};d.show=function(){m.addClass("cancel");d.slideDown()};m.clickOrTapHandler({event:function(){d.is(":visible")?d.hide():d.show()}});forms_.ajaxify(d,e.successCallback)}function c(){$("#buttonBar").removeClass("open");$("body").unbind(IS_MOBILE?"touchend":"click",c)}return{init:function(){j();setTimeout(f,1);IS_CHROME_APP&&b();$("#settingsPopup .setting:visible").last().addClass("last");$(".menu-button").clickOrTapHandler({event:function(){var e=
$("#buttonBar");if(e.hasClass("open"))c();else{e.addClass("open");$("body").bind(IS_MOBILE?"touchend":"click",c)}return false},useBind:true});$("#settingsPopup").dialog({autoOpen:false,width:670,buttons:{Close:function(){$(this).dialog("close")}},modal:false,position:["center",150],title:"Settings",open:function(){appearance.buildVisualSelector(THEME_OPTIONS,SETTINGS.theme.value,"#theme-scroller","Free Theme","Pro Themes","themes");appearance.buildVisualSelector(FONT_OPTIONS,SETTINGS.font.value,"#font-scroller",
"Free Fronts","Pro Fonts","fonts")},close:function(){$(this).find(".gallery").each(function(){r($(this))})}});$(".option-thumb:not(.current)").clickOrTapHandler({event:function(){var e=$(this);e=appearance.getStyleObjectFromThumb(e);appearance.setStyle(e);return false}});$(".gallery > .closeMeButton").clickOrTapHandler({event:function(){var e=$(this).closest(".gallery");r(e)}});$(".gallerySelector > .galleryShowButton").clickOrTapHandler({event:function(){var e=$(this).nextAll(".gallery");$(".gallery").not(e).fadeOut(100);
e.fadeToggle(100);var d=IS_MOBILE?"touchend":"click";$("body").live(d+".hideGallery",function(m){if($(m.target).closest(".gallery").length===0){r(e);return false}});return false}});$("#summaryEmailsCheckboxSettings").bind("change",function(){var e=!$(this).is(":checked");o({unsubscribe_from_summary_emails:e})});app_detect.isIOSApp()&&$("#backupToDropbox").parent().hide();$("#backupToDropbox").live("change",function(){var e=$(this).is(":checked");o({backup_to_dropbox:e});e&&window.open(URL_PRE_PATH_FOR_PACKAGED_APPS+
"/authorize_dropbox","_blank","width=900,height=700")});l({successCallback:function(e){o({email:e.email,username:e.username},true);this.hide()},button:$("#changeEmailLink"),form:$("#changeEmailForm")});l({successCallback:function(){showMessage("Password successfully changed.");this.hide()},button:$("#changePasswordLink"),form:$("#changePasswordForm")});$("#deleteAccountDialog").dialog({width:400,modal:true,autoOpen:false,open:function(){var e=$("#deleteAccountFormTemplate").html();$(this).append(e)},
close:function(){$(this).children("#deleteAccountConfirmation").remove()},title:"Confirm Account Deletion",buttons:[{text:"Permanently Delete Account",click:function(){$("#deleteAccountConfirmation").submit()}},{text:"Cancel",click:function(){$(this).closest(".ui-dialog-content").dialog("close")}}]});$("#deleteAccountLink").live("click",function(){$("#deleteAccountDialog").dialog("open")});$(".offline-export-dialog").dialog({autoOpen:false,width:600,title:"Export your offline data",buttons:{Close:function(){$(this).dialog("close")}},
close:function(){$(this).children(".exported-offline-data").val("")}});$(".export-offline-data-link").clickOrTapHandler({event:function(){var e=$(".offline-export-dialog"),d=JSON.stringify(localstorage_helper.hackyDumpAllWithDecompressedChunks());e.children(".exported-offline-data").val(d);d=encodeURI("WorkFlowy Offline Data Export");$(".offline-export-email-button").attr("href","mailto:help@workflowy.com?subject="+d+"&body=Please 1) Paste the offline data from WorkFlowy here and 2) Describe the situation you were in when you had trouble syncing");
e.dialog("open")}})},toggleSettingsDialogVisibility:function(){var e=$("#settingsPopup");e.dialog("isOpen")?e.dialog("close"):e.convertVideoPlaceholders().dialog("open")},hideMenu:c,registerSettingChange:g,changeSettings:o,saveShowCompleted:function(e){k({show_completed:e?"yes":"no"})}}}(),date_time=function(){var b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=0;return{getCurrentTimeInMS:function(){return(new Date).getTime()},getStrictlyIncreasingCurrentTimeInMS:function(){var j=
date_time.getCurrentTimeInMS();return f=j>f?j:f+0.001},dateToDateTimeString:function(j){var h=j.getHours(),g=j.getMinutes(),o;if(h<12){o="AM";if(h==0)h=12}else{o="PM";if(h>12)h-=12}g=g<=9?"0"+g:String(g);return b[j.getMonth()]+" "+j.getDate()+", "+j.getFullYear()+" @ "+h+":"+g+" "+o},convertMillisecondsToTimeDeltaString:function(j){j=Math.max(0,j);j=Math.floor(j/6E4);if(j<60)return j+" minute"+(j===1?"":"s");j=Math.floor(j/60);if(j<24)return j+" hour"+(j===1?"":"s");j=Math.floor(j/24);return j+" day"+
(j===1?"":"s")},getCurrentTimeAsDebugTimestamp:function(){var j=new Date,h=utils.zeroPadInteger(j.getDate(),2)+"/"+b[j.getMonth()]+"/"+j.getFullYear();j=utils.zeroPadInteger(j.getHours(),2)+":"+utils.zeroPadInteger(j.getMinutes(),2)+":"+utils.zeroPadInteger(j.getSeconds(),2)+"."+utils.zeroPadInteger(j.getMilliseconds(),3);return h+" "+j}}}(),utils=function(){function b(d){if(LOG_DEBUG_MESSAGES){if(typeof d==="function")d=d();f("["+date_time.getCurrentTimeAsDebugTimestamp()+"] "+d)}}function f(d){window.console!==
undefined&&typeof window.console.log==="function"&&console.log(d)}function j(d){return!isNaN(d)}function h(){return((1+Math.random())*65536|0).toString(16).substring(1)}function g(d,m){try{var s=JSON.parse(d)}catch(w){m();return null}return s}var o=Class.extend({init:function(){this._dict={}},add:function(d){this._dict[d]=true},contains:function(d){return d in this._dict},remove:function(d){delete this._dict[d]},elements:function(){return Object.keys(this._dict)}}),k=Class.extend({init:function(d,
m,s){if(d===undefined)d=-1;if(m===undefined)m=1;if(s===undefined)s=null;this._stack=[];this._maxLength=d;this._lengthResizeBuffer=m;this._itemRemovalCallback=s},push:function(d){this._stack.push(d);this._maxLength>0&&this._stack.length>this._maxLength&&this._registerItemsRemoved(this._stack.splice(0,this._lengthResizeBuffer))},pop:function(){var d=this._stack.pop();this._registerItemsRemoved([d]);return d},remove:function(d){for(var m=[],s=[],w=0;w<this._stack.length;w++){var t=this._stack[w];t===
d?m.push(t):s.push(t)}this._stack=s;this._registerItemsRemoved(m)},last:function(){if(!this.isEmpty())return this._stack[this._stack.length-1]},clear:function(){var d=this._stack;this._stack=[];this._registerItemsRemoved(d)},length:function(){return this._stack.length},isEmpty:function(){return this.length()===0},_registerItemsRemoved:function(d){this._itemRemovalCallback!==null&&d.forEach(this._itemRemovalCallback)}}),r=Class.extend({init:function(d,m){if(d===undefined)d=-1;if(m===undefined)m=1;
var s=this;this._keyStack=new k(d,m,function(w){delete s._table[w]});this._table={}},add:function(d,m){if(d in this._table){if(!this._keyStack.isEmpty()&&d===this._keyStack.last()){this._table[d]=m;return}this.remove(d)}this._keyStack.push(d);this._table[d]=m},get:function(d){return d in this._table?this._table[d]:null},remove:function(d){d in this._table&&this._keyStack.remove(d)},clear:function(){this._keyStack.clear();this._table={}},length:function(){return this._keyStack.length()},isEmpty:function(){return this._keyStack.isEmpty()}}),
l=XRegExp("["+WORD_CHARS_PLUS_DIGITS+"]"),c=/[a-z]/i,e=XRegExp("^[\\p{Han}\\p{Hangul}\\p{Hiragana}\\p{Katakana}]+$");return{Set:o,Stack:k,LookupTable:r,debugMessage:b,debugAlert:function(d){if(LOG_DEBUG_MESSAGES){b(d);ui_sugar.showAlertDialog(html_utils.htmlEscapeText(d),"Debug Alert",false)}},consoleLog:f,printStackTrace:function(){for(var d=arguments.callee.caller;d!=null&&typeof d==="function";){f("name"in d&&d.name!==""?d.name:"(anonymous)");d=d.caller}},timeFunction:function(d){var m=d.name?
d.name:"[unnamed]",s=date_time.getCurrentTimeInMS();d();d=date_time.getCurrentTimeInMS()-s;f(m+" ran in "+d+" ms.")},objectIsEmpty:function(d){for(var m in d)return false;return true},objectSize:function(d){var m=0,s;for(s in d)m++;return m},objectPropertyNames:function(d){var m=[],s;for(s in d)m.push(s);return m},copyObject:function(d){return $.extend({},d)},deepCopyObject:function(d){return $.extend(true,{},d)},copyArray:function(d){return d.slice(0)},deepCopyArray:function(d){return $.extend(true,
[],d)},createArrayOfIdenticalElements:function(d,m){for(var s=Array(m),w=0;w<m;w++)s[w]=d;return s},isWordOrNumberChar:function(d){return l.test(d)},isAlpha:function(d){return c.test(d)},isDigit:j,isOnlyDigits:function(d){for(var m=0;m<d.length;m++)if(!j(d.charAt(m)))return false;return true},isOnlyCJK:function(d){return e.test(d)},isPrefixMatch:function(d,m){return d.lastIndexOf(m,0)===0},isSuffixMatch:function(d,m){return d.indexOf(m,d.length-m.length)!==-1},splitOnFirstOccurrence:function(d,m){var s=
d.indexOf(m);if(s===-1)return[d];return[d.substring(0,s),d.substring(s+m.length)]},zeroPadInteger:function(d,m){var s=d.toString();if(s.length>=m)return s;return Array(m-s.length+1).join("0")+s},camelCaseToHyphenated:function(d){return d.replace(/([A-Z])/g,function(m){return"-"+m.toLowerCase()})},pushArray:function(d,m){d.push.apply(d,m)},sortArrayOfNumbers:function(d,m){if(m===undefined)m=false;return d.sort(m?function(s,w){return w-s}:function(s,w){return s-w})},regExpEscapeString:function(d){return d.replace(/[-\[\]{}()*+?.,\\^$|#]/g,
"\\$&")},generateUUID:function(){return h()+h()+"-"+h()+"-"+h()+"-"+h()+"-"+h()+h()+h()},parseJsonWithErrorHandling:g,parseJsonListWithErrorHandling:function(d,m){if(m===undefined)m=null;for(var s=[],w=0;w<d.length;w++){var t=false,x=g(d[w],function(){t=true});if(t){m!==null&&m();return null}s.push(x)}return s},convertToOrderOfMagnitudeNumber:function(d){d=d+"";d=d[0]+_.map(_.range(0,d.length-1),function(){return 0}).join("");return parseInt(d,10)}}}(),payments=function(){function b(){if(k){$(".freeOnly").remove();
$(".proOnly").removeClass("proOnly")}else{$(".proOnly").remove();$(".freeOnly").removeClass("freeOnly")}}function f(){if(typeof Stripe!=="undefined"){Stripe.setPublishableKey(STRIPE_PUBLIC_KEY);jQuery.validator.addMethod("cardNumber",Stripe.validateCardNumber,"Please enter a valid card number");jQuery.validator.addMethod("cardCVC",Stripe.validateCVC,"Please enter a valid security code");jQuery.validator.addMethod("cardExpiry",function(){return Stripe.validateExpiry($(".card-expiry-month").val(),$(".card-expiry-year").val())},
"Please enter a valid expiration");var c=$("#stripe-form");c.show();c.validate({submitHandler:g,rules:{"card-cvc":{cardCVC:true,required:true},"card-number":{cardNumber:true,required:true},"card-expiry-year":"cardExpiry"}});h();r=true}}function j(){if(r){$("#plan-upgrade-dialog").dialog("open");k?_gaq.push(["_trackPageview","/virtual/payments/change_card_dialog/"]):_gaq.push(["_trackPageview","/virtual/payments/pro_upgrade_dialog/"])}else ui_sugar.showAlertDialog("Sorry, we've encountered an unexpected error. Please email help@workflowy.com if this problem persists after reloading the page.")}
function h(){$(".card-number").attr("name","card-number");$(".card-cvc").attr("name","card-cvc");$(".card-expiry-year").attr("name","card-expiry-year")}function g(c){$(".card-number").removeAttr("name");$(".card-cvc").removeAttr("name");$(".card-expiry-year").removeAttr("name");$(c["submit-button"]).attr("disabled","disabled");var e=$(".payment-form");e.addSpinner();var d=function(s){if("error"in s)m(s.error);else{e.removeSpinner();$("#payment-page").hide();$("#payment-succeeded").show();$("#plan-upgrade-dialog").css("height",
"auto");$(c).find(":input").each(function(){$(this).val("")});IS_CHROME_APP&&indexeddb_helper.getStores().otherData.write(l,true);k?_gaq.push(["_trackPageview","/virtual/payments/change_card_succeeded"]):_gaq.push(["_trackPageview","/virtual/payments/pro_upgrade_succeeded"])}},m=function(s){typeof s==="string"?$(".payment-errors").html(s):$("#stripe-form > .globalerror").show();$(".payment-form .submit_button").removeAttr("disabled");e.removeSpinner();k?_gaq.push(["_trackPageview","/virtual/payments/change_card_failed"]):
_gaq.push(["_trackPageview","/virtual/payments/pro_upgrade_failed"])};Stripe.createToken({name:$(".payment-form input[name=name]").val(),number:$(".card-number").val(),cvc:$(".card-cvc").val(),exp_month:$(".card-expiry-month").val(),exp_year:$(".card-expiry-year").val()},100,function(s,w){if(w.error){e.removeSpinner();$(c["submit-button"]).removeAttr("disabled");$(".payment-errors").html(w.error.message);h();_gaq.push(["_trackPageview","/virtual/payments/stripe_rejected_credit_card_info"])}else{var t=
$('<input name="stripeToken" value="'+w.id+'" style="display:none;" />');c.appendChild(t[0]);var x={};c=$(c);c.find(":input").each(function(){if(!$(this).is("[type=radio]")||$(this).attr("checked")===true)x[$(this).attr("name")]=$(this).val()});$.ajax({url:k?c.attr("data-proaction"):c.attr("data-freeaction"),data:x,dataType:"json",type:"POST",success:d,error:m})}});return false}function o(c,e,d){$.ajax({url:"https://api.stripe.com/v1/tokens",type:"GET",username:STRIPE_PUBLIC_KEY,data:{card:{name:c.name,
number:c.number,exp_month:c.exp_month,exp_year:c.exp_year,cvc:c.cvc},_method:"POST"},success:function(m,s,w){d(w.status,m)}})}var k=null,r=false,l="showProWelcome";return{init:function(){if(k===null)k=USER_EMAIL_ADDED;b($("body"));if(k){$("body").addClass("pro_member");if(SUBSCRIPTION_CANCELLED)$(".showIfSubscriptionCancelled").show();else HAS_ACTIVE_SUBSCRIPTION&&$(".showIfSubscriptionActive").show();if(!(typeof HAS_STRIPE_CUSTOMER_ID!=="undefined"?HAS_STRIPE_CUSTOMER_ID:true)){$(".showIfDoNotHaveStripeCustomerId").show();
$(".hideIfDoNotHaveStripeCustomerId").hide()}$(".subscriptionEndsDateString").text(SUBSCRIPTION_ENDS_DATE_STRING)}for(var c=$(".card-expiry-month"),e=(new Date).getMonth()+1,d=1;d<=12;d++)c.append($('<option value="'+d+'" '+(e===d?"selected":"")+">"+d+"</option>"));c=$(".card-expiry-year");e=(new Date).getFullYear();for(d=0;d<12;d++)c.append($('<option value="'+(d+e)+'" '+(d===0?"selected":"")+">"+(d+e)+"</option>"));$(".reloadButton").clickOrTapHandler({event:function(){reloadPageFromServer()}});
d=$("#plan-upgrade-dialog").dialog({width:k?390:725,height:k?280:575,modal:true,title:k?"Change Payment Details":"Upgrade to WorkFlowy Pro",autoOpen:false});k&&d.dialog("option",{close:function(){$("#payment-page").show();$("#payment-succeeded").hide()}});$("#proPitchDialog").dialog({width:430,modal:false,title:"WorkFlowy Pro",position:["right","bottom"],autoOpen:false});$("#proPitchDialog > .upgrade-button").live("click",function(){_gaq.push(["_trackPageview","/virtual/payments/pro_pitch_dialog/learn_more_button_clicked/"])});
$("#tutorialProPitchSlide > .upgrade-button").live("click",function(){_gaq.push(["_trackPageview","/virtual/payments/new_user_tutorial_pro_pitch/learn_more_button_clicked/"])});$(".proPitch").live("click",function(){$("#proPitchDialog").convertVideoPlaceholders().dialog("open");_gaq.push(["_trackPageview","/virtual/payments/bottom_right_go_pro_button_clicked/"])});$(".upgrade-button, #premium-features-more-button").live("click",function(){j()});$("#premium-cancel-button").live("click",function(){payments.cancelPayment()});
if(k){$("#pro_welcome_dialog").dialog({width:600,modal:false,autoOpen:false,title:"Welcome to WorkFlowy Pro"});var m=function(){$("#pro_welcome_dialog").convertVideoPlaceholders().dialog("open")};if(IS_CHROME_APP)indexeddb_helper.getStores().otherData.read(l,function(s){if(s===true){m();indexeddb_helper.getStores().otherData.remove(l)}});else!IS_MOBILE&&FIRST_LOAD_FLAGS.showProWelcome&&m()}f();if(IS_PACKAGED_APP&&r)Stripe.createToken=o;FIRST_LOAD_FLAGS.showUpgradeDialog&&d.dialog("open")},cancelPayment:function(){function c(){var e=
$("#proSettingsBox");e.addSpinner();$.ajax({url:"/cancel_pro",type:"POST",dataType:"json",success:function(d){e.removeSpinner();if(d.cancelled){$("#premium-cancel-button").replaceWith('<p id="premium-cancelled-message">Your Pro account has been cancelled.</p>');showMessage("Your Pro account has been cancelled.");_gaq.push(["_trackPageview","/virtual/payments/cancelled_pro_account"])}else $("#premium-cancel-button").replaceWith('<p id="premium-cancelled-message">There was an error cancelling your WorkFlowy Pro membership. Please reload the page and try again. If it still doesn\'t work, email help@workflowy.com</p>')}})}
ui_sugar.showAlertDialog("Please confirm that you would like to cancel your WorkFlowy Pro account.","Cancel Pro Account",true,[{text:"Yes, cancel it",click:function(){c();$(this).dialog("close")}}],"No, keep it")},promptPayment:j,isPro:function(){return k},removeFreeOrProAsNeededFromDOMSubtree:b}}(),ui_sugar=function(){jQuery.fn.addSpinner=function(){$(this).each(function(b,f){$(f).css("position")==="static"&&$(f).css("position","relative");$(f).append('<div class="spinnerWrapper"><div class="spinner"></div></div>')});
return this};jQuery.fn.removeSpinner=function(){$(this).each(function(b,f){$(f).find(".spinnerWrapper").remove()});return this};jQuery.fn.flashColor=function(b){var f=$(this),j=$("<div>").css({backgroundColor:b,opacity:0,position:"absolute",top:0,left:0,width:"100%",height:"100%"});f.append(j);j.css({opacity:0.9}).animate({opacity:0},500,function(){j.remove()})};return{showAlertDialog:function(b,f,j,h,g){if(f===undefined)f="";if(j===undefined)j=true;if(h===undefined)h=null;if(g===undefined)g=null;
b=$('<div class="alertDialog">'+b+"</div>");b.appendTo($("#documentView"));h=h!==null?h:[];h.push({text:g!==null?g:"Close",click:function(){$(this).dialog("close")}});b.dialog({width:500,modal:j,position:["center",150],title:f,close:function(){$(this).dialog("destroy").remove()},buttons:h})},setPageCursor:function(b){var f=["cursor: "+b+" !important"];if(b==="grab"||b==="grabbing"||b==="zoom-in"||b==="zoom-out"){f.push("cursor: -webkit-"+b+" !important");f.push("cursor: -moz-"+b+" !important")}b=
"* { "+f.join("; ")+"; }";$("#pageCursorCSS").html(b)},clearPageCursor:function(){$("#pageCursorCSS").html("")},makeSelectionInvisible:function(){$("#selectionInvisibleCSS").html("::selection { background: transparent; }\n::-moz-selection { background: transparent; }")},makeSelectionVisible:function(){$("#selectionInvisibleCSS").html("")}}}(),quota=function(){function b(h){if(!(payments.isPro()||project_tree.getMainProjectTree().isShared()||IS_MOBILE))if(!h.isAuxiliary()){var g=h.getItemsCreatedInCurrentMonth();
h=h.getMonthlyItemQuota();var o=g/h;if(o>1)o=1;$(".quotaUsedThisMonth").text(g);$(".quotaMonthlyItems").text(h);$(".quotaProgressBar").each(function(k,r){var l=$(".currentProgress",r),c=$(r).outerWidth();l.css({width:o*c+"px"})});o>=0.7?f():j()}}function f(){var h=$(".hiddenQuotaProgressContainer");if(!h.is(":visible")){h.addClass("visible");_gaq.push(["_trackPageview","/virtual/payments/showed_quota_progress_bar"]);metrics.track("Quota Progress Bar Shown")}}function j(){var h=$(".hiddenQuotaProgressContainer");
if(h.is(":visible")){h.removeClass("visible");_gaq.push(["_trackPageview","/virtual/payments/hid_quota_progress_bar"])}}return{init:function(){b(project_tree.getMainProjectTree());var h=250;if(typeof USER_BASE_QUOTA!=="undefined")h=USER_BASE_QUOTA;$(".js-base-quota").text(h);$(".overQuotaDialog").dialog({autoOpen:false,width:450,modal:true,position:["center",180],title:"Usage Quota Reached"})},notifyQuotaStatsChangedForProjectTree:function(h){b(h)},notifyLocalCreateWhileOverQuotaForProjectTree:function(h){if(h.isShared()){$("#sharedOverQuotaDialog").dialog("open");
_gaq.push(["_trackPageview","/virtual/payments/showed_shared_over_quota_notice"])}else{$("#overQuotaDialog").dialog("open");_gaq.push(["_trackPageview","/virtual/payments/showed_over_quota_notice"]);metrics.track("Quota Reached")}},updateProgressBars:b}}(),referral=function(){return{init:function(){function b(f,j,h){j=j||"fb";h=h||"&utm_campaign=referral_free_space&utm_medium=facebook&utm_source=wf";j=REFERRAL_LINK+"."+j+h;FB.ui({method:"feed",link:j,picture:"https://workflowy.com/media/i/workflowy_icon_rounded_corners_512x512.png",
name:"WorkFlowy - Organize Your Brain. For free!",caption:"workflowy.com",description:"Have you tried\u00a0WorkFlowy\u00a0yet? Excellent way to organize your to-dos and other thoughts.",actions:[{name:"Try WorkFlowy",link:j}]},function(g){g&&g.post_id&&f!==undefined&&f()})}$("#getMoreSpaceDialog").dialog({title:"Get More Space",autoOpen:false,width:560,modal:false});$(".getMoreSpaceButton").live("click",function(){$("#getMoreSpaceDialog").dialog("open")});$("#referral_tweet_button").live("click",
function(){var f=escape($("#referral_share_message_text").val());window.open("http://twitter.com/share?text="+f+"&url=%20","Share this on Twitter","menubar=no,width=550,height=450,toolbar=no");_gaq.push(["_trackPageview","/virtual/referral/twitter/share_button_clicked"])});$("#old_tweet_button").live("click",function(){_gaq.push(["_trackPageview","/virtual/share_buttons/twitter/share_button_clicked"])});$("#free_workflowy_items, .free_items, .referralButton").live("click",function(){window.open(URL_PRE_PATH_FOR_PACKAGED_APPS+
"/referrals/");metrics.track("referrals:dialog_opened")});$("#facebookReferral").live("click",function(){b(function(){_gaq.push(["_trackPageview","/virtual/referral/facebook/feed_story_published"])});_gaq.push(["_trackPageview","/virtual/referral/facebook/share_button_clicked"])})}}}(),library=function(){var b=[{name:"Getting Started",youtubeid:"SOPYrxvojVo",slug:"starting"},{name:"Basics",youtubeid:"Haqx-rWV_ek",slug:"basics"},{name:"Zooming",youtubeid:"Hdini-H9faQ",slug:"zoom"},{name:"Tagging",
youtubeid:"1oWUD6y8Wzg",slug:"tag"},{name:"Starring",youtubeid:"E0ElhjtGoho",slug:"star"},{name:"Completing",youtubeid:"DZ6E9HTedgM",slug:"complete"},{name:"Collaboration",youtubeid:"OPcOgM9r_vY",slug:"collaborate"},{name:"Search",youtubeid:"AWKbj4kVS6s",slug:"search"},{name:"Move",youtubeid:"imUVGWglArQ",slug:"move"},{name:"Multi-select",youtubeid:"yCm2rNLhGp4",slug:"multi-select"},{name:"Delete",youtubeid:"0g5UkwWI2lc",slug:"delete"},{name:"Duplicate",youtubeid:"OVH5OM4aV5Y",slug:"duplicate"},{name:"Expand & Collapse",
youtubeid:"8Nw0hUP58q0",slug:"expand"},{name:"Import & Export",youtubeid:"sYW5h7iUp_I",slug:"import"},{name:"Indent",youtubeid:"45M5xU3J_-0",slug:"indent"},{name:"Print",youtubeid:"CYDKRLBzESY",slug:"print"},{name:"Undo",youtubeid:"J4IlOOZmTwg",slug:"undo"},{name:"Settings",youtubeid:"vvZcGKq0ptQ",slug:"settings"}],f,j={id:"#videoLibraryPlayer",player:null,width:400,height:225},h,g=true,o=function(){if(localstorage_helper.localStorageSupported()){var w=localstorage_helper.read("videoLibraryHistory");
if(w!==null)try{h=JSON.parse(w)}catch(t){localstorage_helper.remove("videoLibraryHistory");h=[]}}if(h===undefined)h=[]},k=function(){var w;$.each(b,function(t,x){if(h.indexOf(x.youtubeid)===-1){w=x;return false}});return w},r=function(){$("#helpWindow").dialog("open");_gaq.push(["_trackPageview","/virtual/how_to/opened_in_onboarding_tutorial"])},l=function(){$("#libraryContainer").height($("#libraryContainer > .contents").outerHeight()+15);var w=$("#libraryContainer").closest(".ui-dialog");if(w.is(":visible")){var t=
[w.outerWidth(),w.outerHeight()],x=[$(window).width(),$(window).height()],p={top:x[1]-t[1]-20,left:x[0]-t[0]-20};if(t[1]>x[1])p.top=20;w.css({top:p.top,left:p.left});return w}},c=function(w,t){t=t||false;d.load({book:w,play:t});$("#currentBook .bookName").html(w.name);$(".book").removeClass("active");$("#book"+w.youtubeid).addClass("active");f=w;$("#libraryContainer").scrollTop(0)},e=function(){var w=$("#libraryContainer"),t=$("#bookList > .content",w);$.each(b,function(x,p){var a=h.indexOf(p.youtubeid)!==
-1?"done":"";t.append('<a id="book'+p.youtubeid+'" class="book fancyButton '+a+'" href="#'+p.youtubeid+'" data-bookid='+x+">"+p.name+"</a> ")})},d=function(){var w;return{load:function(t){_.extend({play:false},t);w.load(t)},pause:function(){w.pause()},setStrategy:function(t){w=t}}}(),m=function(){function w(t){var x="https://youtube.com/embed/"+t.book.youtubeid,p="?rel=0&showinfo=0&wmode=transparent&fs=0&modestbranding=1";if(t.play)p+="&autoplay=1";t=$("<webview>");t.attr("src",x+p);t.css({width:j.width+
"px",height:j.height+"px"});$(j.id).html(t);g=false}return{load:w,pause:function(){return w({book:f,play:false})}}}(),s=function(){var w=false,t=function(){var p=false;return function(){if(!p){p=true;g&&FIRST_LOAD_FLAGS.isNewUser&&j.player.playVideo();g||j.player.cueVideoById(f.youtubeid);g=false}}}(),x=function(p){var a=$("#afterLibraryVideoCompleteBox");p.data===0?a.show():a.hide();if(p.data===1){p=f.youtubeid;if(h.indexOf(p)===-1){h.push(p);if(localstorage_helper.localStorageSupported()){a=JSON.stringify(h);
localstorage_helper.write("videoLibraryHistory",a)}$("#book"+p).addClass("done")}_gaq.push(["_trackPageview","/virtual/how_to/video/play/"+f.youtubeid])}};return{load:function(p){if(w)j.player.loadVideoById(p.book.youtubeid);else{p=document.createElement("script");p.src="//www.youtube.com/iframe_api";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(p,a)}},pause:function(){j.player.pauseVideo()},youTubeAPIReady:function(){w=true;j.player=new YT.Player($(j.id)[0],{height:j.height,
width:j.width,videoId:f.youtubeid,events:{onReady:t,onStateChange:x},playerVars:{autoplay:0,showinfo:0,theme:"light",rel:0,modestbranding:1,autohide:1,fs:0}})}}}();return{displayBooks:e,init:function(){if(!IS_MOBILE){IS_CHROME_APP?d.setStrategy(m):d.setStrategy(s);o();e();$(".book").live("click",function(){var w=$(this);w.addClass("done");w=b[w.data("bookid")];c(w,true);return false}).live("mousedown",function(){return false});$("#helpWindow").dialog({autoOpen:false,width:j.width+50,modal:false,title:"Help",
open:function(){if(g){var w=g&&FIRST_LOAD_FLAGS.isNewUser?true:false;c(k()||b[0],w)}l()},close:function(){d.pause();$("#helpButton").flashColor("#fff");getCurrentlyFocusedContentOrInput()===null&&focusFirstProject()}}).closest(".ui-dialog").css("position","fixed");$("#helpRadio span").click(function(){$("#helpWindow .pane").hide();$("#helpWindow .pane."+$(this).data("pane")).show();$("#helpRadio > span").removeClass("current");$(this).addClass("current");l()});$("#helpButton").click(function(){var w=
$("#helpWindow");w.dialog("isOpen")?w.dialog("close"):w.dialog("open")}).mousedown(function(){return false});if(FIRST_LOAD_FLAGS.showNewUserTutorial||FIRST_LOAD_FLAGS.newTutorial)FIRST_LOAD_FLAGS.newTutorial?onboardingGuide.init():r();$("#nextVideoButton").live("click",function(){c(k()||b[0],true)})}},videoHistory:h,startOnboardingTutorial:r,reposition:l,youTubeAPIReady:function(){s.youTubeAPIReady()}}}();function onYouTubeIframeAPIReady(){library.youTubeAPIReady()}
var onboardingGuide=function(){function b(){$("."+k).removeClass(k).next().addClass(k);f()}function f(){var r=$("."+o),l=$("."+k),c=r.length;r=r.index(l)+1;c=r/c;l=parseInt(c*100,10)+"%";$(".onboarding-guide__progress-bar__progress").css("width",l);$(".onboarding-guide__progress-bar__number").text(l);if(c===1){$(".onboarding-guide__button--next").removeClass("onboarding-guide__button--visible");$(".onboarding-guide__button--done").addClass("onboarding-guide__button--visible")}r===2&&$(".onboarding-guide").removeClass("onboarding-guide--center").addClass("onboarding-guide--right");
throw"You need to change the experiment name in library.onboardingGuide.trackStepInGA";}function j(){setTimeout(function(){$(".onboarding-guide").addClass("animate bounceInRight onboarding-guide--visible")},500)}function h(){$(".onboarding-guide").removeClass("bounceInRight").addClass("bounceOutRight")}function g(r){r.preventDefault()}var o="onboarding-guide__step",k=o+"--visible";return{init:function(){$(".onboarding-guide__button--next").live("click",b);$(".onboarding-guide__button--done").live("click",
h);$(".onboarding-guide__button").live("mousedown",g);f();j()}}}(),apphooks=function(){function b(g,o){if(o===undefined)o=null;var k=g+":";if(o!==null)k+="#iOS#"+o;var r=document.createElement("IFRAME");r.setAttribute("src",k);document.documentElement.appendChild(r);r.parentNode.removeChild(r)}function f(){return project_tree.getAllProjectTreesHelper().haveUnsavedData()}function j(){f()&&push_poll.scheduleNextPushAndPoll(true)}function h(){app_detect.isIOSApp()&&!f()&&!(APPCACHE_ENABLED&&appcache_helper.isCurrentlyDownloading())&&
app_detect.getIOSAppVersion()>=3&&b("ios-all-business-finished")}return{haveUnfinishedBusiness:function(){return f()||APPCACHE_ENABLED&&appcache_helper.isCurrentlyDownloading()},finishAllBusiness:function(){j()},shouldWaitForCustomDocumentReady:function(){return true},haveUnsavedChanges:f,saveImmediately:j,notifyDocumentReady:function(){app_detect.isIOSApp()&&app_detect.getIOSAppVersion()>=4&&b("ios-document-ready")},notifyThatAllChangesAreSaved:function(){if(app_detect.isIOSApp())app_detect.getIOSAppVersion()<
3?b("ios-all-changes-saved"):h()},notifyThatAppCacheIsNowCached:function(){if(app_detect.isIOSApp()){app_detect.getIOSAppVersion()>=3&&b("ios-app-cached");h()}},notifyThatAppCacheIsNowUncached:function(){app_detect.isIOSApp()&&app_detect.getIOSAppVersion()>=3&&b("ios-app-uncached")},notifyAppFocused:function(){app_detect.isIOSApp()&&windowFocusHandler()},notifyAppBlurred:function(){app_detect.isIOSApp()&&windowBlurHandler()},exitWhenBackgrounded:function(){app_detect.isIOSApp()&&app_detect.getIOSAppVersion()>=
5&&b("ios-exit-when-backgrounded")}}}(),ranges=function(){function b(g,o){for(var k=0;k<g.length;k++)if(g[k].equals(o))return true;return false}function f(g,o){var k=g.is(".project")&&o.is(".project");if(g.is(".childrenEnd")&&o.is(".childrenEnd")||k)return g.getProject().attr("projectid")===o.getProject().attr("projectid");return false}var j=Class.extend({init:function(g,o,k){if(o===undefined)o=null;if(k===undefined)k="none";this.movingOrDuplicatingProjectReferences=o;this.dragAction=k;this.ranges=
[];var r=".project";if(k==="move"||k==="duplicate")r+=", .childrenEnd";o=g.getMatchingDomProject();if(k==="move"&&IS_MOBILE){k=o.next(r);if(k.length===1&&g.isValidMove(k)){o.css({display:"none"});this.createElementRange(k,0)}else this.createElementRange(o,0)}else this.createElementRange(o,0)},getDragAction:function(){return this.dragAction},getMovingOrDuplicatingProjectReferences:function(){return this.movingOrDuplicatingProjectReferences},createElementRange:function(g,o){var k=new h(g,o,this);this.ranges.push(k);
return k},getRangeForPosition:function(g){for(var o;;){o=this.getClosestExistingRange(g);var k=o.getOffset();if(g<k.top){if(o.previous!==undefined||o.isFirst===true||o.createPrevious()===false)break}else if(g>k.top){if(o.next!==undefined||o.isLast===true||o.createNext()===false)break}else break}if(this.dragAction==="move"||this.dragAction==="duplicate")for(;b(this.movingOrDuplicatingProjectReferences,o.getProjectReference());){o.next===undefined&&o.createNext();o=o.next}return o},getRangesBetweenPositionAndStartInclusive:function(g){var o=
this.ranges[0],k=o.getElement().getName(),r=k.offset().top,l=k.outerHeight();k=r-5;r=r+l+5;if(g>=k&&g<r)return[];o=o.getOffset().top;l=this.getRangeForPosition(g);r=l.getOffset().top;if(g<k){if(g<r-14*(Math.max(l.getElementNumber()+3,0)/3)&&l.previous!==undefined){l=l.previous;k=l.getOffset().top;var c=k+l.getElement().outerHeight();if(g<c){l=l;r=k}}g=r;k=o}else{if(g<r+14*(Math.max(-l.getElementNumber()+1+3,0)/3)&&l.previous!==undefined){l=l.previous;r=l.getOffset().top}g=o;k=r}o=[];for(r=0;r<this.ranges.length;r++){l=
this.ranges[r];c=l.getOffset().top;c>=g&&c<=k&&o.push(l)}o.sort(function(e,d){var m=e.getOffset().top,s=d.getOffset().top;return m-s});return o},getClosestExistingRange:function(g){for(var o=null,k=-1,r=0;r<this.ranges.length;r++){var l=this.ranges[r],c=l.distanceFromPosition(g);if(o===null||c<k){o=l;k=c}}return o}}),h=Class.extend({init:function(g,o,k){var r=g.offset();this.element=g;this.elementNumber=o;this.verticalRangeFinder=k;this.offset=r;this.projectReference=project_tree.getProjectReferenceFromDomProject(g.getProject());
this.isValidDropPosition=this.height=this.width=null;this.creationTimestamp=date_time.getStrictlyIncreasingCurrentTimeInMS()},getElement:function(){return this.element},getElementNumber:function(){return this.elementNumber},getProjectReference:function(){return this.projectReference},getIsValidDropPosition:function(){if(this.isValidDropPosition===null){var g=this.verticalRangeFinder.getDragAction(),o=g==="move";g=g==="duplicate";for(var k=true,r=this.verticalRangeFinder.getMovingOrDuplicatingProjectReferences(),
l=0;l<r.length;l++){var c=r[l];if(o)k&=c.isValidMove(this.element);else if(g)k&=c.isValidDuplicate(this.element)}this.isValidDropPosition=k}return this.isValidDropPosition},getOffset:function(){return this.offset},getWidth:function(){if(this.width===null)this.width=this.element.outerWidth();return this.width},getHeight:function(){if(this.height===null)this.height=this.element.outerHeight();return this.height},getCreationTimestamp:function(){return this.creationTimestamp},distanceFromPosition:function(g){return Math.abs(g-
this.offset.top)},createPrevious:function(){var g=this.verticalRangeFinder.getDragAction();g=this.element.getPreviousProject(g==="move"||g==="duplicate");if(f(this.element,g)||g.is(".selected")){this.isFirst=true;return false}else{this.previous=g=this.verticalRangeFinder.createElementRange(g,this.elementNumber-1);g.next=this;return true}},createNext:function(){var g=this.verticalRangeFinder.getDragAction();g=this.element.getNextProject(false,g==="move"||g==="duplicate");if(f(this.element,g)){this.isLast=
true;return false}else{this.next=g=this.verticalRangeFinder.createElementRange(g,this.elementNumber+1);g.previous=this;return true}},equals:function(g){return this.projectReference.equals(g.projectReference)}});return{VerticalRangeFinder:j,DRAG_ACTION_NONE:"none",DRAG_ACTION_MOVE:"move",DRAG_ACTION_DUPLICATE:"duplicate"}}(),scrolling=function(){var b=Class.extend({init:function(f,j){this._clientX=f;this._clientY=j;this._timestamp=date_time.getCurrentTimeInMS()},getClientX:function(){return this._clientX},
getClientY:function(){return this._clientY},getTimestamp:function(){return this._timestamp}});return{createMoveEventDataFromMouseOrTouchMoveEvent:function(f){if(IS_MOBILE){f=f.originalEvent.touches[0];var j=IS_ANDROID?f.pageY-$(document).scrollTop():f.clientY;return new b(f.clientX,j)}else return new b(f.clientX,f.clientY)},VerticalScroller:Class.extend({init:function(f,j){this._getMostRecentMouseOrTouchMoveEventDataCallback=f;this._onScrollCallback=j;this._startingClientY=this._getMostRecentMouseOrTouchMoveEventDataCallback().getClientY();
this._haveScrolled=false;this._mostRecentScrollTimestamp=-1;this._mostRecentNewScrollTimestamp=null;this._isScrolling=false;this._previousScrollTop=this._requestAnimationFrameId=this._timeoutId=null},startOrStopScrollingIfNeeded:function(){this.getScrollSpeed()!==0?this.startScrollingIfNotAlreadyStarted():this.stopScrollingIfStarted()},startScrollingIfNotAlreadyStarted:function(){if(!this._isScrolling){this._isScrolling=true;this.scroll()}},stopScrollingIfStarted:function(){if(this._isScrolling){if(this._requestAnimationFrameId!==
null){dom_utils.cancelAnimationFrame(this._requestAnimationFrameId);this._requestAnimationFrameId=null}else if(this._timeoutId!==null){clearTimeout(this._timeoutId);this._timeoutId=null}this._isScrolling=false;this._mostRecentScrollTimestamp=-1}},getMaxScrollSpeed:function(){return IS_MOBILE?1E3:1250},getScrollSpeed:function(){var f=window.innerHeight?window.innerHeight:$(window).height(),j=f*0.15,h=this._getMostRecentMouseOrTouchMoveEventDataCallback().getClientY();f=f-h;var g=h<j&&(this._haveScrolled||
h<this._startingClientY),o=f<j&&(this._haveScrolled||h>this._startingClientY),k=this.getMaxScrollSpeed(),r=function(c){c=1-c/j;c=Math.max(Math.min(c,1),0);return k*Math.pow(c,2)},l=0;if(g)l=-r(h);else if(o)l=r(f);return Math.round(l)},scroll:function(){var f=this.getScrollSpeed();if(f===0)this.stopScrollingIfStarted();else{var j=date_time.getCurrentTimeInMS();f=Math.round(f*(this._mostRecentScrollTimestamp!==-1?(j-this._mostRecentScrollTimestamp)/1E3:0));var h=$(document).scrollTop();$(document).scrollTop(h+
f);this._mostRecentScrollTimestamp=j;if(this._previousScrollTop===null||h!==this._previousScrollTop)this._mostRecentNewScrollTimestamp=j;this._previousScrollTop=h;this._haveScrolled=true;var g=this;j=function(){g.scroll()};if(dom_utils.supportsRequestAnimationFrame())this._requestAnimationFrameId=dom_utils.requestAnimationFrame(j);else this._timeoutId=setTimeout(j,16);this._onScrollCallback()}},getMostRecentNewScrollTimestamp:function(){return this._mostRecentNewScrollTimestamp}})}}(),moving=function(){function b(A,
y,C){setTimeout(function(){if(k!==null){k=null;y.unbind(".cancelDrag");var z=getCurrentlyFocusedContent();getCurrentlyFocusedContent()!==null&&z.blur();f(y,C,C,scrolling.createMoveEventDataFromMouseOrTouchMoveEvent(A))}},0)}function f(A,y,C,z,D,E,G){if(D===undefined)D=null;if(E===undefined)E=false;if(G===undefined)G=false;var H=project_tree.getProjectReferenceFromDomProject(y),O=[];C.each(function(){var M=$(this);O.push(project_tree.getProjectReferenceFromDomProject(M))});p=A;r=H;l=O;c=E;e=G;t=z.getClientX();
w=z.getClientY();x=z;if(D!==null){y=D.offset();a=D;a.css({position:"fixed",top:y.top-(D.is(".bullet")?parseInt(D.css("marginTop")):0)-$(document).scrollTop(),left:y.left});a.addClass("dragging");C.addClass("moving")}else{D=y.getName();A=D.offset();q=D.clone().addClass("draggableNameClone").css({position:"fixed",top:A.top-$(document).scrollTop(),left:A.left,width:D.outerWidth(),zIndex:1E3,fontSize:D.css("fontSize"),lineHeight:D.children(".content").css("lineHeight")}).appendTo("#documentView");y.is(".task")&&
q.addClass("noHalo");q.children(".content").removeAttr("contenteditable");D.css({opacity:0});C.css({height:0});C.children(".children").css({display:"none"})}IS_MOBILE||ui_sugar.setPageCursor("grabbing");d=new ranges.VerticalRangeFinder(r,l,e?ranges.DRAG_ACTION_DUPLICATE:ranges.DRAG_ACTION_MOVE);s=new scrolling.VerticalScroller(function(){return x},function(){g()});$("#moveDropLine").appendTo($("#documentView"));h();g();s.startOrStopScrollingIfNeeded();IS_MOBILE?p.bind("touchmove.dragging",function(M){x=
scrolling.createMoveEventDataFromMouseOrTouchMoveEvent(M);s.startOrStopScrollingIfNeeded();h();g();return false}).bind("touchend.dragging",function(){j();return false}).bind("touchcancel.dragging",function(){j(true)}):p.bind("mousemove.dragging mouseleave.dragging",function(M){x=scrolling.createMoveEventDataFromMouseOrTouchMoveEvent(M);s.startOrStopScrollingIfNeeded();h();g()}).bind("mouseup.dragging",function(){j();return false});if(IS_MOBILE)n=setInterval(function(){var M;M=date_time.getCurrentTimeInMS()-
s.getMostRecentNewScrollTimestamp();M=date_time.getCurrentTimeInMS()-x.getTimestamp()>5E3&&M>5E3?true:false;M&&j(true)},1E3);o=DRAG_MODE=true}function j(A){if(A===undefined)A=false;s.stopScrollingIfStarted();$("#itemSelectionControls").css("visibility","");var y=project_tree.getMatchingDomProjectsForProjectReferences(l);if(y.length>0){y.removeClass("moving");y.removeAttr("style");y.children(".name").removeAttr("style");y.children(".children").removeAttr("style");if(!A&&m!==null){A=m.getElement();
if(e){undo_redo.startOperationBatch();y.duplicateIt(A,c);undo_redo.finishOperationBatch()}else if(y.filter(A).length===0&&y.filter(A.getPreviousSibling()).length===0){undo_redo.startOperationBatch();y=y.moveProjects(A);undo_redo.finishOperationBatch()}event_tracker.track("moved")}if(!e){A=IS_MOBILE?250:500;y.addClass("moving");setTimeout(function(){y.removeClass("moving")},A)}}$("#moveDropLine").removeAttr("style").appendTo($("#hidden"));if(q!==null)q.remove();else if(a!==null){a.removeAttr("style");
a.removeClass("dragging");a.is(".bullet")||$("#hidden").append(a)}IS_MOBILE||ui_sugar.clearPageCursor();p.unbind(".dragging");o=DRAG_MODE=false;if(n!==null){clearInterval(n);n=null}a=q=p=x=w=t=m=s=d=e=c=l=null}function h(){var A=null,y={x:0,y:0};if(q!==null){A=q[0];y=u}else if(a!==null)A=a[0];var C=a!==null?x.getClientX()-t:0,z=x.getClientY()-w;if(A!==null)if(IS_IE&&IE_VERSION<=9)A.style.msTransform="translate("+(C-y.x)+"px,"+(z-y.y)+"px)";else A.style.transform=A.style.webkitTransform=A.style.MozTransform=
"translate3d("+(C-y.x)+"px,"+(z-y.y)+"px,0)"}function g(){var A=x.getClientY()+$(document).scrollTop();if(q!==null)A-=u.y;A=d.getRangeForPosition(A);if(A.getIsValidDropPosition()){var y=A.getOffset();$("#moveDropLine").css({top:y.top,left:y.left,width:A.getWidth(),display:"block"});m=A}}var o=false,k=null,r=null,l=null,c=null,e=null,d=null,m=null,s=null,w=null,t=null,x=null,p=null,a=null,q=null,n=null,u={x:5,y:2},v=0;return{init:function(){if(IS_ANDROID&&IS_CHROME&&dom_utils.supportsRequestAnimationFrame()){var A=
date_time.getCurrentTimeInMS(),y=function(){var C=date_time.getCurrentTimeInMS();v=C-A;A=C;dom_utils.requestAnimationFrame(y)};dom_utils.requestAnimationFrame(y)}},isMoving:function(){return o},setupMobileDragging:function(A){if(!(IS_ANDROID&&!IS_CHROME))if(k===null){if(IS_ANDROID&&IS_CHROME)if(v>=200)return;var y=$(this),C=y.getProject(),z=project_tree.getProjectReferenceFromDomProject(C);if(!(C.is(".selected")||getCurrentlyFocusedContentOrInput()!==null||y.closest(".name").length===0||z.isInReadOnlyTree()||
$(A.target).closest(".contentTag, .contentLink").length!==0)){k=setTimeout(function(){b(A,y,C)},500);y.bind("touchmove.cancelDrag touchend.cancelDrag",function(){if(k!==null){clearTimeout(k);k=null}y.unbind(".cancelDrag")})}}},startDesktopDragging:function(A,y,C,z,D){blurFocusedContentOrInput();hideControls();var E=$(C.target);if(z||D){var G=$("#bulletBucket");G.html("");for(var H=Math.min(y.find(".bullet").length,5),O=0;O<H;O++)G.append($('<div class="bulletBucketBullet"></div>'));$("#documentView").append(G);
G.offset(E.offset());E=G}else E=E;z&&$("#itemSelectionControls").css("visibility","hidden");f($(window),A,y,scrolling.createMoveEventDataFromMouseOrTouchMoveEvent(C),E,z,D)},cancelDragging:function(){o&&j(true)},notifyDomProjectTreeMayHaveChanged:function(){if(o)if(r.getMatchingDomProject().length===0||project_tree.getMatchingDomProjectsForProjectReferences(l).length===0)j(true);else{d=new ranges.VerticalRangeFinder(r,l,e?ranges.DRAG_ACTION_DUPLICATE:ranges.DRAG_ACTION_MOVE);m=null;g()}}}}(),messages=
function(){function b(){var k=f().filter(".onboarding");if(k.length===0)return null;if(h()===o)return k.first();var r,l;for(i=0;i<k.length;i++){l=k.eq(i);if(l.data("messageid")===h()){r=i+1;break}}k=k.eq(r);if(k.length!==0)return k;return null}function f(){return $("#site_message > .message").filter("[data-channel="+g()+"]")}function j(){var k=JSON.parse(SETTINGS.last_seen_message_json_string.value);if(k[g()]===undefined)k[g()]={};return k}function h(){lastSeenMessageJSON=j();if(lastSeenMessageJSON.do_not_show===
true)return"do_not_show";return lastSeenMessageJSON[g()].messageid||null}function g(){return IS_MOBILE?"mobile":"desktop"}var o="first_time_use";return{init:function(){var k;if(FIRST_LOAD_FLAGS.isNewUser)k=o;else{k=!FIRST_LOAD_FLAGS.isNewUser&&h()===null;var r=b();if(r===null||k){k=f().not(".onboarding").first();r=k.length>0&&h()!=="do_not_show"&&k.data("messageid")!==h()?k:null}k=r===null?null:r.data("messageid")}if(k!==null){r=$(".message[data-messageid="+k+"]");if(r.length!==0)if(r.hasClass("message--popup"))r.dialog({title:"Announcement",
width:600});else{f().removeClass(".current");r.addClass("current");$("#site_message").slideDown()}k=k;r=j();r[g()].messageid=k;k=JSON.stringify(r);settings.changeSettings({last_seen_message_json_string:k})}}}}(),saved_views=function(){function b(F){if(F===undefined)F=false;if(!(M===null||!M)){t=h(SETTINGS.saved_views_json.value);if(t===null)t=[];if(!F){d();z&&l()}}}function f(){O!==null&&clearTimeout(O);O=null}function j(F){F=$(F.target);F.closest("#savedViewHUD").length===1||F.closest(".pageStar").length===
1||F.closest("#savedViewHUDButton").length===1||r()}function h(F){var K=null;try{K=JSON.parse(F)}catch(I){return null}F=[];for(var P=0;P<K.length;P++)F.push(new aa(K[P]));return new X(F)}function g(){var F=project_tree.getProjectReferenceFromDomProject(selectOnActivePage(".selected")),K=F.getNonPlaceholderReferenceIfApplicable(),I=K!==null?K:F;F=search.inSearchMode()?search.getSearchQuery().getSearchString():null;K={projectid:I.isTreeRoot()?null:I.getProjectId()};I=I.getProjectTree();if(I.isAuxiliary())K.auxiliaryRootProjectId=
I.getRootProjectId();K={zoomedProject:K};if(F!==null)K.searchQuery=F;F=new aa(K);F.notifyWasJustViewed();return F}function o(F){if(F===undefined)F=false;var K=animations.getAnimationSpeed(W);if(animations.animationsAreInProgress())F&&r();else{var I=a;if(I===null||!I.isValid())F&&r();else{var P=g();if(I.equals(P))F&&r();else{var V;V=v!==null&&v.equals(I)?A==="right"?"left":"right":p.getSwitchDirection(P,I);v=P;A=V;var fa=I.getZoomedProjectReferenceIfValid(),da=I.getSearchString();selectOnActivePage(".mainTreeRoot").clearControlsUnderProject();
item_select.clearItemSelection();var ea=$(window).scrollTop(),B=$("body");B.height();P=function(){$(".page:not(.active)").hideWithoutMemoryLeaks().remove();$(".page.active").removeAttr("style");B.removeAttr("style");fa.setPageTitleAndFragmentPathForProject();location_history.setLocationModificationInProgress(false);F&&r();if(!location_history.restoreLastSavedClientViewStateForCurrentLocation()){$(window).scrollTop(0);if(!IS_MOBILE){var Z=selectOnActivePage(".selected"),S=Z.getVisibleChildren().first();
if(S.length===0)S=Z.is(".mainTreeRoot")?null:Z;S!==null&&S.getName().moveCursorToBeginning()}}};var J=$(".page.active");J.removeClass("active");J.find(".content").removeAttr("contenteditable");var L=createPage();L.addClass("active");CURRENTLY_ACTIVE_PAGE=L;shouldShowCompletedProjects()&&L.addClass("showCompleted");location_history.setLocationModificationInProgress(true);search.searchProjectTree(da,true,fa,true);fa.constructProjectTreeAsSelected();m(true);if(K==="animate"){K=location_history.getLastSavedScrollPositionForLocation(I.getLocation());
if(K===null)K=0;B.css({"overflow-x":"hidden"});I=$(window).width();da=L.outerWidth();var N=(I-da)/2+da,R=J.offset();if(V==="right"){var T="-";V=""}else{T="";V="-"}ea={position:"absolute",top:K-ea,left:0,width:J.css("width"),marginLeft:R.left,marginRight:I-(R.left+da)};J.css(ea);ea={};if(Q)ea.left=V+N+"px";else ea.transform="translate("+V+N+"px, 0px)";L.css(ea);$(window).scrollTop(K);animations.getAnimationCounter().addCallback(P);if(Q){L.incrementAnimationCounter().animate({left:"0px"},animations.getAnimationTiming("pageSlide"),
function(){animations.getAnimationCounter().decrement()});U||J.incrementAnimationCounter().animate({left:T+N+"px"},animations.getAnimationTiming("pageSlide"),function(){animations.getAnimationCounter().decrement()})}else{var Y=function(){L.incrementAnimationCounter().transition({x:"0px"},animations.getAnimationTiming("pageSlide"),function(){animations.getAnimationCounter().decrement()});U||J.incrementAnimationCounter().transition({x:T+N+"px"},animations.getAnimationTiming("pageSlide"),function(){animations.getAnimationCounter().decrement()})};
if(IS_FIREFOX){animations.getAnimationCounter().increment();dom_utils.executeAfterRepaint(function(){Y();animations.getAnimationCounter().decrement()})}else Y()}}else P()}}}}function k(F,K){if(F===undefined)F=null;if(K===undefined)K=null;if(F!==null)q=F;if(K!==null)n=K;D=true;if(!(z||y||C)){var I=$("#savedViewHUD");I.css({opacity:0});I.show();l(n);u=false;y=true;I.animate({opacity:1},100,function(){y=false;if(D)q&&!(!H&&(E||G))&&o(true);else r()});z=true;$("body").bind("click",j)}}function r(F){if(F===
undefined)F=false;if(!F)if(!H&&(E||G))return;D=false;f();if(!(!z||y||C)){var K=$("#savedViewHUD"),I=K.find("#savedViewHUDPageContainer");C=true;K.animate({opacity:0},400,function(){C=false;I.html("");K.hide();z=false;a=p=null;u=false;D&&k()});$("body").unbind("click",j)}}function l(F){if(F===undefined)F="none";var K=g(),I=t.copy();I=I.getValidViews();I.getLength()>0&&x!==null&&x.isValid()&&I.add(x);I.sortByMostRecentlyViewed();p=I;a=p.getNextView(K,F);F=$("#savedViewHUD").find("#savedViewHUDPageContainer");
if(p.getLength()>0){K=p.getPageListHtml(a);F.html(K)}else{K=$("#noSavedViewsNoticeTemplate").html();F.html(K)}c("instant",true)}function c(F,K){if(K===undefined)K=false;F=animations.getAnimationSpeed(F);var I=$("#savedViewHUD");K&&I.scrollLeft(0);var P=I.find(".savedViewPage.selectedSavedViewPage");if(P.length===1){var V=I.width(),fa=I[0].scrollWidth,da=I.scrollLeft(),ea=da+V,B=P.outerWidth(true),J=P.position().left;B=J+B;var L=null;if(J<da){V=P.prev(".savedViewPage");L=V.length===1?V.position().left+
V.outerWidth(true)*(2/3):0}else if(B>ea){P=P.next(".savedViewPage");L=(P.length===1?P.position().left+P.outerWidth(true)*(1/3):fa)-V}if(L!==null)F==="animate"?I.animate({scrollLeft:L},150):I.scrollLeft(L)}}function e(F,K){if(K===undefined)K=null;if(K!==null)a=K;else{if(a===null)a=g();a=p.getNextView(a,F)}var I=$("#savedViewHUD");I.find(".savedViewPage.selectedSavedViewPage").removeClass("selectedSavedViewPage");if(a!==null){I=I.find(".savedViewPage[data-uniqueid="+a.getUniqueId()+"]");if(I.length===
1){I.addClass("selectedSavedViewPage");c()}}}function d(){var F=selectOnActivePage(".pageStar"),K=g();if(t.contains(K)){F.addClass("starred");F.attr("title","Unstar this page")}else{F.removeClass("starred");F.attr("title","Star this page")}}function m(F){if(F===undefined)F=false;if(M){var K=g(),I=t.getMatchingView(K);K=I!==null?I:K;I=I!==null;d();if(I){K.notifyWasJustViewed();F||(x=null)}else x=K}}function s(F){if(M)!z||C?k(true,"none"):e(F)}function w(){function F(){settings.changeSettings({saved_views_json:t.getJson()})}
var K=selectOnActivePage(".pageStar").hasClass("starred"),I=g();if(K){t.remove(I);F();d();z&&l()}else{t.add(I);F();d();if(x!==null&&x.equals(I))x=null;if(z&&!C)l();else{k(false,"none");f();O=setTimeout(r,1500)}$("#savedViewHUDButton").flashColor("#aaa")}}var t=null,x=null,p=null,a=null,q=null,n=null,u=false,v=null,A=null,y=false,C=false,z=false,D=false,E=false,G=false,H=false,O=null,M=null,Q=false,W="animate",U=false,aa=Class.extend({init:function(F){this.info=F;this.lastViewedTimestampInMS=0;var K=
F.zoomedProject;this.location=new location_history.Location(K.projectid===null?project_tree.ROOT_PROJECTID:K.projectid,"searchQuery"in F?F.searchQuery:null,"auxiliaryRootProjectId"in K?K.auxiliaryRootProjectId:null)},getInfo:function(){return this.info},getLocation:function(){return this.location},isValid:function(){return this.getZoomedProjectReferenceIfValid()!==null},getZoomedProjectReferenceIfValid:function(){var F=project_tree.getProjectTreeByRootProjectId(this.location.getProjectTreeRootProjectId());
if(F===null)return null;F=F.getProjectReferenceByProjectId(this.location.getZoomedProjectId());if(!F.isValid())return null;return F=F.getPlaceholderReferenceIfApplicable()},getSearchString:function(){return this.location.getSearchString()},equals:function(F){if(F===null)return false;return this.location.equals(F.location)},getPageHtml:function(F){var K=this.getZoomedProjectReferenceIfValid();K=K.isMainTreeRoot()?"Home":K.getName();var I=this.getSearchString();return'<div class="savedViewPage '+(this.equals(F)?
"selectedSavedViewPage":"")+'" data-uniqueid="'+this.getUniqueId()+'"><div class="savedViewPageInnerContainer"><div class="savedViewPageName">'+content_text.getHtml(K)+'</div><div class="savedViewPageSearchStringContainer"><span class="savedViewPageSearchString">'+html_utils.htmlEscapeText(I)+'</span></div></div><div class="savedViewPageFader"></div></div>'},getUniqueId:function(){return this.location.getUniqueId()},getLastViewedTimestamp:function(){return this.lastViewedTimestampInMS},setLastViewedTimestamp:function(F){this.lastViewedTimestampInMS=
F},notifyWasJustViewed:function(){var F=date_time.getCurrentTimeInMS();this.lastViewedTimestampInMS=F;if(userstorage.isEnabled()){var K=userstorage.readJSON("savedViewLastViewedTimestamps")||{};K[this.location.getUniqueId()]=F;userstorage.writeJSON("savedViewLastViewedTimestamps",K)}}}),X=Class.extend({init:function(F){this.viewList=F},getLength:function(){return this.viewList.length},contains:function(F){return this.indexOf(F)!==-1},getViewByIndex:function(F){return this.viewList[F]},getMatchingView:function(F){F=
this.indexOf(F);return F!==-1?this.viewList[F]:null},indexOf:function(F){for(var K=0;K<this.viewList.length;K++)if(this.viewList[K].equals(F))return K;return-1},copy:function(){return new X(utils.copyArray(this.viewList))},add:function(F){if(this.contains(F))return false;this.viewList.push(F);return true},remove:function(F){F=this.indexOf(F);if(F===-1)return false;this.viewList.splice(F,1);return true},getValidViews:function(){for(var F=[],K=0;K<this.viewList.length;K++){var I=this.viewList[K];I.isValid()&&
F.push(I)}return new X(F)},getNextView:function(F,K){var I=this.indexOf(F);if(this.viewList.length===0)return null;var P;switch(K){case "none":P=I===-1?0:I;break;case "left":P=I===-1||I===0?this.viewList.length-1:I-1;break;case "right":P=I===-1||I===this.viewList.length-1?0:I+1}return this.viewList[P]},getSwitchDirection:function(F,K){if(F===null)return"right";var I=this.indexOf(F);if(I===-1)return"right";return this.indexOf(K)<I?"left":"right"},getViewByUniqueId:function(F){for(var K=0;K<this.viewList.length;K++){var I=
this.viewList[K];if(I.getUniqueId()===F)return I}return null},sortByMostRecentlyViewed:function(){this.viewList.sort(function(F,K){var I=F.getLastViewedTimestamp(),P=K.getLastViewedTimestamp();return I<P?1:P<I?-1:F.getUniqueId()<K.getUniqueId()?-1:1})},generateDiff:function(F){var K=new X([]);F=F.copy();for(var I=0;I<this.viewList.length;I++){var P=this.viewList[I];F.remove(P)||K.add(P)}I={};if(F.getLength()>0)I.added=F;if(K.getLength()>0)I.removed=K;return I},getViewInfoList:function(){for(var F=
[],K=0;K<this.viewList.length;K++)F.push(this.viewList[K].getInfo());return F},getPageListHtml:function(F){for(var K="",I=0;I<this.viewList.length;I++)K+=this.viewList[I].getPageHtml(F);return K},getJson:function(){return JSON.stringify(this.getViewInfoList())}});jQuery.fn.transitionOrAnimate=function(F,K,I){var P=$(this);$.support.transition?P.transition(F,K,I):P.animate(F,K,I)};return{init:function(){if(M=!IS_MOBILE&&!project_tree.getMainProjectTree().isShared()){b(true);if(userstorage.isEnabled()){var F=
userstorage.readJSON("savedViewLastViewedTimestamps")||{},K;for(K in F){var I=F[K],P=t.getViewByUniqueId(K);P!==null&&P.setLastViewedTimestamp(I)}}$(".savedViewPage").live("click",function(){var V=$(this);V=p.getViewByUniqueId(V.attr("data-uniqueid"));if(V!==null){e(null,V);setTimeout(o,0)}}).live("contextmenu",function(){return false});$(".page.active .pageStar").live("click",function(){w()}).live("contextmenu",function(){return false});$("#savedViewHUDButton").bind("click",function(){D?r(true):
k(false,"none");return false}).mousedown(function(){return false});$("#savedViewHUD").bind("mouseenter",function(){f()}).bind("mouseleave",function(){r()}).bind("mousemove",function(){u=true}).bind("mousedown",function(){return false})}},registerSettingChange:b,generateViewListJsonDiff:function(F,K){var I=h(F),P=h(K);I=I.generateDiff(P);P={};if("added"in I)P.added=I.added.getViewInfoList();if("removed"in I)P.removed=I.removed.getViewInfoList();return JSON.stringify(P)},HUDIsVisible:function(){return z},
hideIfModifierNotPressed:function(){if(O===null)!H&&(E||G)||r()},notifyViewChanged:m,pretendModifierKeysNotPressedUntilTheyAreReleased:function(){H=true},updateModifierKeyStatus:function(F,K){if(M){var I=!E&&!G;E=F;G=K;var P=!E&&!G;if(!I&&P)if(H)H=false;else{if(I=z){if(I=!(y||C)){if(!(I=!u)){I=$("#savedViewHUD").find(".savedViewPage.selectedSavedViewPage");I=!(I.length===1&&I.prev(".savedViewPage").length===0)}I=I}I=I}I&&o(true)}}},switchToSelectedViewIfAppropriate:function(){z&&!(y||C)&&o()},switchLeft:function(){s("left")},
switchRight:function(){s("right")},toggleCurrentViewSaved:w}}(),video=function(){jQuery.fn.convertVideoPlaceholders=function(){var b=$(this);b.find(".videoPlaceholder").each(function(){var f=$(this);if(IS_CHROME_APP)var j=$("<webview />");else IS_MOBILE||(j=$('<iframe frameborder="0" allowfullscreen />'));var h=f.data(),g;for(g in h)j.attr(g,h[g]);f.replaceWith(j)});return b}}(),experiments=function(){function b(f){return f in EXPERIMENTS&&EXPERIMENTS[f].group==="test"}return{init:function(){b("weekly_report")&&
weekly_report.init()},enabled:b,getExperimentsStringForGoogleAnalytics:function(){var f=[];for(experimentName in EXPERIMENTS){var j=EXPERIMENTS[experimentName],h="code"in j?String(j.code):experimentName;j=j.group.charAt(0);f.push(h+"="+j)}return":"+f.join(":")+":"}}}(),upgrade_warning=function(){function b(){ui_sugar.showAlertDialog('<h1>Please upgrade your browser</h1><p>WorkFlowy no longer supports editing in Internet Explorer 8. Please upgrade to one of the following: <a href="http://google.com/chrome">Google Chrome</a>, <a href="http://getfirefox.com">Firefox</a>, <a href="http://windows.microsoft.com/en-us/internet-explorer/ie-11-worldwide-languages">Internet Explorer 11</a>. Sorry for the inconvenience.</p>')}
function f(){ui_sugar.showAlertDialog("<h1>Please upgrade iOS</h1><p>WorkFlowy no longer supports editing in iOS versions older than 6.</p>")}return{init:function(){if(IS_IE&&IE_VERSION<9)b();else if(IS_IOS&&IOS_VERSION<6)f();else if(IS_IOS&&!app_detect.isIOSApp()&&IOS_VERSION<8){var j=project_tree.getMainProjectTree();if(!(j.isShared()&&j.isReadOnly())){j.isShared()||$("#ios-browser-editing-notice .install-app-section").css("display","block");ui_sugar.showAlertDialog($("#ios-browser-editing-notice").html())}}},
testWarnings:function(){b();f()}}}(),metrics=function(){return{track:function(b,f){IS_PACKAGED_APP||amplitude.logEvent(b,f);user.isLoggedIn()&&$.post("/metrics/track/",{event_name:b})},identify:function(b){IS_PACKAGED_APP||amplitude.setUserId(b)},setUserProperties:function(b){IS_PACKAGED_APP||amplitude.setUserProperties(b)},setupGoogleAnalyticsForChromeApp:function(){window.gaService=analytics.getService("workflowy_chrome_app");window.gaTracker=gaService.getTracker("UA-11472180-1");gaTracker.sendAppView("WorkFlowy Chrome App")},
usagePing:function(){var b=$("body").hasClass("shared"),f=project_tree.getMainProjectTree().getStats();f.items=utils.convertToOrderOfMagnitudeNumber(f.items);f.completed=utils.convertToOrderOfMagnitudeNumber(f.completed);var j=user.timeSinceJoin();_.each(j,function(h,g,o){o[g]=utils.convertToOrderOfMagnitudeNumber(h)});b={isShared:b,isLoggedIn:user.isLoggedIn()};b=_.extend(b,f,j);userProperties=_.extend(j,{joinDate:user.joinDateAsInteger()},f);metrics.setUserProperties(userProperties);metrics.track("Usage Ping",
b)}}}(),weekly_report=function(){var b={init:function(){this.shouldShowReport()&&this.setupAndShow()},setupAndShow:function(){this.setupEvents();this.setWeeksActive();this.fetchAndPopulate();this.show()},shouldShowReport:function(){var f=new Date-new Date("2014-10-27")>0,j=project_tree.getMainProjectTree().isShared(),h=this.getWeeksActive()>0;if(!f||j||!h)return false;f=this.daysBeforeNow(this.getLastSeen());if((new Date).getDay()===1)return f>2;if(f>6)return true;return false},setupEvents:function(){IS_CHROME_APP&&
this.listenForFilterEvent()},listenForFilterEvent:function(){$(".weekly-report__filter-link").live("click",function(f){f=$(f.target);f.data("query")&&search.setSearchBoxAndSearch(f.data("query"))})},setWeeksActive:function(){var f=this.getWeeksActive(),j=" weeks";if(f===1)j=" week";$(".js-weekly-report__weeks-active").text(f+j)},fetchAndPopulate:function(){var f=this;$.get("/user_stats/week/",function(j){f.populate(j)})},show:function(){$(".weekly-report").dialog({width:500});localstorage_helper.write("last-weekly-report",
(new Date).getTime())},getLastSeen:function(){var f=new Date(LAST_WEEKLY_REPORT),j=localstorage_helper.read("last-weekly-report"),h=new Date(j);return j===null||h<f?f:h},daysBeforeNow:function(f){f=(new Date).getTime()-f.getTime();return Math.round(f/this.dayInMilliseconds)},dayInMilliseconds:864E5,weekInMilliseconds:6048E5,getWeeksActive:function(){var f=this.daysBeforeNow(new Date(COHORT));return Math.round(f/7)},populate:function(f){var j=this;$.each(f,function(h,g){j.addStat(h,g)})},addStat:function(f,
j){$(".js-weekly-report__"+f).text(j)}};return{init:function(){IS_MOBILE||b.init()},show:function(){b.setupAndShow()}}}(),file_system_helper=function(){function b(o){h!==null?o():f(function(k){window.requestFileSystem(window.PERSISTENT,k,function(r){h=r;o()},j)})}function f(o){window.webkitStorageInfo.requestQuota(PERSISTENT,g,function(k){o(k)},j)}function j(o){utils.debugMessage("Error:",o.name,",",o.message)}window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem;var h=
null,g=10485760;return{readInitializationData:function(o){b(function(){h.root.getFile("initializationData.json",{create:true},function(k){k.file(function(r){var l=new FileReader;l.onloadend=function(){this.result.length>0?o(JSON.parse(this.result),1E3):o(undefined,null)};l.readAsText(r)},j)},j)})},writeInitializationData:function(o){b(function(){h.root.getFile("initializationData.json",{create:true},function(k){var r=new Date;k.createWriter(function(l){l.onwriteend=function(){utils.debugMessage("Write duration (ms): ",
new Date-r)};l.onerror=function(e){utils.debugMessage("Write failed: "+e.toString())};var c=new Blob([o],{type:"text/json"});l.write(c)},j)},j)})}}}(),images=function(){var b=function(){return{urlIsImage:function(h){return h.match(/\.(jpeg|jpg|gif|png)$/i)!=null},addThumbToLink:function(h){h=$(h);var g=h.attr("href");g=j.getImageUrl(g,{width:30,height:30,crop:"fill",gravity:"faces"});var o;o=0;var k,r,l;if(g.length!=0){k=0;for(l=g.length;k<l;k++){r=g.charCodeAt(k);o=(o<<5)-o+r;o|=0}}o=o;o="imgClass"+
o;h.append("<style> ."+o+"::after{ background-image: url("+g+"); }</style>").addClass("contentLink--image").addClass(o);return h[0].outerHTML}}}(),f=function(){function h(g){function o(l){return _.map(l,function(c){return'<div class="contentPreviewImageContainer"><img class="contentPreview" src="'+c.cdn+'" /><br /><a class="contentPreviewSourceLink" href="'+c.original+'" target="_blank">'+c.original+"</a></div>"}).join(" ")}function k(l){l=g.urls.slice(0,l.length);var c=o(l);l=$("<div>").css("opacity",
0);l.append(c);$(".contentPreviewPane").append(l);c=l[0].scrollHeight;l.remove();l=o(g.urls);$(".contentPreviewContainer").html(l);$(".contentPreviewScroller").scrollTop(c)}function r(l){var c=[],e=0,d=function(){};l.length===0&&setTimeout(function(){d([])},0);l=typeof l!="object"?[l]:l;for(var m=0;m<l.length;m++){c[m]=new Image;c[m].src=l[m];c[m].onload=function(){e++;e==l.length&&d(c)};c[m].onerror=function(){e++;e==l.length&&d(c)}}return{done:function(s){d=s||d}}}(function(){r([g.urls[g.startIndex].cdn]).done(function(){var l=
'<div class="contentPreviewPane"><div class="contentPreviewPane__bg"></div><div class="contentPreviewScroller"><div class="contentPreviewContainer">'+o([g.urls[g.startIndex]])+"</div></div></div>";$("body").append(l);l=_.map(g.urls.slice(0,g.startIndex),function(c){return c.cdn});r(l).done(k)})})()}(function(){$(".contentPreviewImageContainer").clickOrTapHandler({event:function(g){if($(g.target).is(".contentPreviewImageContainer")){g.preventDefault();$(".contentPreviewPane").remove()}},neverPreventScrolling:true,
cancelTapOnMove:true})})();return{handleImageLinkClick:function(g){var o={},k=g[0];g=$(".contentLink--image");_.each(g,function(r,l){if(r===k){o.startIndex=l;return false}});o.urls=g.map(function(r,l){var c=$(l).attr("href");return{original:c,cdn:j.getImageUrl(c,{crop:"limit",width:window.innerWidth*0.9})}});h(o)}}}(),j=function(){return{getImageUrl:function(h,g){if(!g)return"https://res.cloudinary.com/demo/image/fetch/"+h;var o="https://res.cloudinary.com/demo/image/fetch/",k=_.map(g,function(r,
l){return{height:"h",width:"w",crop:"c",gravity:"g"}[l]+"_"+r}).join(",");o+=k+"/"+h;return o}}}();return{thumbs:b,preview:f}}();user=function(){return{isLoggedIn:function(){return USER_ID!=="-1"},timeSinceJoin:function(){var b=Math.floor((new Date-new Date(COHORT))/1E3/60/60/24);return{timeSinceJoinDays:b,timeSinceJoinWeeks:Math.floor(b/7),timeSinceJoinMonths:Math.floor(b/30)}},joinDateAsInteger:function(){return parseInt(COHORT.split("-").join(""),10)}}}();allJSFinishedLoadingCallback();
Õ
"r1stu_application/javascript_Jhttps://platform.twitter.com/js/button.b059c0eb61ea902a882e5c5b3c66a17a.jsOØbplist00ÔjkX$versionX$objectsY$archiverT$top † ¯ #)*0123MNOPQRSTUVWXYZ[\]^_`adeU$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_Jhttps://platform.twitter.com/js/button.b059c0eb61ea902a882e5c5b3c66a17a.jsÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùph( ÈÓ456ALWNS.keysZNS.objectsª789:;<=>?@€	€
€€€€€€€€ªBCDEFGHIJK€€€€€€€€€€€VServer\Content-TypeWX-Cache]Last-ModifiedSP3PTDate]Accept-Ranges^Content-Length]Cache-ControlTEtag^ECS (oxr/838C)_%application/javascript; charset=utf-8SHIT_Thu, 21 Jan 2016 22:52:14 GMT_TCP="CAO DSP LAW CURa ADMa DEVa TAIa PSAa PSDa IVAa IVDa OUR BUS IND UNI COM NAV INT"_Sat, 13 Feb 2016 23:45:52 GMTUbytesT4317_public, max-age=315569260_""3348a9ef2c499c8ffa67b4a7648e7e9c"Ò+,bc\NSDictionary¢b/_application/javascriptÒ+,fg_NSHTTPURLResponse£hi/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑlm_WebResourceResponse€    # - 2 7 Z ` { ~ ‚ … ˆ ‹  ’ ™ œ Ÿ ¢ ¥ ¨ ª ¬ ® ° ² ³ µ · ¹ » ½ ¿ Á È Ð Ü Þ à â/4?HNQZcegnvŒŽ’”–˜šœž «­¯±³µ·¹»½¿ÁÈÕÝëïô$3[_ÖöüBGTWpu‰¡¯ÁÄÚ             n              ÜOÝ__twttrll([1],{78:function(t,a,e){var n=e(79);t.exports=n.build([e(83)])},83:function(t,a,e){function n(t){return"large"===t?"l":"m"}function s(t){t.params({screenName:{required:!0},lang:{required:!0,transform:g.matchLanguage,fallback:"en"},size:{fallback:"medium",transform:n},showScreenName:{fallback:!0},showCount:{fallback:!0},partner:{fallback:p(o.val,o,"partner")},count:{},preview:{}}),t.define("getUrlParams",function(){return l.compact({id:this.id,lang:this.params.lang,size:this.params.size,screen_name:this.params.screenName,show_count:"none"===this.params.count?!1:this.params.showCount,show_screen_name:this.params.showScreenName,preview:this.params.preview,partner:this.params.partner,dnt:m.enabled(),time:+new Date})}),t.around("widgetDataAttributes",function(t){return l.aug({"screen-name":this.params.screenName},t())}),t.around("scribeNamespace",function(t){return l.aug(t(),{page:"button",section:"follow"})}),t.define("scribeImpression",function(){this.scribe({action:"impression"},{language:this.params.lang,message:[this.params.size,"none"===this.params.count?"nocount":"withcount"].join(":")+":"})}),t.override("render",function(){var t=h(f,{lang:this.params.lang}),a=c.encode(this.getUrlParams()),e=u.base()+t+"#"+a;return this.scribeImpression(),r.all([this.sandbox.setTitle(b),this.sandbox.addClass(w),this.sandbox.loadDocument(e)])})}var r=e(2),i=e(79),o=e(16),u=e(84),m=e(36),h=e(85),l=e(14),c=e(28),p=e(20),d=e(86),g=e(87),f=d.followButtonHtmlPath,b="Twitter Follow Button",w="twitter-follow-button";t.exports=i.couple(e(90),e(91),s)},85:function(t,a){function e(t,a){return t.replace(n,function(t,e){return void 0!==a[e]?a[e]:t})}var n=/\{\{([\w_]+)\}\}/g;t.exports=e},86:function(t,a){t.exports={tweetButtonHtmlPath:"/widgets/tweet_button.baa54ded21a982344c4ced326592f3de.{{lang}}.html",followButtonHtmlPath:"/widgets/follow_button.baa54ded21a982344c4ced326592f3de.{{lang}}.html",hubHtmlPath:"/widgets/hub.baa54ded21a982344c4ced326592f3de.html"}},200:function(t,a,e){var n=e(79);t.exports=n.build([e(201)])},201:function(t,a,e){function n(t){return"large"===t?"l":"m"}function s(t){return f.contains(C,t)}function r(t){return w.hashTag(t,!1)}function i(t){var a=/\+/.test(t)&&!/ /.test(t);return a?t.replace(/\+/g," "):t}function o(t){t.params({lang:{required:!0,transform:_.matchLanguage,fallback:"en"},size:{fallback:"medium",transform:n},type:{fallback:"share",validate:s},text:{transform:i},screenName:{transform:w.screenName},buttonHashtag:{transform:r},partner:{fallback:x(l.val,l,"partner")},via:{},related:{},hashtags:{},url:{}}),t.define("getUrlParams",function(){var t=this.params.text,a=this.params.url,e=this.params.via,n=this.params.related,s=g.getScreenNameFromPage();return"share"===this.params.type?(t=t||m.title,a=a||g.getCanonicalURL()||h.href,e=e||s):s&&(n=n?s+","+n:s),f.compact({id:this.id,lang:this.params.lang,size:this.params.size,type:this.params.type,text:t,url:a,via:e,related:n,button_hashtag:this.params.buttonHashtag,screen_name:this.params.screenName,hashtags:this.params.hashtags,partner:this.params.partner,original_referer:h.href,dnt:p.enabled(),time:+new Date})}),t.around("widgetDataAttributes",function(t){return"mention"==this.params.type?f.aug({"screen-name":this.params.screenName},t()):"hashtag"==this.params.type?f.aug({hashtag:this.params.buttonHashtag},t()):f.aug({url:this.params.url},t())}),t.around("scribeNamespace",function(t){return f.aug(t(),{page:"button",section:this.params.type})}),t.define("scribeImpression",function(){this.scribe({action:"impression"},{language:this.params.lang,message:[this.params.size,"nocount"].join(":")+":"})}),t.override("render",function(){var t,a=d(k,{lang:this.params.lang}),e=b.encode(this.getUrlParams()),n=c.base()+a+"#"+e;switch(this.params.type){case"hashtag":t=H;break;case"mention":t=B;break;default:t=z}return this.scribeImpression(),u.all([this.sandbox.setTitle(P),this.sandbox.addClass(y),this.sandbox.addClass(t),this.sandbox.loadDocument(n)])})}var u=e(2),m=e(9),h=e(13),l=e(16),c=e(84),p=e(36),d=e(85),g=e(38),f=e(14),b=e(28),w=e(27),v=e(79),x=e(20),N=e(86),_=e(87),k=N.tweetButtonHtmlPath,P="Twitter Tweet Button",y="twitter-tweet-button",z="twitter-share-button",H="twitter-hashtag-button",B="twitter-mention-button",C=["share","hashtag","mention"];t.exports=v.couple(e(90),e(91),o)}});Õ
"w1xyz_application/x-javascript_)https://connect.facebook.net/en_US/all.jsOibplist00ÔrsX$versionX$objectsY$archiverT$top † ¯$#)*0123QRSTUVWXYZ[\]^_`abcdefghilmU$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €#€€"€Ó$%'(WNS.base[NS.relative€ €€_)https://connect.facebook.net/en_US/all.jsÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùphC ÈÓ456CPWNS.keysZNS.objects¬789:;<=>?@AB€	€
€€€€€€€€€€¬DEFGHIJKLMNO€€€€€€€€€€€€ €!\Content-TypeZx-fb-debug_Content-Encoding[content-md5WExpires_Timing-Allow-Origin]Cache-ControlTDate_Strict-Transport-Security^Content-LengthTEtagTVary_'application/x-javascript; charset=utf-8_X8SHrzDk2RVwEdeZt4OnVXGKZwe6/mW+wYwDHlVWHKbVn5lSP1OMesrefzk0aLu/jZX7kxnZ1PTamssSINpZxMA==Tgzip_KdvWWeiO8p8uCByZjZxF5g==_Sun, 14 Feb 2016 00:04:22 GMTQ*_1public, max-age=1200, stale-while-revalidate=3600_Sat, 13 Feb 2016 23:45:52 GMT_max-age=15552000; preloadU53509_""27791a4c250b26930e1ddb3816ece0fd"_Accept-EncodingÒ+,jk\NSDictionary¢j/_application/x-javascriptÒ+,no_NSHTTPURLResponse£pq/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑtu_WebResourceResponse€    # - 2 7 ^ d  ‚ † ‰ Œ  “ –    £ ¦ © ¬ ® ° ² ´ ¶ · ¹ » ½ ¿ Á Ã Å Ì Ô à â ä æ"+14=FHJQYdqsuwy{}ƒ…‡‰–˜šœž ¢¤¦¨ª¬®°½ÈÛçï4CHMwÒ×òHh„Š¯ÁÆÓÖñö
"0BE[             v              ]O µ¹/*1455407062,,JIT Construction: v2181183,en_US*/

/**
 * Copyright Facebook Inc.
 *
 * Licensed under the Apache License, Version 2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 */
try {window.FB || (function(window, fb_fif_window) {  var apply = Function.prototype.apply;  function bindContext(fn, thisArg) {    return function _sdkBound() {      return apply.call(fn, thisArg, arguments);    };  }  var global = {    __type: 'JS_SDK_SANDBOX',    window: window,    document: window.document  };  var sandboxWhitelist = [    'setTimeout',    'setInterval',    'clearTimeout',    'clearInterval'  ];  for (var i = 0; i < sandboxWhitelist.length; i++) {    global[sandboxWhitelist[i]] = bindContext(      window[sandboxWhitelist[i]],      window    );  }  (function() {    var self = window;    var __DEV__ = 0;    function emptyFunction() {};    var __transform_includes = {};    var __annotator, __bodyWrapper;    var __w, __t;    var undefined;    with (this) {      (function(){var a={},b=function(i,j){if(!i&&!j)return null;var k={};if(typeof i!=='undefined')k.type=i;if(typeof j!=='undefined')k.signature=j;return k;},c=function(i,j){return b(i&&/^[A-Z]/.test(i)?i:undefined,j&&(j.params&&j.params.length||j.returns)?'function('+(j.params?j.params.map(function(k){return (/\?/.test(k)?'?'+k.replace('?',''):k);}).join(','):'')+')'+(j.returns?':'+j.returns:''):undefined);},d=function(i,j,k){return i;},e=function(i,j,k){if('sourcemeta' in __transform_includes)i.__SMmeta=j;if('typechecks' in __transform_includes){var l=c(j?j.name:undefined,k);if(l)__w(i,l);}return i;},f=function(i,j,k){return k.apply(i,j);},g=function(i,j,k,l){if(l&&l.params)__t.apply(i,l.params);var m=k.apply(i,j);if(l&&l.returns)__t([m,l.returns]);return m;},h=function(i,j,k,l,m){if(m){if(!m.callId)m.callId=m.module+':'+(m.line||0)+':'+(m.column||0);var n=m.callId;a[n]=(a[n]||0)+1;}return k.apply(i,j);};if(typeof __transform_includes==='undefined'){__annotator=d;__bodyWrapper=f;}else{__annotator=e;if('codeusage' in __transform_includes){__annotator=d;__bodyWrapper=h;__bodyWrapper.getCodeUsage=function(){return a;};__bodyWrapper.clearCodeUsage=function(){a={};};}else if('typechecks' in __transform_includes){__bodyWrapper=g;}else __bodyWrapper=f;}})();
__t=function(a){return a[0];};__w=function(a){return a;};
var require,__d;(function(a){var b={},c={},d=['global','require','requireDynamic','requireLazy','module','exports'];require=function(e,f){if(c.hasOwnProperty(e))return c[e];if(!b.hasOwnProperty(e)){if(f)return null;throw new Error('Module '+e+' has not been defined');}var g=b[e],h=g.deps,i=g.factory.length,j,k=[];for(var l=0;l<i;l++){switch(h[l]){case 'module':j=g;break;case 'exports':j=g.exports;break;case 'global':j=a;break;case 'require':j=require;break;case 'requireDynamic':j=null;break;case 'requireLazy':j=null;break;default:j=require.call(null,h[l]);}k.push(j);}g.factory.apply(a,k);c[e]=g.exports;return g.exports;};require.__markCompiled=function(){};__d=function(e,f,g,h){if(typeof g=='function'){b[e]={factory:g,deps:d.concat(f),exports:{}};if(h===3)require.call(null,e);}else c[e]=g;};})(this);
__d('ES5Array',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};h.isArray=function(i){return Object.prototype.toString.call(i)=='[object Array]';};f.exports=h;},null);
__d('ES5ArrayPrototype',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};h.map=function(i,j){if(typeof i!='function')throw new TypeError();var k,l=this.length,m=new Array(l);for(k=0;k<l;++k)if(k in this)m[k]=i.call(j,this[k],k,this);return m;};h.forEach=function(i,j){h.map.call(this,i,j);};h.filter=function(i,j){if(typeof i!='function')throw new TypeError();var k,l,m=this.length,n=[];for(k=0;k<m;++k)if(k in this){l=this[k];if(i.call(j,l,k,this))n.push(l);}return n;};h.every=function(i,j){if(typeof i!='function')throw new TypeError();var k=new Object(this),l=k.length;for(var m=0;m<l;m++)if(m in k)if(!i.call(j,k[m],m,k))return false;return true;};h.some=function(i,j){if(typeof i!='function')throw new TypeError();var k=new Object(this),l=k.length;for(var m=0;m<l;m++)if(m in k)if(i.call(j,k[m],m,k))return true;return false;};h.indexOf=function(i,j){var k=this.length;j|=0;if(j<0)j+=k;for(;j<k;j++)if(j in this&&this[j]===i)return j;return -1;};f.exports=h;},null);
__d("ES5Date",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};h.now=function(){return new Date().getTime();};f.exports=h;},null);
__d('ES5FunctionPrototype',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};h.bind=function(i){if(typeof this!='function')throw new TypeError('Bind must be called on a function');var j=this,k=Array.prototype.slice.call(arguments,1);function l(){return j.apply(i,k.concat(Array.prototype.slice.call(arguments)));}l.displayName='bound:'+(j.displayName||j.name||'(?)');l.toString=function m(){return 'bound: '+j;};return l;};f.exports=h;},null);
__d('ie8DontEnum',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','prototypeIsEnumerable','constructor'],i=({}).hasOwnProperty,j=function(){};if(({toString:true}).propertyIsEnumerable('toString'))j=function(k,l){for(var m=0;m<h.length;m++){var n=h[m];if(i.call(k,n))l(n);}};f.exports=j;},null);
__d('ES5Object',['ie8DontEnum'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=({}).hasOwnProperty,j={};function k(){}j.create=function(l){var m=typeof l;if(m!='object'&&m!='function')throw new TypeError('Object prototype may only be a Object or null');k.prototype=l;return new k();};j.keys=function(l){var m=typeof l;if(m!='object'&&m!='function'||l===null)throw new TypeError('Object.keys called on non-object');var n=[];for(var o in l)if(i.call(l,o))n.push(o);h(l,function(p){return n.push(p);});return n;};f.exports=j;},null);
__d('ES5StringPrototype',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};h.trim=function(){if(this==null)throw new TypeError('String.prototype.trim called on null or undefined');return String.prototype.replace.call(this,/^\s+|\s+$/g,'');};h.startsWith=function(i){var j=String(this);if(this==null)throw new TypeError('String.prototype.startsWith called on null or undefined');var k=arguments.length>1?Number(arguments[1]):0;if(isNaN(k))k=0;var l=Math.min(Math.max(k,0),j.length);return j.indexOf(String(i),k)==l;};h.endsWith=function(i){var j=String(this);if(this==null)throw new TypeError('String.prototype.endsWith called on null or undefined');var k=j.length,l=String(i),m=arguments.length>1?Number(arguments[1]):k;if(isNaN(m))m=0;var n=Math.min(Math.max(m,0),k),o=n-l.length;if(o<0)return false;return j.lastIndexOf(l,o)==o;};h.contains=function(i){if(this==null)throw new TypeError('String.prototype.contains called on null or undefined');var j=String(this),k=arguments.length>1?Number(arguments[1]):0;if(isNaN(k))k=0;return j.indexOf(String(i),k)!=-1;};h.repeat=function(i){if(this==null)throw new TypeError('String.prototype.repeat called on null or undefined');var j=String(this),k=i?Number(i):0;if(isNaN(k))k=0;if(k<0||k===Infinity)throw RangeError();if(k===1)return j;if(k===0)return '';var l='';while(k){if(k&1)l+=j;if(k>>=1)j+=j;}return l;};f.exports=h;},null);
__d('ES6Array',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={from:function(i){if(i==null)throw new TypeError('Object is null or undefined');var j=arguments[1],k=arguments[2],l=this,m=Object(i),n=typeof Symbol==='function'?typeof Symbol==='function'?Symbol.iterator:'@@iterator':'@@iterator',o=typeof j==='function',p=typeof m[n]==='function',q=0,r,s;if(p){r=typeof l==='function'?new l():[];var t=m[n](),u;while(!(u=t.next()).done){s=u.value;if(o)s=j.call(k,s,q);r[q]=s;q+=1;}r.length=q;return r;}var v=m.length;if(isNaN(v)||v<0)v=0;r=typeof l==='function'?new l(v):new Array(v);while(q<v){s=m[q];if(o)s=j.call(k,s,q);r[q]=s;q+=1;}r.length=q;return r;}};f.exports=h;},null);
__d('ES6ArrayPrototype',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={find:function(i,j){if(this==null)throw new TypeError('Array.prototype.find called on null or undefined');if(typeof i!=='function')throw new TypeError('predicate must be a function');var k=h.findIndex.call(this,i,j);return k===-1?void 0:this[k];},findIndex:function(i,j){if(this==null)throw new TypeError('Array.prototype.findIndex called on null or undefined');if(typeof i!=='function')throw new TypeError('predicate must be a function');var k=Object(this),l=k.length>>>0;for(var m=0;m<l;m++)if(i.call(j,k[m],m,k))return m;return -1;},fill:function(i){if(this==null)throw new TypeError('Array.prototype.fill called on null or undefined');var j=Object(this),k=j.length>>>0,l=arguments[1],m=l>>0,n=m<0?Math.max(k+m,0):Math.min(m,k),o=arguments[2],p=o===undefined?k:o>>0,q=p<0?Math.max(k+p,0):Math.min(p,k);while(n<q){j[n]=i;n++;}return j;}};f.exports=h;},null);
__d('ES6DatePrototype',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){return (j<10?'0':'')+j;}var i={toISOString:function(){if(!isFinite(this))throw new Error('Invalid time value');var j=this.getUTCFullYear();j=(j<0?'-':j>9999?'+':'')+('00000'+Math.abs(j)).slice(0<=j&&j<=9999?-4:-6);return j+'-'+h(this.getUTCMonth()+1)+'-'+h(this.getUTCDate())+'T'+h(this.getUTCHours())+':'+h(this.getUTCMinutes())+':'+h(this.getUTCSeconds())+'.'+(this.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+'Z';}};f.exports=i;},null);
__d('ES6Number',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=Math.pow(2,-52),i=Math.pow(2,53)-1,j=-1*i,k={isFinite:function(l){return typeof l=='number'&&isFinite(l);},isNaN:function(l){return typeof l=='number'&&isNaN(l);},isInteger:function(l){return this.isFinite(l)&&Math.floor(l)===l;},isSafeInteger:function(l){return this.isFinite(l)&&l>=this.MIN_SAFE_INTEGER&&l<=this.MAX_SAFE_INTEGER&&Math.floor(l)===l;},EPSILON:h,MAX_SAFE_INTEGER:i,MIN_SAFE_INTEGER:j};f.exports=k;},null);
__d('ES6Object',['ie8DontEnum'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=({}).hasOwnProperty,j={assign:function(k){if(k==null)throw new TypeError('Object.assign target cannot be null or undefined');k=Object(k);for(var l=arguments.length,m=Array(l>1?l-1:0),n=1;n<l;n++)m[n-1]=arguments[n];for(var o=0;o<m.length;o++){var p=m[o];if(p==null)continue;p=Object(p);for(var q in p)if(i.call(p,q))k[q]=p[q];h(p,function(r){return k[r]=p[r];});}return k;},is:function(k,l){if(k===l){return k!==0||1/k===1/l;}else return k!==k&&l!==l;}};f.exports=j;},null);
__d('ES7Object',['ie8DontEnum'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=({}).hasOwnProperty,j={};j.entries=function(k){if(k==null)throw new TypeError('Object.entries called on non-object');var l=[];for(var m in k)if(i.call(k,m))l.push([m,k[m]]);h(k,function(n){return l.push([n,k[n]]);});return l;};j.values=function(k){if(k==null)throw new TypeError('Object.values called on non-object');var l=[];for(var m in k)if(i.call(k,m))l.push(k[m]);h(k,function(n){return l.push(k[n]);});return l;};f.exports=j;},null);
__d('ES7StringPrototype',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};h.trimLeft=function(){return this.replace(/^\s+/,'');};h.trimRight=function(){return this.replace(/\s+$/,'');};f.exports=h;},null);
/**
 * @providesModule JSON3
 * @preserve-header
 *
 *! JSON v3.2.3 | http://bestiejs.github.com/json3 | Copyright 2012, Kit Cambridge | http://kit.mit-license.org
 */__d("JSON3",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();(function(){var h={}.toString,i,j,k,l=f.exports={},m='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca=new Date(-3509827334573292),da,ea,fa;try{ca=ca.getUTCFullYear()==-109252&&ca.getUTCMonth()===0&&ca.getUTCDate()==1&&ca.getUTCHours()==10&&ca.getUTCMinutes()==37&&ca.getUTCSeconds()==6&&ca.getUTCMilliseconds()==708;}catch(ga){}if(!ca){da=Math.floor;ea=[0,31,59,90,120,151,181,212,243,273,304,334];fa=function(ha,ia){return ea[ia]+365*(ha-1970)+da((ha-1969+(ia=+(ia>1)))/4)-da((ha-1901+ia)/100)+da((ha-1601+ia)/400);};}if(typeof JSON=="object"&&JSON){l.stringify=JSON.stringify;l.parse=JSON.parse;}if((n=typeof l.stringify=="function"&&!fa)){(ca=function(){return 1;}).toJSON=ca;try{n=l.stringify(0)==="0"&&l.stringify(new Number())==="0"&&l.stringify(new String())=='""'&&l.stringify(h)===k&&l.stringify(k)===k&&l.stringify()===k&&l.stringify(ca)==="1"&&l.stringify([ca])=="[1]"&&l.stringify([k])=="[null]"&&l.stringify(null)=="null"&&l.stringify([k,h,null])=="[null,null,null]"&&l.stringify({result:[ca,true,false,null,"\0\b\n\f\r\t"]})==m&&l.stringify(null,ca)==="1"&&l.stringify([1,2],null,1)=="[\n 1,\n 2\n]"&&l.stringify(new Date(-8.64e+15))=='"-271821-04-20T00:00:00.000Z"'&&l.stringify(new Date(8.64e+15))=='"+275760-09-13T00:00:00.000Z"'&&l.stringify(new Date(-62198755200000))=='"-000001-01-01T00:00:00.000Z"'&&l.stringify(new Date(-1))=='"1969-12-31T23:59:59.999Z"';}catch(ga){n=false;}}if(typeof l.parse=="function")try{if(l.parse("0")===0&&!l.parse(false)){ca=l.parse(m);if((s=ca.A.length==5&&ca.A[0]==1)){try{s=!l.parse('"\t"');}catch(ga){}if(s)try{s=l.parse("01")!=1;}catch(ga){}}}}catch(ga){s=false;}ca=m=null;if(!n||!s){if(!(i={}.hasOwnProperty))i=function(ha){var ia={},ja;if((ia.__proto__=null,ia.__proto__={toString:1},ia).toString!=h){i=function(ka){var la=this.__proto__,ma=ka in (this.__proto__=null,this);this.__proto__=la;return ma;};}else{ja=ia.constructor;i=function(ka){var la=(this.constructor||ja).prototype;return ka in this&&!(ka in la&&this[ka]===la[ka]);};}ia=null;return i.call(this,ha);};j=function(ha,ia){var ja=0,ka,la,ma,na;(ka=function(){this.valueOf=0;}).prototype.valueOf=0;la=new ka();for(ma in la)if(i.call(la,ma))ja++;ka=la=null;if(!ja){la=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];na=function(oa,pa){var qa=h.call(oa)=="[object Function]",ra,sa;for(ra in oa)if(!(qa&&ra=="prototype")&&i.call(oa,ra))pa(ra);for(sa=la.length;ra=la[--sa];i.call(oa,ra)&&pa(ra));};}else if(ja==2){na=function(oa,pa){var qa={},ra=h.call(oa)=="[object Function]",sa;for(sa in oa)if(!(ra&&sa=="prototype")&&!i.call(qa,sa)&&(qa[sa]=1)&&i.call(oa,sa))pa(sa);};}else na=function(oa,pa){var qa=h.call(oa)=="[object Function]",ra,sa;for(ra in oa)if(!(qa&&ra=="prototype")&&i.call(oa,ra)&&!(sa=ra==="constructor"))pa(ra);if(sa||i.call(oa,(ra="constructor")))pa(ra);};return na(ha,ia);};if(!n){o={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};p=function(ha,ia){return ("000000"+(ia||0)).slice(-ha);};q=function(ha){var ia='"',ja=0,ka;for(;ka=ha.charAt(ja);ja++)ia+='\\"\b\f\n\r\t'.indexOf(ka)>-1?o[ka]:ka<" "?"\\u00"+p(2,ka.charCodeAt(0).toString(16)):ka;return ia+'"';};r=function(ha,ia,ja,ka,la,ma,na){var oa=ia[ha],pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,ab,bb,cb,db;if(typeof oa=="object"&&oa){pa=h.call(oa);if(pa=="[object Date]"&&!i.call(oa,"toJSON")){if(oa>-1/0&&oa<1/0){if(fa){sa=da(oa/86400000);for(qa=da(sa/365.2425)+1970-1;fa(qa+1,0)<=sa;qa++);for(ra=da((sa-fa(qa,0))/30.42);fa(qa,ra+1)<=sa;ra++);sa=1+sa-fa(qa,ra);ta=(oa%86400000+86400000)%86400000;ua=da(ta/3600000)%24;va=da(ta/60000)%60;wa=da(ta/1000)%60;xa=ta%1000;}else{qa=oa.getUTCFullYear();ra=oa.getUTCMonth();sa=oa.getUTCDate();ua=oa.getUTCHours();va=oa.getUTCMinutes();wa=oa.getUTCSeconds();xa=oa.getUTCMilliseconds();}oa=(qa<=0||qa>=10000?(qa<0?"-":"+")+p(6,qa<0?-qa:qa):p(4,qa))+"-"+p(2,ra+1)+"-"+p(2,sa)+"T"+p(2,ua)+":"+p(2,va)+":"+p(2,wa)+"."+p(3,xa)+"Z";}else oa=null;}else if(typeof oa.toJSON=="function"&&((pa!="[object Number]"&&pa!="[object String]"&&pa!="[object Array]")||i.call(oa,"toJSON")))oa=oa.toJSON(ha);}if(ja)oa=ja.call(ia,ha,oa);if(oa===null)return "null";pa=h.call(oa);if(pa=="[object Boolean]"){return ""+oa;}else if(pa=="[object Number]"){return oa>-1/0&&oa<1/0?""+oa:"null";}else if(pa=="[object String]")return q(oa);if(typeof oa=="object"){for(bb=na.length;bb--;)if(na[bb]===oa)throw TypeError();na.push(oa);ya=[];cb=ma;ma+=la;if(pa=="[object Array]"){for(ab=0,bb=oa.length;ab<bb;db||(db=true),ab++){za=r(ab,oa,ja,ka,la,ma,na);ya.push(za===k?"null":za);}return db?(la?"[\n"+ma+ya.join(",\n"+ma)+"\n"+cb+"]":("["+ya.join(",")+"]")):"[]";}else{j(ka||oa,function(eb){var fb=r(eb,oa,ja,ka,la,ma,na);if(fb!==k)ya.push(q(eb)+":"+(la?" ":"")+fb);db||(db=true);});return db?(la?"{\n"+ma+ya.join(",\n"+ma)+"\n"+cb+"}":("{"+ya.join(",")+"}")):"{}";}na.pop();}};l.stringify=function(ha,ia,ja){var ka,la,ma,na,oa,pa;if(typeof ia=="function"||typeof ia=="object"&&ia)if(h.call(ia)=="[object Function]"){la=ia;}else if(h.call(ia)=="[object Array]"){ma={};for(na=0,oa=ia.length;na<oa;pa=ia[na++],((h.call(pa)=="[object String]"||h.call(pa)=="[object Number]")&&(ma[pa]=1)));}if(ja)if(h.call(ja)=="[object Number]"){if((ja-=ja%1)>0)for(ka="",ja>10&&(ja=10);ka.length<ja;ka+=" ");}else if(h.call(ja)=="[object String]")ka=ja.length<=10?ja:ja.slice(0,10);return r("",(pa={},pa[""]=ha,pa),la,ma,ka,"",[]);};}if(!s){t=String.fromCharCode;u={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"};v=function(){aa=ba=null;throw SyntaxError();};w=function(){var ha=ba,ia=ha.length,ja,ka,la,ma,na;while(aa<ia){ja=ha.charAt(aa);if("\t\r\n ".indexOf(ja)>-1){aa++;}else if("{}[]:,".indexOf(ja)>-1){aa++;return ja;}else if(ja=='"'){for(ka="@",aa++;aa<ia;){ja=ha.charAt(aa);if(ja<" "){v();}else if(ja=="\\"){ja=ha.charAt(++aa);if('\\"/btnfr'.indexOf(ja)>-1){ka+=u[ja];aa++;}else if(ja=="u"){la=++aa;for(ma=aa+4;aa<ma;aa++){ja=ha.charAt(aa);if(!(ja>="0"&&ja<="9"||ja>="a"&&ja<="f"||ja>="A"&&ja<="F"))v();}ka+=t("0x"+ha.slice(la,aa));}else v();}else{if(ja=='"')break;ka+=ja;aa++;}}if(ha.charAt(aa)=='"'){aa++;return ka;}v();}else{la=aa;if(ja=="-"){na=true;ja=ha.charAt(++aa);}if(ja>="0"&&ja<="9"){if(ja=="0"&&(ja=ha.charAt(aa+1),ja>="0"&&ja<="9"))v();na=false;for(;aa<ia&&(ja=ha.charAt(aa),ja>="0"&&ja<="9");aa++);if(ha.charAt(aa)=="."){ma=++aa;for(;ma<ia&&(ja=ha.charAt(ma),ja>="0"&&ja<="9");ma++);if(ma==aa)v();aa=ma;}ja=ha.charAt(aa);if(ja=="e"||ja=="E"){ja=ha.charAt(++aa);if(ja=="+"||ja=="-")aa++;for(ma=aa;ma<ia&&(ja=ha.charAt(ma),ja>="0"&&ja<="9");ma++);if(ma==aa)v();aa=ma;}return +ha.slice(la,aa);}if(na)v();if(ha.slice(aa,aa+4)=="true"){aa+=4;return true;}else if(ha.slice(aa,aa+5)=="false"){aa+=5;return false;}else if(ha.slice(aa,aa+4)=="null"){aa+=4;return null;}v();}}return "$";};x=function(ha){var ia,ja,ka;if(ha=="$")v();if(typeof ha=="string"){if(ha.charAt(0)=="@")return ha.slice(1);if(ha=="["){ia=[];for(;;ja||(ja=true)){ha=w();if(ha=="]")break;if(ja)if(ha==","){ha=w();if(ha=="]")v();}else v();if(ha==",")v();ia.push(x(ha));}return ia;}else if(ha=="{"){ia={};for(;;ja||(ja=true)){ha=w();if(ha=="}")break;if(ja)if(ha==","){ha=w();if(ha=="}")v();}else v();if(ha==","||typeof ha!="string"||ha.charAt(0)!="@"||w()!=":")v();ia[ha.slice(1)]=x(w());}return ia;}v();}return ha;};z=function(ha,ia,ja){var ka=y(ha,ia,ja);if(ka===k){delete ha[ia];}else ha[ia]=ka;};y=function(ha,ia,ja){var ka=ha[ia],la;if(typeof ka=="object"&&ka)if(h.call(ka)=="[object Array]"){for(la=ka.length;la--;)z(ka,la,ja);}else j(ka,function(ma){z(ka,ma,ja);});return ja.call(ha,ia,ka);};l.parse=function(ha,ia){aa=0;ba=ha;var ja=x(w());if(w()!="$")v();aa=ba=null;return ia&&h.call(ia)=="[object Function]"?y((ca={},ca[""]=ja,ca),"",ia):ja;};}}}).call(this);},null);
__d('ES',['ES5ArrayPrototype','ES5FunctionPrototype','ES5StringPrototype','ES5Array','ES5Object','ES5Date','JSON3','ES6Array','ES6Object','ES6ArrayPrototype','ES6DatePrototype','ES6Number','ES7StringPrototype','ES7Object'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=({}).toString,w={'JSON.stringify':n.stringify,'JSON.parse':n.parse},x={'Array.prototype':h,'Function.prototype':i,'String.prototype':j,Object:l,Array:k,Date:m},y={Object:p,'Array.prototype':q,'Date.prototype':r,Number:s,Array:o},z={Object:u,'String.prototype':t};function aa(ca){for(var da in ca){if(!ca.hasOwnProperty(da))continue;var ea=ca[da],fa=da.split('.'),ga=fa.length==2?window[fa[0]][fa[1]]:window[da];for(var ha in ea){if(!ea.hasOwnProperty(ha))continue;if(typeof ea[ha]!=='function'){w[da+'.'+ha]=ea[ha];continue;}var ia=ga[ha];w[da+'.'+ha]=ia&&/\{\s+\[native code\]\s\}/.test(ia)?ia:ea[ha];}}}aa(x);aa(y);aa(z);function ba(ca,da,ea){var fa=ea?v.call(ca).slice(8,-1)+'.prototype':ca,ga=w[fa+'.'+da]||ca[da];if(typeof ga==='function'){for(var ha=arguments.length,ia=Array(ha>3?ha-3:0),ja=3;ja<ha;ja++)ia[ja-3]=arguments[ja];return ga.apply(ca,ia);}else if(ga)return ga;throw new Error('Polyfill '+fa+' does not have implementation of '+da);}f.exports=ba;},null);
__d('sdk.babelHelpers',['ES5FunctionPrototype','ES5Object','ES6Object'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={},l=Object.prototype.hasOwnProperty;k.inherits=function(m,n){j.assign(m,n);m.prototype=i.create(n&&n.prototype);m.prototype.constructor=m;m.__superConstructor__=n;return n;};k._extends=j.assign;k.objectWithoutProperties=function(m,n){var o={};for(var p in m){if(!l.call(m,p)||n.indexOf(p)>=0)continue;o[p]=m[p];}return o;};k.taggedTemplateLiteralLoose=function(m,n){m.raw=n;return m;};k.bind=h.bind;f.exports=k;},null);      var ES = require('ES');      var babelHelpers = require('sdk.babelHelpers');      __d("UrlMapConfig",[],{"www":"www.facebook.com","m":"m.facebook.com","connect":"connect.facebook.net","business":"business.facebook.com","api_https":"api.facebook.com","api_read_https":"api-read.facebook.com","graph_https":"graph.facebook.com","fbcdn_http":"fbstatic-a.akamaihd.net","fbcdn_https":"fbstatic-a.akamaihd.net","cdn_http":"staticxx.facebook.com","cdn_https":"staticxx.facebook.com"});__d("JSSDKRuntimeConfig",[],{"locale":"en_US","rtl":false,"revision":"2181183"});__d("JSSDKConfig",[],{"bustCache":true,"tagCountLogRate":0.01,"errorHandling":{"rate":4},"usePluginPipe":true,"features":{"dialog_resize_refactor":true,"one_comment_controller":true,"allow_non_canvas_app_events":false,"event_subscriptions_log":{"rate":0.01,"value":10000},"should_force_single_dialog_instance":true,"js_sdk_force_status_on_load":true,"kill_fragment":true,"xfbml_profile_pic_server":true,"error_handling":{"rate":4},"e2e_ping_tracking":{"rate":1.0e-6},"getloginstatus_tracking":{"rate":0.001},"xd_timeout":{"rate":4,"value":30000},"use_bundle":false,"launch_payment_dialog_via_pac":{"rate":100},"plugin_tags_blacklist":["recommendations_bar","registration","activity","recommendations","facepile"],"should_log_response_error":true},"api":{"mode":"warn","whitelist":["AppEvents","AppEvents.EventNames","AppEvents.ParameterNames","AppEvents.activateApp","AppEvents.logEvent","AppEvents.logPurchase","Canvas","Canvas.Prefetcher","Canvas.Prefetcher.addStaticResource","Canvas.Prefetcher.setCollectionMode","Canvas.getPageInfo","Canvas.hideFlashElement","Canvas.scrollTo","Canvas.setAutoGrow","Canvas.setDoneLoading","Canvas.setSize","Canvas.setUrlHandler","Canvas.showFlashElement","Canvas.startTimer","Canvas.stopTimer","Event","Event.subscribe","Event.unsubscribe","Music.flashCallback","Music.init","Music.send","Payment","Payment.cancelFlow","Payment.continueFlow","Payment.init","Payment.lockForProcessing","Payment.parse","Payment.setSize","Payment.unlockForProcessing","ThirdPartyProvider","ThirdPartyProvider.init","ThirdPartyProvider.sendData","UA","UA.nativeApp","XFBML","XFBML.RecommendationsBar","XFBML.RecommendationsBar.markRead","XFBML.parse","addFriend","api","getAccessToken","getAuthResponse","getLoginStatus","getUserID","init","login","logout","publish","share","ui"]},"initSitevars":{"enableMobileComments":1,"iframePermissions":{"read_stream":false,"manage_mailbox":false,"manage_friendlists":false,"read_mailbox":false,"publish_checkins":true,"status_update":true,"photo_upload":true,"video_upload":true,"sms":false,"create_event":true,"rsvp_event":true,"offline_access":true,"email":true,"xmpp_login":false,"create_note":true,"share_item":true,"export_stream":false,"publish_stream":true,"publish_likes":true,"ads_management":false,"contact_email":true,"access_private_data":false,"read_insights":false,"read_requests":false,"read_friendlists":true,"manage_pages":false,"physical_login":false,"manage_groups":false,"read_deals":false}}});__d("JSSDKXDConfig",[],{"XdUrl":"\/connect\/xd_arbiter.php?version=42","XdBundleUrl":"\/connect\/xd_arbiter\/r\/1LA_XSfUcOy.js?version=42","Flash":{"path":"https:\/\/connect.facebook.net\/rsrc.php\/v1\/yW\/r\/yOZN1vHw3Z_.swf"},"useCdn":true});__d("JSSDKCssConfig",[],{"rules":".fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow-x:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:\"lucida grande\", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https:\/\/fbstatic-a.akamaihd.net\/rsrc.php\/v2\/yq\/r\/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(https:\/\/fbstatic-a.akamaihd.net\/rsrc.php\/v2\/yL\/r\/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https:\/\/fbstatic-a.akamaihd.net\/rsrc.php\/v2\/yq\/r\/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(https:\/\/fbstatic-a.akamaihd.net\/rsrc.php\/v2\/yL\/r\/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(https:\/\/fbstatic-a.akamaihd.net\/rsrc.php\/v2\/yq\/r\/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(https:\/\/fbstatic-a.akamaihd.net\/rsrc.php\/v2\/yL\/r\/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f6f7f8;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https:\/\/fbstatic-a.akamaihd.net\/rsrc.php\/v2\/ye\/r\/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https:\/\/fbstatic-a.akamaihd.net\/rsrc.php\/v2\/ye\/r\/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https:\/\/fbstatic-a.akamaihd.net\/rsrc.php\/v2\/ye\/r\/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https:\/\/fbstatic-a.akamaihd.net\/rsrc.php\/v2\/ye\/r\/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100\u0025}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100\u0025;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3a5795;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https:\/\/fbstatic-a.akamaihd.net\/rsrc.php\/v2\/yd\/r\/Cou7n-nqK52.gif) no-repeat 5px 50\u0025;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100\u0025;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100\u0025}.fb_dialog.fb_dialog_mobile.loading{background:url(https:\/\/fbstatic-a.akamaihd.net\/rsrc.php\/v2\/ya\/r\/3rhSv5V8j3o.gif) white no-repeat 50\u0025 50\u0025;min-height:100\u0025;min-width:100\u0025;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{width:auto;height:auto;min-height:initial;min-width:initial;background:none}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100\u0025}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{color:#fff;display:block;padding-top:20px;clear:both;font-size:18px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100\u0025;min-height:100\u0025;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0\u0025 0\u0025, 0\u0025 100\u0025, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100\u0025}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0\u0025 0\u0025, 0\u0025 100\u0025, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #2f477a;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https:\/\/fbstatic-a.akamaihd.net\/rsrc.php\/v2\/y9\/r\/jKEcVPZFk-2.gif) no-repeat 50\u0025 50\u0025;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f8;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https:\/\/fbstatic-a.akamaihd.net\/rsrc.php\/v2\/yD\/r\/t-wz8gw1xG1.png);background-repeat:no-repeat;background-position:50\u0025 50\u0025;height:24px;width:24px}\u0040keyframes rotateSpinner{0\u0025{transform:rotate(0deg)}100\u0025{transform:rotate(360deg)}}\n.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100\u0025}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100\u0025}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https:\/\/fbstatic-a.akamaihd.net\/rsrc.php\/v2\/y9\/r\/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50\u0025;z-index:4}","components":["css:fb.css.base","css:fb.css.dialog","css:fb.css.iframewidget"]});__d("ApiClientConfig",[],{"FlashRequest":{"swfUrl":"https:\/\/connect.facebook.net\/rsrc.php\/v1\/yd\/r\/mxzow1Sdmxr.swf"}});__d("JSSDKCanvasPrefetcherConfig",[],{"blacklist":[144959615576466],"sampleRate":500});__d("JSSDKPluginPipeConfig",[],{"threshold":0,"enabledApps":{"209753825810663":1,"187288694643718":1}});      __d("DOMWrapper",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h,i,j={setRoot:function(k){h=k;},getRoot:function(){return h||document.body;},setWindow:function(k){i=k;},getWindow:function(){return i||self;}};f.exports=j;},null);
__d('dotAccess',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){var l=j.split('.');do{var m=l.shift();i=i[m]||k&&(i[m]={});}while(l.length&&i);return i;}f.exports=h;},null);
__d('guid',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){return 'f'+(Math.random()*(1<<30)).toString(16).replace('.','');}f.exports=h;},null);
__d('wrapFunction',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};function i(j,k,l){k=k||'default';return function(){var m=k in h?h[k](j,l):j;return m.apply(this,arguments);};}i.setWrapper=function(j,k){k=k||'default';h[k]=j;};f.exports=i;},null);
__d('GlobalCallback',['DOMWrapper','dotAccess','guid','wrapFunction'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m,n={setPrefix:function(o){l=i(h.getWindow(),o,true);m=o;},create:function(o,p){if(!l)this.setPrefix('__globalCallbacks');var q=j();l[q]=k(o,'entry',p||'GlobalCallback');return m+'.'+q;},remove:function(o){var p=o.substring(m.length+1);delete l[p];}};f.exports=n;},null);
__d("sprintf",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){for(var j=arguments.length,k=Array(j>1?j-1:0),l=1;l<j;l++)k[l-1]=arguments[l];var m=0;return i.replace(/%s/g,function(n){return k[m++];});}f.exports=h;},null);
__d('Log',['sprintf'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={DEBUG:3,INFO:2,WARNING:1,ERROR:0};function j(l,m){var n=Array.prototype.slice.call(arguments,2),o=h.apply(null,n),p=window.console;if(p&&k.level>=m)p[l in p?l:'log'](o);}var k={level:-1,Level:i,debug:ES(j,'bind',true,null,'debug',i.DEBUG),info:ES(j,'bind',true,null,'info',i.INFO),warn:ES(j,'bind',true,null,'warn',i.WARNING),error:ES(j,'bind',true,null,'error',i.ERROR)};f.exports=k;},null);
__d("ObservableMixin",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){this.__observableEvents={};}h.prototype={inform:function(i){var j=Array.prototype.slice.call(arguments,1),k=Array.prototype.slice.call(this.getSubscribers(i));for(var l=0;l<k.length;l++){if(k[l]===null)continue;try{k[l].apply(this,j);}catch(m){setTimeout(function(){throw m;},0);}}return this;},getSubscribers:function(i){return this.__observableEvents[i]||(this.__observableEvents[i]=[]);},clearSubscribers:function(i){if(i)this.__observableEvents[i]=[];return this;},clearAllSubscribers:function(){this.__observableEvents={};return this;},subscribe:function(i,j){var k=this.getSubscribers(i);k.push(j);return this;},unsubscribe:function(i,j){var k=this.getSubscribers(i);for(var l=0;l<k.length;l++)if(k[l]===j){k.splice(l,1);break;}return this;},monitor:function(i,j){if(!j()){var k=ES(function(l){if(j.apply(j,arguments))this.unsubscribe(i,k);},"bind",true,this);this.subscribe(i,k);}return this;}};f.exports=h;},null);
__d('UrlMap',['UrlMapConfig'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={resolve:function(j,k){var l=typeof k=='undefined'?location.protocol.replace(':',''):k?'https':'http';if(j in h)return l+'://'+h[j];if(typeof k=='undefined'&&j+'_'+l in h)return l+'://'+h[j+'_'+l];if(k!==true&&j+'_http' in h)return 'http://'+h[j+'_http'];if(k!==false&&j+'_https' in h)return 'https://'+h[j+'_https'];}};f.exports=i;},null);
__d('QueryString',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(l){var m=[];ES(ES('Object','keys',false,l).sort(),'forEach',true,function(n){var o=l[n];if(typeof o==='undefined')return;if(o===null){m.push(n);return;}m.push(encodeURIComponent(n)+'='+encodeURIComponent(o));});return m.join('&');}function i(l,m){var n={};if(l==='')return n;var o=l.split('&');for(var p=0;p<o.length;p++){var q=o[p].split('=',2),r=decodeURIComponent(q[0]);if(m&&n.hasOwnProperty(r))throw new URIError('Duplicate key: '+r);n[r]=q.length===2?decodeURIComponent(q[1]):null;}return n;}function j(l,m){return l+(ES(l,'indexOf',true,'?')!==-1?'&':'?')+(typeof m==='string'?m:k.encode(m));}var k={encode:h,decode:i,appendToUrl:j};f.exports=k;},null);
__d("ManagedError",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){Error.prototype.constructor.call(this,i);this.message=i;this.innerError=j;}h.prototype=new Error();h.prototype.constructor=h;f.exports=h;},null);
__d('AssertionError',['ManagedError'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){h.prototype.constructor.apply(this,arguments);}i.prototype=new h();i.prototype.constructor=i;f.exports=i;},null);
__d('Assert',['AssertionError','sprintf'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(o,p){if(typeof o!=='boolean'||!o)throw new h(p);return o;}function k(o,p,q){var r;if(p===undefined){r='undefined';}else if(p===null){r='null';}else{var s=Object.prototype.toString.call(p);r=/\s(\w*)/.exec(s)[1].toLowerCase();}j(ES(o,'indexOf',true,r)!==-1,q||i('Expression is of type %s, not %s',r,o));return p;}function l(o,p,q){j(p instanceof o,q||'Expression not instance of type');return p;}function m(o,p){n['is'+o]=p;n['maybe'+o]=function(q,r){if(q!=null)p(q,r);};}var n={isInstanceOf:l,isTrue:j,isTruthy:function(o,p){return j(!!o,p);},type:k,define:function(o,p){o=o.substring(0,1).toUpperCase()+o.substring(1).toLowerCase();m(o,function(q,r){j(p(q),r);});}};ES(['Array','Boolean','Date','Function','Null','Number','Object','Regexp','String','Undefined'],'forEach',true,function(o){m(o,ES(k,'bind',true,null,o.toLowerCase()));});f.exports=n;},null);
__d('Type',['Assert'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(){var m=this.__mixins;if(m)for(var n=0;n<m.length;n++)m[n].apply(this,arguments);}function j(m,n){if(n instanceof m)return true;if(n instanceof i)for(var o=0;o<n.__mixins.length;o++)if(n.__mixins[o]==m)return true;return false;}function k(m,n){var o=m.prototype;if(!ES('Array','isArray',false,n))n=[n];for(var p=0;p<n.length;p++){var q=n[p];if(typeof q=='function'){o.__mixins.push(q);q=q.prototype;}ES(ES('Object','keys',false,q),'forEach',true,function(r){o[r]=q[r];});}}function l(m,n,o){var p=n&&n.hasOwnProperty('constructor')?n.constructor:function(){this.parent.apply(this,arguments);};h.isFunction(p);if(m&&m.prototype instanceof i===false)throw new Error('parent type does not inherit from Type');m=m||i;function q(){}q.prototype=m.prototype;p.prototype=new q();if(n)ES('Object','assign',false,p.prototype,n);p.prototype.constructor=p;p.parent=m;p.prototype.__mixins=m.prototype.__mixins?Array.prototype.slice.call(m.prototype.__mixins):[];if(o)k(p,o);p.prototype.parent=function(){this.parent=m.prototype.parent;m.apply(this,arguments);};p.prototype.parentCall=function(r){return m.prototype[r].apply(this,Array.prototype.slice.call(arguments,1));};p.extend=function(r,s){return l(this,r,s);};return p;}ES('Object','assign',false,i.prototype,{instanceOf:function(m){return j(m,this);}});ES('Object','assign',false,i,{extend:function(m,n){return typeof m==='function'?l.apply(null,arguments):l(null,m,n);},instanceOf:j});f.exports=i;},null);
__d('sdk.Model',['Type','ObservableMixin'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.extend({constructor:function(k){this.parent();var l={},m=this;ES(ES('Object','keys',false,k),'forEach',true,function(n){l[n]=k[n];m['set'+n]=function(o){if(o===l[n])return this;l[n]=o;m.inform(n+'.change',o);return m;};m['get'+n]=function(){return l[n];};});}},i);f.exports=j;},null);
__d('sdk.Runtime',['sdk.Model','JSSDKRuntimeConfig'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},k=new h({AccessToken:'',ClientID:'',CookieUserID:'',Environment:j.UNKNOWN,Initialized:false,IsVersioned:false,KidDirectedSite:undefined,Locale:i.locale,LoggedIntoFacebook:undefined,LoginStatus:undefined,Revision:i.revision,Rtl:i.rtl,Scope:undefined,Secure:undefined,UseCookie:false,UserID:'',Version:undefined});ES('Object','assign',false,k,{ENVIRONMENTS:j,isEnvironment:function(l){var m=this.getEnvironment();return (l|m)===m;},isCanvasEnvironment:function(){return this.isEnvironment(j.CANVAS)||this.isEnvironment(j.PAGETAB);}});(function(){var l=/app_runner/.test(window.name)?j.PAGETAB:/iframe_canvas/.test(window.name)?j.CANVAS:j.UNKNOWN;if((l|j.PAGETAB)===l)l=l|j.CANVAS;k.setEnvironment(l);})();f.exports=k;},null);
__d('sdk.Cookie',['QueryString','sdk.Runtime'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=null;function k(n,o,p){n=n+i.getClientID();var q=j&&j!=='.';if(q){document.cookie=n+'=; expires=Wed, 04 Feb 2004 08:00:00 GMT;';document.cookie=n+'=; expires=Wed, 04 Feb 2004 08:00:00 GMT;'+'domain='+location.hostname+';';}var r=new Date(p).toGMTString();document.cookie=n+'='+o+(o&&p===0?'':'; expires='+r)+'; path=/'+(q?'; domain='+j:'');}function l(n){n=n+i.getClientID();var o=new RegExp('\\b'+n+'=([^;]*)\\b');return o.test(document.cookie)?RegExp.$1:null;}var m={setDomain:function(n){j=n;var o=h.encode({base_domain:j&&j!=='.'?j:''}),p=new Date();p.setFullYear(p.getFullYear()+1);k('fbm_',o,p.getTime());},getDomain:function(){return j;},loadMeta:function(){var n=l('fbm_');if(n){var o=h.decode(n);if(!j)j=o.base_domain;return o;}},loadSignedRequest:function(){return l('fbsr_');},setSignedRequestCookie:function(n,o){if(!n)throw new Error('Value passed to Cookie.setSignedRequestCookie '+'was empty.');k('fbsr_',n,o);},clearSignedRequestCookie:function(){k('fbsr_','',0);},setRaw:k,getRaw:l};f.exports=m;},null);
__d('Miny',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='Miny1',i='wxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_'.split(''),j={encode:function(k){if(/^$|[~\\]|__proto__/.test(k))return k;var l=k.match(/\w+|\W+/g),m,n=ES('Object','create',false,null);for(m=0;m<l.length;m++)n[l[m]]=(n[l[m]]||0)+1;var o=ES('Object','keys',false,n);o.sort(function(r,s){return n[s]-n[r];});for(m=0;m<o.length;m++){var p=(m-m%32)/32;n[o[m]]=p?p.toString(32)+i[m%32]:i[m%32];}var q='';for(m=0;m<l.length;m++)q+=n[l[m]];o.unshift(h,o.length);o.push(q);return o.join('~');}};f.exports=j;},null);
__d('sdk.UA',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=navigator.userAgent,i={iphone:/\b(iPhone|iP[ao]d)/.test(h),ipad:/\b(iP[ao]d)/.test(h),android:/Android/i.test(h),nativeApp:/FBAN\/\w+;/i.test(h)},j=/Mobile/i.test(h),k={ie:'',firefox:'',chrome:'',webkit:'',osx:''},l=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(h);if(l){k.ie=l[1]?parseFloat(l[1]):l[4]?parseFloat(l[4]):'';k.firefox=l[2]||'';k.webkit=l[3]||'';if(l[3]){var m=/(?:Chrome\/(\d+\.\d+))/.exec(h);k.chrome=m?m[1]:'';}}var n=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(h);if(n)k.osx=n[1];function o(q){return ES(q.split('.'),'map',true,function(r){return parseFloat(r);});}var p={};ES(ES('Object','keys',false,k),'map',true,function(q){p[q]=function(){return parseFloat(k[q]);};p[q].getVersionParts=function(){return o(k[q]);};});ES(ES('Object','keys',false,i),'map',true,function(q){p[q]=function(){return i[q];};});p.mobile=function(){return i.iphone||i.ipad||i.android||j;};f.exports=p;},null);
__d('getBlankIframeSrc',['sdk.UA'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(){return h.ie()<10?'javascript:false':'about:blank';}f.exports=i;},null);
__d('insertIframe',['GlobalCallback','getBlankIframeSrc','guid'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l){l.id=l.id||j();l.name=l.name||j();var m=false,n=false,o=function(){if(m&&!n){n=true;l.onload&&l.onload(l.root.firstChild);}},p=h.create(o);if(document.attachEvent){var q='<iframe'+' id="'+l.id+'"'+' name="'+l.name+'"'+(l.title?' title="'+l.title+'"':'')+(l.className?' class="'+l.className+'"':'')+' style="border:none;'+(l.width?'width:'+l.width+'px;':'')+(l.height?'height:'+l.height+'px;':'')+'"'+' src="'+i()+'"'+' frameborder="0"'+' scrolling="no"'+' allowtransparency="true"'+' onload="'+p+'()"'+'></iframe>';l.root.innerHTML='<iframe src="'+i()+'"'+' frameborder="0"'+' scrolling="no"'+' style="height:1px"></iframe>';m=true;setTimeout(function(){l.root.innerHTML=q;l.root.firstChild.src=l.url;l.onInsert&&l.onInsert(l.root.firstChild);},0);}else{var r=document.createElement('iframe');r.id=l.id;r.name=l.name;r.onload=o;r.scrolling='no';r.style.border='none';r.style.overflow='hidden';if(l.title)r.title=l.title;if(l.className)r.className=l.className;if(l.height!==undefined)r.style.height=l.height+'px';if(l.width!==undefined)if(l.width=='100%'){r.style.width=l.width;}else r.style.width=l.width+'px';l.root.appendChild(r);m=true;r.src=l.url;l.onInsert&&l.onInsert(r);}}f.exports=k;},null);
__d('sdk.domReady',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h,i="readyState" in document?/loaded|complete/.test(document.readyState):!!document.body;function j(){if(!h)return;var m;while(m=h.shift())m();h=null;}function k(m){if(h){h.push(m);return;}else m();}if(!i){h=[];if(document.addEventListener){document.addEventListener('DOMContentLoaded',j,false);window.addEventListener('load',j,false);}else if(document.attachEvent){document.attachEvent('onreadystatechange',j);window.attachEvent('onload',j);}if(document.documentElement.doScroll&&window==window.top){var l=function(){try{document.documentElement.doScroll('left');}catch(m){setTimeout(l,0);return;}j();};l();}}f.exports=k;},3);
__d('sdk.Content',['Log','sdk.UA','sdk.domReady'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l,m={append:function(n,o){if(!o)if(!k){k=o=document.getElementById('fb-root');if(!o){h.warn('The "fb-root" div has not been created, auto-creating');k=o=document.createElement('div');o.id='fb-root';if(i.ie()||!document.body){j(function(){document.body.appendChild(o);});}else document.body.appendChild(o);}o.className+=' fb_reset';}else o=k;if(typeof n=='string'){var p=document.createElement('div');o.appendChild(p).innerHTML=n;return p;}else return o.appendChild(n);},appendHidden:function(n){if(!o){var o=document.createElement('div'),p=o.style;p.position='absolute';p.top='-10000px';p.width=p.height=0;o=m.append(o);}return m.append(n,o);},submitToTarget:function(n,o){var p=document.createElement('form');p.action=n.url;p.target=n.target;p.method=o?'GET':'POST';m.appendHidden(p);for(var q in n.params)if(n.params.hasOwnProperty(q)){var r=n.params[q];if(r!==null&&r!==undefined){var s=document.createElement('input');s.name=q;s.value=r;p.appendChild(s);}}p.submit();p.parentNode.removeChild(p);}};f.exports=m;},null);
__d('sdk.Impressions',['sdk.Content','Miny','QueryString','sdk.Runtime','UrlMap','getBlankIframeSrc','guid','insertIframe'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();function p(r){var s=k.getClientID();if(!r.api_key&&s)r.api_key=s;r.kid_directed_site=k.getKidDirectedSite();var t=l.resolve('www',true)+'/impression.php/'+n()+'/',u=j.appendToUrl(t,r);if(u.length>2000)if(r.payload&&typeof r.payload==='string'){var v=i.encode(r.payload);if(v&&v.length<r.payload.length){r.payload=v;u=j.appendToUrl(t,r);}}if(u.length<=2000){var w=new Image();w.src=u;}else{var x=n(),y=h.appendHidden('');o({url:m(),root:y,name:x,className:'fb_hidden fb_invisible',onload:function(){y.parentNode.removeChild(y);}});h.submitToTarget({url:t,target:x,params:r});}}var q={log:function(r,s){if(!s.source)s.source='jssdk';p({lid:r,payload:ES('JSON','stringify',false,s)});},impression:p};f.exports=q;},null);
__d('sdk.Scribe',['QueryString','sdk.Runtime','UrlMap'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(m,n){if(typeof n.extra=='object')n.extra.revision=i.getRevision();new Image().src=h.appendToUrl(j.resolve('www',true)+'/common/scribe_endpoint.php',{c:m,m:ES('JSON','stringify',false,n)});}var l={log:k};f.exports=l;},null);
__d('Base64',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';function i(m){m=m.charCodeAt(0)<<16|m.charCodeAt(1)<<8|m.charCodeAt(2);return String.fromCharCode(h.charCodeAt(m>>>18),h.charCodeAt(m>>>12&63),h.charCodeAt(m>>>6&63),h.charCodeAt(m&63));}var j='>___?456789:;<=_______'+'\x00\x01\x02\x03\x04\x05\x06\x07\b\t\n\x0b\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19'+'______\x1a\x1b\x1c\x1d\x1e\x1f !"#$%&\'()*+,-./0123';function k(m){m=j.charCodeAt(m.charCodeAt(0)-43)<<18|j.charCodeAt(m.charCodeAt(1)-43)<<12|j.charCodeAt(m.charCodeAt(2)-43)<<6|j.charCodeAt(m.charCodeAt(3)-43);return String.fromCharCode(m>>>16,m>>>8&255,m&255);}var l={encode:function(m){m=unescape(encodeURI(m));var n=(m.length+2)%3;m=(m+'\0\0'.slice(n)).replace(/[\s\S]{3}/g,i);return m.slice(0,m.length+n-2)+'=='.slice(n);},decode:function(m){m=m.replace(/[^A-Za-z0-9+\/]/g,'');var n=m.length+3&3;m=(m+'AAA'.slice(n)).replace(/..../g,k);m=m.slice(0,m.length+n-3);try{return decodeURIComponent(escape(m));}catch(o){throw new Error('Not valid UTF-8');}},encodeObject:function(m){return l.encode(ES('JSON','stringify',false,m));},decodeObject:function(m){return ES('JSON','parse',false,l.decode(m));},encodeNums:function(m){return String.fromCharCode.apply(String,ES(m,'map',true,function(n){return h.charCodeAt((n|-(n>63))&-(n>0)&63);}));}};f.exports=l;},null);
__d('sdk.SignedRequest',['Base64'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k){if(!k)return null;var l=k.split('.',2)[1].replace(/\-/g,'+').replace(/\_/g,'/');return h.decodeObject(l);}var j={parse:i};f.exports=j;},null);
__d('URIRFC3986',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=new RegExp('^'+'([^:/?#]+:)?'+'(//'+'([^\\\\/?#@]*@)?'+'('+'\\[[A-Fa-f0-9:.]+\\]|'+'[^\\/?#:]*'+')'+'(:[0-9]*)?'+')?'+'([^?#]*)'+'(\\?[^#]*)?'+'(#.*)?'),i={parse:function(j){if(ES(j,'trim',true)==='')return null;var k=j.match(h),l={};l.uri=k[0]?k[0]:null;l.scheme=k[1]?k[1].substr(0,k[1].length-1):null;l.authority=k[2]?k[2].substr(2):null;l.userinfo=k[3]?k[3].substr(0,k[3].length-1):null;l.host=k[2]?k[4]:null;l.port=k[5]?k[5].substr(1)?parseInt(k[5].substr(1),10):null:null;l.path=k[6]?k[6]:null;l.query=k[7]?k[7].substr(1):null;l.fragment=k[8]?k[8].substr(1):null;l.isGenericURI=l.authority===null&&!!l.scheme;return l;}};f.exports=i;},null);
__d('createObjectFrom',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k={},l=ES('Array','isArray',false,j);if(j===undefined)j=true;for(var m=i.length-1;m>=0;m--)k[i[m]]=l?j[m]:j;return k;}f.exports=h;},null);
__d('URISchemes',['createObjectFrom'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h(['blob','fb','fb-ama','fb-messenger','fbcf','fbconnect','fbmobilehome','fbrpc','file','ftp','http','https','mailto','ms-app','intent','itms','itms-apps','itms-services','market','svn+ssh','fbstaging','tel','sms','pebblejs','sftp']),j={isAllowed:function(k){if(!k)return true;return i.hasOwnProperty(k.toLowerCase());}};f.exports=j;},null);
__d('eprintf',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i){var j=ES(Array.prototype.slice.call(arguments),'map',true,function(m){return String(m);}),k=i.split('%s').length-1;if(k!==j.length-1)return h('eprintf args number mismatch: %s',ES('JSON','stringify',false,j));var l=1;return i.replace(/%s/g,function(m){return String(j[l++]);});};f.exports=h;},null);
__d('ex',['eprintf'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=function(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];k=ES(k,'map',true,function(m){return String(m);});if(k[0].split('%s').length!==k.length)return i('ex args number mismatch: %s',ES('JSON','stringify',false,k));return i._prefix+ES('JSON','stringify',false,k)+i._suffix;};i._prefix='<![EX[';i._suffix=']]>';f.exports=i;},null);
__d('invariant',['ex','sprintf'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h;function k(l,m){if(!l){var n=undefined;if(m===undefined){n=new Error('Minified exception occurred; use the non-minified dev environment '+'for the full error message and additional helpful warnings.');}else{var o=[m];for(var p=2,q=arguments.length;p<q;p++)o.push(arguments[p]);n=new Error(j.apply(null,o));n.name='Invariant Violation';n.messageWithParams=o;}n.framesToPop=1;throw n;}}f.exports=k;},null);
__d('URIBase',['URIRFC3986','URISchemes','ex','invariant'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=new RegExp('[\\x00-\\x2c\\x2f\\x3b-\\x40\\x5c\\x5e\\x60\\x7b-\\x7f'+'\\uFDD0-\\uFDEF\\uFFF0-\\uFFFF'+'\\u2047\\u2048\\uFE56\\uFE5F\\uFF03\\uFF0F\\uFF1F]'),m=new RegExp('^(?:[^/]*:|'+'[\\x00-\\x1f]*/[\\x00-\\x1f]*/)');function n(q,r,s,t){if(!r)return true;if(r instanceof p){q.setProtocol(r.getProtocol());q.setDomain(r.getDomain());q.setPort(r.getPort());q.setPath(r.getPath());q.setQueryData(t.deserialize(t.serialize(r.getQueryData())));q.setFragment(r.getFragment());q.setForceFragmentSeparator(r.getForceFragmentSeparator());return true;}r=ES(r.toString(),'trim',true);var u=h.parse(r)||{};if(!s&&!i.isAllowed(u.scheme))return false;q.setProtocol(u.scheme||'');if(!s&&l.test(u.host))return false;q.setDomain(u.host||'');q.setPort(u.port||'');q.setPath(u.path||'');if(s){q.setQueryData(t.deserialize(u.query)||{});}else try{q.setQueryData(t.deserialize(u.query)||{});}catch(v){return false;}q.setFragment(u.fragment||'');if(u.fragment==='')q.setForceFragmentSeparator(true);if(u.userinfo!==null)if(s){throw new Error(j('URI.parse: invalid URI (userinfo is not allowed in a URI): %s',q.toString()));}else return false;if(!q.getDomain()&&ES(q.getPath(),'indexOf',true,'\\')!==-1)if(s){throw new Error(j('URI.parse: invalid URI (no domain but multiple back-slashes): %s',q.toString()));}else return false;if(!q.getProtocol()&&m.test(r))if(s){throw new Error(j('URI.parse: invalid URI (unsafe protocol-relative URLs): %s',q.toString()));}else return false;return true;}var o=[];function p(q,r){'use strict';!r?k(0):undefined;this.$URIBase1=r;this.$URIBase2='';this.$URIBase3='';this.$URIBase4='';this.$URIBase5='';this.$URIBase6='';this.$URIBase7={};this.$URIBase8=false;n(this,q,true,r);}p.prototype.setProtocol=function(q){'use strict';!i.isAllowed(q)?k(0):undefined;this.$URIBase2=q;return this;};p.prototype.getProtocol=function(q){'use strict';return this.$URIBase2;};p.prototype.setSecure=function(q){'use strict';return this.setProtocol(q?'https':'http');};p.prototype.isSecure=function(){'use strict';return this.getProtocol()==='https';};p.prototype.setDomain=function(q){'use strict';if(l.test(q))throw new Error(j('URI.setDomain: unsafe domain specified: %s for url %s',q,this.toString()));this.$URIBase3=q;return this;};p.prototype.getDomain=function(){'use strict';return this.$URIBase3;};p.prototype.setPort=function(q){'use strict';this.$URIBase4=q;return this;};p.prototype.getPort=function(){'use strict';return this.$URIBase4;};p.prototype.setPath=function(q){'use strict';this.$URIBase5=q;return this;};p.prototype.getPath=function(){'use strict';return this.$URIBase5;};p.prototype.addQueryData=function(q,r){'use strict';if(Object.prototype.toString.call(q)==='[object Object]'){ES('Object','assign',false,this.$URIBase7,q);}else this.$URIBase7[q]=r;return this;};p.prototype.setQueryData=function(q){'use strict';this.$URIBase7=q;return this;};p.prototype.getQueryData=function(){'use strict';return this.$URIBase7;};p.prototype.removeQueryData=function(q){'use strict';if(!ES('Array','isArray',false,q))q=[q];for(var r=0,s=q.length;r<s;++r)delete this.$URIBase7[q[r]];return this;};p.prototype.setFragment=function(q){'use strict';this.$URIBase6=q;this.setForceFragmentSeparator(false);return this;};p.prototype.getFragment=function(){'use strict';return this.$URIBase6;};p.prototype.setForceFragmentSeparator=function(q){'use strict';this.$URIBase8=q;return this;};p.prototype.getForceFragmentSeparator=function(){'use strict';return this.$URIBase8;};p.prototype.isEmpty=function(){'use strict';return !(this.getPath()||this.getProtocol()||this.getDomain()||this.getPort()||ES('Object','keys',false,this.getQueryData()).length>0||this.getFragment());};p.prototype.toString=function(){'use strict';var q=this;for(var r=0;r<o.length;r++)q=o[r](q);return q.$URIBase9();};p.prototype.$URIBase9=function(){'use strict';var q='',r=this.getProtocol();if(r)q+=r+'://';var s=this.getDomain();if(s)q+=s;var t=this.getPort();if(t)q+=':'+t;var u=this.getPath();if(u){q+=u;}else if(q)q+='/';var v=this.$URIBase1.serialize(this.getQueryData());if(v)q+='?'+v;var w=this.getFragment();if(w){q+='#'+w;}else if(this.getForceFragmentSeparator())q+='#';return q;};p.registerFilter=function(q){'use strict';o.push(q);};p.prototype.getOrigin=function(){'use strict';var q=this.getPort();return this.getProtocol()+'://'+this.getDomain()+(q?':'+q:'');};p.isValidURI=function(q,r){return n(new p(null,r),q,false,r);};f.exports=p;},null);
__d('sdk.URI',['Assert','QueryString','URIBase'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l,m=/\.facebook\.com$/,n={serialize:function(p){return p?i.encode(p):'';},deserialize:function(p){return p?i.decode(p):{};}};k=babelHelpers.inherits(o,j);l=k&&k.prototype;function o(p){'use strict';h.isString(p,'The passed argument was of invalid type.');l.constructor.call(this,p,n);}o.prototype.isFacebookURI=function(){'use strict';return m.test(this.getDomain());};o.prototype.valueOf=function(){'use strict';return this.toString();};f.exports=o;},null);
__d('Queue',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};function i(j){'use strict';this._opts=babelHelpers._extends({interval:0,processor:null},j);this._queue=[];this._stopped=true;}i.prototype._dispatch=function(j){'use strict';if(this._stopped||this._queue.length===0)return;if(!this._opts.processor){this._stopped=true;throw new Error('No processor available');}if(this._opts.interval){this._opts.processor.call(this,this._queue.shift());this._timeout=setTimeout(ES(this._dispatch,'bind',true,this),this._opts.interval);}else while(this._queue.length)this._opts.processor.call(this,this._queue.shift());};i.prototype.enqueue=function(j){'use strict';if(this._opts.processor&&!this._stopped){this._opts.processor.call(this,j);}else this._queue.push(j);return this;};i.prototype.start=function(j){'use strict';if(j)this._opts.processor=j;this._stopped=false;this._dispatch();return this;};i.prototype.isStarted=function(){'use strict';return !this._stopped;};i.prototype.dispatch=function(){'use strict';this._dispatch(true);};i.prototype.stop=function(j){'use strict';this._stopped=true;if(j)clearTimeout(this._timeout);return this;};i.prototype.merge=function(j,k){'use strict';this._queue[k?'unshift':'push'].apply(this._queue,j._queue);j._queue=[];this._dispatch();return this;};i.prototype.getLength=function(){'use strict';return this._queue.length;};i.get=function(j,k){'use strict';var l;if(j in h){l=h[j];}else l=h[j]=new i(k);return l;};i.exists=function(j){'use strict';return j in h;};i.remove=function(j){'use strict';return delete h[j];};f.exports=i;},null);
__d('DOMEventListener',['wrapFunction'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;if(window.addEventListener){i=function(l,m,n){n.wrapper=h(n,'entry','DOMEventListener.add '+m);l.addEventListener(m,n.wrapper,false);};j=function(l,m,n){l.removeEventListener(m,n.wrapper,false);};}else if(window.attachEvent){i=function(l,m,n){n.wrapper=h(n,'entry','DOMEventListener.add '+m);l.attachEvent('on'+m,n.wrapper);};j=function(l,m,n){l.detachEvent('on'+m,n.wrapper);};}else j=i=function(){};var k={add:function(l,m,n){i(l,m,n);return {remove:function(){j(l,m,n);l=null;}};},remove:j};f.exports=k;},null);
__d('UserAgent_DEPRECATED',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=false,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;function x(){if(h)return;h=true;var z=navigator.userAgent,aa=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(z),ba=/(Mac OS X)|(Windows)|(Linux)/.exec(z);t=/\b(iPhone|iP[ao]d)/.exec(z);u=/\b(iP[ao]d)/.exec(z);r=/Android/i.exec(z);v=/FBAN\/\w+;/i.exec(z);w=/Mobile/i.exec(z);s=!!/Win64/.exec(z);if(aa){i=aa[1]?parseFloat(aa[1]):aa[5]?parseFloat(aa[5]):NaN;if(i&&document&&document.documentMode)i=document.documentMode;var ca=/(?:Trident\/(\d+.\d+))/.exec(z);n=ca?parseFloat(ca[1])+4:i;j=aa[2]?parseFloat(aa[2]):NaN;k=aa[3]?parseFloat(aa[3]):NaN;l=aa[4]?parseFloat(aa[4]):NaN;if(l){aa=/(?:Chrome\/(\d+\.\d+))/.exec(z);m=aa&&aa[1]?parseFloat(aa[1]):NaN;}else m=NaN;}else i=j=k=m=l=NaN;if(ba){if(ba[1]){var da=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(z);o=da?parseFloat(da[1].replace('_','.')):true;}else o=false;p=!!ba[2];q=!!ba[3];}else o=p=q=false;}var y={ie:function(){return x()||i;},ieCompatibilityMode:function(){return x()||n>i;},ie64:function(){return y.ie()&&s;},firefox:function(){return x()||j;},opera:function(){return x()||k;},webkit:function(){return x()||l;},safari:function(){return y.webkit();},chrome:function(){return x()||m;},windows:function(){return x()||p;},osx:function(){return x()||o;},linux:function(){return x()||q;},iphone:function(){return x()||t;},mobile:function(){return x()||(t||u||r||w);},nativeApp:function(){return x()||v;},android:function(){return x()||r;},ipad:function(){return x()||u;}};f.exports=y;},null);
__d('htmlSpecialChars',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=/&/g,i=/</g,j=/>/g,k=/"/g,l=/'/g;function m(n){if(typeof n=='undefined'||n===null||!n.toString)return '';if(n===false){return '0';}else if(n===true)return '1';return n.toString().replace(h,'&amp;').replace(k,'&quot;').replace(l,'&#039;').replace(i,'&lt;').replace(j,'&gt;');}f.exports=m;},null);
__d('Flash',['DOMEventListener','DOMWrapper','QueryString','UserAgent_DEPRECATED','guid','htmlSpecialChars'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n={},o,p=i.getWindow().document;function q(v){var w=p.getElementById(v);if(w)w.parentNode.removeChild(w);delete n[v];}function r(){for(var v in n)if(n.hasOwnProperty(v))q(v);}function s(v){return v.replace(/\d+/g,function(w){return '000'.substring(w.length)+w;});}function t(v){if(!o){if(k.ie()>=9)h.add(window,'unload',r);o=true;}n[v]=v;}var u={embed:function(v,w,x,y){var z=l();v=m(v).replace(/&amp;/g,'&');x=babelHelpers._extends({allowscriptaccess:'always',flashvars:y,movie:v},x);if(typeof x.flashvars=='object')x.flashvars=j.encode(x.flashvars);var aa=[];for(var ba in x)if(x.hasOwnProperty(ba)&&x[ba])aa.push('<param name="'+m(ba)+'" value="'+m(x[ba])+'">');var ca=w.appendChild(p.createElement('span')),da='<object '+(k.ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+v+'" '+(x.height?'height="'+x.height+'" ':'')+(x.width?'width="'+x.width+'" ':'')+'id="'+z+'">'+aa.join('')+'</object>';ca.innerHTML=da;var ea=ca.firstChild;t(z);return ea;},remove:q,getVersion:function(){var v='Shockwave Flash',w='application/x-shockwave-flash',x='ShockwaveFlash.ShockwaveFlash',y;if(navigator.plugins&&typeof navigator.plugins[v]=='object'){var z=navigator.plugins[v].description;if(z&&navigator.mimeTypes&&navigator.mimeTypes[w]&&navigator.mimeTypes[w].enabledPlugin)y=z.match(/\d+/g);}if(!y)try{y=new ActiveXObject(x).GetVariable('$version').match(/(\d+),(\d+),(\d+),(\d+)/);y=Array.prototype.slice.call(y,1);}catch(aa){}return y;},getVersionString:function(){var v=u.getVersion();return v?v.join('.'):'';},checkMinVersion:function(v){var w=u.getVersion();if(!w)return false;return s(w.join('.'))>=s(v);},isAvailable:function(){return !!u.getVersion();}};f.exports=u;},null);
__d("emptyFunction",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){return function(){return j;};}function i(){}i.thatReturns=h;i.thatReturnsFalse=h(false);i.thatReturnsTrue=h(true);i.thatReturnsNull=h(null);i.thatReturnsThis=function(){return this;};i.thatReturnsArgument=function(j){return j;};f.exports=i;},null);
__d('XDM',['DOMEventListener','DOMWrapper','emptyFunction','Flash','GlobalCallback','guid','Log','UserAgent_DEPRECATED','wrapFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q={},r={transports:[]},s=i.getWindow();function t(w){var x={},y=w.length,z=r.transports;while(y--)x[w[y]]=1;y=z.length;while(y--){var aa=z[y],ba=q[aa];if(!x[aa]&&ba.isAvailable())return aa;}}var u={register:function(w,x){n.debug('Registering %s as XDM provider',w);r.transports.push(w);q[w]=x;},create:function(w){if(!w.whenReady&&!w.onMessage){n.error('An instance without whenReady or onMessage makes no sense');throw new Error('An instance without whenReady or '+'onMessage makes no sense');}if(!w.channel){n.warn('Missing channel name, selecting at random');w.channel=m();}if(!w.whenReady)w.whenReady=j;if(!w.onMessage)w.onMessage=j;var x=w.transport||t(w.blacklist||[]),y=q[x];if(y&&y.isAvailable()){n.debug('%s is available',x);y.init(w);return x;}}};u.register('flash',(function(){var w=false,x,y=false,z=15000,aa;return {isAvailable:function(){return k.checkMinVersion('8.0.24');},init:function(ba){n.debug('init flash: '+ba.channel);var ca={send:function(fa,ga,ha,ia){n.debug('sending to: %s (%s)',ga,ia);x.postMessage(fa,ga,ia);}};if(w){ba.whenReady(ca);return;}var da=ba.root.appendChild(s.document.createElement('div')),ea=l.create(function(){l.remove(ea);clearTimeout(aa);n.info('xdm.swf called the callback');var fa=l.create(function(ga,ha){ga=decodeURIComponent(ga);ha=decodeURIComponent(ha);n.debug('received message %s from %s',ga,ha);ba.onMessage(ga,ha);},'xdm.swf:onMessage');x.init(ba.channel,fa);ba.whenReady(ca);},'xdm.swf:load');x=k.embed(ba.flashUrl,da,null,{protocol:location.protocol.replace(':',''),host:location.host,callback:ea,log:y});aa=setTimeout(function(){n.warn('The Flash component did not load within %s ms - '+'verify that the container is not set to hidden or invisible '+'using CSS as this will cause some browsers to not load '+'the components',z);},z);w=true;}};})());var v=/\.facebook\.com(\/|$)/;u.register('postmessage',(function(){var w=false;return {isAvailable:function(){return !!s.postMessage;},init:function(x){n.debug('init postMessage: '+x.channel);var y='_FB_'+x.channel,z={send:function(aa,ba,ca,da){if(s===ca){n.error('Invalid windowref, equal to window (self)');throw new Error();}n.debug('sending to: %s (%s)',ba,da);var ea=function(){ca.postMessage('_FB_'+da+aa,ba);};if(o.ie()==8||o.ieCompatibilityMode()){setTimeout(ea,0);}else ea();}};if(w){x.whenReady(z);return;}h.add(s,'message',p(function(event){var aa=event.data,ba=event.origin||'native';if(!/^(https?:\/\/|native$)/.test(ba)){n.debug('Received message from invalid origin type: %s',ba);return;}if(ba!=='native'&&!(v.test(location.hostname)||v.test(event.origin)))return;if(typeof aa!='string'){n.warn('Received message of type %s from %s, expected a string',typeof aa,ba);return;}n.debug('received message %s from %s',aa,ba);if(aa.substring(0,y.length)==y)aa=aa.substring(y.length);x.onMessage(aa,ba);},'entry','onMessage'));x.whenReady(z);w=true;}};})());f.exports=u;},null);
__d('isFacebookURI',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=null,i=['http','https'];function j(k){if(!h)h=new RegExp('(^|\\.)facebook\\.com$','i');if(k.isEmpty()&&k.toString()!=='#')return false;if(!k.getDomain()&&!k.getProtocol())return true;return ES(i,'indexOf',true,k.getProtocol())!==-1&&h.test(k.getDomain());}j.setRegex=function(k){h=k;};f.exports=j;},null);
__d('sdk.Event',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={SUBSCRIBE:'event.subscribe',UNSUBSCRIBE:'event.unsubscribe',subscribers:function(){if(!this._subscribersMap)this._subscribersMap={};return this._subscribersMap;},subscribe:function(i,j){var k=this.subscribers();if(!k[i]){k[i]=[j];}else if(ES(k[i],'indexOf',true,j)==-1)k[i].push(j);if(i!=this.SUBSCRIBE&&i!=this.UNSUBSCRIBE)this.fire(this.SUBSCRIBE,i,k[i]);},unsubscribe:function(i,j){var k=this.subscribers()[i];if(k)ES(k,'forEach',true,function(l,m){if(l==j)k.splice(m,1);});if(i!=this.SUBSCRIBE&&i!=this.UNSUBSCRIBE)this.fire(this.UNSUBSCRIBE,i,k);},monitor:function(i,j){if(!j()){var k=this,l=function(){if(j.apply(j,arguments))k.unsubscribe(i,l);};this.subscribe(i,l);}},clear:function(i){delete this.subscribers()[i];},fire:function(i){var j=Array.prototype.slice.call(arguments,1),k=this.subscribers()[i];if(k)ES(k,'forEach',true,function(l){if(l)l.apply(this,j);});}};f.exports=h;},null);
__d('JSONRPC',['Log'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){'use strict';this.$JSONRPC1=0;this.$JSONRPC2={};this.remote=ES(function(k){this.$JSONRPC3=k;return this.remote;},'bind',true,this);this.local={};this.$JSONRPC4=j;}i.prototype.stub=function(j){'use strict';this.remote[j]=ES(function(){var k={jsonrpc:'2.0',method:j};for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];if(typeof m[m.length-1]=='function'){k.id=++this.$JSONRPC1;this.$JSONRPC2[k.id]=m.pop();}k.params=m;this.$JSONRPC4(ES('JSON','stringify',false,k),this.$JSONRPC3||{method:j});},'bind',true,this);};i.prototype.read=function(j,k){'use strict';var l=ES('JSON','parse',false,j),m=l.id;if(!l.method){if(!this.$JSONRPC2[m]){h.warn('Could not find callback %s',m);return;}var n=this.$JSONRPC2[m];delete this.$JSONRPC2[m];delete l.id;delete l.jsonrpc;n(l);return;}var o=this,p=this.local[l.method],q;if(m){q=function(t,u){var v={jsonrpc:'2.0',id:m};v[t]=u;setTimeout(function(){o.$JSONRPC4(ES('JSON','stringify',false,v),k);},0);};}else q=function(){};if(!p){h.error('Method "%s" has not been defined',l.method);q('error',{code:-32601,message:'Method not found',data:l.method});return;}l.params.push(ES(q,'bind',true,null,'result'));l.params.push(ES(q,'bind',true,null,'error'));try{var s=p.apply(k||null,l.params);if(typeof s!=='undefined')q('result',s);}catch(r){h.error('Invokation of RPC method %s resulted in the error: %s',l.method,r.message);q('error',{code:-32603,message:'Internal error',data:r.message});}};f.exports=i;},null);
__d('sdk.RPC',['Assert','JSONRPC','Queue'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=new j(),l=new i(function(n){k.enqueue(n);}),m={local:l.local,remote:l.remote,stub:ES(l.stub,'bind',true,l),setInQueue:function(n){h.isInstanceOf(j,n);n.start(function(o){l.read(o);});},getOutQueue:function(){return k;}};f.exports=m;},null);
__d('hasNamePropertyBug',['guid','UserAgent_DEPRECATED'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=i.ie()?undefined:false;function k(){var m=document.createElement("form"),n=m.appendChild(document.createElement("input"));n.name=h();j=n!==m.elements[n.name];m=n=null;return j;}function l(){return typeof j==='undefined'?k():j;}f.exports=l;},null);
__d('sdk.createIframe',['DOMEventListener','getBlankIframeSrc','guid','hasNamePropertyBug'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m){m=ES('Object','assign',false,{},m);var n,o=m.name||j(),p=m.root,q=m.style||{border:'none'},r=m.url,s=m.onload,t=m.onerror;if(k()){n=document.createElement('<iframe name="'+o+'"/>');}else{n=document.createElement("iframe");n.name=o;}delete m.style;delete m.name;delete m.url;delete m.root;delete m.onload;delete m.onerror;var u=ES('Object','assign',false,{frameBorder:0,allowTransparency:true,allowFullscreen:true,scrolling:'no'},m);if(u.width)n.width=u.width+'px';if(u.height)n.height=u.height+'px';delete u.height;delete u.width;for(var v in u)if(u.hasOwnProperty(v))n.setAttribute(v,u[v]);ES('Object','assign',false,n.style,q);n.src=i();p.appendChild(n);if(s)var w=h.add(n,'load',function(){w.remove();s();});if(t)var x=h.add(n,'error',function(){x.remove();t();});n.src=r;return n;}f.exports=l;},null);
__d('sdk.feature',['JSSDKConfig','invariant'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k,l){!(arguments.length>=2)?i(0):undefined;if(h.features&&k in h.features){var m=h.features[k];if(typeof m==='object'&&typeof m.rate==='number'){if(m.rate&&Math.random()*100<=m.rate){return m.value||true;}else return m.value?null:false;}else return m;}return l;}f.exports=j;},null);
__d('sdk.XD',['sdk.Content','sdk.Event','Log','QueryString','Queue','sdk.RPC','sdk.Runtime','sdk.Scribe','sdk.URI','UrlMap','JSSDKXDConfig','XDM','isFacebookURI','sdk.createIframe','sdk.feature','guid'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=new l(),y=new l(),z=new l(),aa,ba,ca=w(),da=r.useCdn?'cdn':'www',ea=v('use_bundle',false)?r.XdBundleUrl:r.XdUrl,fa=q.resolve(da,false)+ea,ga=q.resolve(da,true)+ea,ha=w(),ia=location.protocol+'//'+location.host,ja,ka=false,la='Facebook Cross Domain Communication Frame',ma={},na=new l();m.setInQueue(na);function oa(ua){j.info('Remote XD can talk to facebook.com (%s)',ua);n.setEnvironment(ua==='canvas'?n.ENVIRONMENTS.CANVAS:n.ENVIRONMENTS.PAGETAB);}function pa(ua,va){if(!va){j.error('No senderOrigin');throw new Error();}var wa=/^https?/.exec(va)[0];switch(ua.xd_action){case 'proxy_ready':var xa,ya;if(wa=='https'){xa=z;ya=ba;n.setLoggedIntoFacebook(ua.logged_in==='true');}else{xa=y;ya=aa;}if(ua.registered){oa(ua.registered);x=xa.merge(x);}j.info('Proxy ready, starting queue %s containing %s messages',wa+'ProxyQueue',xa.getLength());xa.start(function(ab){ja.send(typeof ab==='string'?ab:k.encode(ab),va,ya.contentWindow,ha+'_'+wa);});break;case 'plugin_ready':j.info('Plugin %s ready, protocol: %s',ua.name,wa);ma[ua.name]={protocol:wa};if(l.exists(ua.name)){var za=l.get(ua.name);j.debug('Enqueuing %s messages for %s in %s',za.getLength(),ua.name,wa+'ProxyQueue');(wa=='https'?z:y).merge(za);}break;}if(ua.data)qa(ua.data,va);}function qa(ua,va){if(va&&va!=='native'&&!t(new p(va)))return;if(typeof ua=='string'){if(/^FB_RPC:/.test(ua)){na.enqueue(ua.substring(7));return;}if(ua.substring(0,1)=='{'){try{ua=ES('JSON','parse',false,ua);}catch(wa){j.warn('Failed to decode %s as JSON',ua);return;}}else ua=k.decode(ua);}if(!va)if(ua.xd_sig==ca)va=ua.xd_origin;if(ua.xd_action){pa(ua,va);return;}if(ua.access_token)n.setSecure(/^https/.test(ia));if(ua.cb){var xa=ta._callbacks[ua.cb];if(!ta._forever[ua.cb])delete ta._callbacks[ua.cb];if(xa)xa(ua);}}function ra(ua,va){if(ua=='facebook'){va.relation='parent.parent';x.enqueue(va);}else{va.relation='parent.frames["'+ua+'"]';var wa=ma[ua];if(wa){j.debug('Enqueuing message for plugin %s in %s',ua,wa.protocol+'ProxyQueue');(wa.protocol=='https'?z:y).enqueue(va);}else{j.debug('Buffering message for plugin %s',ua);l.get(ua).enqueue(va);}}}m.getOutQueue().start(function(ua){ra('facebook','FB_RPC:'+ua);});function sa(ua){if(ka)return;var va=h.appendHidden(document.createElement('div')),wa=s.create({blacklist:null,root:va,channel:ha,flashUrl:r.Flash.path,whenReady:function(xa){ja=xa;var ya={channel:ha,origin:location.protocol+'//'+location.host,transport:wa,xd_name:ua},za='#'+k.encode(ya);if(n.getSecure()!==true)aa=u({url:fa+za,name:'fb_xdm_frame_http',id:'fb_xdm_frame_http',root:va,'aria-hidden':true,title:la,tabindex:-1});ba=u({url:ga+za,name:'fb_xdm_frame_https',id:'fb_xdm_frame_https',root:va,'aria-hidden':true,title:la,tabindex:-1});},onMessage:qa});if(!wa)o.log('jssdk_error',{appId:n.getClientID(),error:'XD_TRANSPORT',extra:{message:'Failed to create a valid transport'}});ka=true;}var ta={rpc:m,_callbacks:{},_forever:{},_channel:ha,_origin:ia,onMessage:qa,recv:qa,init:sa,sendToFacebook:ra,inform:function(ua,va,wa,xa){ra('facebook',{method:ua,params:ES('JSON','stringify',false,va||{}),behavior:xa||'p',relation:wa});},handler:function(ua,va,wa,xa){var ya='#'+k.encode({cb:this.registerCallback(ua,wa,xa),origin:ia+'/'+ha,domain:location.hostname,relation:va||'opener'});return (location.protocol=='https:'?ga:fa)+ya;},registerCallback:function(ua,va,wa){wa=wa||w();if(va)ta._forever[wa]=true;ta._callbacks[wa]=ua;return wa;}};i.subscribe('init:post',function(ua){sa(ua.xdProxyName);var va=v('xd_timeout',false);if(va)setTimeout(function(){var wa=ba&&(!!aa==y.isStarted()&&!!ba==z.isStarted());if(!wa)o.log('jssdk_error',{appId:n.getClientID(),error:'XD_INITIALIZATION',extra:{message:'Failed to initialize in '+va+'ms'}});},va);});f.exports=ta;},null);
__d('sdk.getContextType',['sdk.Runtime','sdk.UA'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(){if(i.nativeApp())return 3;if(i.mobile())return 2;if(h.isEnvironment(h.ENVIRONMENTS.CANVAS))return 5;return 1;}f.exports=j;},null);
__d('sdk.Auth',['sdk.Cookie','sdk.createIframe','DOMWrapper','sdk.feature','sdk.getContextType','guid','sdk.Impressions','Log','ObservableMixin','sdk.Runtime','sdk.Scribe','sdk.SignedRequest','UrlMap','sdk.URI','sdk.XD'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w='fblo_',x=365*24*60*60*1000,y,z,aa=new p();function ba(ja,ka){var la=q.getUserID(),ma='';if(ja)if(ja.userID){ma=ja.userID;}else if(ja.signedRequest){var na=s.parse(ja.signedRequest);if(na&&na.user_id)ma=na.user_id;}var oa=q.getLoginStatus(),pa=oa==='unknown'&&ja||q.getUseCookie()&&q.getCookieUserID()!==ma,qa=la&&!ja,ra=ja&&la&&la!=ma,sa=ja!=y,ta=ka!=(oa||'unknown');q.setLoginStatus(ka);q.setAccessToken(ja&&ja.accessToken||null);q.setUserID(ma);y=ja;var ua={authResponse:ja,status:ka};if(qa||ra)aa.inform('logout',ua);if(pa||ra)aa.inform('login',ua);if(sa)aa.inform('authresponse.change',ua);if(ta)aa.inform('status.change',ua);return ua;}function ca(){return y;}function da(ja,ka,la){return function(ma){var na;if(ma&&ma.access_token){var oa=s.parse(ma.signed_request);ka={accessToken:ma.access_token,userID:oa.user_id,expiresIn:parseInt(ma.expires_in,10),signedRequest:ma.signed_request};if(ma.granted_scopes)ka.grantedScopes=ma.granted_scopes;if(q.getUseCookie()){var pa=ka.expiresIn===0?0:ES('Date','now',false)+ka.expiresIn*1000,qa=h.getDomain();if(!qa&&ma.base_domain)h.setDomain('.'+ma.base_domain);h.setSignedRequestCookie(ma.signed_request,pa);ea();}na='connected';ba(ka,na);}else if(la==='logout'||la==='login_status'){if(ma.error&&ma.error==='not_authorized'){na='not_authorized';}else na='unknown';ba(null,na);if(q.getUseCookie())h.clearSignedRequestCookie();if(la==='logout'){fa();r.log('jssdk_error',{appId:q.getClientID(),error:'PLATFORM_AUTH_LOGOUT',extra:{args:{fblo:true}}});}}if(ma&&ma.https==1)q.setSecure(true);if(ja)ja({authResponse:ka,status:q.getLoginStatus()});return ka;};}function ea(){h.setRaw(w,'',0);}function fa(){h.setRaw(w,'y',ES('Date','now',false)+x);}function ga(ja){var ka,la=ES('Date','now',false);if(z){clearTimeout(z);z=null;}var ma=h.getRaw(w)==='y';if(k('getloginstatus_tracking',true))r.log('jssdk_error',{appId:q.getClientID(),error:'PLATFORM_AUTH_GETLOGINSTATUS',extra:{args:{fblo:ma}}});if(ma){var na='unknown';ba(null,na);if(ja)ja({authResponse:null,status:na});return;}var oa=da(ja,y,'login_status'),pa=new u(t.resolve('www',true)+'/connect/ping').setQueryData({client_id:q.getClientID(),response_type:'token,signed_request,code',domain:location.hostname,origin:l(),redirect_uri:v.handler(function(qa){if(k('e2e_ping_tracking',true)){var ra={init:la,close:ES('Date','now',false),method:'ping'};o.debug('e2e: %s',ES('JSON','stringify',false,ra));n.log(114,{payload:ra});}ka.parentNode.removeChild(ka);if(oa(qa))z=setTimeout(function(){ga(function(){});},1200000);},'parent'),sdk:'joey',kid_directed_site:q.getKidDirectedSite()});ka=i({root:j.getRoot(),name:m(),url:pa.toString(),style:{display:'none'}});}var ha;function ia(ja,ka){if(!q.getClientID()){o.warn('FB.getLoginStatus() called before calling FB.init().');return;}if(ja)if(!ka&&ha=='loaded'){ja({status:q.getLoginStatus(),authResponse:ca()});return;}else aa.subscribe('FB.loginStatus',ja);if(!ka&&ha=='loading')return;ha='loading';var la=function(ma){ha='loaded';aa.inform('FB.loginStatus',ma);aa.clearSubscribers('FB.loginStatus');};ga(la);}ES('Object','assign',false,aa,{removeLogoutState:ea,getLoginStatus:ia,fetchLoginStatus:ga,setAuthResponse:ba,getAuthResponse:ca,parseSignedRequest:s.parse,xdResponseWrapper:da});f.exports=aa;},null);
__d('sdk.DOM',['Assert','sdk.UA','sdk.domReady'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={};function l(z,aa){var ba=z.getAttribute(aa)||z.getAttribute(aa.replace(/_/g,'-'))||z.getAttribute(aa.replace(/-/g,'_'))||z.getAttribute(aa.replace(/-/g,''))||z.getAttribute(aa.replace(/_/g,''))||z.getAttribute('data-'+aa)||z.getAttribute('data-'+aa.replace(/_/g,'-'))||z.getAttribute('data-'+aa.replace(/-/g,'_'))||z.getAttribute('data-'+aa.replace(/-/g,''))||z.getAttribute('data-'+aa.replace(/_/g,''));return ba?String(ba):null;}function m(z,aa){var ba=l(z,aa);return ba?/^(true|1|yes|on)$/.test(ba):null;}function n(z,aa){h.isTruthy(z,'element not specified');h.isString(aa);try{return String(z[aa]);}catch(ba){throw new Error('Could not read property '+aa+' : '+ba.message);}}function o(z,aa){h.isTruthy(z,'element not specified');h.isString(aa);try{z.innerHTML=aa;}catch(ba){throw new Error('Could not set innerHTML : '+ba.message);}}function p(z,aa){h.isTruthy(z,'element not specified');h.isString(aa);var ba=' '+n(z,'className')+' ';return ES(ba,'indexOf',true,' '+aa+' ')>=0;}function q(z,aa){h.isTruthy(z,'element not specified');h.isString(aa);if(!p(z,aa))z.className=n(z,'className')+' '+aa;}function r(z,aa){h.isTruthy(z,'element not specified');h.isString(aa);var ba=new RegExp('\\s*'+aa,'g');z.className=ES(n(z,'className').replace(ba,''),'trim',true);}function s(z,aa,ba){h.isString(z);aa=aa||document.body;ba=ba||'*';if(aa.querySelectorAll)return ES('Array','from',false,aa.querySelectorAll(ba+'.'+z));var ca=aa.getElementsByTagName(ba),da=[];for(var ea=0,fa=ca.length;ea<fa;ea++)if(p(ca[ea],z))da[da.length]=ca[ea];return da;}function t(z,aa){h.isTruthy(z,'element not specified');h.isString(aa);aa=aa.replace(/-(\w)/g,function(da,ea){return ea.toUpperCase();});var ba=z.currentStyle||document.defaultView.getComputedStyle(z,null),ca=ba[aa];if(/backgroundPosition?/.test(aa)&&/top|left/.test(ca))ca='0%';return ca;}function u(z,aa,ba){h.isTruthy(z,'element not specified');h.isString(aa);aa=aa.replace(/-(\w)/g,function(ca,da){return da.toUpperCase();});z.style[aa]=ba;}function v(z,aa){var ba=true;for(var ca=0,da;da=aa[ca++];)if(!(da in k)){ba=false;k[da]=true;}if(ba)return;if(i.ie()<11){try{document.createStyleSheet().cssText=z;}catch(ea){if(document.styleSheets[0])document.styleSheets[0].cssText+=z;}}else{var fa=document.createElement('style');fa.type='text/css';fa.textContent=z;document.getElementsByTagName('head')[0].appendChild(fa);}}function w(){var z=document.documentElement&&document.compatMode=='CSS1Compat'?document.documentElement:document.body;return {scrollTop:z.scrollTop||document.body.scrollTop,scrollLeft:z.scrollLeft||document.body.scrollLeft,width:window.innerWidth?window.innerWidth:z.clientWidth,height:window.innerHeight?window.innerHeight:z.clientHeight};}function x(z){h.isTruthy(z,'element not specified');var aa=0,ba=0;do{aa+=z.offsetLeft;ba+=z.offsetTop;}while(z=z.offsetParent);return {x:aa,y:ba};}var y={containsCss:p,addCss:q,removeCss:r,getByClass:s,getStyle:t,setStyle:u,getAttr:l,getBoolAttr:m,getProp:n,html:o,addCssRules:v,getViewportInfo:w,getPosition:x,ready:j};f.exports=y;},null);
__d('sdk.ErrorHandling',['ManagedError','sdk.Runtime','sdk.Scribe','sdk.UA','sdk.feature','wrapFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=l('error_handling',false),o='';function p(v){var w=v._originalError;delete v._originalError;j.log('jssdk_error',{appId:i.getClientID(),error:v.name||v.message,extra:v});throw w;}function q(v){var w={line:v.lineNumber||v.line,message:v.message,name:v.name,script:v.fileName||v.sourceURL||v.script,stack:v.stackTrace||v.stack};w._originalError=v;if(k.chrome()&&/([\w:\.\/]+\.js):(\d+)/.test(v.stack)){w.script=RegExp.$1;w.line=parseInt(RegExp.$2,10);}for(var x in w)w[x]==null&&delete w[x];return w;}function r(v,w){return function(){if(!n)return v.apply(this,arguments);try{o=w;return v.apply(this,arguments);}catch(x){if(x instanceof h)throw x;var y=q(x);y.entry=w;var z=ES(Array.prototype.slice.call(arguments),'map',true,function(aa){var ba=Object.prototype.toString.call(aa);return (/^\[object (String|Number|Boolean|Object|Date)\]$/.test(ba)?aa:aa.toString());});y.args=ES('JSON','stringify',false,z).substring(0,200);p(y);}finally{o='';}};}function s(v){if(!v.__wrapper)v.__wrapper=function(){try{return v.apply(this,arguments);}catch(w){window.setTimeout(function(){throw w;},0);return false;}};return v.__wrapper;}function t(v,w){return function(x,y){var z=w+':'+(o||'[global]')+':'+(x.name||'[anonymous]'+(arguments.callee.caller.name?'('+arguments.callee.caller.name+')':''));return v(m(x,'entry',z),y);};}if(n){setTimeout=t(setTimeout,'setTimeout');setInterval=t(setInterval,'setInterval');m.setWrapper(r,'entry');}var u={guard:r,unguard:s};f.exports=u;},null);
__d('sdk.Insights',['sdk.Impressions'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={TYPE:{NOTICE:'notice',WARNING:'warn',ERROR:'error'},CATEGORY:{DEPRECATED:'deprecated',APIERROR:'apierror'},log:function(j,k,l){var m={source:'jssdk',type:j,category:k,payload:l};h.log(113,m);},impression:h.impression};f.exports=i;},null);
__d('FB',['sdk.Auth','JSSDKCssConfig','dotAccess','sdk.domReady','sdk.DOM','sdk.ErrorHandling','sdk.Content','DOMWrapper','GlobalCallback','sdk.Insights','Log','sdk.Runtime','sdk.Scribe','JSSDKConfig'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w,x=j(u,'api.mode'),y={};v=window.FB={};var z={};r.level=0;p.setPrefix('FB.__globalCallbacks');var aa=document.createElement('div');o.setRoot(aa);k(function(){r.info('domReady');n.appendHidden(aa);if(i.rules)l.addCssRules(i.rules,i.components);});s.subscribe('AccessToken.change',function(da){if(!da&&s.getLoginStatus()==='connected')h.getLoginStatus(null,true);});if(j(u,'api.whitelist.length')){w={};ES(u.api.whitelist,'forEach',true,function(da){w[da]=1;});}function ba(da,ea,fa,ga){var ha;if(/^_/.test(fa)){ha='hide';}else if(w&&!w[ea])ha=x;switch(ha){case 'hide':return;case 'stub':return function(){r.warn('The method FB.%s has been removed from the JS SDK.',ea);};default:return m.guard(function(){if(ha==='warn'){r.warn('The method FB.%s is not officially supported by '+'Facebook and access to it will soon be removed.',ea);if(!y.hasOwnProperty(ea)){q.log(q.TYPE.WARNING,q.CATEGORY.DEPRECATED,'FB.'+ea);t.log('jssdk_error',{appId:s.getClientID(),error:'Private method used',extra:{args:ea}});y[ea]=true;}}function ia(pa){if(ES('Array','isArray',false,pa))return ES(pa,'map',true,ia);if(pa&&typeof pa==='object'&&pa.__wrapped)return pa.__wrapped;return typeof pa==='function'&&/^function/.test(pa.toString())?m.unguard(pa):pa;}var ja=ES(Array.prototype.slice.call(arguments),'map',true,ia),ka=da.apply(ga,ja),la,ma=true;if(ka&&typeof ka==='object'){la=ES('Object','create',false,ka);la.__wrapped=ka;for(var na in ka){var oa=ka[na];if(typeof oa!=='function'||na==='constructor')continue;ma=false;la[na]=ba(oa,ea+':'+na,na,ka);}}if(!ma)return la;return ma?ka:la;},ea);}}function ca(da,ea){var fa=da?j(v,da,true):v;ES(ES('Object','keys',false,ea),'forEach',true,function(ga){var ha=ea[ga];if(typeof ha==='function'){var ia=(da?da+'.':'')+ga,ja=ba(ha,ia,ga,ea);if(ja)fa[ga]=ja;}else if(typeof ha==='object'){ia=(da?da+'.':'')+ga;if(w&&w[ia])fa[ga]=ha;}});}s.setSecure((function(){var da=/iframe_canvas|app_runner/.test(window.name),ea=/dialog/.test(window.name);if(location.protocol=='https:'&&(window==top||!(da||ea)))return true;if(/_fb_https?/.test(window.name))return ES(window.name,'indexOf',true,'_fb_https')!=-1;})());ES('Object','assign',false,z,{provide:ca});f.exports=z;},null);
__d('ArgumentError',['ManagedError'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){h.prototype.constructor.apply(this,arguments);}i.prototype=new h();i.prototype.constructor=i;f.exports=i;},null);
__d('CORSRequest',['wrapFunction','QueryString'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(m,n){if(!self.XMLHttpRequest)return null;var o=new XMLHttpRequest(),p=function(){};if('withCredentials' in o){o.open(m,n,true);o.setRequestHeader('Content-type','application/x-www-form-urlencoded');}else if(self.XDomainRequest){o=new XDomainRequest();try{o.open(m,n);o.onprogress=o.ontimeout=p;}catch(q){return null;}}else return null;var r={send:function(u){o.send(u);}},s=h(function(){s=p;if('onload' in r)r.onload(o);},'entry','XMLHttpRequest:load'),t=h(function(){t=p;if('onerror' in r)r.onerror(o);},'entry','XMLHttpRequest:error');o.onload=function(){s();};o.onerror=function(){t();};o.onreadystatechange=function(){if(o.readyState==4)if(o.status==200){s();}else t();};return r;}function k(m,n,o,p){o.suppress_http_code=1;var q=i.encode(o);if(n!='post'){m=i.appendToUrl(m,q);q='';}var r=j(n,m);if(!r)return false;r.onload=function(s){p(ES('JSON','parse',false,s.responseText));};r.onerror=function(s){if(s.responseText){p(ES('JSON','parse',false,s.responseText));}else p({error:{type:'http',message:'unknown error',status:s.status}});};r.send(q);return true;}var l={execute:k};f.exports=l;},null);
__d('FlashRequest',['DOMWrapper','Flash','GlobalCallback','QueryString','Queue'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n={},o,p;function q(){if(!o)throw new Error('swfUrl has not been set');var t=j.create(function(){m.start(function(v){var w=p.execute(v.method,v.url,v.body);if(!w)throw new Error('Could create request');n[w]=v.callback;});}),u=j.create(function(v,w,x){var y;try{y=ES('JSON','parse',false,decodeURIComponent(x));}catch(z){y={error:{type:'SyntaxError',message:z.message,status:w,raw:x}};}n[v](y);delete n[v];});p=i.embed(o,h.getRoot(),null,{log:false,initCallback:t,requestCallback:u});}function r(t,u,v,w){v.suppress_http_code=1;if(!v.method)v.method=u;var x=k.encode(v);if(u==='get'&&t.length+x.length<2000){t=k.appendToUrl(t,x);x='';}else u='post';if(!m){if(!i.isAvailable())return false;m=new l();q();}m.enqueue({method:u,url:t,body:x,callback:w});return true;}var s={setSwfUrl:function(t){o=t;},execute:r};f.exports=s;},null);
__d('JSONPRequest',['DOMWrapper','GlobalCallback','QueryString'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=2000;function l(n,o,p,q){var r=document.createElement('script'),s=function(u){s=function(){};i.remove(p.callback);q(u);r.parentNode.removeChild(r);};p.callback=i.create(s);if(!p.method)p.method=o;n=j.appendToUrl(n,p);if(n.length>k){i.remove(p.callback);return false;}r.onerror=function(){s({error:{type:'http',message:'unknown error'}});};var t=function(){setTimeout(function(){s({error:{type:'http',message:'unknown error'}});},0);};if(r.addEventListener){r.addEventListener('load',t,false);}else r.onreadystatechange=function(){if(/loaded|complete/.test(this.readyState))t();};r.src=n;h.getRoot().appendChild(r);return true;}var m={execute:l,MAX_QUERYSTRING_LENGTH:k};f.exports=m;},null);
__d('flattenObject',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){var j={};for(var k in i)if(i.hasOwnProperty(k)){var l=i[k];if(null===l||undefined===l){continue;}else if(typeof l=='string'){j[k]=l;}else j[k]=ES('JSON','stringify',false,l);}return j;}f.exports=h;},null);
__d('ApiClient',['ArgumentError','Assert','CORSRequest','FlashRequest','flattenObject','JSONPRequest','Log','ObservableMixin','QueryString','sprintf','sdk.URI','UrlMap','ApiClientConfig','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w,x,y=m.MAX_QUERYSTRING_LENGTH,z={get:true,post:true,'delete':true,put:true},aa={fql_query:true,fql_multiquery:true,friends_get:true,notifications_get:true,stream_get:true,users_getinfo:true},ba=['jsonp','cors','flash'],ca=[],da=[],ea=null,fa=0,ga=[],ha=0,ia=50,ja=105440539523;function ka(ua,va,wa,xa){var ya=ha!==0&&fa>=ha;if(ya){ga.push(function(){return ka(ua,va,wa,xa);});sa.inform('request.queued',ua,va,wa);return;}fa++;if(x)wa=ES('Object','assign',false,{},x,wa);wa.access_token=wa.access_token||v;wa.pretty=wa.pretty||0;wa=l(wa);var za={jsonp:m,cors:j,flash:k},ab;if(wa.transport){ab=[wa.transport];delete wa.transport;}else ab=ba;for(var bb=0;bb<ab.length;bb++){var cb=za[ab[bb]],db=ES('Object','assign',false,{},wa);if(cb.execute(ua,va,db,xa))return;}xa({error:{type:'no-transport',message:'Could not find a usable transport for request'}});}function la(ua,va,wa,xa,ya,za){if(za&&za.error)sa.inform('request.error',va,wa,xa,za,ES('Date','now',false)-ya);sa.inform('request.complete',va,wa,xa,za,ES('Date','now',false)-ya);fa--;if(ua)ua(za);var ab=ga.length>0&&fa<ha;if(ab){var bb=ga.shift();bb();}}function ma(ua){var va=ua.shift();i.isString(va,'Invalid path');if(!/^https?/.test(va)&&va.charAt(0)!=='/')va='/'+va;var wa,xa={};try{wa=new r(va);}catch(ya){throw new h(ya.message,ya);}ES(ua,'forEach',true,function(cb){return xa[typeof cb]=cb;});var za=(xa.string||'get').toLowerCase();i.isTrue(z.hasOwnProperty(za),q('Invalid method passed to ApiClient: %s',za));var ab=xa['function'];if(!ab)n.warn('No callback passed to the ApiClient');if(xa.object)wa.addQueryData(l(xa.object));var bb=wa.getQueryData();bb.method=za;return {uri:wa,callback:ab,params:bb};}function na(){for(var ua=arguments.length,va=Array(ua),wa=0;wa<ua;wa++)va[wa]=arguments[wa];var xa=ma(va),ya=xa.uri,za=xa.callback,ab=xa.params,bb=ab.method;if(ta(ya,bb))bb='post';var cb=ya.getProtocol()&&ya.getDomain()?ya.setQueryData({}).toString():s.resolve('graph')+ya.getPath();sa.inform('request.prepare',cb,ab);ka(cb,bb=='get'?'get':'post',ab,ES(la,'bind',true,null,za,ya.getPath(),bb,ab,ES('Date','now',false)));}function oa(ua){var va=ma(ua),wa=va.uri,xa=va.callback,ya=va.params.method,za,ab=wa.removeQueryData('method').toString();if(ya.toLowerCase()=='post'){za=p.encode(wa.getQueryData());ab=wa.setQueryData({}).toString();}return {body:za,callback:xa,method:ya,relative_url:ab};}function pa(){for(var ua=arguments.length,va=Array(ua),wa=0;wa<ua;wa++)va[wa]=arguments[wa];var xa=oa(va),ya=xa.body,za=xa.callback,ab=xa.method,bb=xa.relative_url,cb={method:ab,relative_url:bb};if(ya)cb.body=ya;ca.push(cb);da.push(za);if(ca.length==ia){if(ea)clearTimeout(ea);qa();}else if(!ea)ea=setTimeout(qa,0);}function qa(){!(ca.length>0)?u(0):undefined;!(ca.length===da.length)?u(0):undefined;var ua=ca,va=da;ca=[];da=[];ea=null;if(ua.length===1){var wa=ua[0],xa=va[0],ya=wa.body?p.decode(wa.body):null;na(wa.relative_url,wa.method,ya,xa);return;}na('/','POST',{batch:ua,include_headers:false,batch_app_id:w||ja},function(za){if(ES('Array','isArray',false,za)){ES(za,'forEach',true,function(ab,bb){va[bb](ES('JSON','parse',false,ab.body));});}else ES(va,'forEach',true,function(ab){return (ab({error:{message:'Fatal: batch call failed.'}}));});});}function ra(ua,va){i.isObject(ua);i.isString(ua.method,'method missing');if(!va)n.warn('No callback passed to the ApiClient');var wa=ua.method.toLowerCase().replace('.','_');ua.format='json-strings';ua.api_key=w;var xa=wa in aa?'api_read':'api',ya=s.resolve(xa)+'/restserver.php',za=ES(la,'bind',true,null,va,'/restserver.php','get',ua,ES('Date','now',false));ka(ya,'get',ua,za);}var sa=ES('Object','assign',false,new o(),{setAccessToken:function(ua){v=ua;},setAccessTokenForClientID:function(ua,va){if(!(v&&w&&w!==va))v=ua;},getAccessToken:function(){return v;},setClientID:function(ua){w=ua;},setDefaultParams:function(ua){x=ua;},setDefaultTransports:function(ua){ba=ua;},setMaxConcurrentRequests:function(ua){ha=ua;},getCurrentlyExecutingRequestCount:function(){return fa;},getQueuedRequestCount:function(){return ga.length;},rest:ra,graph:na,scheduleBatchCall:pa,prepareBatchParams:oa});function ta(ua,va){return ua.toString().length>y&&va==='get';}k.setSwfUrl(t.FlashRequest.swfUrl);f.exports=sa;},null);
__d('sdk.PlatformVersioning',['sdk.Runtime','ManagedError'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=/^v\d+\.\d\d?$/,k={REGEX:j,assertVersionIsSet:function(){if(!h.getVersion())throw new i('init not called with valid version');},assertValidVersion:function(l){if(!j.test(l))throw new i('invalid version specified');}};f.exports=k;},null);
__d('sdk.api',['ApiClient','sdk.PlatformVersioning','sdk.Runtime','sdk.Scribe','sdk.URI','sdk.feature'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=m('should_log_response_error',false),o;j.subscribe('ClientID.change',function(q){return h.setClientID(q);});j.subscribe('AccessToken.change',function(q){o=q;h.setAccessToken(q);});h.setDefaultParams({sdk:'joey'});h.subscribe('request.complete',function(q,r,s,t){var u=false;if(t&&typeof t=='object')if(t.error){if(t.error=='invalid_token'||t.error.type=='OAuthException'&&t.error.code==190)u=true;}else if(t.error_code)if(t.error_code=='190')u=true;if(u&&o===j.getAccessToken())j.setAccessToken(null);});h.subscribe('request.complete',function(q,r,s,t){if((q=='/me/permissions'&&r==='delete'||q=='/restserver.php'&&s.method=='Auth.revokeAuthorization')&&t===true)j.setAccessToken(null);});h.subscribe('request.error',function(q,r,s,t){if(n&&t.error.type==='http')k.log('jssdk_error',{appId:j.getClientID(),error:'transport',extra:{name:'transport',message:ES('JSON','stringify',false,t.error)}});});function p(q){if(typeof q==='string'){if(j.getIsVersioned()){i.assertVersionIsSet();if(!/https?/.test(q)&&q.charAt(0)!=='/')q='/'+q;q=new l(q).setDomain(null).setProtocol(null).toString();if(!i.REGEX.test(q.substring(1,ES(q,'indexOf',true,'/',1))))q='/'+j.getVersion()+q;var r=[q].concat(Array.prototype.slice.call(arguments,1));h.graph.apply(h,r);}else h.graph.apply(h,arguments);}else h.rest.apply(h,arguments);}f.exports=p;},null);
__d('legacy:fb.api',['FB','sdk.api'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();h.provide('',{api:i});},3);
__d('resolveURI',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){if(!i)return window.location.href;i=i.replace(/&/g,'&amp;').replace(/"/g,'&quot;');var j=document.createElement('div');j.innerHTML='<a href="'+i+'"></a>';return j.firstChild.href;}f.exports=h;},null);
__d('sdk.Canvas.Environment',['sdk.RPC'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(l){h.remote.getPageInfo(function(m){l(m.result);});}function j(l,m){h.remote.scrollTo({x:l||0,y:m||0});}h.stub('getPageInfo');h.stub('scrollTo');var k={getPageInfo:i,scrollTo:j};f.exports=k;},null);
__d('sdk.fbt',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={_:function(i){return typeof i==='string'?i:i[0];}};f.exports=h;},null);
__d('sdk.Dialog',['sdk.Canvas.Environment','sdk.Content','sdk.DOM','DOMEventListener','ObservableMixin','sdk.Runtime','Type','sdk.UA','sdk.fbt','sdk.feature'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=30,s=590,t=500,u=240,v=575;function w(){if(q('dialog_resize_refactor',false)){var z=j.getViewportInfo();if(z.height&&z.width)return {width:Math.min(z.width,t),height:Math.min(z.height,s)};}return null;}var x=n.extend({constructor:function z(aa,ba){this.parent();this.id=aa;this.display=ba;this._e2e={};if(!y._dialogs){y._dialogs={};y._addOrientationHandler();}y._dialogs[aa]=this;this.trackEvent('init');},trackEvent:function(z,aa){if(this._e2e[z])return this;this._e2e[z]=aa||ES('Date','now',false);if(z=='close')this.inform('e2e:end',this._e2e);return this;},trackEvents:function(z){if(typeof z==='string')z=ES('JSON','parse',false,z);for(var aa in z)if(z.hasOwnProperty(aa))this.trackEvent(aa,z[aa]);return this;}},l),y={newInstance:function(z,aa){return new x(z,aa);},_dialogs:null,_lastYOffset:0,_overlayListeners:[],_loaderEl:null,_overlayEl:null,_stack:[],_active:null,_forceTabletStyle:null,_closeOnOverlayTap:null,_positionDialogAtTopWhenPortrait:null,get:function(z){return y._dialogs[z];},_findRoot:function(z){while(z){if(j.containsCss(z,'fb_dialog'))return z;z=z.parentNode;}},_createWWWLoader:function(z){z=z?z:460;return y.create({content:'<div class="dialog_title">'+'  <a id="fb_dialog_loader_close">'+'    <div class="fb_dialog_close_icon"></div>'+'  </a>'+'  <span>Facebook</span>'+'  <div style="clear:both;"></div>'+'</div>'+'<div class="dialog_content"></div>'+'<div class="dialog_footer"></div>',width:z});},_createMobileLoader:function(){var z;if(o.nativeApp()){z='<div class="dialog_header"></div>';}else if(y.isTabletStyle()){z='<div class="overlayLoader">'+'<div id="fb_dialog_loader_spinner"></div>'+'<a id="fb_dialog_loader_close" href="#">'+p._("\u041e\u0442\u043c\u0435\u043d\u0430")+'</a>'+'</div>';}else z='<div class="dialog_header">'+'<table>'+'  <tbody>'+'    <tr>'+'      <td class="header_left">'+'        <label class="touchable_button">'+'          <input type="submit" value="'+p._("\u041e\u0442\u043c\u0435\u043d\u0430")+'"'+'            id="fb_dialog_loader_close"/>'+'        </label>'+'      </td>'+'      <td class="header_center">'+'        <div>'+'         '+p._("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")+'        </div>'+'      </td>'+'      <td class="header_right">'+'      </td>'+'    </tr>'+'  </tbody>'+'</table>'+'</div>';return y.create({classes:'loading'+(y.isTabletStyle()?' centered':''),content:z});},_restoreBodyPosition:function(){var z=document.body;if(y.isTabletStyle()){j.removeCss(z,'fb_reposition');}else j.removeCss(z,'fb_hidden');},_setDialogOverlayStyle:function(){if(!y._overlayEl)return;var z=j.getViewportInfo();y._overlayEl.style.minHeight=z.height||z.width?z.height+'px':null;y._overlayEl.style.top=z.scrollTop?z.scrollTop+'px':null;},_showTabletOverlay:function(z){if(!y.isTabletStyle())return;if(!y._overlayEl){y._overlayEl=document.createElement('div');y._overlayEl.setAttribute('id','fb_dialog_ipad_overlay');i.append(y._overlayEl,null);}y._setDialogOverlayStyle();if(y._closeOnOverlayTap){var aa=false;setTimeout(function(){return aa=true;},3000);var ba=k.add(y._overlayEl,'click',function(){if(aa)z();});y._overlayListeners.push(ba);}y._overlayEl.className='';},_hideTabletOverlay:function(){if(y.isTabletStyle()){y._overlayEl.className='hidden';ES(y._overlayListeners,'forEach',true,function(z){return z.remove();});y._overlayListeners=[];}},showLoader:function(z,aa){if(!z)z=function(){};var ba=function(){y._hideLoader();y._restoreBodyPosition();y._hideTabletOverlay();z();};y._showTabletOverlay(ba);if(!y._loaderEl)y._loaderEl=y._findRoot(o.mobile()?y._createMobileLoader():y._createWWWLoader(aa));var ca=document.getElementById('fb_dialog_loader_close');if(ca){j.removeCss(ca,'fb_hidden');var da=k.add(ca,'click',ba);y._overlayListeners.push(da);}y._makeActive(y._loaderEl);},setCloseOnOverlayTap:function(z){y._closeOnOverlayTap=!!z;},setPositionDialogAtTopWhenPortrait:function(z){y._positionDialogAtTopWhenPortrait=!!z;},_hideLoader:function(){if(y._loaderEl&&y._loaderEl==y._active)y._loaderEl.style.top='-10000px';},_makeActive:function(z){y._setDialogSizes();y._lowerActive();y._active=z;if(m.isEnvironment(m.ENVIRONMENTS.CANVAS))h.getPageInfo(function(aa){y._centerActive(aa);});y._centerActive();},_lowerActive:function(){if(!y._active)return;y._active.style.top='-10000px';y._active=null;},_removeStacked:function(z){y._stack=ES(y._stack,'filter',true,function(aa){return aa!=z;});},_centerActive:function(z){var aa=y._active;if(!aa)return;var ba=j.getViewportInfo(),ca=parseInt(aa.offsetWidth,10),da=parseInt(aa.offsetHeight,10),ea=ba.scrollLeft+(ba.width-ca)/2,fa=(ba.height-da)/2.5;if(ea<fa)fa=ea;var ga=ba.height-da-fa,ha=(ba.height-da)/2;if(z)ha=z.scrollTop-z.offsetTop+(z.clientHeight-da)/2;if(ha<fa){ha=fa;}else if(ha>ga)ha=ga;ha+=ba.scrollTop;if(o.mobile()){var ia=100,ja=document.body;if(y.isTabletStyle()){ia+=(ba.height-da)/2;j.addCss(ja,'fb_reposition');}else{j.addCss(ja,'fb_hidden');if(q('dialog_resize_refactor',false))ja.style.width='auto';ha=10000;}var ka=j.getByClass('fb_dialog_padding',aa);if(ka.length)ka[0].style.height=ia+'px';}aa.style.left=(ea>0?ea:0)+'px';aa.style.top=(ha>0?ha:0)+'px';if(y._positionDialogAtTopWhenPortrait&&window.innerWidth<window.innerHeight){ha=(ba.height-da)*.1+ba.scrollTop;aa.style.top=ha+'px';}},_setDialogSizes:function(){var z=arguments.length<=0||arguments[0]===undefined?false:arguments[0];if(!o.mobile())return;for(var aa in y._dialogs)if(y._dialogs.hasOwnProperty(aa)){var ba=document.getElementById(aa);if(ba){ba.style.width=y.getDefaultSize().width+'px';if(!z)ba.style.height=y.getDefaultSize().height+'px';}}},getDefaultSize:function(){if(o.mobile()){var z=w();if(z){if(j.getViewportInfo().width<=z.width)z.width=j.getViewportInfo().width-r;if(j.getViewportInfo().height<=z.height)z.height=j.getViewportInfo().height-r;return z;}if(o.ipad())return {width:t,height:s};if(o.android()){return {width:screen.availWidth,height:screen.availHeight};}else{var aa=window.innerWidth,ba=window.innerHeight,ca=aa/ba>1.2;return {width:aa,height:Math.max(ba,ca?screen.width:screen.height)};}}return {width:v,height:u};},_handleOrientationChange:function(){var z=q('dialog_resize_refactor',false)?j.getViewportInfo().width:screen.availWidth;y._availScreenWidth=z;if(y.isTabletStyle()){y._setDialogSizes(true);y._centerActive();y._setDialogOverlayStyle();}else{var aa=y.getDefaultSize().width;for(var ba in y._dialogs)if(y._dialogs.hasOwnProperty(ba)){var ca=document.getElementById(ba);if(ca)ca.style.width=aa+'px';}}},_addOrientationHandler:function(){if(!o.mobile())return;var z="onorientationchange" in window?'orientationchange':'resize';y._availScreenWidth=q('dialog_resize_refactor',false)?j.getViewportInfo().width:screen.availWidth;k.add(window,z,function(aa){return setTimeout(y._handleOrientationChange,50);});},create:function(z){z=z||{};var aa=document.createElement('div'),ba=document.createElement('div'),ca='fb_dialog';if(z.closeIcon&&z.onClose){var da=document.createElement('a');da.className='fb_dialog_close_icon';da.onclick=z.onClose;aa.appendChild(da);}ca+=' '+(z.classes||'');if(o.ie()){ca+=' fb_dialog_legacy';ES(['vert_left','vert_right','horiz_top','horiz_bottom','top_left','top_right','bottom_left','bottom_right'],'forEach',true,function(ga){var ha=document.createElement('span');ha.className='fb_dialog_'+ga;aa.appendChild(ha);});}else ca+=o.mobile()?' fb_dialog_mobile':' fb_dialog_advanced';if(z.content)i.append(z.content,ba);aa.className=ca;var ea=parseInt(z.width,10);if(!isNaN(ea))aa.style.width=ea+'px';ba.className='fb_dialog_content';aa.appendChild(ba);if(o.mobile()){var fa=document.createElement('div');fa.className='fb_dialog_padding';aa.appendChild(fa);}i.append(aa);if(z.visible)y.show(aa);return ba;},show:function(z){var aa=y._findRoot(z);if(aa){y._removeStacked(aa);y._hideLoader();y._makeActive(aa);y._stack.push(aa);if('fbCallID' in z)y.get(z.fbCallID).inform('iframe_show').trackEvent('show');}},hide:function(z){var aa=y._findRoot(z);y._hideLoader();if(aa==y._active){y._lowerActive();y._restoreBodyPosition();y._hideTabletOverlay();if('fbCallID' in z)y.get(z.fbCallID).inform('iframe_hide').trackEvent('hide');}},remove:function(z){z=y._findRoot(z);if(z){var aa=y._active==z;y._removeStacked(z);if(aa){y._hideLoader();if(y._stack.length>0){y.show(y._stack.pop());}else{y._lowerActive();y._restoreBodyPosition();y._hideTabletOverlay();}}else if(y._active===null&&y._stack.length>0)y.show(y._stack.pop());setTimeout(function(){z.parentNode.removeChild(z);},3000);}},isActive:function(z){var aa=y._findRoot(z);return aa&&aa===y._active;},setForceTabletStyle:function(z){y._forceTabletStyle=!!z;},isTabletStyle:function(){var z;if(!o.mobile())return false;if(y._forceTabletStyle)return true;if(q('dialog_resize_refactor',false)){var aa=w();z=aa&&(aa.height>=s||aa.width>=t);}else z=!!o.ipad();return z;}};f.exports=y;},null);
__d('sdk.Frictionless',['sdk.Auth','sdk.api','sdk.Event','sdk.Dialog'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={_allowedRecipients:{},_useFrictionless:false,_updateRecipients:function(){l._allowedRecipients={};i('/me/apprequestformerrecipients',function(m){if(!m||m.error)return;ES(m.data,'forEach',true,function(n){l._allowedRecipients[n.recipient_id]=true;});});},init:function(){l._useFrictionless=true;h.getLoginStatus(function(m){if(m.status=='connected')l._updateRecipients();});j.subscribe('auth.login',function(m){if(m.authResponse)l._updateRecipients();});},_processRequestResponse:function(m,n){return function(o){var p=o&&o.updated_frictionless;if(l._useFrictionless&&p)l._updateRecipients();if(o){if(!n&&o.frictionless){k._hideLoader();k._restoreBodyPosition();k._hideIPadOverlay();}delete o.frictionless;delete o.updated_frictionless;}m&&m(o);};},isAllowed:function(m){if(!m)return false;if(typeof m==='number')return m in l._allowedRecipients;if(typeof m==='string')m=m.split(',');m=ES(m,'map',true,function(p){return ES(String(p),'trim',true);});var n=true,o=false;ES(m,'forEach',true,function(p){n=n&&p in l._allowedRecipients;o=true;});return n&&o;}};j.subscribe('init:post',function(m){if(m.frictionlessRequests)l.init();});f.exports=l;},null);
__d('sdk.Native',['Log','sdk.UA'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j='fbNativeReady',k={onready:function(l){if(!i.nativeApp()){h.error('FB.Native.onready only works when the page is rendered '+'in a WebView of the native Facebook app. Test if this is the '+'case calling FB.UA.nativeApp()');return;}if(window.__fbNative&&!this.nativeReady)ES('Object','assign',false,this,window.__fbNative);if(this.nativeReady){l();}else{var m=function(n){window.removeEventListener(j,m);this.onready(l);};window.addEventListener(j,m,false);}}};f.exports=k;},null);
__d('sdk.UIServer',['sdk.Auth','sdk.Content','sdk.DOM','sdk.Dialog','sdk.Event','sdk.Frictionless','Log','sdk.Native','QueryString','sdk.RPC','sdk.Runtime','JSSDKConfig','sdk.UA','UrlMap','sdk.XD','createObjectFrom','sdk.feature','sdk.fbt','flattenObject','sdk.getContextType','guid','insertIframe','resolveURI'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){if(c.__markCompiled)c.__markCompiled();var ea={transform:function(ka){if(ka.params.display==='touch'&&ja.canIframe(ka.params)&&window.postMessage){ka.params.channel=ja._xdChannelHandler(ka.id,'parent');if(!t.nativeApp())ka.params.in_iframe=1;return ka;}else return ja.genericTransform(ka);},getXdRelation:function(ka){var la=ka.display;if(la==='touch'&&window.postMessage&&ka.in_iframe)return 'parent';return ja.getXdRelation(ka);}},fa={'stream.share':{size:{width:670,height:340},url:'sharer.php',transform:function(ka){if(!ka.params.u)ka.params.u=window.location.toString();ka.params.display='popup';return ka;}},apprequests:{transform:function(ka){ka=ea.transform(ka);ka.params.frictionless=m&&m._useFrictionless;if(ka.params.frictionless){if(m.isAllowed(ka.params.to)){ka.params.display='iframe';ka.params.in_iframe=true;ka.hideLoader=true;}ka.cb=m._processRequestResponse(ka.cb,ka.hideLoader);}ka.closeIcon=false;return ka;},getXdRelation:ea.getXdRelation},'permissions.oauth':{url:'dialog/oauth',size:{width:t.mobile()?null:475,height:t.mobile()?null:183},transform:function(ka){if(!r.getClientID()){n.error('FB.login() called before FB.init().');return;}if(h.getAuthResponse()&&!ka.params.scope&&!ka.params.auth_type){n.error('FB.login() called when user is already connected.');ka.cb&&ka.cb({status:r.getLoginStatus(),authResponse:h.getAuthResponse()});return;}var la=ka.cb,ma=ka.id;delete ka.cb;var na=ES('Object','keys',false,ES('Object','assign',false,ka.params.response_type?w(ka.params.response_type.split(',')):{},{token:true,signed_request:true})).join(',');if(ka.params.display==='async'){ES('Object','assign',false,ka.params,{client_id:r.getClientID(),origin:aa(),response_type:na,domain:location.hostname});ka.cb=h.xdResponseWrapper(la,h.getAuthResponse(),'permissions.oauth');}else ES('Object','assign',false,ka.params,{client_id:r.getClientID(),redirect_uri:da(ja.xdHandler(la,ma,'opener',h.getAuthResponse(),'permissions.oauth')),origin:aa(),response_type:na,domain:location.hostname});return ka;}},'auth.logout':{url:'logout.php',transform:function(ka){if(!r.getClientID()){n.error('FB.logout() called before calling FB.init().');}else if(!h.getAuthResponse()){n.error('FB.logout() called without an access token.');}else{ka.params.next=ja.xdHandler(ka.cb,ka.id,'parent',h.getAuthResponse(),'logout');return ka;}}},'login.status':{url:'dialog/oauth',transform:function(ka){var la=ka.cb,ma=ka.id;delete ka.cb;ES('Object','assign',false,ka.params,{client_id:r.getClientID(),redirect_uri:ja.xdHandler(la,ma,'parent',h.getAuthResponse(),'login_status'),origin:aa(),response_type:'token,signed_request,code',domain:location.hostname});return ka;}},pay:{size:{width:555,height:120},connectDisplay:'popup'}},ga={};function ha(ka,la){ga[la]=true;return function(ma){delete ga[la];ka(ma);};}function ia(ka){if(!x('should_force_single_dialog_instance',true))return false;var la=ka.method.toLowerCase();if(la==='pay'&&ka.display==='async')return true;return false;}var ja={Methods:fa,_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',genericTransform:function(ka){if(ka.params.display=='dialog'||ka.params.display=='iframe')ES('Object','assign',false,ka.params,{display:'iframe',channel:ja._xdChannelHandler(ka.id,'parent.parent')},true);return ka;},checkOauthDisplay:function(ka){var la=ka.scope||ka.perms||r.getScope();if(!la)return ka.display;var ma=la.split(/\s|,/g);for(var na=0;na<ma.length;na++)if(!s.initSitevars.iframePermissions[ES(ma[na],'trim',true)])return 'popup';return ka.display;},prepareCall:function(ka,la){var ma=ka.method.toLowerCase(),na=ja.Methods.hasOwnProperty(ma)?ES('Object','assign',false,{},ja.Methods[ma]):{},oa=ba(),pa=r.getSecure()||ma!=='auth.status'&&ma!='login.status';ES('Object','assign',false,ka,{app_id:r.getClientID(),locale:r.getLocale(),sdk:'joey',access_token:pa&&r.getAccessToken()||undefined});if(ma==='share'||ma==='share_open_graph')if(ka.iframe_test)na=ES('Object','assign',false,{},ea);ka.display=ja.getDisplayMode(na,ka);if(!na.url)na.url='dialog/'+ma;if((na.url=='dialog/oauth'||na.url=='dialog/permissions.request')&&(ka.display=='iframe'||ka.display=='touch'&&ka.in_iframe))ka.display=ja.checkOauthDisplay(ka);if(ka.display=='popup')delete ka.access_token;if(r.getIsVersioned()&&na.url.substring(0,7)==='dialog/')na.url=ka.version+'/'+na.url;if(ia(ka)){if(ga[ma]){var qa='Dialog "'+ma+'" is trying to run more than once.';n.warn(qa);la({error_code:-100,error_message:qa});return;}la=ha(la,ma);}var ra={cb:la,id:oa,size:na.size||ja.getDefaultSize(),url:u.resolve(ka.display=='touch'?'m':'www',pa)+'/'+na.url,params:ka,name:ma,dialog:k.newInstance(oa,ka.display)},sa=na.transform?na.transform:ja.genericTransform;if(sa){ra=sa(ra);if(!ra)return;}if(ka.display==='touch'&&ka.in_iframe)ra.params.parent_height=window.innerHeight;var ta=na.getXdRelation||ja.getXdRelation,ua=ta(ra.params);if(!(ra.id in ja._defaultCb)&&!('next' in ra.params)&&!('redirect_uri' in ra.params))ra.params.next=ja._xdResult(ra.cb,ra.id,ua,true);if(ua==='parent')ES('Object','assign',false,ra.params,{channel_url:ja._xdChannelHandler(oa,'parent.parent')},true);ra=ja.prepareParams(ra);return ra;},prepareParams:function(ka){if(ka.params.display!=='async')delete ka.params.method;ka.params=z(ka.params);var la=p.encode(ka.params);if(!t.nativeApp()&&ja.urlTooLongForIE(ka.url+'?'+la)){ka.post=true;}else if(la)ka.url+='?'+la;return ka;},urlTooLongForIE:function(ka){return t.ie()&&t.ie()<=8&&ka.length>2048;},getDisplayMode:function(ka,la){if(la.display==='hidden'||la.display==='none')return la.display;var ma=r.isEnvironment(r.ENVIRONMENTS.CANVAS)||r.isEnvironment(r.ENVIRONMENTS.PAGETAB);if(ma&&!la.display)return 'async';if(t.mobile()||la.display==='touch')return 'touch';if(la.display=='iframe'||la.display=='dialog')if(!ja.canIframe(la)){n.error('"dialog" mode can only be used when the user is connected.');return 'popup';}if(ka.connectDisplay&&!ma)return ka.connectDisplay;return la.display||(ja.canIframe(la)?'dialog':'popup');},canIframe:function(ka){if(r.getAccessToken())return true;if(t.mobile()&&r.getLoggedIntoFacebook())return !!ka.iframe_test;return false;},getXdRelation:function(ka){var la=ka.display;if(la==='popup'||la==='touch')return 'opener';if(la==='dialog'||la==='iframe'||la==='hidden'||la==='none')return 'parent';if(la==='async')return 'parent.frames['+window.name+']';},popup:function(ka){var la=typeof window.screenX!='undefined'?window.screenX:window.screenLeft,ma=typeof window.screenY!='undefined'?window.screenY:window.screenTop,na=typeof window.outerWidth!='undefined'?window.outerWidth:document.documentElement.clientWidth,oa=typeof window.outerHeight!='undefined'?window.outerHeight:document.documentElement.clientHeight-22,pa=t.mobile()?null:ka.size.width,qa=t.mobile()?null:ka.size.height,ra=la<0?window.screen.width+la:la,sa=parseInt(ra+(na-pa)/2,10),ta=parseInt(ma+(oa-qa)/2.5,10),ua=[];if(pa!==null)ua.push('width='+pa);if(qa!==null)ua.push('height='+qa);ua.push('left='+sa);ua.push('top='+ta);ua.push('scrollbars=1');if(ka.name=='permissions.request'||ka.name=='permissions.oauth')ua.push('location=1,toolbar=0');ua=ua.join(',');var va;if(ka.post){va=window.open('about:blank',ka.id,ua);if(va){ja.setLoadedNode(ka,va,'popup');i.submitToTarget({url:ka.url,target:ka.id,params:ka.params});}}else{va=window.open(ka.url,ka.id,ua);if(va)ja.setLoadedNode(ka,va,'popup');}if(!va)return;if(ka.id in ja._defaultCb)ja._popupMonitor();},setLoadedNode:function(ka,la,ma){if(ma==='iframe')la.fbCallID=ka.id;la={node:la,type:ma,fbCallID:ka.id};ja._loadedNodes[ka.id]=la;},getLoadedNode:function(ka){var la=typeof ka=='object'?ka.id:ka,ma=ja._loadedNodes[la];return ma?ma.node:null;},hidden:function(ka){ka.className='FB_UI_Hidden';ka.root=i.appendHidden('');ja._insertIframe(ka);},iframe:function(ka){ka.className='FB_UI_Dialog';if(ka.params.iframe_test){k.setForceTabletStyle(true);k.setCloseOnOverlayTap(true);k.setPositionDialogAtTopWhenPortrait(true);}var la=function(){var ma=ES('JSON','stringify',false,{error_code:4201,error_message:y._("User canceled the Dialog flow")});ja._triggerDefault(ka.id,ma);};ka.root=k.create({onClose:la,closeIcon:ka.closeIcon===undefined?true:ka.closeIcon,classes:k.isTabletStyle()?'centered':''});if(!ka.hideLoader)k.showLoader(la,ka.size.width);j.addCss(ka.root,'fb_dialog_iframe');ja._insertIframe(ka);},touch:function(ka){if(ka.params&&ka.params.in_iframe){if(ka.ui_created){k.showLoader(function(){ja._triggerDefault(ka.id,null);},0);}else ja.iframe(ka);}else if(t.nativeApp()&&!ka.ui_created){ka.frame=ka.id;o.onready(function(){ja.setLoadedNode(ka,o.open(ka.url+'#cb='+ka.frameName),'native');});ja._popupMonitor();}else if(!ka.ui_created)ja.popup(ka);},async:function(ka){ka.params.redirect_uri=location.protocol+'//'+location.host+location.pathname;delete ka.params.access_token;q.remote.showDialog(ka.params,function(la){var ma=la.result;if(ma&&ma.e2e){var na=k.get(ka.id);na.trackEvents(ma.e2e);na.trackEvent('close');delete ma.e2e;}ka.cb(ma);});},getDefaultSize:function(){return k.getDefaultSize();},_insertIframe:function(ka){ja._loadedNodes[ka.id]=false;var la=function(ma){if(ka.id in ja._loadedNodes)ja.setLoadedNode(ka,ma,'iframe');};if(ka.post){ca({url:'about:blank',root:ka.root,className:ka.className,width:ka.size.width,height:ka.size.height,id:ka.id,onInsert:la,onload:function(ma){i.submitToTarget({url:ka.url,target:ma.name,params:ka.params});}});}else ca({url:ka.url,root:ka.root,className:ka.className,width:ka.size.width,height:ka.size.height,id:ka.id,name:ka.frameName,onInsert:la});},_handleResizeMessage:function(ka,la){var ma=ja.getLoadedNode(ka);if(!ma)return;if(la.height)ma.style.height=la.height+'px';if(la.width)ma.style.width=la.width+'px';v.inform('resize.ack',la||{},'parent.frames['+ma.name+']');if(!k.isActive(ma)){k.show(ma);}else k._centerActive();},_triggerDefault:function(ka,la){var ma={frame:ka};if(la)ma.result=la;ja._xdRecv(ma,ja._defaultCb[ka]||function(){});},_popupMonitor:function(){var ka;for(var la in ja._loadedNodes)if(ja._loadedNodes.hasOwnProperty(la)&&la in ja._defaultCb){var ma=ja._loadedNodes[la];if(ma.type!='popup'&&ma.type!='native')continue;var na=ma.node;try{if(na.closed){ja._triggerDefault(la,null);}else ka=true;}catch(oa){}}if(ka&&!ja._popupInterval){ja._popupInterval=setInterval(ja._popupMonitor,100);}else if(!ka&&ja._popupInterval){clearInterval(ja._popupInterval);ja._popupInterval=null;}},_xdChannelHandler:function(ka,la){return v.handler(function(ma){var na=ja.getLoadedNode(ka);if(!na)return;if(ma.type=='resize'){ja._handleResizeMessage(ka,ma);}else if(ma.type=='hide'){k.hide(na);}else if(ma.type=='rendered'){var oa=k._findRoot(na);k.show(oa);}else if(ma.type=='fireevent')l.fire(ma.event);},la,true,null);},_xdNextHandler:function(ka,la,ma,na){if(na)ja._defaultCb[la]=ka;return v.handler(function(oa){ja._xdRecv(oa,ka);},ma)+'&frame='+la;},_xdRecv:function(ka,la){var ma=ja.getLoadedNode(ka.frame);if(ma)if(ma.close){try{ma.close();if(/iPhone.*Version\/(5|6)/.test(navigator.userAgent)&&RegExp.$1!=='5')window.focus();ja._popupCount--;}catch(na){}}else if(j.containsCss(ma,'FB_UI_Hidden')){setTimeout(function(){ma.parentNode.parentNode.removeChild(ma.parentNode);},3000);}else if(j.containsCss(ma,'FB_UI_Dialog'))k.remove(ma);delete ja._loadedNodes[ka.frame];delete ja._defaultCb[ka.frame];if(ka.e2e){var oa=k.get(ka.frame);oa.trackEvents(ka.e2e);oa.trackEvent('close');delete ka.e2e;}la(ka);},_xdResult:function(ka,la,ma,na){return (ja._xdNextHandler(function(oa){ka&&ka(oa.result&&oa.result!=ja._resultToken&&ES('JSON','parse',false,oa.result));},la,ma,na)+'&result='+encodeURIComponent(ja._resultToken));},xdHandler:function(ka,la,ma,na,oa){return ja._xdNextHandler(h.xdResponseWrapper(ka,na,oa),la,ma,true);}};q.stub('showDialog');f.exports=ja;},null);
__d('sdk.ui',['Assert','sdk.Impressions','Log','sdk.PlatformVersioning','sdk.Runtime','sdk.UIServer','sdk.feature'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();function o(p,q){h.isObject(p);h.maybeFunction(q);if(l.getIsVersioned()){k.assertVersionIsSet();if(p.version){k.assertValidVersion(p.version);}else p.version=l.getVersion();}p=ES('Object','assign',false,{},p);if(!p.method){j.error('"method" is a required parameter for FB.ui().');return null;}if(p.method=='pay.prompt')p.method='pay';var r=p.method;if(p.redirect_uri){j.warn('When using FB.ui, you should not specify a redirect_uri.');delete p.redirect_uri;}if((r=='permissions.request'||r=='permissions.oauth')&&(p.display=='iframe'||p.display=='dialog'))p.display=m.checkOauthDisplay(p);var s=n('e2e_tracking',true);if(s)p.e2e={};var t=m.prepareCall(p,q||function(){});if(!t)return null;var u=t.params.display;if(u==='dialog'){u='iframe';}else if(u==='none')u='hidden';var v=m[u];if(!v){j.error('"display" must be one of "popup", '+'"dialog", "iframe", "touch", "async", "hidden", or "none"');return null;}if(s)t.dialog.subscribe('e2e:end',function(w){w.method=r;w.display=u;j.debug('e2e: %s',ES('JSON','stringify',false,w));i.log(114,{payload:w});});v(t);return t.dialog;}f.exports=o;},null);
__d('legacy:fb.auth',['sdk.Auth','sdk.Cookie','sdk.Event','FB','Log','sdk.Runtime','sdk.SignedRequest','sdk.ui'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();k.provide('',{getLoginStatus:function(){return h.getLoginStatus.apply(h,arguments);},getAuthResponse:function(){return h.getAuthResponse();},getAccessToken:function(){return m.getAccessToken()||null;},getUserID:function(){return m.getUserID()||m.getCookieUserID();},login:function(p,q){if(q&&q.perms&&!q.scope){q.scope=q.perms;delete q.perms;l.warn('OAuth2 specification states that \'perms\' '+'should now be called \'scope\'.  Please update.');}var r=m.isEnvironment(m.ENVIRONMENTS.CANVAS)||m.isEnvironment(m.ENVIRONMENTS.PAGETAB);o(babelHelpers._extends({method:'permissions.oauth',display:r?'async':'popup',domain:location.hostname},q||{}),p);},logout:function(p){o({method:'auth.logout',display:'hidden'},p);}});h.subscribe('logout',ES(j.fire,'bind',true,j,'auth.logout'));h.subscribe('login',ES(j.fire,'bind',true,j,'auth.login'));h.subscribe('authresponse.change',ES(j.fire,'bind',true,j,'auth.authResponseChange'));h.subscribe('status.change',ES(j.fire,'bind',true,j,'auth.statusChange'));j.subscribe('init:post',function(p){if(p.status)h.getLoginStatus();if(m.getClientID())if(p.authResponse){h.setAuthResponse(p.authResponse,'connected');}else if(m.getUseCookie()){var q=i.loadSignedRequest(),r;if(q){try{r=n.parse(q);}catch(s){i.clearSignedRequestCookie();}if(r&&r.user_id)m.setCookieUserID(r.user_id);}i.loadMeta();}});},3);
__d('sdk.Canvas.IframeHandling',['DOMWrapper','sdk.RPC'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=null,k;function l(){var p=h.getWindow().document,q=p.body,r=p.documentElement,s=Math.max(q.offsetTop,0),t=Math.max(r.offsetTop,0),u=q.scrollHeight+s,v=q.offsetHeight+s,w=r.scrollHeight+t,x=r.offsetHeight+t;return Math.max(u,v,w,x);}function m(p){if(typeof p!='object')p={};var q=0,r=0;if(!p.height){p.height=l();q=16;r=4;}if(!p.frame)p.frame=window.name||'iframe_canvas';if(k){var s=k.height,t=p.height-s;if(t<=r&&t>=-q)return false;}k=p;i.remote.setSize(p);return true;}function n(p,q){if(q===undefined&&typeof p==='number'){q=p;p=true;}if(p||p===undefined){if(j===null)j=setInterval(function(){m();},q||100);m();}else if(j!==null){clearInterval(j);j=null;}}i.stub('setSize');var o={setSize:m,setAutoGrow:n};f.exports=o;},null);
__d('sdk.Canvas.Navigation',['sdk.RPC'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k){h.local.navigate=function(l){k({path:l});};h.remote.setNavigationEnabled(true);}h.stub('setNavigationEnabled');var j={setUrlHandler:i};f.exports=j;},null);
__d('sdk.Canvas.Plugin',['Log','sdk.RPC','sdk.Runtime','sdk.UA','sdk.api'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m='CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000',n='CLSID:444785F1-DE89-4295-863A-D46C3A781394',o=null,p=k.osx()&&k.osx.getVersionParts(),q=!(p&&p[0]>10&&p[1]>10&&(k.chrome()>=31||k.webkit()>=537.71||k.firefox()>=25));function r(ba){ba._hideunity_savedstyle={};ba._hideunity_savedstyle.left=ba.style.left;ba._hideunity_savedstyle.position=ba.style.position;ba._hideunity_savedstyle.width=ba.style.width;ba._hideunity_savedstyle.height=ba.style.height;ba.style.left='-10000px';ba.style.position='absolute';ba.style.width='1px';ba.style.height='1px';}function s(ba){if(ba._hideunity_savedstyle){ba.style.left=ba._hideunity_savedstyle.left;ba.style.position=ba._hideunity_savedstyle.position;ba.style.width=ba._hideunity_savedstyle.width;ba.style.height=ba._hideunity_savedstyle.height;}}function t(ba){ba._old_visibility=ba.style.visibility;ba.style.visibility='hidden';}function u(ba){ba.style.visibility=ba._old_visibility||'';delete ba._old_visibility;}function v(ba){var ca=ba.type?ba.type.toLowerCase():null,da=ca==='application/x-shockwave-flash'||ba.classid&&ba.classid.toUpperCase()==m;if(!da)return false;var ea=/opaque|transparent/i;if(ea.test(ba.getAttribute('wmode')))return false;for(var fa=0;fa<ba.childNodes.length;fa++){var ga=ba.childNodes[fa];if(/param/i.test(ga.nodeName)&&/wmode/i.test(ga.name)&&ea.test(ga.value))return false;}return true;}function w(ba){var ca=ba.type?ba.type.toLowerCase():null;return ca==='application/vnd.unity'||ba.classid&&ba.classid.toUpperCase()==n;}function x(ba){var ca=ES('Array','from',false,window.document.getElementsByTagName('object'));ca=ca.concat(ES('Array','from',false,window.document.getElementsByTagName('embed')));var da=false,ea=false;ES(ca,'forEach',true,function(ga){var ha=v(ga),ia=q&&w(ga);if(!ha&&!ia)return;da=da||ha;ea=ea||ia;var ja=function(){if(ba.state==='opened'){if(ha){t(ga);}else r(ga);}else if(ha){u(ga);}else s(ga);};if(o){h.info('Calling developer specified callback');var ka={state:ba.state,elem:ga};o(ka);setTimeout(ja,200);}else ja();});if(Math.random()<=1/1000){var fa={unity:ea,flash:da};l(j.getClientID()+'/occludespopups','post',fa);}}i.local.hidePluginObjects=function(){h.info('hidePluginObjects called');x({state:'opened'});};i.local.showPluginObjects=function(){h.info('showPluginObjects called');x({state:'closed'});};i.local.showFlashObjects=i.local.showPluginObjects;i.local.hideFlashObjects=i.local.hidePluginObjects;function y(){t();r();}function z(){u();s();}var aa={_setHidePluginCallback:function(ba){o=ba;},hidePluginElement:y,showPluginElement:z};f.exports=aa;},null);
__d('sdk.Canvas.Tti',['sdk.RPC','sdk.Runtime'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(o,p){var q={appId:i.getClientID(),time:ES('Date','now',false),name:p},r=[q];if(o)r.push(function(s){o(s.result);});h.remote.logTtiMessage.apply(null,r);}function k(){j(null,'StartIframeAppTtiTimer');}function l(o){j(o,'StopIframeAppTtiTimer');}function m(o){j(o,'RecordIframeAppTti');}h.stub('logTtiMessage');var n={setDoneLoading:m,startTimer:k,stopTimer:l};f.exports=n;},null);
__d('legacy:fb.canvas',['Assert','sdk.Canvas.Environment','sdk.Event','FB','sdk.Canvas.IframeHandling','sdk.Canvas.Navigation','sdk.Canvas.Plugin','sdk.RPC','sdk.Runtime','sdk.Canvas.Tti'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();k.provide('Canvas',{setSize:function(r){h.maybeObject(r,'Invalid argument');return l.setSize.apply(null,arguments);},setAutoGrow:function(){return l.setAutoGrow.apply(null,arguments);},getPageInfo:function(r){h.isFunction(r,'Invalid argument');return i.getPageInfo.apply(null,arguments);},scrollTo:function(r,s){h.maybeNumber(r,'Invalid argument');h.maybeNumber(s,'Invalid argument');return i.scrollTo.apply(null,arguments);},setDoneLoading:function(r){h.maybeFunction(r,'Invalid argument');return q.setDoneLoading.apply(null,arguments);},startTimer:function(){return q.startTimer.apply(null,arguments);},stopTimer:function(r){h.maybeFunction(r,'Invalid argument');return q.stopTimer.apply(null,arguments);},getHash:function(r){h.isFunction(r,'Invalid argument');return m.getHash.apply(null,arguments);},setHash:function(r){h.isString(r,'Invalid argument');return m.setHash.apply(null,arguments);},setUrlHandler:function(r){h.isFunction(r,'Invalid argument');return m.setUrlHandler.apply(null,arguments);}});o.local.fireEvent=ES(j.fire,'bind',true,j);j.subscribe('init:post',function(r){if(p.isEnvironment(p.ENVIRONMENTS.CANVAS)){h.isTrue(!r.hideFlashCallback||!r.hidePluginCallback,'cannot specify deprecated hideFlashCallback and new hidePluginCallback');n._setHidePluginCallback(r.hidePluginCallback||r.hideFlashCallback);}});},3);
__d('legacy:fb.canvas-legacy',['Assert','FB','Log','sdk.Canvas.Tti'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();i.provide('CanvasInsights',{setDoneLoading:function(l){j.warn('Deprecated: use FB.Canvas.setDoneLoading');h.maybeFunction(l,'Invalid argument');return k.setDoneLoading.apply(null,arguments);}});},3);
__d('sdk.Canvas.Prefetcher',['JSSDKCanvasPrefetcherConfig','sdk.Runtime','sdk.api'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={AUTOMATIC:0,MANUAL:1},l=h.sampleRate,m=h.blacklist,n=k.AUTOMATIC,o=[];function p(){var u={object:'data',link:'href',script:'src'};if(n==k.AUTOMATIC)ES(ES('Object','keys',false,u),'forEach',true,function(v){var w=u[v];ES(ES('Array','from',false,document.getElementsByTagName(v)),'forEach',true,function(x){if(x[w])o.push(x[w]);});});if(o.length===0)return;j(i.getClientID()+'/staticresources','post',{urls:ES('JSON','stringify',false,o),is_https:location.protocol==='https:'});o=[];}function q(){if(!i.isEnvironment(i.ENVIRONMENTS.CANVAS)||!i.getClientID()||!l)return;if(Math.random()>1/l||m=='*'||~ES(m,'indexOf',true,i.getClientID()))return;setTimeout(p,30000);}function r(u){n=u;}function s(u){o.push(u);}var t={COLLECT_AUTOMATIC:k.AUTOMATIC,COLLECT_MANUAL:k.MANUAL,addStaticResource:s,setCollectionMode:r,_maybeSample:q};f.exports=t;},null);
__d('legacy:fb.canvas.prefetcher',['FB','sdk.Canvas.Prefetcher','sdk.Event','sdk.Runtime'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();h.provide('Canvas.Prefetcher',i);j.subscribe('init:post',function(l){if(k.isEnvironment(k.ENVIRONMENTS.CANVAS))i._maybeSample();});},3);
__d('legacy:fb.compat.ui',['FB','Log','sdk.ui','sdk.UIServer'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();h.provide('',{share:function(l){i.error('share() has been deprecated. Please use FB.ui() instead.');j({display:'popup',method:'stream.share',u:l});},publish:function(l,m){i.error('publish() has been deprecated. Please use FB.ui() instead.');l=l||{};j(babelHelpers._extends({display:'popup',method:'stream.publish',preview:1},l||{}),m);},addFriend:function(l,m){i.error('addFriend() has been deprecated. Please use FB.ui() instead.');j({display:'popup',id:l,method:'friend.add'},m);}});k.Methods['auth.login']=k.Methods['permissions.request'];},3);
__d("mergeArrays",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){for(var k=0;k<j.length;k++)if(ES(i,"indexOf",true,j[k])<0)i.push(j[k]);return i;}f.exports=h;},null);
__d('safeEval',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){if(i===null||typeof i==='undefined')return;if(typeof i!=='string')return i;if(/^\w+$/.test(i)&&typeof window[i]==='function')return window[i].apply(null,j||[]);return Function('return eval("'+i.replace(/"/g,'\\"')+'");').apply(null,j||[]);}f.exports=h;},null);
__d('format',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){j=Array.prototype.slice.call(arguments,1);return i.replace(/\{(\d+)\}/g,function(k,l){var m=j[Number(l)];return m===null||m===undefined?'':m.toString();});}f.exports=h;},null);
__d('sdk.Waitable',['sdk.Model'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.extend({constructor:function(){this.parent({Value:undefined});},error:function(j){this.inform("error",j);},wait:function(j,k){if(k)this.subscribe('error',k);this.monitor('Value.change',ES(function(){var l=this.getValue();if(l!==undefined){this.value=l;j(l);return true;}},'bind',true,this));}});f.exports=i;},null);
__d('sdk.Query',['format','safeEval','Type','sdk.Waitable'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(q){return ES(q.split(','),'map',true,function(r){return ES(r,'trim',true);});}function m(q){var r=/^\s*(\w+)\s*=\s*(.*)\s*$/i.exec(q),s,t,u='unknown';if(r){t=r[2];if(/^(["'])(?:\\?.)*?\1$/.test(t)){t=i(t);u='index';}else if(/^\d+\.?\d*$/.test(t))u='index';}if(u=='index'){s={type:'index',key:r[1],value:t};}else s={type:'unknown',value:q};return s;}function n(q){return typeof q==='string'?ES('JSON','stringify',false,q):q;}var o=1,p=k.extend({constructor:function(){this.parent();this.name='v_'+o++;},hasDependency:function(q){if(arguments.length)this._hasDependency=q;return !!this._hasDependency;},parse:function(q){var r=h.apply(null,q),s=/^select (.*?) from (\w+)\s+where (.*)$/i.exec(r);this.fields=l(s[1]);this.table=s[2];this.where=m(s[3]);for(var t=1;t<q.length;t++)if(j.instanceOf(p,q[t]))q[t].hasDependency(true);return this;},toFql:function(){var q='select '+this.fields.join(',')+' from '+this.table+' where ';switch(this.where.type){case 'unknown':q+=this.where.value;break;case 'index':q+=this.where.key+'='+n(this.where.value);break;case 'in':if(this.where.value.length==1){q+=this.where.key+'='+n(this.where.value[0]);}else q+=this.where.key+' in ('+ES(this.where.value,'map',true,n).join(',')+')';break;}return q;},toString:function(){return '#'+this.name;}});f.exports=p;},null);
__d('sdk.Data',['sdk.api','sdk.ErrorHandling','mergeArrays','sdk.Query','safeEval','sdk.Waitable'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n={query:function(o,p){var q=new k().parse(Array.prototype.slice.call(arguments));n.queue.push(q);n._waitToProcess();return q;},waitOn:function(o,p){var q=new m(),r=o.length;if(typeof p=='string'){var s=p;p=i.unguard(function(){return l(s);});}ES(o,'forEach',true,function(t){t.monitor('Value.change',function(){var u=false;if(n._getValue(t)!==undefined){t.value=t.getValue();r--;u=true;}if(r===0){var v=p(ES(o,'map',true,n._getValue));q.setValue(v!==undefined?v:true);}return u;});});return q;},process:function(o){n._process(o);},_getValue:function(o){return o instanceof m?o.getValue():o;},_selectByIndex:function(o,p,q,r){var s=new k();s.fields=o;s.table=p;s.where={type:'index',key:q,value:r};n.queue.push(s);n._waitToProcess();return s;},_waitToProcess:function(){if(n.timer<0)n.timer=setTimeout(function(){n._process();},10);},_process:function(o){n.timer=-1;var p={},q=n.queue;if(!q.length)return;n.queue=[];for(var r=0;r<q.length;r++){var s=q[r];if(s.where.type=='index'&&!s.hasDependency()){n._mergeIndexQuery(s,p);}else p[s.name]=s;}var t={q:{}};for(var u in p)if(p.hasOwnProperty(u))t.q[u]=p[u].toFql();if(o)t.access_token=o;h('/fql','GET',t,function(v){if(v.error){ES(ES('Object','keys',false,p),'forEach',true,function(w){p[w].error(new Error(v.error.message));});}else ES(v.data,'forEach',true,function(w){p[w.name].setValue(w.fql_result_set);});});},_mergeIndexQuery:function(o,p){var q=o.where.key,r=o.where.value,s='index_'+o.table+'_'+q,t=p[s];if(!t){t=p[s]=new k();t.fields=[q];t.table=o.table;t.where={type:'in',key:q,value:[]};}j(t.fields,o.fields);j(t.where.value,[r]);t.wait(function(u){o.setValue(ES(u,'filter',true,function(v){return v[q]==r;}));});},timer:-1,queue:[]};f.exports=n;},null);
__d('legacy:fb.data',['FB','sdk.Data'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();h.provide('Data',i);},3);
__d('legacy:fb.event',['FB','sdk.Event','sdk.Runtime','sdk.Scribe','sdk.feature'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=[],n=null,o=l('event_subscriptions_log',false);h.provide('Event',{subscribe:function(p,q){if(o){m.push(p);if(!n)n=setTimeout(function(){k.log('jssdk_error',{appId:j.getClientID(),error:'EVENT_SUBSCRIPTIONS_LOG',extra:{line:0,name:'EVENT_SUBSCRIPTIONS_LOG',script:'N/A',stack:'N/A',message:m.sort().join(',')}});m.length=0;n=null;},o);}return i.subscribe(p,q);},unsubscribe:ES(i.unsubscribe,'bind',true,i)});},3);
__d('legacy:fb.event-legacy',['FB','sdk.Event'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();h.provide('Event',{clear:ES(i.clear,'bind',true,i),fire:ES(i.fire,'bind',true,i),monitor:ES(i.monitor,'bind',true,i)});h.provide('EventProvider',i);},3);
__d('legacy:fb.frictionless',['FB','sdk.Frictionless'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();h.provide('Frictionless',i);},3);
__d('sdk.init',['sdk.Cookie','sdk.ErrorHandling','sdk.Event','sdk.Impressions','Log','ManagedError','sdk.PlatformVersioning','QueryString','sdk.Runtime','sdk.URI','sdk.feature'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();function s(u){var v=typeof u=='number'&&u>0||typeof u=='string'&&/^[0-9a-f]{21,}$|^[0-9]{1,21}$/.test(u);if(v)return u.toString();l.warn('Invalid App Id: Must be a number or numeric string representing '+'the application id.');return null;}function t(u){if(p.getInitialized())l.warn('FB.init has already been called - this could indicate a problem');if(p.getIsVersioned()){if(Object.prototype.toString.call(u)!=='[object Object]')throw new m('Invalid argument');if(u.authResponse)l.warn('Setting authResponse is not supported');if(!u.version)u.version=new q(location.href).getQueryData().sdk_version;n.assertValidVersion(u.version);p.setVersion(u.version);}else{if(/number|string/.test(typeof u)){l.warn('FB.init called with invalid parameters');u={apiKey:u};}u=ES('Object','assign',false,{status:true},u||{});}var v=s(u.appId||u.apiKey);if(v!==null)p.setClientID(v);if('scope' in u)p.setScope(u.scope);if(u.cookie){p.setUseCookie(true);if(typeof u.cookie==='string')h.setDomain(u.cookie);}if(u.kidDirectedSite)p.setKidDirectedSite(true);p.setInitialized(true);if(r('js_sdk_impression_on_load',true))k.log(115,{});j.fire('init:post',u);}setTimeout(function(){var u=/(connect\.facebook\.net|\.facebook\.com\/assets.php).*?#(.*)/;ES(ES('Array','from',false,fb_fif_window.document.getElementsByTagName('script')),'forEach',true,function(v){if(v.src){var w=u.exec(v.src);if(w){var x=o.decode(w[2]);for(var y in x)if(x.hasOwnProperty(y)){var z=x[y];if(z=='0')x[y]=0;}t(x);}}});if(window.fbAsyncInit&&!window.fbAsyncInit.hasRun){window.fbAsyncInit.hasRun=true;i.unguard(window.fbAsyncInit)();}},0);f.exports=t;},null);
__d('legacy:fb.init',['FB','sdk.init'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();h.provide('',{init:i});},3);
__d('legacy:fb.json',['FB','ManagedError'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();h.provide('JSON',{stringify:function(j){try{return ES('JSON','stringify',false,j);}catch(k){throw new i(k.message,k);}},parse:function(j){try{return ES('JSON','parse',false,j);}catch(k){throw new i(k.message,k);}}});},3);
__d('legacy:fb.ua',['FB','sdk.UA'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();h.provide('UA',{nativeApp:i.nativeApp});},3);
__d('legacy:fb.ui',['FB','sdk.ui'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();h.provide('',{ui:i});},3);
__d("runOnce",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){var j,k;return function(){if(!j){j=true;k=i();}return k;};}f.exports=h;},null);
__d('XFBML',['Assert','sdk.DOM','Log','ObservableMixin','sdk.UA','runOnce'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n={},o={},p=0,q=new k();function r(y,z){return ES(y[z]+'','trim',true);}function s(y){return y.scopeName?y.scopeName+':'+y.nodeName:'';}function t(y){return n[r(y,'nodeName').toLowerCase()]||n[s(y).toLowerCase()];}function u(y){var z=ES(r(y,'className').split(/\s+/),'filter',true,function(aa){return o.hasOwnProperty(aa);});if(z.length===0)return undefined;if(y.getAttribute('fb-xfbml-state')||!y.childNodes||y.childNodes.length===0||y.childNodes.length===1&&y.childNodes[0].nodeType===3||y.children.length===1&&r(y.children[0],'className')==='fb-xfbml-parse-ignore')return o[z[0]];}function v(y){var z={};ES(ES('Array','from',false,y.attributes),'forEach',true,function(aa){z[r(aa,'name')]=r(aa,'value');});return z;}function w(y,z,aa){var ba=document.createElement('div');i.addCss(y,z+'-'+aa);ES(ES('Array','from',false,y.childNodes),'forEach',true,function(ca){ba.appendChild(ca);});ES(ES('Array','from',false,y.attributes),'forEach',true,function(ca){ba.setAttribute(ca.name,ca.value);});y.parentNode.replaceChild(ba,y);return ba;}function x(y,z,aa){h.isTrue(y&&y.nodeType&&y.nodeType===1&&!!y.getElementsByTagName,'Invalid DOM node passed to FB.XFBML.parse()');h.isFunction(z,'Invalid callback passed to FB.XFBML.parse()');var ba=++p;j.info('XFBML Parsing Start %s',ba);var ca=1,da=0,ea=function(){ca--;if(ca===0){j.info('XFBML Parsing Finish %s, %s tags found',ba,da);z();q.inform('render',ba,da);}h.isTrue(ca>=0,'onrender() has been called too many times');};ES(ES('Array','from',false,y.getElementsByTagName('*')),'forEach',true,function(ga){if(!aa&&ga.getAttribute('fb-xfbml-state'))return;if(ga.nodeType!==1)return;var ha=t(ga)||u(ga);if(!ha)return;if(l.ie()<9&&ga.scopeName)ga=w(ga,ha.xmlns,ha.localName);ca++;da++;var ia=new ha.ctor(ga,ha.xmlns,ha.localName,v(ga));ia.subscribe('render',m(function(){ga.setAttribute('fb-xfbml-state','rendered');ea();}));var ja=function(){if(ga.getAttribute('fb-xfbml-state')=='parsed'){q.subscribe('render.queue',ja);}else{ga.setAttribute('fb-xfbml-state','parsed');ia.process();}};ja();});q.inform('parse',ba,da);var fa=30000;setTimeout(function(){if(ca>0)j.warn('%s tags failed to render in %s ms',ca,fa);},fa);ea();}q.subscribe('render',function(){var y=q.getSubscribers('render.queue');q.clearSubscribers('render.queue');ES(y,'forEach',true,function(z){z();});});ES('Object','assign',false,q,{registerTag:function(y){var z=y.xmlns+':'+y.localName;h.isUndefined(n[z],z+' already registered');n[z]=y;o[y.xmlns+'-'+y.localName]=y;},parse:function(y,z){x(y||document.body,z||function(){},true);},parseNew:function(){x(document.body,function(){},false);}});f.exports=q;},null);
__d('PluginPipe',['sdk.Content','sdk.feature','guid','insertIframe','Miny','ObservableMixin','JSSDKPluginPipeConfig','sdk.Runtime','sdk.UA','UrlMap','XFBML'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=new m(),t=n.threshold,u=[];function v(){return !!(i('plugin_pipe',false)&&o.getSecure()!==undefined&&(p.chrome()||p.firefox())&&n.enabledApps[o.getClientID()]);}function w(){var y=u;u=[];if(y.length<=t){ES(y,'forEach',true,function(ba){k(ba.config);});return;}var z=y.length+1;function aa(){z--;if(z===0)x(y);}ES(y,'forEach',true,function(ba){var ca={};for(var da in ba.config)ca[da]=ba.config[da];ca.url=q.resolve('www',o.getSecure())+'/plugins/plugin_pipe_shell.php';ca.onload=aa;k(ca);});aa();}r.subscribe('parse',w);function x(y){var z=document.createElement('span');h.appendHidden(z);var aa={};ES(y,'forEach',true,function(fa){aa[fa.config.name]={plugin:fa.tag,params:fa.params};});var ba=ES('JSON','stringify',false,aa),ca=l.encode(ba);ES(y,'forEach',true,function(fa){var ga=document.getElementsByName(fa.config.name)[0];ga.onload=fa.config.onload;});var da=q.resolve('www',o.getSecure())+'/plugins/pipe.php',ea=j();k({url:'about:blank',root:z,name:ea,className:'fb_hidden fb_invisible',onload:function(){h.submitToTarget({url:da,target:ea,params:{plugins:ca.length<ba.length?ca:ba}});}});}ES('Object','assign',false,s,{add:function(y){var z=v();z&&u.push({config:y._config,tag:y._tag,params:y._params});return z;}});f.exports=s;},null);
__d('IframePlugin',['sdk.Auth','sdk.DOM','sdk.Event','Log','ObservableMixin','sdk.PlatformVersioning','PluginPipe','QueryString','sdk.Runtime','Type','sdk.UA','sdk.URI','UrlMap','sdk.XD','sdk.createIframe','sdk.feature','guid','resolveURI'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){if(c.__markCompiled)c.__markCompiled();var z={skin:'string',font:'string',width:'px',height:'px',ref:'string',color_scheme:'string'};function aa(ia,ja,ka){if(ja||ja===0)if(ja==='100%'){ia.style.width='100%';}else ia.style.width=ja+'px';if(ka||ka===0)ia.style.height=ka+'px';}function ba(ia){return function(ja){var ka={width:ja.width,height:ja.height,pluginID:ia};j.fire('xfbml.resize',ka);};}var ca={string:function(ia){return ia;},bool:function(ia){return ia?/^(?:true|1|yes|on)$/i.test(ia):undefined;},url:function(ia){return y(ia);},url_maybe:function(ia){return ia?y(ia):ia;},hostname:function(ia){return ia||window.location.hostname;},px:function(ia){return (/^(\d+)(?:px)?$/.test(ia)?parseInt(RegExp.$1,10):undefined);},text:function(ia){return ia;}};function da(ia,ja){var ka=ia[ja]||ia[ja.replace(/_/g,'-')]||ia[ja.replace(/_/g,'')]||ia['data-'+ja]||ia['data-'+ja.replace(/_/g,'-')]||ia['data-'+ja.replace(/_/g,'')]||undefined;return ka;}function ea(ia,ja,ka,la){ES(ES('Object','keys',false,ia),'forEach',true,function(ma){if(ia[ma]=='text'&&!ka[ma]){ka[ma]=ja.textContent||ja.innerText||'';ja.setAttribute(ma,ka[ma]);}la[ma]=ca[ia[ma]](da(ka,ma));});}function fa(ia){if(ia==='100%')return '100%';return ia||ia==='0'||ia===0?parseInt(ia,10):undefined;}function ga(ia){if(ia)aa(ia,0,0);}var ha=q.extend({constructor:function(ia,ja,ka,la){this.parent();ka=ka.replace(/-/g,'_');var ma=da(la,'plugin_id');this.subscribe('xd.resize',ba(ma));this.subscribe('xd.resize.flow',ba(ma));this.subscribe('xd.resize.flow',ES(function(sa){ES('Object','assign',false,this._iframeOptions.root.style,{verticalAlign:'bottom',overflow:''});aa(this._iframeOptions.root,fa(sa.width),fa(sa.height));this.updateLift();clearTimeout(this._timeoutID);},'bind',true,this));this.subscribe('xd.resize',ES(function(sa){ES('Object','assign',false,this._iframeOptions.root.style,{verticalAlign:'bottom',overflow:''});aa(this._iframeOptions.root,fa(sa.width),fa(sa.height));aa(this._iframe,fa(sa.width),fa(sa.height));this._isIframeResized=true;this.updateLift();clearTimeout(this._timeoutID);},'bind',true,this));this.subscribe('xd.resize.iframe',ES(function(sa){if(sa.reposition==='true'&&w('reposition_iframe',false))this.reposition(fa(sa.width));aa(this._iframe,fa(sa.width),fa(sa.height));this._isIframeResized=true;this.updateLift();clearTimeout(this._timeoutID);},'bind',true,this));this.subscribe('xd.sdk_event',function(sa){var ta=ES('JSON','parse',false,sa.data);ta.pluginID=ma;j.fire(sa.event,ta,ia);});var na=p.getSecure()||window.location.protocol=='https:',oa=t.resolve('www',na)+'/plugins/'+ka+'.php?',pa={};ea(this.getParams(),ia,la,pa);ea(z,ia,la,pa);ES('Object','assign',false,pa,{app_id:p.getClientID(),locale:p.getLocale(),sdk:'joey',kid_directed_site:p.getKidDirectedSite(),channel:u.handler(ES(function(sa){return this.inform('xd.'+sa.type,sa);},'bind',true,this),'parent.parent',true)});pa.container_width=ia.offsetWidth;i.addCss(ia,'fb_iframe_widget');var qa=x();this.subscribe('xd.verify',function(sa){u.sendToFacebook(qa,{method:'xd/verify',params:ES('JSON','stringify',false,sa.token)});});this.subscribe('xd.refreshLoginStatus',ES(function(){h.removeLogoutState();h.getLoginStatus(ES(this.inform,'bind',true,this,'login.status'),true);},'bind',true,this));var ra=document.createElement('span');ES('Object','assign',false,ra.style,{verticalAlign:'top',width:'0px',height:'0px',overflow:'hidden'});this._element=ia;this._ns=ja;this._tag=ka;this._params=pa;this._config=this.getConfig();this._iframeOptions={root:ra,url:oa+o.encode(pa),name:qa,width:this._config.mobile_fullsize&&r.mobile()?void 0:pa.width||1000,height:pa.height||1000,style:{border:'none',visibility:'hidden'},title:this._ns+':'+this._tag+' Facebook Social Plugin',onload:ES(function(){return this.inform('render');},'bind',true,this),onerror:ES(function(){return ga(this._iframe);},'bind',true,this)};if(this.isFluid()){i.addCss(this._element,'fb_iframe_widget_fluid_desktop');if(!pa.width&&this._config.full_width){this._element.style.width='100%';this._iframeOptions.root.style.width='100%';this._iframeOptions.style.width='100%';this._params.container_width=this._element.offsetWidth;this._iframeOptions.url=oa+o.encode(this._params);}}},process:function(){if(p.getIsVersioned()){m.assertVersionIsSet();var ia=new s(this._iframeOptions.url);this._iframeOptions.url=ia.setPath('/'+p.getVersion()+ia.getPath()).toString();}var ja=ES('Object','assign',false,{},this._params);delete ja.channel;var ka=o.encode(ja);if(this._element.getAttribute('fb-iframe-plugin-query')==ka){k.info('Skipping render: %s:%s %s',this._ns,this._tag,ka);this.inform('render');return;}this._element.setAttribute('fb-iframe-plugin-query',ka);this.subscribe('render',ES(function(){this._iframe.style.visibility='visible';if(!this._isIframeResized)ga(this._iframe);},'bind',true,this));while(this._element.firstChild)this._element.removeChild(this._element.firstChild);this._element.appendChild(this._iframeOptions.root);var la=r.mobile()?120:45;this._timeoutID=setTimeout(ES(function(){ga(this._iframe);k.warn('%s:%s failed to resize in %ss',this._ns,this._tag,la);},'bind',true,this),la*1000);if(!n.add(this))this._iframe=v(this._iframeOptions);if(r.mobile()){i.addCss(this._element,'fb_iframe_widget_fluid');if(!this._iframeOptions.width){ES('Object','assign',false,this._element.style,{display:'block',width:'100%',height:'auto'});ES('Object','assign',false,this._iframeOptions.root.style,{width:'100%',height:'auto'});var ma={height:'auto',position:'static',width:'100%'};if(r.iphone()||r.ipad())ES('Object','assign',false,ma,{width:'220px','min-width':'100%'});ES('Object','assign',false,this._iframe.style,ma);}}},getConfig:function(){return {};},isFluid:function(){var ia=this.getConfig();return ia.fluid;},reposition:function(ia){var ja=i.getPosition(this._iframe).x,ka=i.getViewportInfo().width,la=parseInt(i.getStyle(this._iframe,'width'),10),ma={};if(ja+ia>ka&&ja>ia){this._iframe.style.left=parseInt(i.getStyle(this._iframe,'width'),10)-ia+'px';this._isRepositioned=true;ma.type='reposition';}else if(this._isRepositioned&&la-ia!==0){this._iframe.style.left='0px';this._isRepositioned=false;ma.type='restore';}else return;u.sendToFacebook(this._iframe.name,{method:'xd/reposition',params:ES('JSON','stringify',false,ma)});},updateLift:function(){var ia=this._iframe.style.width===this._iframeOptions.root.style.width&&this._iframe.style.height===this._iframeOptions.root.style.height;i[ia?'removeCss':'addCss'](this._iframe,'fb_iframe_widget_lift');}},l);ha.getVal=da;ha.withParams=function(ia,ja){return ha.extend({getParams:function(){return ia;},getConfig:function(){return ja?ja:{};}});};f.exports=ha;},null);
__d('PluginConfig',['sdk.feature'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={messengerpreconfirmation:{mobile_fullsize:true},messengeraccountconfirmation:{mobile_fullsize:true},messengerbusinesslink:{mobile_fullsize:true},messengertoggle:{mobile_fullsize:true},messengermessageus:{mobile_fullsize:true},post:{fluid:h('fluid_embed',false),mobile_fullsize:true}};f.exports=i;},null);
__d('PluginTags',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={composer:{action_type:'string',action_properties:'string'},create_event_button:{},follow:{href:'url',layout:'string',show_faces:'bool'},like:{href:'url',layout:'string',show_faces:'bool',share:'bool',action:'string',send:'bool'},like_box:{href:'string',show_faces:'bool',header:'bool',stream:'bool',force_wall:'bool',show_border:'bool',id:'string',connections:'string',profile_id:'string',name:'string'},page:{href:'string',hide_cta:'bool',hide_cover:'bool',small_header:'bool',adapt_container_width:'bool',show_facepile:'bool',show_posts:'bool',tabs:'string'},messengerpreconfirmation:{messenger_app_id:'string'},messengeraccountconfirmation:{messenger_app_id:'string',state:'string'},messengerbusinesslink:{messenger_app_id:'string',state:'string'},messengertoggle:{messenger_app_id:'string',token:'string'},messengermessageus:{messenger_app_id:'string',color:'string',size:'string'},page_events:{href:'url'},post:{href:'url',show_border:'bool'},profile_pic:{uid:'string',linked:'bool',href:'string',size:'string',facebook_logo:'bool'},send:{href:'url'},send_to_mobile:{max_rows:'string',show_faces:'bool',size:'string'}},i={subscribe:'follow',fan:'like_box',likebox:'like_box'};ES(ES('Object','keys',false,i),'forEach',true,function(j){h[j]=h[i[j]];});f.exports=h;},null);
__d('sdk.Arbiter',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={BEHAVIOR_EVENT:'e',BEHAVIOR_PERSISTENT:'p',BEHAVIOR_STATE:'s'};f.exports=h;},null);
__d('sdk.XFBML.Element',['sdk.DOM','Type','ObservableMixin'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i.extend({constructor:function(l){this.parent();this.dom=l;},fire:function(){this.inform.apply(this,arguments);},getAttribute:function(l,m,n){var o=h.getAttr(this.dom,l);return o?n?n(o):o:m;},_getBoolAttribute:function(l,m){var n=h.getBoolAttr(this.dom,l);return n===null?m:n;},_getPxAttribute:function(l,m){return this.getAttribute(l,m,function(n){var o=parseInt(n,10);return isNaN(o)?m:o;});},_getLengthAttribute:function(l,m){return this.getAttribute(l,m,function(n){if(n==='100%')return n;var o=parseInt(n,10);return isNaN(o)?m:o;});},_getAttributeFromList:function(l,m,n){return this.getAttribute(l,m,function(o){o=o.toLowerCase();return ES(n,'indexOf',true,o)>-1?o:m;});},isValid:function(){for(var l=this.dom;l;l=l.parentNode)if(l==document.body)return true;},clear:function(){h.html(this.dom,'');}},j);f.exports=k;},null);
__d('sdk.XFBML.IframeWidget',['sdk.Arbiter','sdk.Auth','sdk.Content','sdk.DOM','sdk.Event','sdk.XFBML.Element','guid','insertIframe','QueryString','sdk.Runtime','sdk.ui','UrlMap','sdk.XD'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=m.extend({_iframeName:null,_showLoader:true,_refreshOnAuthChange:false,_allowReProcess:false,_fetchPreCachedLoader:false,_visibleAfter:'load',_widgetPipeEnabled:false,_borderReset:false,_repositioned:false,getUrlBits:function(){throw new Error('Inheriting class needs to implement getUrlBits().');},setupAndValidate:function(){return true;},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return this._iframeName;},getIframeTitle:function(){return 'Facebook Social Plugin';},getChannelUrl:function(){if(!this._channelUrl){var y=this;this._channelUrl=t.handler(function(z){y.fire('xd.'+z.type,z);},'parent.parent',true);}return this._channelUrl;},getIframeNode:function(){return this.dom.getElementsByTagName('iframe')[0];},arbiterInform:function(event,y,z){t.sendToFacebook(this.getIframeName(),{method:event,params:ES('JSON','stringify',false,y||{}),behavior:z||h.BEHAVIOR_PERSISTENT});},_arbiterInform:function(event,y,z){var aa='parent.frames["'+this.getIframeNode().name+'"]';t.inform(event,y,aa,z);},getDefaultWebDomain:function(){return s.resolve('www');},process:function(y){if(this._done){if(!this._allowReProcess&&!y)return;this.clear();}else this._oneTimeSetup();this._done=true;this._iframeName=this.getIframeName()||this._iframeName||n();if(!this.setupAndValidate()){this.fire('render');return;}if(this._showLoader)this._addLoader();k.addCss(this.dom,'fb_iframe_widget');if(this._visibleAfter!='immediate'){k.addCss(this.dom,'fb_hide_iframes');}else this.subscribe('iframe.onload',ES(this.fire,'bind',true,this,'render'));var z=this.getSize()||{},aa=this.getFullyQualifiedURL();if(z.width=='100%')k.addCss(this.dom,'fb_iframe_widget_fluid');this.clear();o({url:aa,root:this.dom.appendChild(document.createElement('span')),name:this._iframeName,title:this.getIframeTitle(),className:q.getRtl()?'fb_rtl':'fb_ltr',height:z.height,width:z.width,onload:ES(this.fire,'bind',true,this,'iframe.onload')});this._resizeFlow(z);this.loaded=false;this.subscribe('iframe.onload',ES(function(){this.loaded=true;if(!this._isResizeHandled)k.addCss(this.dom,'fb_hide_iframes');},'bind',true,this));},generateWidgetPipeIframeName:function(){v++;return 'fb_iframe_'+v;},getFullyQualifiedURL:function(){var y=this._getURL();y+='?'+p.encode(this._getQS());if(y.length>2000){y='about:blank';var z=ES(function(){this._postRequest();this.unsubscribe('iframe.onload',z);},'bind',true,this);this.subscribe('iframe.onload',z);}return y;},_getWidgetPipeShell:function(){return s.resolve('www')+'/common/widget_pipe_shell.php';},_oneTimeSetup:function(){this.subscribe('xd.resize',ES(this._handleResizeMsg,'bind',true,this));this.subscribe('xd.resize',ES(this._bubbleResizeEvent,'bind',true,this));this.subscribe('xd.resize.iframe',ES(this._resizeIframe,'bind',true,this));this.subscribe('xd.resize.flow',ES(this._resizeFlow,'bind',true,this));this.subscribe('xd.resize.flow',ES(this._bubbleResizeEvent,'bind',true,this));this.subscribe('xd.refreshLoginStatus',function(){i.getLoginStatus(function(){},true);});this.subscribe('xd.logout',function(){r({method:'auth.logout',display:'hidden'},function(){});});if(this._refreshOnAuthChange)this._setupAuthRefresh();if(this._visibleAfter=='load')this.subscribe('iframe.onload',ES(this._makeVisible,'bind',true,this));this.subscribe('xd.verify',ES(function(y){this.arbiterInform('xd/verify',y.token);},'bind',true,this));this.oneTimeSetup();},_makeVisible:function(){this._removeLoader();k.removeCss(this.dom,'fb_hide_iframes');this.fire('render');},_setupAuthRefresh:function(){i.getLoginStatus(ES(function(y){var z=y.status;l.subscribe('auth.statusChange',ES(function(aa){if(!this.isValid())return;if(z=='unknown'||aa.status=='unknown')this.process(true);z=aa.status;},'bind',true,this));},'bind',true,this));},_handleResizeMsg:function(y){if(!this.isValid())return;this._resizeIframe(y);this._resizeFlow(y);if(!this._borderReset){this.getIframeNode().style.border='none';this._borderReset=true;}this._isResizeHandled=true;this._makeVisible();},_bubbleResizeEvent:function(y){var z={height:y.height,width:y.width,pluginID:this.getAttribute('plugin-id')};l.fire('xfbml.resize',z);},_resizeIframe:function(y){var z=this.getIframeNode();if(y.reposition==="true")this._repositionIframe(y);y.height&&(z.style.height=y.height+'px');y.width&&(z.style.width=y.width+'px');this._updateIframeZIndex();},_resizeFlow:function(y){var z=this.dom.getElementsByTagName('span')[0];y.height&&(z.style.height=y.height+'px');y.width&&(z.style.width=y.width+'px');this._updateIframeZIndex();},_updateIframeZIndex:function(){var y=this.dom.getElementsByTagName('span')[0],z=this.getIframeNode(),aa=z.style.height===y.style.height&&z.style.width===y.style.width,ba=aa?'removeCss':'addCss';k[ba](z,'fb_iframe_widget_lift');},_repositionIframe:function(y){var z=this.getIframeNode(),aa=parseInt(k.getStyle(z,'width'),10),ba=k.getPosition(z).x,ca=k.getViewportInfo().width,da=parseInt(y.width,10);if(ba+da>ca&&ba>da){z.style.left=aa-da+'px';this.arbiterInform('xd/reposition',{type:'horizontal'});this._repositioned=true;}else if(this._repositioned){z.style.left='0px';this.arbiterInform('xd/reposition',{type:'restore'});this._repositioned=false;}},_addLoader:function(){if(!this._loaderDiv){k.addCss(this.dom,'fb_iframe_widget_loader');this._loaderDiv=document.createElement('div');this._loaderDiv.className='FB_Loader';this.dom.appendChild(this._loaderDiv);}},_removeLoader:function(){if(this._loaderDiv){k.removeCss(this.dom,'fb_iframe_widget_loader');if(this._loaderDiv.parentNode)this._loaderDiv.parentNode.removeChild(this._loaderDiv);this._loaderDiv=null;}},_getQS:function(){return ES('Object','assign',false,{api_key:q.getClientID(),locale:q.getLocale(),sdk:'joey',kid_directed_site:q.getKidDirectedSite(),ref:this.getAttribute('ref')},this.getUrlBits().params);},_getURL:function(){var y=this.getDefaultWebDomain(),z='';return y+'/plugins/'+z+this.getUrlBits().name+'.php';},_postRequest:function(){j.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()});}}),v=0,w={};function x(){var y={};for(var z in w){var aa=w[z];y[z]={widget:aa.getUrlBits().name,params:aa._getQS()};}return y;}f.exports=u;},null);
__d('sdk.XFBML.Comments',['sdk.Event','sdk.XFBML.IframeWidget','QueryString','sdk.Runtime','JSSDKConfig','sdk.UA','UrlMap'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=i.extend({_visibleAfter:'immediate',_refreshOnAuthChange:true,setupAndValidate:function(){var p={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute('colorscheme'),skin:this.getAttribute('skin'),numposts:this.getAttribute('num-posts',10),width:this._getLengthAttribute('width'),href:this.getAttribute('href'),permalink:this.getAttribute('permalink'),publish_feed:this.getAttribute('publish_feed'),order_by:this.getAttribute('order_by'),mobile:this._getBoolAttribute('mobile'),version:this.getAttribute('version')};if(!p.width&&!p.permalink)p.width=550;if(l.initSitevars.enableMobileComments&&m.mobile()&&p.mobile!==false){p.mobile=true;delete p.width;}if(!p.skin)p.skin=p.colorscheme;if(!p.href){p.migrated=this.getAttribute('migrated');p.xid=this.getAttribute('xid');p.title=this.getAttribute('title',document.title);p.url=this.getAttribute('url',document.URL);p.quiet=this.getAttribute('quiet');p.reverse=this.getAttribute('reverse');p.simple=this.getAttribute('simple');p.css=this.getAttribute('css');p.notify=this.getAttribute('notify');if(!p.xid){var q=ES(document.URL,'indexOf',true,'#');if(q>0){p.xid=encodeURIComponent(document.URL.substring(0,q));}else p.xid=encodeURIComponent(document.URL);}if(p.migrated)p.href=n.resolve('www')+'/plugins/comments_v1.php?'+'app_id='+k.getClientID()+'&xid='+encodeURIComponent(p.xid)+'&url='+encodeURIComponent(p.url);}else{var r=this.getAttribute('fb_comment_id');if(!r){r=j.decode(document.URL.substring(ES(document.URL,'indexOf',true,'?')+1)).fb_comment_id;if(r&&ES(r,'indexOf',true,'#')>0)r=r.substring(0,ES(r,'indexOf',true,'#'));}if(r){p.fb_comment_id=r;this.subscribe('render',ES(function(){if(!window.location.hash)window.location.hash=this.getIframeNode().id;},'bind',true,this));}}if(!p.version)p.version=k.getVersion();this._attr=p;return true;},oneTimeSetup:function(){this.subscribe('xd.sdk_event',function(p){h.fire(p.event,ES('JSON','parse',false,p.data));});},getSize:function(){if(!this._attr.permalink)return {width:this._attr.mobile?'100%':this._attr.width,height:100};},getUrlBits:function(){return {name:'comments',params:this._attr};},getDefaultWebDomain:function(){return n.resolve('www',true);}});f.exports=o;},null);
__d('sdk.XFBML.CommentsCount',['ApiClient','sdk.DOM','sdk.XFBML.Element','sprintf'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=j.extend({process:function(){i.addCss(this.dom,'fb_comments_count_zero');var m=this.getAttribute('href',window.location.href);h.scheduleBatchCall('/v2.1/'+encodeURIComponent(m),{fields:'share'},ES(function(n){var o=n.share&&n.share.comment_count||0;i.html(this.dom,k('<span class="fb_comments_count">%s</span>',o));if(o>0)i.removeCss(this.dom,'fb_comments_count_zero');this.fire('render');},'bind',true,this));}});f.exports=l;},null);
__d('sdk.Helper',['sdk.ErrorHandling','sdk.Event','UrlMap','safeEval','sprintf'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m={isUser:function(n){return n<2.2e+09||n>=1e+14&&n<=100099999989999||n>=8.9e+13&&n<=89999999999999||n>=6.000001e+13&&n<=60000019999999;},upperCaseFirstChar:function(n){if(n.length>0){return n.substr(0,1).toUpperCase()+n.substr(1);}else return n;},getProfileLink:function(n,o,p){if(!p&&n)p=l('%s/profile.php?id=%s',j.resolve('www'),n.uid||n.id);if(p)o=l('<a class="fb_link" href="%s">%s</a>',p,o);return o;},invokeHandler:function(n,o,p){if(n)if(typeof n==='string'){h.unguard(k)(n,p);}else if(n.apply)h.unguard(n).apply(o,p||[]);},fireEvent:function(n,o){var p=o._attr.href;o.fire(n,p);i.fire(n,p,o);},executeFunctionByName:function(n){var o=Array.prototype.slice.call(arguments,1),p=n.split("."),q=p.pop(),r=window;for(var s=0;s<p.length;s++)r=r[p[s]];return r[q].apply(this,o);}};f.exports=m;},null);
__d('sdk.XFBML.LoginButton',['sdk.Helper','IframePlugin','Log','sdk.ui'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.extend({constructor:function(m,n,o,p){this.parent(m,n,o,p);var q=i.getVal(p,'on_login'),r=null;if(q){r=function(s){if(s.error_code){j.debug('Plugin Return Error (%s): %s',s.error_code,s.error_message||s.error_description);return;}h.invokeHandler(q,null,[s]);};this.subscribe('login.status',r);}this.subscribe('xd.login_button_native_open',function(s){k(ES('JSON','parse',false,s.params),r);});},getParams:function(){return {scope:'string',perms:'string',size:'string',login_text:'text',show_faces:'bool',max_rows:'string',show_login_face:'bool',registration_url:'url_maybe',auto_logout_link:'bool',one_click:'bool',show_banner:'bool',auth_type:'string',default_audience:'string'};}});f.exports=l;},null);
__d('escapeHTML',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=/[&<>"'\/]/g,i={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;','/':'&#x2F;'};function j(k){return k.replace(h,function(l){return i[l];});}f.exports=j;},null);
__d('sdk.XFBML.Name',['ApiClient','escapeHTML','sdk.Event','sdk.XFBML.Element','sdk.Helper','Log','sdk.Runtime'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=({}).hasOwnProperty,p=k.extend({process:function(){ES('Object','assign',false,this,{_uid:this.getAttribute('uid'),_firstnameonly:this._getBoolAttribute('first-name-only'),_lastnameonly:this._getBoolAttribute('last-name-only'),_possessive:this._getBoolAttribute('possessive'),_reflexive:this._getBoolAttribute('reflexive'),_objective:this._getBoolAttribute('objective'),_linked:this._getBoolAttribute('linked',true),_subjectId:this.getAttribute('subject-id')});if(!this._uid){m.error('"uid" is a required attribute for <fb:name>');this.fire('render');return;}var q=[];if(this._firstnameonly){q.push('first_name');}else if(this._lastnameonly){q.push('last_name');}else q.push('name');if(this._subjectId){q.push('gender');if(this._subjectId==n.getUserID())this._reflexive=true;}j.monitor('auth.statusChange',ES(function(){if(!this.isValid()){this.fire('render');return true;}if(!this._uid||this._uid=='loggedinuser')this._uid=n.getUserID();if(!this._uid)return;h.scheduleBatchCall('/v1.0/'+this._uid,{fields:q.join(',')},ES(function(r){if(o.call(r,'error')){m.warn('The name is not found for ID: '+this._uid);return;}if(this._subjectId==this._uid){this._renderPronoun(r);}else this._renderOther(r);this.fire('render');},'bind',true,this));},'bind',true,this));},_renderPronoun:function(q){var r='',s=this._objective;if(this._subjectId){s=true;if(this._subjectId===this._uid)this._reflexive=true;}if(this._uid==n.getUserID()&&this._getBoolAttribute('use-you',true)){if(this._possessive){if(this._reflexive){r='your own';}else r='your';}else if(this._reflexive){r='yourself';}else r='you';}else switch(q.gender){case 'male':if(this._possessive){r=this._reflexive?'his own':'his';}else if(this._reflexive){r='himself';}else if(s){r='him';}else r='he';break;case 'female':if(this._possessive){r=this._reflexive?'her own':'her';}else if(this._reflexive){r='herself';}else if(s){r='her';}else r='she';break;default:if(this._getBoolAttribute('use-they',true)){if(this._possessive){if(this._reflexive){r='their own';}else r='their';}else if(this._reflexive){r='themselves';}else if(s){r='them';}else r='they';}else if(this._possessive){if(this._reflexive){r='his/her own';}else r='his/her';}else if(this._reflexive){r='himself/herself';}else if(s){r='him/her';}else r='he/she';break;}if(this._getBoolAttribute('capitalize',false))r=l.upperCaseFirstChar(r);this.dom.innerHTML=r;},_renderOther:function(q){var r='',s='';if(this._uid==n.getUserID()&&this._getBoolAttribute('use-you',true)){if(this._reflexive){if(this._possessive){r='your own';}else r='yourself';}else if(this._possessive){r='your';}else r='you';}else if(q){if(null===q.first_name)q.first_name='';if(null===q.last_name)q.last_name='';if(this._firstnameonly&&q.first_name!==undefined){r=i(q.first_name);}else if(this._lastnameonly&&q.last_name!==undefined)r=i(q.last_name);if(!r)r=i(q.name);if(r!==''&&this._possessive)r+='\'s';}if(!r)r=i(this.getAttribute('if-cant-see','Facebook User'));if(r){if(this._getBoolAttribute('capitalize',false))r=l.upperCaseFirstChar(r);if(q&&this._linked){s=l.getProfileLink(q,r,this.getAttribute('href',null));}else s=r;}this.dom.innerHTML=s;}});f.exports=p;},null);
__d('sdk.XFBML.ShareButton',['IframePlugin','sdk.ui'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.extend({constructor:function(k,l,m,n){this.parent(k,l,m,n);this.subscribe('xd.shareTriggerIframe',function(o){var p=ES('JSON','parse',false,o.data);i({method:'share',href:p.href,iframe_test:true});});},getParams:function(){return {href:'url',layout:'string',type:'string'};}});f.exports=j;},null);
__d('sdk.XFBML.Video',['Assert','sdk.Event','IframePlugin','ObservableMixin','sdk.XD'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(p){'use strict';this.$VideoCache1=p.isMuted;this.$VideoCache2=p.volume;this.$VideoCache3=p.timePosition;this.$VideoCache4=p.duration;}m.prototype.update=function(p){'use strict';if(p.isMuted!==undefined)this.$VideoCache1=p.isMuted;if(p.volume!==undefined)this.$VideoCache2=p.volume;if(p.timePosition!==undefined)this.$VideoCache3=p.timePosition;if(p.duration!==undefined)this.$VideoCache4=p.duration;};m.prototype.isMuted=function(){'use strict';return this.$VideoCache1;};m.prototype.getVolume=function(){'use strict';return this.$VideoCache1?0:this.$VideoCache2;};m.prototype.getCurrentPosition=function(){'use strict';return this.$VideoCache3;};m.prototype.getDuration=function(){'use strict';return this.$VideoCache4;};function n(p,q,r){'use strict';this.$VideoController1=p;this.$VideoController2=q;this.$VideoController3=r;}n.prototype.play=function(){'use strict';l.sendToFacebook(this.$VideoController1,{method:'play',params:ES('JSON','stringify',false,{})});};n.prototype.pause=function(){'use strict';l.sendToFacebook(this.$VideoController1,{method:'pause',params:ES('JSON','stringify',false,{})});};n.prototype.seek=function(p){'use strict';h.isNumber(p,'Invalid argument');l.sendToFacebook(this.$VideoController1,{method:'seek',params:ES('JSON','stringify',false,{target:p})});};n.prototype.mute=function(){'use strict';l.sendToFacebook(this.$VideoController1,{method:'mute',params:ES('JSON','stringify',false,{})});};n.prototype.unmute=function(){'use strict';l.sendToFacebook(this.$VideoController1,{method:'unmute',params:ES('JSON','stringify',false,{})});};n.prototype.setVolume=function(p){'use strict';h.isNumber(p,'Invalid argument');l.sendToFacebook(this.$VideoController1,{method:'setVolume',params:ES('JSON','stringify',false,{volume:p})});};n.prototype.isMuted=function(){'use strict';return this.$VideoController3.isMuted();};n.prototype.getVolume=function(){'use strict';return this.$VideoController3.getVolume();};n.prototype.getCurrentPosition=function(){'use strict';return this.$VideoController3.getCurrentPosition();};n.prototype.getDuration=function(){'use strict';return this.$VideoController3.getDuration();};n.prototype.subscribe=function(event,p){'use strict';h.isString(event,'Invalid argument');h.isFunction(p,'Invalid argument');this.$VideoController2.subscribe(event,p);return {release:ES(function(){this.$VideoController2.unsubscribe(event,p);},'bind',true,this)};};var o=j.extend({constructor:function(p,q,r,s){this.parent(p,q,r,s);this._videoController=null;this._sharedObservable=null;this._sharedVideoCache=null;this.subscribe('xd.onVideoAPIReady',function(t){this._sharedObservable=new k();this._sharedVideoCache=new m(ES('JSON','parse',false,t.data));this._videoController=new n(this._iframeOptions.name,this._sharedObservable,this._sharedVideoCache);i.fire('xfbml.ready',{type:'video',id:s.id,instance:this._videoController});});this.subscribe('xd.stateChange',function(t){this._sharedObservable.inform(t.state);});this.subscribe('xd.cachedStateUpdateRequest',function(t){this._sharedVideoCache.update(ES('JSON','parse',false,t.data));});},getParams:function(){return {allowfullscreen:'bool',autoplay:'bool',controls:'bool',href:'url'};},getConfig:function(){return {fluid:true,full_width:true};}});f.exports=o;},null);
__d('legacy:fb.xfbml',['Assert','sdk.Event','FB','IframePlugin','PluginConfig','PluginTags','XFBML','sdk.domReady','sdk.feature','wrapFunction','sdk.XFBML.Comments','sdk.XFBML.CommentsCount','sdk.XFBML.LoginButton','sdk.XFBML.Name','sdk.XFBML.ShareButton','sdk.XFBML.Video'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r={comments:c('sdk.XFBML.Comments'),comments_count:c('sdk.XFBML.CommentsCount'),login_button:c('sdk.XFBML.LoginButton'),name:c('sdk.XFBML.Name'),share_button:c('sdk.XFBML.ShareButton'),video:c('sdk.XFBML.Video')},s=p('plugin_tags_blacklist',[]);ES(ES('Object','keys',false,m),'forEach',true,function(u){if(ES(s,'indexOf',true,u)!==-1)return;n.registerTag({xmlns:'fb',localName:u.replace(/_/g,'-'),ctor:k.withParams(m[u],l[u])});});ES(ES('Object','keys',false,r),'forEach',true,function(u){if(ES(s,'indexOf',true,u)!==-1)return;n.registerTag({xmlns:'fb',localName:u.replace(/_/g,'-'),ctor:r[u]});});j.provide('XFBML',{parse:function(u){h.maybeXfbml(u,'Invalid argument');if(u&&u.nodeType===9)u=u.body;return n.parse.apply(null,arguments);}});n.subscribe('parse',ES(i.fire,'bind',true,i,'xfbml.parse'));n.subscribe('render',ES(i.fire,'bind',true,i,'xfbml.render'));i.subscribe('init:post',function(u){if(u.xfbml)setTimeout(q(ES(o,'bind',true,null,n.parse),'entry','init:post:xfbml.parse'),0);});h.define('Xfbml',function(u){return (u.nodeType===1||u.nodeType===9)&&typeof u.nodeName==='string';});try{if(document.namespaces&&!document.namespaces.item.fb)document.namespaces.add('fb');}catch(t){}},3);
    }  }).call(global);})(window.inDapIF ? parent.window : window, window);} catch (e) {new Image().src="https:\/\/www.facebook.com\/" + 'common/scribe_endpoint.php?c=jssdk_error&m='+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","revision":"2181183","namespace":"FB","message":"'+e.message+'"}}');}Ô
"|}~Yimage/png_(https://workflowy.com/media/i/go-pro.pngObplist00ÔefX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`U$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_(https://workflowy.com/media/i/go-pro.pngÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùph,^ ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)Yimage/png_Mon, 16 Mar 2015 21:21:12 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTS777Xno-cache_"309-5116e6deee200"Ò+,^_\NSDictionary¢^/Ò+,ab_NSHTTPURLResponse£cd/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑgh_WebResourceResponse€    # - 2 7 W ] x {  ‚ … ˆ Œ  – ™ œ Ÿ ¢ ¥ § © « ­ ¯ ° ² ´ ¶ ¸ º ¼ ¾ Å Í Ù Û Ý ß
#),5>@BIQ\fhjlnprtvx‚„†ˆŠŒŽ’”–¡¨µÃÑÖåóø%EKkoxŽ“ £¨¼ÀÔâô÷             i              O	‰PNG

   IHDR   D   !   Wôýi   sBITÛáOà   –PLTEÿÿÿïïïæææÞÞÞÞÞÞÖÖ×ÐÐÑÖÖ×ÐÐÑÅÅÆÐÐÑ½½½ÖÖ×ÌÌÌÅÅÆµµ¶ÐÐÑÌÌÌÌÌÌÌÌÌÅÅÆÐÐÑÌÌÌÅÅÆ½½½ïïïêêëæææÞÞÞÖÖ×ÐÐÑÌÌÌÅÅÆ½½½µµ¶­­®¥¥¦  ¡™™™”””ŒŒ„„„„„Œ{{{ssskklfffZZZTTTº	UÑ   2tRNS ""33Dfffwwˆ™™ª»»ÌÝÝîîîîÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿ*e¡.   	pHYs    ÒÝ~ü   tEXtSoftware Adobe Fireworks CS5qµã6  ¤IDATH‰íÒQsÛ  àfëÚe]·vÉ²-!c@àýÿ?7ÙÄ)I›»:¹¾ìª| Ý‡À\]½I|¸™NïÆÅ‘p}?ÿµ96¯ŽR˜ÜÎk±es)–ËåEÈ—Å™Ä2y\¯ö„òc=´1VØ#“ñ'gòµëcy®‘‘ëŸ™‰‹Œù,/3zd¾:0d]ËÑÈ§EiHjÛ”èˆ‘»Õ`N"ßÖ¥‘Úˆ@Ëê6QÕ)ä·(j7¡ˆ¸\[cò<zï(‹e&#«ÂPmÒÝWk)lL|‚€É‡Pf2r£Š—êºœ²BqóÒÛ¯§hµ6 Uƒ kîsŸÉÈtS }ÛÆ{Â0J®o0ß @]9ž[?‡È0ÅÈˆÒ]x>˜óýÙM$kL­„q<w¨;ÄÈwU uìnT6[Ã¥µöÿ£‰¸;.èXÈ,+‘·‘ËŸÞ!äÕ¸ë·Š›ÀFÛÄIDò}øÆñÆØrùÑÅ¨s–º?-‘ïÌÉÓ—è¡O¥•x9Ž2Ï‘3âùï‘P½æé8×    IEND®B`‚Ô
"|‚ƒ_'https://workflowy.com/media/i/cards.pngObplist00ÔefX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`U$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_'https://workflowy.com/media/i/cards.pngÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùph8~ ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)Yimage/png_Mon, 16 Mar 2015 21:21:12 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTT3269Xno-cache_"cc5-5116e6deee200"Ò+,^_\NSDictionary¢^/Ò+,ab_NSHTTPURLResponse£cd/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑgh_WebResourceResponse€    # - 2 7 W ] x {  ‚ … ˆ Œ  – ™ œ Ÿ ¢ ¥ § © « ­ ¯ ° ² ´ ¶ ¸ º ¼ ¾ Å Í Ù Û Ý ß	"(+4=?AHP[egikmoqsuwƒ…‡‰‹‘“• §´ÂÐÕäò÷$DJjoxŽ“ £¨¼ÀÔâô÷             i              OÅ‰PNG

   IHDR   Ý      ¸iºú   tEXtSoftware Adobe ImageReadyqÉe<   PLTEý«ÄþÕªt¸Ü»Ž–Ò3N+–Ë “ÌçxŒyÞÜÝxÈë1£Ó‡††¹ÜîS¸à¦Öþþý¹ÅØþèÕRª6ªªªË ƒµÔÓâþöêå´´õêç‹ÓóíŸÏ)0¥'/Õ©µ~Ëî¤ÈÐ³´QN¢¡¢(¦Y |Â»»»ý¸„=ãããâ+QšË^ýùôyÅ˜Zt¦ÔýÿG`ËÖåÖØü ŒÉêêñ’’’›››’Ñ©æ|oôõü²²²‘Êƒ|º% “4ÅÄÄÆâ«êõæÖÖÖéèèù•)Éâñ }·Q´j …ÆñØÙíõúÃÍÛñøýXzž+Q•xwwàâêd›TÊBe¢v®ÊinêRrððñøøûÚ$ #®Û{¶—Æã9‡@½ËËÌ6a›EŽåÉÊ©«Öýýú¬ÃÕ™@f²70¥?ÆäÄuºX¾áðh¾÷÷÷îîî œÑA‚ÏëÜëùóÑè¿ÒÑÑlij»ãÈW«ÒÚ’™ …Ãº8DîIt·3©Ò€=±ÝûÝæÒêöl³2s¤ m£ ‚Ä©¸Ð×Ndø÷ú‘×õ¡±Ì”Ñë½ÂÊd|¬ç>úúûàæògµÙëšþûúôôód«Òøž áïÊ¨ÕÖåñÓa¨ÊRn¤ûüüw¨®÷Œ ëÓÒåíù \–ôûõ²¿Õ¾£ºjÁæ„¿33­dúõôý»‚Ûïø/)+Ä´ÄƒÎïûýøm´)ÓŒÞ»Àööóáóú…œÄüÆ–ôÌÒ¯Ðá±t4ÓÊÒ5|®ÞÃ÷ïðü±kãðÍò¿s¯l‡BEy ˆÇði û¬`ÀÇÎúéÏþ¹<RQRüÌ¡çìô×îø¸SjäF @<>Î¿Òéçðúœ;ýÖ´ˆXH9®ß²$Ÿ3çðöÝžF~¾%l Ã Eyh@Và/ ÿ°ú£M`¾åÿ¯­Ø¥áêâçëëÞçïAëìíÀÇèñ÷ðºßðéÁÂàïÙƒ|{“½‹Ã>ð<fúžB±·ê PŒó¾ÄyÃ½ÈÛÚî÷Gt£ööõ EzØ  Dyÿ©    ÿÿÿŒ¬p§  	[IDATxÚ¼˜}\S×Ç%1B ˆ‰P­˜ˆ¢.Ñ±6õ†Ô‰AP‡Vu¥\mÒ6:1Ý´ÖÖÒbDV^ŠÖ’ …ªm­€±"u*¾cßÖÖ©µëVjg¸ðôœ›{ÃÂ¢û£¿{sîKòáÃ÷ó{Îó<çŒò»N§“Ä':®ÌZÔýÀƒN˜ðÒ„	»üýë>,Z´zõ˜1cfµiµ7^¾|9**jàÔ(úÿ¿Ó-‘ÄÄ\r=ö47––4Ÿ‰cèœà]ˆn×Èt\Ô€÷¿4Pàõ'è7"¬Šâ
$t³’H”»»"77u‡¡‹‘ô¹$Á|gJú]*iŽcèH’qÛæ¤¼#)'ñÃ'	ND·kXºYÝåû¦ûõØùüÔÉ–åää¤ONö C}=9ííÏùïÙöæó¾H½°fö¿Y¿~ý\ê7]\wß $=ýƒ*9ãŠL d˜h,šÈ;lÖ.D÷¹'öÿò.ó?…¶k¢šß ¼œÉCèâWü°ðÏ‹ñNÜ\;1bôÔW£æ=rnÜ¸w^Ø!bèâ$,¸¾«U¥ýlqÑ9(§{¢Ñ“Ðå"öÎ›GÃù×ñî¾énŸújÆXÛÖM¹{±y9â=é
~{Á=öXQüâ‰kGžº.zöªUOŽûÝþÐíÛ¹¾¾¬¬«žxqtdº½c%:µàLçÂnÿÉn·Ÿ8qÂúòÒ—5ùùù7Ð)Ìj4kZÔvt ¾I6º ¨M|ˆ¾ÀÄ7áÓÆ¢Ë+úî`Mlú‚T9mž'Ý¯fü¢;ûÑÝ¨ß¥‹ñ€;RU5Ä¼FÊ»J±ØˆE_Œì'1R%ŠÌ:+Ë€äÀä!–X³)cÀìp˜U±£C*st8‚?;zôÐ­9è½££ËlsÓ}<?6}Ùí‚òe5×Ë)ó¾óB}\ßI¬*¼&gÆ4ÔS^ yW)</  ÍbtX,`Áâl´ ¶ä‹+¢“ò»C‡ÊÖ%þÑzŸúH‡Ú,v˜TµÃ4è]ÆíÜòecß._6?#¢Ûë•î‘UçØtq}Y\Vÿ§Ç>eà¾hÆÞaI'Ù
z'Q†Ã³½s’z¦"AÈÓð„€‰êÐ›:é'¦ÁìÌfß€œâü{_pð¾}_Úe#ûlƒt¢šÜMßÔ¼½bÆ»ós¨ÈÜ4Ýx/ð•)Sûú.™=û­·æ=õÔ ]LDhxglxVžrsæ©:‚t84Ó§ÿŠíBX#C‡©@OQŠIÐ;„ž€™­hÞ1t)Àãá½d±ƒµMHÑ	]‘zÑ²\«¡"Sªr2¾ÀÜ% Y}ýéÓõ§e3HÍ`r˜Íì¬’ðÏÝ›B
·¤ÚfPÖÍ87ÝÂ7`Ï„'n†mÓ½÷oôæ”gó
D>¼ƒ¦“tÂ¤˜Ô®«MÑÍÑõvêšRNs#uí‡}Ú}ÚSÃJÜÕ\O–zä¡Z”e•ÎÊVr&™È:!õ	°¤X!ÐD‹s#áiµfÞ)LˆÏ!6u9ÁGÚ¶.Hñ¼SwIYt¢øÛ»cßÝýÕVÊ¹ôx–.9;ŠGL]ò}tÅÜ‡ÎåÁÜ¿¹é¸É!§Â¸Ü×ªS&µl®ÝÜ ªk7+½ÐR’y ½ÔMWI eŸ‘$[	H [ZI‚öùF	Ñ!4«ÅßEGE&@šÅr‘òŽ–åI@y‚·¡?|5}\3öö–­+ÒÓÓË÷¾&žî|öx`-Uï¶­™ýåÜâõnïº'…¤|rJ×”ÚÔr*$¬%³–ûIo+m?J„Ef;àSêŽL£[6“Ä<„9XIêYtv^ÐÙ¥EA<;¢³k-–d+2Ó,Ùír°ê@&5IetªÌ*m¤NŒn¶îêÄ]ùÁ;‘w»nÀÍµSQV­™þcÞ_ŸùCs AÇ­NÕ®©ºjS{›BÂcªCuÕíÒÎMŸnïp*!Ðˆ‚³¹×JPË•2:2y¼jt­æ :¸îÈ´p²-i ÙÚ4‹Î`˜¤jƒA,wÉÌ]l½‹îÿZ±»7©ÈPËÕpG^àYÍ·ü÷OË÷ƒæu¡¨âù_ô]‚¼›÷ä— Ó˜^%¦¥¥³³¥¥–Ë­åvÖv¶4„sç\å6Dr##¹‡Ñx¸ÙMGPiRïg$¨ÒnÔûUe(¿ÐÞq8`¯³µš Ž€“B˜œlô•Ž•Ý«¨©ÁÆ6%öøß“\t*…,‘gÜ)¼¦.¼£J4)LJ¢‚MWüõüýñçóŸøè•aïõnðþÇÓÏæ}ûí£îywIÒ'¡…n²ª©ŠPRZZ‚>ýhÀõŽŽL(Ã6•ga¬¬$¨;t›Àd€¢ À‘ú++'j; üÏN³%Ñt‰*•Y¡Tˆ¥¥RnH2¥R*÷ˆÌ­+–§-¿èì+k'âŠ°.zúC¸"¼3R¯ré¤G1/A½Êðñ&D·š%¼îqµÏ¨ÅdzL/}f(ÅÆÐ)M2…@&¨Ä„¢P æ#RJ¥fÓ©Ëþ°•ó"TÍ'FD¬ÃÕwÑ¬^å’GUUêÙˆõ7SX¿7!:D´š>0RkÙê.¸>‰–‹N&+”!·©å œÿ8A˜äÅtrõÖ‰ípwÑžæ<R5Ï;ït$¦c„}CÆ1p4æüHt¡Ç?KJò¤#j5_­–Ëåê
¹ÜDØ2
Õ¶¾ÒƒÎé¢3í¢ÿ2¸¾óÀ“t—…»7ïÈY³ÆÐ‡Ë·¶¡Q)L–.Ôçh[´w·¤RT¬*•‰b–ªDƒR,ˆ‡TŒçÿ&E÷ê÷\‘ùÂ´ëƒt~—AÝq~­Íƒëƒ¿{¦sÌb‰b£áØy]ð>O47B!V‰²ÄD@qKl‹bƒÂ,cÓés.Z4þõ=.º%£`:åÝ´E‡V°x[EÒãÚiè9ÓˆfcsÏýí«hÛXb³@|üPÒ0ºÇ}´þybÿþýù™ðÁÊ¦•7{7 <ýþûyyÏ\O:o{bôn˜Óµ©BR;)NzW…ÙÐR¢À0Ù°p¿èžØÏ Ò‹ÉƒÎž´O    IEND®B`‚Ô
"|…†‡_)https://workflowy.com/media/i/padlock.pngObplist00ÔefX$versionX$objectsY$archiverT$top † ¯#)*0123KLMNOPQRSTUVWXYZ[\]`U$nullÝ	
 !"R$6S$10R$2R$7R$3S$11R$8V$classR$4R$9R$0R$5R$1€	€€€ €€€€Ó$%'(WNS.base[NS.relative€ €€_)https://workflowy.com/media/i/padlock.pngÒ+,-.Z$classnameX$classesUNSURL¢-/XNSObject#A¼oùphQ" ÈÓ456@JWNS.keysZNS.objects©789:;<=>?€	€
€€€€€€€©ABDEFGHI€€€€€€€€€€ZConnectionVServer\Content-Type]Last-Modified]Accept-RangesTDate^Content-Length]Cache-ControlTEtagZkeep-alive_Apache/2.4.7 (Ubuntu)Yimage/png_Mon, 16 Mar 2015 21:21:12 GMTUbytes_Sat, 13 Feb 2016 23:51:37 GMTS300Xno-cache_"12c-5116e6deee200"Ò+,^_\NSDictionary¢^/Ò+,ab_NSHTTPURLResponse£cd/_NSHTTPURLResponse]NSURLResponse_NSKeyedArchiverÑgh_WebResourceResponse€    # - 2 7 W ] x {  ‚ … ˆ Œ  – ™ œ Ÿ ¢ ¥ § © « ­ ¯ ° ² ´ ¶ ¸ º ¼ ¾ Å Í Ù Û Ý ß$*-6?ACJR]gikmoqsuwyƒ…‡‰‹‘“•—¢©¶ÄÒ×æôù&FLlpy”¡¤©½ÁÕãõø             i              O,‰PNG

   IHDR         !å™   sBITÛáOà   PLTEÿÿÿÌÌÌ™™™fffÿÿÿ7 'Î   tRNSÿÿÿÿ û¶S   	pHYs    ÒÝ~ü   tEXtCreation Time 5/31/12C^@5   tEXtSoftware Adobe Fireworks CS5.1«Hë   XIDAT•cpÉÈc
‹@˜NÆ‚ÂF¦²
™@'ÓÑÈ@¦“	È#â˜†‚@ f*ƒŠƒ#„elH;&’m.Ž‚` õ<$ 4ú6¡ÆbÏe    IEND®B`‚Õ	
‰Š‹P_https://workflowy.com/O ¬„<!DOCTYPE html><html><head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="chrome=1">

      

      <meta name="description" content="WorkFlowy is an organizational tool that makes life easier. It's a surprisingly powerful way to take notes, make lists, collaborate, brainstorm, plan and generally organize your brain.">
      <link rel="shortcut icon" type="image/x-icon" href="/media/i/favicon.ico">

      <link href="/media/css/reset.css" type="text/css" rel="stylesheet">

      <link type="text/css" href="/media/css/aristo/jquery-ui-1.8.7.custom.css" rel="stylesheet">

      
      <style id="theme_css">html{overflow-y:scroll}body{position:relative;background:#f9f9fa}#documentView{padding:0;padding-top:30px;margin:0;color:#333;position:relative}.showOnWindows,.showOnLinux,.showOnChromeOS{display:none}.hideOnWindows,.hideOnLinux,.hideOnChromeOS{display:inline}body.windows .showOnWindows,body.linux .showOnLinux,body.cros .showOnChromeOS{display:inline}body.windows .hideOnWindows,body.linux .hideOnLinux,body.cros .hideOnChromeOS{display:none}#backgroundImage{width:100%;height:100%;position:fixed;top:0;left:0;opacity:1}.project,.children{display:none}.parent,.selected .project,.selected,.selected .open>.children,.parent>.children,.selected>.children{display:block}.project.done{display:none}.page.showCompleted .selected .project.done,.parent.done,.selected.done{display:block}.page.searching .selected .project,.page.searching .selected .project.done{display:none}.page.searching .selected .project.matches,.page.searching .selected .project.uncompletedDescendantMatches,.page.searching .selected .project.terminalMatch .project{display:block}.page.searching .selected .project.matches.done,.page.searching .selected .project.uncompletedDescendantMatches.done,.page.searching .selected .project.terminalMatch .project.done{display:none}.page.searching.showCompleted .selected .project.matches.done,.page.searching.showCompleted .selected .project.uncompletedDescendantMatches.done,.page.searching.showCompleted .selected .project.completedDescendantMatches,.page.searching.showCompleted .selected .project.terminalMatch .project.done{display:block}.page.searching .addButton{display:none}#pageContainer{position:relative;margin-top:20px}.page{position:relative;background:#fff;opacity:1;padding:0 60px 10px;margin-left:auto;margin-right:auto;padding-top:30px;z-index:1;border:1px solid #d6d6d6;-moz-user-select:-moz-none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.pageStar{position:absolute;top:10px;right:10px;height:20px;width:20px;background:url(/media/i/star-icon-empty.svg);background-size:20px;background-repeat:no-repeat}.pageStar.starred{background:url(/media/i/star-icon-grey.svg);background-size:20px;background-repeat:no-repeat}.pageStar:hover{cursor:pointer}body.shared .pageStar{display:none}#header{position:fixed;top:0;left:0;width:100%;min-width:800px;padding:0;border-bottom:1px solid #111;height:29px;background:#444;z-index:100;white-space:nowrap;background:-webkit-gradient(linear,left bottom,left top,color-stop(1,#444),color-stop(0,#333));background:-moz-linear-gradient(center top,#444,#333)}.notSelectable{-moz-user-select:-moz-none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.selectable{-moz-user-select:text;-webkit-user-select:text;-ms-user-select:text;user-select:text}#logo{position:relative;clear:both;display:block;height:18px;width:80px;margin:2px 0 0;padding:2px 20px;color:#aaa;opacity:.9}.video{text-align:center}#video_player{width:480px;height:300px;border:1px solid #666;-webkit-box-shadow:0 3px 40px #113;-moz-box-shadow:0 3px 40px #113;box-shadow:0 3px 40px #113;margin-left:115px}.addBottomRightMargin{margin-top:-20px;margin-left:-20px}.slideshowjs{padding:0 40px 10px!important}.slideshowjs>*:first-child{margin-top:20px}.slideshowjs h1{font-size:25px;line-height:28px;margin-bottom:10px}.slideshowjs p{font-size:16px;line-height:18px;margin:10px 0 0 0}.videojs{position:relative;border:1px solid #ccc;overflow:hidden}.videojs>img.videojsThumbnail,.videojs>iframe{border:1px solid #ccc;background:#333}.videojs>img.videojsThumbnail{width:100%;height:100%}.videoPlayButton{background:url(/media/i/video_play_button.png);width:100px;height:75px;position:absolute;top:50%;left:50%;margin-top:-38px;margin-left:-50px;z-index:1;opacity:.8}.startPrompt{padding:15px 0;background:#ccc;border:1px solid #aaa;margin:20px 0 0;color:#333}.startPrompt a.startLink{color:#222;text-decoration:underline}#helpWindow{display:none;padding-top:10px;padding-bottom:0}#helpWindow .pane{padding-top:20px;max-height:440px;overflow-y:auto;overflow-x:hidden}#helpWindow .pane::-webkit-scrollbar{-webkit-appearance:none;width:7px}#helpWindow .pane::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}#howTo table{margin:20px 0;line-height:16px}#howTo table td.commandName{width:20%;font-weight:bold;text-align:right;background-color:#fcfcfc}#howTo table td.commandDescription{width:70%;text-align:left}.commandAsterisk{font-size:120%;line-height:1px}.darkPaddedContainer{padding:10px 20px;background:#eee;border:1px solid #ccc;text-align:center;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px}#howTo td{padding:10px 15px;border:1px solid #ddd;font-size:14px}td.first,td.second,td.third{border-left:none;border-right:none;border-top:none;border-bottom:1px solid #ddd}#helpWindow h1.header{font-size:25px;margin-bottom:20px}#helpRadio{text-align:center;border-bottom:1px solid #ccc}#helpRadio>span{padding:10px 15px;margin:0 2px;display:inline-block;position:relative;top:2px;border:1px solid transparent;border-bottom:none;font-weight:bold;color:#999}#helpRadio>span.current{top:1px;border-top-left-radius:5px;border-top-right-radius:5px;border:1px solid #ccc;border-bottom:none;background:#fff;color:#666}.helpEmail{text-align:center}.helpEmail a{color:#005;text-decoration:underline}.ui-dialog.noClose .ui-dialog-titlebar-close{display:none}.videoContainer{position:relative}.videoContainer .playButton{position:absolute;top:50%;left:50%;margin-top:-144px;margin-left:-176px}#loginPopup .loginForm .loginFormErrorMessage{display:none;color:red;font-size:14px;text-align:center;margin-bottom:15px}#loginPopup .loginForm .loginFormLabel{color:#555;font-size:14px}#loginPopup .loginForm .loginFormPasswordInput{margin-top:5px;font-size:20px;width:200px}#loginPopup .loginFormForgotPasswordLink{display:block;color:#005;font-size:14px;margin-top:10px;text-decoration:underline;text-align:right}#sharePopup{font-size:15px;line-height:20px;padding-top:20px;overflow:hidden}#sharePopup .url_shared_settings,#sharePopup .email_shared_settings,#sharePopup .embedded_settings{display:none}#sharePopup>.sharePopupContentsContainer.sharedViaUrl .url_shared_settings{display:block}#sharePopup>.sharePopupContentsContainer.sharedViaEmail .email_shared_settings{display:block}#sharePopup>.sharePopupContentsContainer.embedded .embedded_settings{display:block}#sharePopup>.sharePopupContentsContainer.sharedViaUrl .share_prompt,#sharePopup>.sharePopupContentsContainer.sharedViaEmail .share_prompt,#sharePopup>.sharePopupContentsContainer.embedded .share_prompt{display:none}#sharePopup .share_prompt #shareTypeSelector{padding:10px 10px 0}#sharePopup .share_prompt #shareTypeSelector .shareTypeOption{margin-top:5px;position:relative}#sharePopup .share_prompt #shareTypeSelector .shareTypeOption .rightOfTheBullet{display:inline-block;vertical-align:text-top;width:385px;padding:4px 7px;margin-top:-5px;border:1px solid transparent;border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px}#sharePopup .share_prompt #shareTypeSelector .shareTypeOption.chosenShareTypeOption .rightOfTheBullet{background:#F6F6F6;border-color:#eee}#sharePopup .share_prompt #shareTypeSelector .shareTypeOption .shareTypeOptionDescription{font-size:12px;color:#666}#sharePopup .share_prompt #shareTypeSelector .shareTypeOption .shareTypeAdditionalInfo{border-top:1px solid #ddd;padding-top:3px}#sharePopup .share_prompt .emailListInput{width:200px;font-size:12px}#sharePopup .share_prompt .nonProBlocker{position:absolute;top:0;left:0;height:100%;width:100%;background-color:white;opacity:.5}#sharePopup .share_prompt .nonProMessage{margin-top:-4px;margin-left:30px;font-size:12px;color:#888}#sharePopup .buttonset.smallButtonset .ui-button-text{padding:2px 6px;font-size:13px}#sharePopup .email_shared_settings .sharedEmailsHeading{color:#666}#sharePopup .email_shared_settings .noSharedEmailsMessage{display:none}#sharePopup .email_shared_settings.noSharedEmails .noSharedEmailsMessage{display:block}#sharePopup .email_shared_settings.noSharedEmails #sharedEmailsTableContainer{display:none}#sharePopup .email_shared_settings .noSharedEmailsMessage{margin-left:5px;margin-top:5px;font-style:italic;font-size:14px;color:#888;background:#EEE;padding:3px 7px;border:1px solid #DDD}#sharePopup .email_shared_settings #sharedEmailsTableContainer{margin-top:2px;margin-left:5px;width:100%;max-height:225px;overflow-y:scroll}#sharePopup .email_shared_settings #sharedEmailsTable{font-size:13px;border:1px solid #CCC;width:100%;margin-top:3px;background:#F3F3F3}#sharePopup .email_shared_settings #sharedEmailsTable tr{border-bottom:1px solid #DDD}#sharePopup .email_shared_settings #sharedEmailsTable td{padding:2px 6px}#sharePopup .email_shared_settings #sharedEmailsTable tr:nth-child(even){background:#F8F8F8}#sharePopup .email_shared_settings #sharedEmailsTable .sharedEmail{width:225px;max-width:225px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}#sharePopup .email_shared_settings #sharedEmailsTable .sharedEmailActive{font-size:12px;color:#888;text-align:center}#sharePopup .email_shared_settings #sharedEmailsTable .sharedEmailRemoveLink{margin-right:3px;text-decoration:underline;font-size:12px;color:#888;cursor:pointer}#sharePopup .email_shared_settings .sharedEmailsAddPeopleHeading{margin-top:15px}#sharePopup .email_shared_settings .addPeopleWidget{margin-top:2px}#sharePopup .email_shared_settings .addPeopleWidget .emailEntryForm{display:inline-block;padding:7px;margin-left:5px;margin-top:2px;background:#EEE;border:1px solid #DDD;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px}#sharePopup .email_shared_settings .addPeopleWidget .emailEntryForm .fancyButton{padding:2px 6px;font-size:13px;position:relative;top:-1px;margin-left:10px}#sharePopup .email_shared_settings .addPeopleWidget .addPeopleWidgetNotice{margin-top:5px;margin-left:5px;color:#888;font-size:12px;line-height:15px}#sharePopup .email_shared_settings .emailListInput{width:250px;font-size:13px}#sharePopup .embedded_settings .embeddedSettingsView,#sharePopup .embedded_settings .embeddedSettingsEdit{display:none}#sharePopup .embedded_settings.embeddedEditable .embeddedSettingsEdit{display:inline}#sharePopup .embedded_settings.embeddedViewOnly .embeddedSettingsView{display:inline}#sharePopup .embedded_settings .section.linkSection{display:none}#sharePopup .embedded_settings.embeddedSharedByUrl .section.linkSection{display:block}#sharePopup .section.optionsSection div{display:inline-block}#sharePopup input.collabLink{display:block;padding:5px;font-size:15px;width:95%}#sharePopup .section.optionsSection{margin-top:10px}#sharePopup .is_editable.buttonset{margin-left:2px;margin-right:6px;white-space:nowrap}#exportPopup form{text-align:center;background:#EEE;border-bottom:1px solid #CCC;border-left:1px solid #CCC;border-right:1px solid #CCC;font-size:15px;padding:5px 0}#exportPopup .instructions{color:#666;font-size:15px;line-height:18px;margin-top:15px;text-align:center}#exportPopup .previewWindow{border:1px solid #aaa;height:200px;overflow:scroll;padding:10px}#exportPopup .previewWindow,#cutAndCopyBucket{font-family:'Helvetica Neue',Arial,Sans-serif;color:#333}#exportPopup .previewWindow>pre{word-wrap:normal;font-size:10pt}#exportPopup .formatOptionContainer{display:inline-block;margin-right:13px}.footer{border-top:1px solid #eee;padding:10px 0 30px;margin:40px 0 0;position:relative;text-align:center}.footer a{color:#666}#bottomLinks{text-align:center;margin-top:10px;padding-bottom:20px;position:relative}#bottomLinks .bottomLinksVerticalSpacer{display:inline-block;width:0;height:23px}#bottomLinks a{color:#999;margin:0 8px}#bottomLinks>a.facebookLike{position:relative;top:-2px}#bottomLinks .bottomLink{font-size:12px;position:relative;top:-5px;font-style:italic}.siteSlogan{font-size:12px;color:#888;font-style:none;font-weight:normal;position:absolute;left:0}.selected{border-top:1px solid #eee}.selected.project>.name{padding:10px 0;border-color:#aaa;margin-left:-100px;padding-left:100px}.saveButton,.showCompletedButton,#buttonBar,#helpButton{display:block;margin-left:-1px;padding:8px 0;font-size:13px;text-align:center;float:right;border-bottom:none;border-left:1px solid #111;border-right:1px solid #111;border-radius:0;background-color:#555;position:relative}#savedViewHUDButton{position:relative;width:21px;height:28px;float:left;margin-left:2px;background:url(/media/i/saved-views-button.svg);background-size:21px 23px;background-repeat:no-repeat;background-position:0 3px;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px}body.shared #savedViewHUDButton{display:none}#logo,#backwardNavigationButton,#forwardNavigationButton,#searchForm{float:left}.saveButton.saveNow,.showCompletedButton,#buttonBar,#helpButton{color:#fff}#buttonBar{margin-right:15px;overflow:visible;position:relative;padding:0}.menu-button{padding:13px 10px 12px}.menu-options{display:none;text-indent:0;padding:10px 0;position:absolute;top:100%;right:-1px;color:#fff;background:#666;border:1px solid #111;border-top:none;min-width:150px;text-align:left;z-index:100;-webkit-border-bottom-right-radius:5px;-webkit-border-bottom-left-radius:5px;-moz-border-bottom-right-radius:5px;-moz-border-bottom-left-radius:5px;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.menu-options>#userEmail{display:block;padding:5px 20px;font-size:11px;color:#aaa;overflow:hidden}#buttonBar.open>.menu-options{display:block}#buttonBar.open{background:#666}.menu-options>.button{padding:5px 20px}.showCompletedButton{padding:8px 10px;width:118px}.saveButton{width:75px;color:#aaa}.saveButton_saveNow,.saveButton_saving,.saveButton_saved{display:none}.saveButton.saveNow .saveButton_saveNow{display:block}.saveButton.saving .saveButton_saving,.saveButton.saved .saveButton_saved{display:block}.saveButton.saving .saveButton_saving{font-style:italic}.navigationButton{position:relative;width:21px;height:28px}.navigationButton>svg{display:block;position:absolute;width:7px;height:14px;top:8px;left:6px}.navigationButton>svg>polyline{fill:none;stroke-width:2;stroke:#ddd}.navigationButton.enabled{cursor:pointer}.navigationButton.enabled>svg>polyline{stroke:#999}.navigationButton.enabled:hover>svg>polyline{stroke:#777}#backwardNavigationButton{margin-left:7px}#forwardNavigationButton{margin-left:5px}#searchForm{position:relative;top:3px}#searchBox{position:relative;color:#000;background-color:#fff;border:1px solid #888;width:200px;height:15px;padding:3px 4px;font-size:13px;opacity:.9;margin:0;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px}#searchForm.clearPrompt #searchBox{opacity:1}#searchPrompt{position:absolute;bottom:5px;left:6px;font-size:13px;line-height:14px;opacity:1;color:#999;z-index:1}#searchForm.clearPrompt #searchPrompt{display:none}#searchCancel{position:absolute;top:7px;right:8px;margin-top:-7px;margin-right:-8px;padding:7px 8px;width:9px;height:9px;display:none}#searchCancel>svg{display:block}#searchCancel>svg>line{stroke:#aaa;stroke-width:2}a.smallLink{color:#aaa;font-size:12px;font-style:italic}.link{color:#336;text-decoration:underline}.addButton{display:inline-block;position:relative;left:-4px;font-family:Arial;font-size:24px;margin-top:-5px;padding:2px 7px;color:#999;z-index:7}.addButton.selectedTreeIsReadOnly{display:none}.content .contentLink,.nameAnimated .contentLink{color:#888;text-decoration:underline}.content .contentTag,.nameAnimated .contentTag{color:#999;padding:0 1px;margin:0 -1px;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px}.content .contentTagText,.nameAnimated .contentTagText{text-decoration:underline}.contentTagAnimated{position:absolute;z-index:100;background-color:#bbb;color:#555}.contentTagPiece{position:absolute;z-index:100;color:#999}.content .contentMatch{background-color:#ff9}.project.addedToSelection .content .contentMatch{background-color:transparent}.project.metaMatches:not(.addedToSelection)>.name>.content>.innerContentContainer,.project.metaMatches:not(.addedToSelection)>.notes>.content>.innerContentContainer{background-color:#ffd}.project.addedToSelection .project.metaMatches>.name>.content>.innerContentContainer,.project.addedToSelection .project.metaMatches>.notes>.content>.innerContentContainer{background-color:transparent}.contentBold{font-weight:bold;line-height:0}.contentItalic{font-style:italic;line-height:0}.contentUnderline{text-decoration:underline}.content .contentTag .contentBold,.content .contentLink .contentBold,.nameAnimated .contentTag .contentBold,.nameAnimated .contentLink .contentBold{font-weight:inherit}.content .contentTag .contentItalic,.content .contentLink .contentItalic,.nameAnimated .contentTag .contentItalic,.nameAnimated .contentLink .contentItalic{font-style:inherit}.content .contentTag .contentUnderline,.content .contentLink .contentUnderline,.nameAnimated .contentTag .contentUnderline,.nameAnimated .contentLink .contentUnderline{text-decoration:inherit}.content .contentCaret{display:inline-block;height:100%;width:0}.content .contentCaretContainer{white-space:nowrap}.noted>.notes>.content{white-space:pre-wrap;height:17px;min-height:17px;overflow:hidden;line-height:17px;color:#666;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.project.animatingShowChildren .noted>.notes>.content{-webkit-line-clamp:inherit}.notes{display:none;position:relative}.noted>.notes>.content:focus,.noted>.notes>.content.showAsEditing,.noted>.notes>.content.copyOrPasteInProgress,.noted>.notes>.content.focusedButWindowBlurred,.selected>.notes>.content,.page.searching .notes.matches>.content{height:auto;overflow:visible;display:block;-webkit-line-clamp:inherit}.open>.notes{max-height:none}.noted>.notes{display:block;margin:0 0 0 25px}.content{display:block;word-wrap:break-word;position:relative;z-index:6}.selected .content{-moz-user-select:text;-webkit-user-select:text;-ms-user-select:text;user-select:text}.selected>.notes{margin:5px 0 10px 0;padding-top:4px}.noted.parent>.notes{display:none}.small{font-size:.8em;color:#666}.selected>.children>.project .project{margin-left:10px}a.archive{display:none}.childrenEnd{display:none;height:5px}.selected .childrenEnd{display:block}.selected .project .childrenEnd{margin-left:10px}.parent>.children{padding:0}.children{position:relative;margin-left:10px;padding-left:15px;border-left:1px solid #eee}.selected.project>.children,.parent.project>.children{border-left:none;margin-left:0;padding:0}.addSiblingButton{display:none}#controlsLeft,#itemSelectionControls{position:absolute;z-index:8;background:#e8e8e8;border:1px solid #bbb;width:80px;padding:10px 0 5px 10px;margin-bottom:10px;border-radius:4px;-moz-user-select:-moz-none;-webkit-user-select:none;-ms-user-select:none;user-select:none}#controlsLeft a,#itemSelectionControls a{display:block;color:#555;margin-bottom:5px;font-size:12px;margin-right:10px;width:auto;height:auto}#controlsLeft hr,#itemSelectionControls hr{margin:5px 0;border:none;border-top:1px solid #bbb}#controlsLeft{left:14px;display:none}.selected>.children>.project>.name>#controls #controlsLeft{top:39px}.selected>.children>.project .project>.name>#controls #controlsLeft{top:38px}#itemSelectionControls.readOnly{padding-top:0}#itemSelectionControls.readOnly>a{display:none}#itemSelectionControls.readOnly>.numSelectedItems{margin-top:0;border-radius:2px 2px 2px 2px}#itemSelectionControls.allProjectsDone>.complete>.completeButtonCompleteText{text-decoration:line-through}#itemSelectionControls>.numSelectedItems{color:#555;background:#fafafa;font-size:12px;text-align:center;padding:4px 0 3px 0;margin:9px 0 -4px -10px;border-radius:0 0 2px 2px;cursor:default}body.mozilla #itemSelectionControls>.numSelectedItems{padding:3px 0 4px 0}#controlsLeft.hovered{display:block}.project.addedShared>.name #controlsLeft a{display:none}.selected>.name>#controls>#controlsLeft{left:-20px}.selected>.name>#controls>#controlsLeft{top:15px}.selected>.name>#controls #expandButton{display:none}.mainTreeRoot.selected>.name{display:none}body.shared .mainTreeRoot.selected>.name{display:block}.mainTreeRoot.selected{margin-top:15px;border-top:none}body.shared .mainTreeRoot.selected{margin-top:0}#moveDropLine{display:none;position:absolute;height:4px;width:100%;background:#ccc;border-radius:2px;z-index:2}body.read_only_main_tree .notes>.content{height:auto;display:block;-webkit-line-clamp:inherit}#controls .sharedName,#controls .placeholderName{display:none}.project.shared>.name>#controls .sharedName{display:inline}.project.shared>.name>#controls .normalName{display:none}.project.addedShared>.name>#controls .placeholderName{display:inline}.project.addedShared>.name>#controls .normalName{display:none}.project.shared>.name #controlsLeft a.share,.project.addedShared>.name #controlsLeft a.share{font-weight:bold;text-shadow:#bbf 1px 1px 2px}.selected>.name #controlsLeft{left:2px}.project.done>.name #controlsLeft a.complete{text-decoration:line-through}#controlsLeft a.note span{display:none}#controlsLeft a.note span.addNote{display:inline}.noted>.name #controlsLeft a.note span.editNote{display:inline}.noted>.name #controlsLeft a.note span.addNote{display:none}.project.highlighted::before,.project.moving::before,.project.tapped::before,.draggableNameClone::before{display:block;content:'';height:100%;left:-5px;padding:2px 5px 1px;position:absolute;top:0;width:100%;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px;background:#fafafa}.project.moving::before{background:#eee}.project.addedToSelection::before{display:none}#expandButton>svg>line{stroke-width:2;stroke:#666}.project>.name #controls #expandButton .expandButtonMinus,.project>.name #controls #expandButton .expandButtonPlus{position:absolute;top:0;left:0;pointer-events:none}.project>.name #controls #expandButton .expandButtonMinus{display:none}.project>.name #controls #expandButton .expandButtonPlus{display:block}.project.open>.name #controls #expandButton .expandButtonMinus{display:block}.project.open>.name #controls #expandButton .expandButtonPlus{display:none}.page.showCompleted .project.open.halfOpenSearchMatchAncestorWhenCompletedVisible>.name #controls #expandButton .expandButtonMinus{display:none}.page.showCompleted .project.open.halfOpenSearchMatchAncestorWhenCompletedVisible>.name #controls #expandButton .expandButtonPlus{display:block}.page:not(.showCompleted) .project.open.halfOpenSearchMatchAncestorWhenCompletedHidden>.name #controls #expandButton .expandButtonMinus{display:none}.page:not(.showCompleted) .project.open.halfOpenSearchMatchAncestorWhenCompletedHidden>.name #controls #expandButton .expandButtonPlus{display:block}.task>.name #controls #expandButton{display:none}#controls #expandButton{position:absolute;top:0;left:30px;height:20px;width:20px;z-index:9}.selected>.children>.project>.name>#controls #expandButton{top:4px}.selected>.children>.project .project>.name>#controls #expandButton{top:3px}#dropdownMessages{position:absolute;top:100%;left:0;width:100%;font-size:13px}#message{display:none;background-color:#ddd;border:1px solid #aaa;padding:10px 20px;color:#333;position:relative;top:1px}#message.errorMessage{background-color:#ffa}#message>.messageContent a{color:#000;text-decoration:underline;cursor:pointer}.messageContent{white-space:normal}#message>.close{color:#666}.overDrop{background:#eee}.controls>a{margin-left:10px}.parent>.controls{display:none}.name>.content{text-decoration:none;white-space:pre-wrap}.parent>.name{float:left;margin:5px 0;position:relative;z-index:1}.parent>.progress{display:none}.selected .project>.name{margin-left:-50px;padding:0 0 0 75px}.noted.project>.name{padding-bottom:0}.project>.name{position:relative}.project{position:relative}.project.parent{border-top:none}#hidden{display:none}.addForm{display:none}#bulletBucket{position:absolute;z-index:100}.bullet,#bulletBucket .bulletBucketBullet{height:18px;width:18px;background-color:#e0e0e0;-moz-border-radius:12px;-webkit-border-radius:12px;border-radius:12px}.bullet{display:none;position:absolute;left:50px;z-index:6;margin-left:1px}.selected>.children>.project>.name>.bullet{margin-top:5px}.selected>.children>.project .project>.name>.bullet{margin-top:4px}#bulletBucket .bulletBucketBullet{position:absolute;z-index:5}#bulletBucket .bulletBucketBullet:nth-child(1){background-color:#aaa}#bulletBucket .bulletBucketBullet:nth-child(2){top:10px;z-index:4}#bulletBucket .bulletBucketBullet:nth-child(3){top:20px;opacity:.8;z-index:3}#bulletBucket .bulletBucketBullet:nth-child(4){top:30px;opacity:.6;z-index:1}#bulletBucket .bulletBucketBullet:nth-child(5){top:40px;opacity:.4;z-index:1}.selected .project .bullet,.draggableNameClone .bullet{display:inline-block}.draggableNameClone .content{position:relative;left:74px}.draggableNameClone::before{background:#fff;opacity:.5;top:0;left:-2px;right:0}.draggableNameClone .parentArrow{display:none}.draggableNameClone #expandButton{display:none}.project.task>.name>.bullet,.project.open>.name>.bullet,.noHalo .bullet{background-color:transparent}.page.showCompleted .project.halfOpenSearchMatchAncestorWhenCompletedVisible:not(.shared):not(.addedShared)>.name>.bullet{background-color:#e0e0e0}.page:not(.showCompleted) .project.halfOpenSearchMatchAncestorWhenCompletedHidden:not(.shared):not(.addedShared)>.name>.bullet{background-color:#e0e0e0}.project.shared>.name>.bullet{background-color:#ccf}.project.addedShared>.name>.bullet{background-color:#e0e0e0;-webkit-box-shadow:0 0 5px #88f;-moz-box-shadow:0 0 5px #88f;box-shadow:0 0 5px #88f}.project.done>.name,.project.doneAppearance>.name,.selected .project.done .project>.name,.selected .project.doneAppearance .project>.name{color:#999}.project.done>.name>.content,.project.doneAppearance>.name>.content{text-decoration:line-through}a{text-decoration:none;color:inherit}.mainTreeRoot>.children>.project{margin-left:0}.selected.project{clear:both;padding-top:5px}.project.addedToSelection{background:rgba(168,209,255,0.5)}body.windowBlurred .project.addedToSelection{background:rgba(200,200,200,0.5)}.project.addedToSelection .children{border-left:1px solid rgba(0,0,0,0.0)}.selected.addedToSelection>.children{border-left:none}.project.addedToSelection .bullet,.project.addedToSelection .bullet:hover,.project.addedToSelection.shared>.name>.bullet,.project.addedToSelection.shared>.name>.bullet:hover,.project.addedToSelection .project.shared>.name>.bullet,.project.addedToSelection .project.shared>.name>.bullet:hover,.project.addedToSelection.addedShared>.name>.bullet,.project.addedToSelection.addedShared>.name>.bullet:hover,.project.addedToSelection .project.addedShared>.name>.bullet,.project.addedToSelection .project.addedShared>.name>.bullet:hover,.page.showCompleted .project.addedToSelection.halfOpenSearchMatchAncestorWhenCompletedVisible:not(.shared):not(.addedShared)>.name>.bullet,.page.showCompleted .project.addedToSelection.halfOpenSearchMatchAncestorWhenCompletedVisible:not(.shared):not(.addedShared)>.name>.bullet:hover,.page.showCompleted .project.addedToSelection .project.halfOpenSearchMatchAncestorWhenCompletedVisible:not(.shared):not(.addedShared)>.name>.bullet,.page.showCompleted .project.addedToSelection .project.halfOpenSearchMatchAncestorWhenCompletedVisible:not(.shared):not(.addedShared)>.name>.bullet:hover,.page:not(.showCompleted) .project.addedToSelection.halfOpenSearchMatchAncestorWhenCompletedHidden:not(.shared):not(.addedShared)>.name>.bullet,.page:not(.showCompleted) .project.addedToSelection.halfOpenSearchMatchAncestorWhenCompletedHidden:not(.shared):not(.addedShared)>.name>.bullet:hover,.page:not(.showCompleted) .project.addedToSelection .project.halfOpenSearchMatchAncestorWhenCompletedHidden:not(.shared):not(.addedShared)>.name>.bullet,.page:not(.showCompleted) .project.addedToSelection .project.halfOpenSearchMatchAncestorWhenCompletedHidden:not(.shared):not(.addedShared)>.name>.bullet:hover{background-color:#b5d1f2;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}body.windowBlurred .project.addedToSelection .bullet,body.windowBlurred .project.addedToSelection .bullet:hover,body.windowBlurred .project.addedToSelection.shared>.name>.bullet,body.windowBlurred .project.addedToSelection.shared>.name>.bullet:hover,body.windowBlurred .project.addedToSelection .project.shared>.name>.bullet,body.windowBlurred .project.addedToSelection .project.shared>.name>.bullet:hover,body.windowBlurred .project.addedToSelection.addedShared>.name>.bullet,body.windowBlurred .project.addedToSelection.addedShared>.name>.bullet:hover,body.windowBlurred .project.addedToSelection .project.addedShared>.name>.bullet,body.windowBlurred .project.addedToSelection .project.addedShared>.name>.bullet,body.windowBlurred .page.showCompleted .project.addedToSelection.halfOpenSearchMatchAncestorWhenCompletedVisible:not(.shared):not(.addedShared)>.name>.bullet,body.windowBlurred .page.showCompleted .project.addedToSelection.halfOpenSearchMatchAncestorWhenCompletedVisible:not(.shared):not(.addedShared)>.name>.bullet:hover,body.windowBlurred .page.showCompleted .project.addedToSelection .project.halfOpenSearchMatchAncestorWhenCompletedVisible:not(.shared):not(.addedShared)>.name>.bullet,body.windowBlurred .page.showCompleted .project.addedToSelection .project.halfOpenSearchMatchAncestorWhenCompletedVisible:not(.shared):not(.addedShared)>.name>.bullet:hover,body.windowBlurred .page:not(.showCompleted) .project.addedToSelection.halfOpenSearchMatchAncestorWhenCompletedHidden:not(.shared):not(.addedShared)>.name>.bullet,body.windowBlurred .page:not(.showCompleted) .project.addedToSelection.halfOpenSearchMatchAncestorWhenCompletedHidden:not(.shared):not(.addedShared)>.name>.bullet:hover,body.windowBlurred .page:not(.showCompleted) .project.addedToSelection .project.halfOpenSearchMatchAncestorWhenCompletedHidden:not(.shared):not(.addedShared)>.name>.bullet,body.windowBlurred .page:not(.showCompleted) .project.addedToSelection .project.halfOpenSearchMatchAncestorWhenCompletedHidden:not(.shared):not(.addedShared)>.name>.bullet:hover{background-color:#d2d2d2}.project.addedToSelection.task>.name>.bullet,.project.addedToSelection.task>.name>.bullet:hover,.project.addedToSelection .project.task>.name>.bullet,.project.addedToSelection .project.task>.name>.bullet:hover,.project.addedToSelection.open>.name>.bullet,.project.addedToSelection.open>.name>.bullet:hover,.project.addedToSelection .project.open>.name>.bullet,.project.addedToSelection .project.open>.name>.bullet:hover,body.windowBlurred .project.addedToSelection.task>.name>.bullet,body.windowBlurred .project.addedToSelection.task>.name>.bullet:hover,body.windowBlurred .project.addedToSelection .project.task>.name>.bullet,body.windowBlurred .project.addedToSelection .project.task>.name>.bullet:hover,body.windowBlurred .project.addedToSelection.open>.name>.bullet,body.windowBlurred .project.addedToSelection.open>.name>.bullet:hover,body.windowBlurred .project.addedToSelection .project.open>.name>.bullet,body.windowBlurred .project.addedToSelection .project.open>.name>.bullet:hover{background-color:transparent}a.register{background:#0056A7;color:white;display:inline-block;padding:10px 30px;text-decoration:none;-moz-border-radius:30px;-webkit-border-radius:30px;border-radius:30px}.name>.content{position:relative;display:block;letter-spacing:inherit}.parent>.name>.content{display:inline;color:#666}#share_buttons{left:10px;opacity:.5;position:absolute;top:50px;z-index:1}#share_buttons #free_workflowy_items{position:relative;margin-bottom:10px;display:inline-block;font-size:11px;text-decoration:underline;top:-10px;left:14px}#facebook_share{margin-bottom:5px}.clear{clear:both}#shared_notice{position:fixed;left:auto;bottom:10px;right:10px;width:190px;color:#555;text-align:right;font-size:11px;background:#fff;padding:10px;text-align:center;border:1px solid #ccc;z-index:1;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px}#shared_notice #addSharedSubtreeToMyAccountButton{margin-top:10px;font-size:12px;padding:8px 10px}#addSharedSubtreeToMyAccountPopup .messageContainer{margin-top:10px;line-height:18px}#addSharedSubtreeToMyAccountPopup .successMessage,#addSharedSubtreeToMyAccountPopup .failureMessage{display:none}#addSharedSubtreeToMyAccountPopup.success .successMessage{display:block}#addSharedSubtreeToMyAccountPopup.failure .failureMessage{display:block}#fixedPageBottomMessages{position:fixed;bottom:0;left:0;text-align:center;width:100%;z-index:100}#fixedPageBottomMessages>.fixedPageBottomMessage{background-color:#EEE;color:#666;font-size:14px;padding:5px;border-top:1px solid #CCC}#site_message a{text-decoration:underline}p{font-size:16px;line-height:18px;margin:10px 0}.ui-dialog{font-size:15px}.ui-dialog a{text-decoration:underline;color:#336}.alertDialog{line-height:18px}.fancyButton,input[type=submit].submit.fancyButton{display:inline-block;border-radius:3px;border:1px solid #aaa;padding:5px 10px;font-size:1em;text-decoration:none;font-style:normal;color:#4f4f4f;text-shadow:0 1px 0 rgba(255,255,255,0.6);background:#ddd;background:-webkit-gradient(linear,left bottom,left top,color-stop(1,#EDEDED),color-stop(0,#C4C4C4));background:-moz-linear-gradient(center top,#EDEDED,#C4C4C4);-webkit-box-shadow:0 1px 0 rgba(255,255,255,0.6) inset;-moz-box-shadow:0 1px 0 rgba(255,255,255,0.6) inset;box-shadow:0 1px 0 rgba(255,255,255,0.6) inset;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fancyButton.big,input[type=submit].fancyButton.big{padding:10px 20px;font-weight:bold}.fancyButton.small{padding:3px 5px;font-size:11px}.tutorial textarea{display:block;width:500px;margin:10px 0;padding:10px;white-space:normal}.progressbar{margin:10px 0;height:40px;background:#ccc;border:1px solid #aaa;overflow:hidden;position:relative;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.progressbar div{height:100%;background:#346;width:20px;position:absolute;top:0;left:0;-moz-border-radius:7px;-webkit-border-radius:7px;border-radius:7px}#site_message{padding:10px 20px;background:#3F91D1;color:#fff;border:1px solid #1d6eb1;position:relative;font-size:13px;z-index:1}#site_message .closeButton,#message .close{position:absolute;top:2px;left:100%;margin-left:-38px;opacity:.7;width:35px;height:30px;line-height:30px}#site_message>.message{display:none}#site_message>.message.current{display:block}.positionWrapper{position:relative}.nameAnimated div{display:inline}.popup{display:none}.popup h1{margin-bottom:10px}.popup{font-size:15px;text-align:center}.popup .sectionFooter{margin:10px 0}.popup{text-align:left}.popup ul.normal{list-style:disc;margin:10px 0 10px 20px}.popup ul.normal li{margin:20px}.popup .sectionFooter a{color:blue;text-decoration:underline}.border{border:1px solid #ccc}#settingsPopup{padding:1em 1em .5em 1em}#settingsPopup .setting{padding:10px;border-bottom:1px solid #eee}#settingsPopup .setting.last{border-bottom:none}#accountInfo{background:#efefef;padding:10px;border:1px solid #ddd;color:#333}#accountInfo form{border:1px solid #ddd;background:#fff;padding:1px 10px 10px;margin-top:10px;width:170px}form .errors{font-size:11px;color:#c00}#accountInfo form>div{margin:5px 0}#accountInfo form label{font-size:11px}#accountInfo form input{margin-left:0}#accountInfo form .submit{padding:5px 10px}#accountInfo form input{width:163px}#accountInfo form input.submit{width:auto}.smallSettingsButton>.cancel{display:none}.smallSettingsButton.cancel>.cancel{display:inline}.smallSettingsButton.cancel>.text{text-transform:lowercase}.setting p{font-size:14px;line-height:16px}#settingsRight{float:right;width:220px;border-left:1px solid #eee;padding-left:17px}#proSettingsBox{background:#f2f8ff;border:3px solid #eee;padding:15px;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px}#proSettingsBox .grab-attention{margin-top:10px;background:#eee;border:1px solid #ccc;color:#333;font-size:12px;line-height:16px;border-radius:3px;padding:5px;text-align:center}.pro-dialog-teams-link{font-size:11px;margin-top:10px;color:#999}#proSettingsBox .grab-attention a{display:block;color:#333;font-weight:bold}#proSettingsBox h2{font-size:14px}#proSettingsBox p{font-size:12px}#proSettingsBox>ul{list-style:disc;margin:10px 0 10px 20px;font-size:13px}#proSettingsBox>ul>li{margin:5px 0}#proSettingsBox>ul>li>small{font-size:11px;color:#666}#proSettingsBox .fancyButton{margin-top:10px}#proSettingsBox .team_invite_link_container{margin-top:10px;margin-bottom:5px}.team_invite_link{font-size:11px}input.team_invite_link{width:180px;font-size:11px}#settings{float:left;width:385px}.export-offline-data-link{margin-top:20px}.exported-offline-data{width:98%;height:100px;margin-bottom:10px}a.offline-export-email-button{color:#313131;text-decoration:none}.progressBarContainer{position:relative;text-align:center;padding:5px;margin-bottom:10px}.quotaDetailedInformation{display:none;position:absolute;top:100%;left:0;background:#efefef;border:1px solid #ccc;font-size:11px;padding:5px 10px 10px;-moz-border-radius:4px;-webkit-border-radius:4px;border-radius:4px}.quotaDetailedInformation>.link{color:#666}.overQuotaDialog{padding:10px 20px 20px;text-align:center;font-size:14px}.overQuotaDialog>p{font-size:14px}#sharedOverQuotaDialog>p{text-align:left}.overQuotaDialog>.fancyButton{padding:10px 20px;font-size:20px;margin-bottom:10px}.hiddenQuotaProgressContainer{display:none}.hiddenQuotaProgressContainer.visible{display:block}#fixedPageBottomMessages .quotaProgressBar{width:100px;display:inline-block;margin-right:5px}#headerQuotaProgress{position:absolute;top:35px;right:25px;width:100px;white-space:normal;font-size:11px}#headerQuotaProgress>.quotaDetailedInformation{text-align:left}#headerQuotaProgress>.quotaProgressBar{margin-bottom:5px}#headerQuotaProgress .link{color:#666}#headerQuotaProgress .getFreeSpaceLinkContainer .free_items{color:#666}.free_items{font-size:11px;color:#666}#headerQuotaProgress>.monthlyUsage{font-size:11px;text-align:center;margin-top:5px;color:inherit}.progressBarContainer:hover>.quotaDetailedInformation{display:block;cursor:default}.progressBar{position:relative;height:8px;margin-top:5px;border:1px solid #999;border-bottom:1px solid #666;border-right:1px solid #666;background:#ccc;-moz-border-radius:4px;-webkit-border-radius:4px;border-radius:4px;background:-webkit-gradient(linear,left bottom,left top,color-stop(1,#ddd),color-stop(0,#aaa));background:-moz-linear-gradient(center top,#ddd,#aaa)}#headerQuotaProgress>.progressBar{width:100px}#settingsQuotaInfo>.progressBar{width:210px}.currentProgress{height:100%;min-width:1%;max-width:100%;width:10%;background:#666;background:-webkit-gradient(linear,left bottom,left top,color-stop(1,#888),color-stop(0,#222));background:-moz-linear-gradient(center top,#888,#222)}#ratingDialog{text-align:center;background:#fff}#rateWithStars .rating{display:inline-block}#rateWithStars .star{display:inline-block;position:relative;margin:5px;height:100px;width:100px;background-image:url(/media/i/star_rating.jpg);background-position:0 0;background-repeat:no-repeat}#rateWithStars .star p{color:#666;position:absolute;top:90px;left:0;font-size:14px;width:100%;text-align:center}#promptText{font-size:16px;font-weight:bold;position:relative;top:10px;margin-bottom:20px}#promptContext{font-size:14px;margin-top:30px;background:#eee;padding:10px;color:#111;border:1px solid #ccc}#keyboardShortcutHelper{position:fixed;bottom:-2px;left:10px;background:#fff;border:1px solid #aaa;z-index:12;color:#333;border-radius:3px;width:200px;display:none}#keyboardShortcutHelper.visible{display:block}#keyboardShortcutHelper .title{padding:10px;font-size:14px}#keyboardShortcutHelper.closed table{display:none}#keyboardShortcutHelper .expand{float:right;margin-top:-2px}#keyboardShortcutHelper .expand .up{display:none}#keyboardShortcutHelper.closed .expand .down{display:none}#keyboardShortcutHelper.closed .expand .up{display:block}#keyboardShortcutHelper td{padding:10px;verticle-align:middle;border-bottom:1px solid #aaa;font-size:12px}#keyboardShortcutHelper td.commandName{max-width:70px;background:#efefef}.icon{background:url(/media/i/icons.png)}.menu-icon{background-position:-1px -76px;width:8px;height:4px;background-repeat:no-repeat}.undo-icon{background-position:0 0;width:15px;height:7px}.undo-button,.redo-button{float:right;padding:11px 5px;opacity:.2}.undo-button.enabled,.redo-button.enabled{opacity:.5}.redo-button{margin-right:10px}.redo-icon{background-position:0 -8px;width:15px;height:7px}#faq{padding-bottom:2em}#faq p,#faq ul{font-size:14px}#faq h1{font-size:28px;margin:20px 0 10px}.faqQuestion{padding-top:10px;border-bottom:1px solid #ddd}.faqQuestion>ul{margin:10px 0 10px 30px;list-style:disc}.faqQuestion>ul>li{margin:5px 0}#autocompleteBox{position:absolute;z-index:100;max-width:200px;background:#e8e8e8;color:#555;font-size:14px;padding:4px 4px;border:1px solid #bbb;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px;-moz-box-shadow:1px 1px 3px #ccc;-webkit-box-shadow:1px 1px 3px #ccc;box-shadow:1px 1px 3px #ccc}#autocompleteBox.attachedToSearchBox{position:fixed;top:0;left:0}#autocompleteBox .autocompleteTag{padding:2px 2px;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#autocompleteBox .autocompleteTag.selectedAutocompleteTag{background:#888;color:#fff}#premium-prompt-button{position:fixed;bottom:10px;right:10px;padding:5px 10px;border:1px solid #001;background:#347;color:#fff;font-size:15px;border-radius:5px}#premium-features-more-button,.smallSettingsButton{text-decoration:underline;color:#335;font-size:11px;position:relative;display:inline-block;margin-right:5px}.pro-settings-link,a.pro-settings-link{font-size:10px;color:#666;text-decoration:underline;display:inline-block;margin:5px 0}#premium-cancelled-message{font-size:13px;line-height:13px;font-style:italic;color:#933}#premium-features-more-button.expanded{text-decoration:none}#premium-features-description ol .upgrade-button{list-style:none}#theme-gallery .option-thumb{width:194px;height:107px;background:#ddd;border:1px solid #ccc;margin-bottom:10px;box-shadow:0 0 10px #aaa;overflow:hidden}.option-thumb{position:relative}.option-thumb>img{z-index:1}.galleryShowButton{min-width:75px;padding:5px 10px;text-align:center}.option-thumb:first-child{margin-top:10px}#theme-gallery .option-thumb>.option-pretty-name{position:absolute;display:inline-block;top:100%;left:0;height:12px;margin-top:-35px;padding:9px 13px;font-size:12px;color:#fff;background:#000;opacity:.6;border-top-right-radius:5px;-moz-border-radius-topright:5px;-webkit-border-top-right-radius:5px;border-bottom-right-radius:5px;-moz-border-radius-bottomright:5px;-webkit-border-bottom-right-radius:5px}#theme-gallery .option-thumb.current{border:1px solid #333;z-index:2;box-shadow:0 0 10px #666}#theme-gallery .option-thumb.current .option-pretty-name{opacity:.8}.closeMeButton{display:block;margin:1px;background:url(/media/css/aristo/images/icon_sprite.png) 0 -16px no-repeat;width:16px;height:16px}.gallery>.closeMeButton{position:absolute;top:10px;right:5px}.galleryProNotice{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background:#fff;opacity:.8;z-index:2;color:#333;border:1px solid #fff}.galleryProNotice>p{font-size:12px}#fontChooser .galleryProNotice>p{padding-left:10px;margin:0}#themeChooser .galleryProNotice>p{margin:20px}.option-thumb .galleryProNotice{display:block}.moreInfo{font-size:12px;margin:10px 0 5px;padding:5px 0;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px}#fontChooser .moreInfo{font-style:italic;color:#999;padding-left:10px}.gallerySelector{position:relative;display:inline-block;margin-right:10px}.gallery{display:none;position:absolute;z-index:1000}#theme-gallery{background:url(/media/i/theme_picker_bubble.png) no-repeat;width:225px;height:392px;top:-103px;left:138px;padding:17px 15px 15px 24px}#font-gallery{top:100%;border:1px solid #ccc;background:#fff;left:36px;white-space:nowrap}#font-gallery .option-thumb{padding:5px 20px;margin:5px 0}#font-gallery .option-thumb.current{background:#ddd}#theme-gallery .galleryScroller{overflow-y:scroll;overflow-x:hidden;height:100%;padding:0 15px}.gallery>.title{margin-bottom:5px}.currentMark{font-weight:bold}.waiting,.spinner{width:32px;height:32px;background:url(/media/i/ajax-loader.gif);position:absolute;top:50%;left:50%;margin-top:-16px;margin-left:-16px;z-index:4}.spinnerWrapper{position:absolute;top:0;left:0;width:100%;height:100%;background:#fff;opacity:.8}.ui-widget-overlay{background:#333;opacity:.6}#plan-upgrade-dialog{font-size:13px;display:none}#plan-upgrade-dialog .globalerror{display:block;font-size:13px;border:1px solid #CAA;padding:10px;background:#FEE}.payment-errors{color:#c33;display:block;margin-top:10px;text-align:center}#payment-wrapper{margin:0 auto}#pro-thank-you-paragraph{font-size:20px;line-height:24px;color:#888;padding:20px 30px;text-align:center;border:2px solid #ddd;margin-bottom:10px;border-radius:5px}#about-wf-pro,#purchase-info{float:left;margin-bottom:20px}#about-wf-pro{width:300px;margin-right:20px}#plan-upgrade-dialog h3{margin:10px 0 5px 10px;color:#333;font-size:15px}#choose-your-plan{border:1px solid #ddd;margin-bottom:10px;padding:20px;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px}#teamPlan{margin-top:20px}#teamPlan p{margin:5px 0;font-size:12px;line-height:14px}.paymentPlan>h2{margin-bottom:5px;text-decoration:underline}#purchase-info table label{display:block;text-align:right;color:#666;margin-top:5px}label.error{text-align:left;color:#d33;border-bottom:1px solid #fcc;padding-bottom:5px}#cards-accepted{width:200px;height:auto;position:relative}input.text{width:180px;padding:3px 5px}#plan-upgrade-dialog td{padding:2px 4px;vertical-align:top}.card-cvc{width:40px}img.padlock{position:relative;top:-2px;opacity:.5}.expiry-wrapper{padding:2px 0}.payment-form{display:inline-block;border:1px solid #ccc;padding:10px;background:#f5f5f5;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px;-webkit-box-shadow:0 0 10px #ccc;-moz-box-shadow:0 0 10px #ccc;box-shadow:0 0 10px #ccc}.payment-form input[type='text']:focus{border:1px solid #cdf;-webkit-box-shadow:0 0 10px #8af;-moz-box-shadow:0 0 10px #8af;box-shadow:0 0 10px #8af}.submit-row td{vertical-align:middle}#payment-succeeded{padding:30px;font-size:20px;text-align:center}#payment-succeeded h1{font-size:20px}#payment-succeeded .fancyButton{padding:10px 20px}#premium-features-description{border:1px solid #ddd;padding:5px 20px 20px;margin-bottom:20px;background:#eef;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px}#premium-features-description ol{list-style:decimal;padding-left:20px}#premium-features-description li{font-weight:bold;margin-top:10px}#premium-features-description small{font-weight:normal;display:block;font-size:11px;line-height:13px;margin-top:5px}#purchase-info{width:355px}.pro-price{display:none}#cutAndCopyBucket,#pasteBucket,#cutAndCopyDetectionContainer{position:absolute;top:0;left:-9999px;opacity:0;display:none;background-color:white;height:10px;overflow:hidden;-moz-user-select:text;-webkit-user-select:text;-ms-user-select:text;user-select:text}#libraryContainer{position:relative}#libraryContainer .videoPlayer{margin:0;background:#ccc;border:1px solid #aaa;width:400px;height:225px;position:relative}#helpButton{padding-right:10px;padding-left:10px}#helpButton img{max-height:20px}#libraryContainer .bookName{font-size:25px;margin-bottom:10px;font-weight:bold}#libraryContainer .book{display:inline-block;color:#111;text-decoration:none;margin:5px 3px 0 0}#libraryContainer .book.done{color:#666}#libraryContainer .book.done:before{content:"\2713";color:#0a0;margin-right:3px}#libraryContainer .book.active.done:before{color:#6f6}#libraryContainer h3{margin:10px 0 5px}#libraryContainer .fancyButton.active{-webkit-box-shadow:0 1px 0 rgba(255,255,255,0.3) inset;-moz-box-shadow:0 1px 0 rgba(255,255,255,0.3) inset;text-shadow:0 1px 0 rgba(0,0,0,0.6);color:#fff;border:1px solid #111;background:#555;background:-webkit-gradient(linear,left bottom,left top,color-stop(1,#777),color-stop(0,#333));background:-moz-linear-gradient(center top,#777,#333)}#libraryContainer .fancyButton{padding:2px 5px;font-size:14px}#afterLibraryVideoCompleteBox{display:none;position:absolute;top:0;left:0;width:100%;height:100%;text-align:center;padding:20px;background:#333;color:#fff;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}#afterLibraryVideoCompleteBox h1{font-size:24px}#afterLibraryVideoCompleteBox p.promoText{font-size:20px;line-height:26px;margin-top:20px;padding:0 50px}#afterLibraryVideoCompleteBox .fancyButton{color:#333;text-decoration:none;font-size:20px;padding:5px 10px}#nextVideoButton.fancyButton{position:absolute;left:50%;top:50%;font-size:30px;padding:10px 20px;width:195px;margin-left:-120px;text-align:center;margin-top:-35px;border-radius:8px}.coupon #nextVideoButton{position:absolute;left:0;bottom:20px;margin:0;width:100%;text-decoration:underline;border:none;background:transparent}.coupon .couponButton{margin-top:10px}.coupon #nextVideoButton:hover{cursor:pointer}#getMoreSpaceButtonTopLeft,#upgradeToProButtonTopLeft{position:absolute;top:20px;left:15px;color:#999;text-decoration:underline;font-size:12px;z-index:1}#getMoreSpaceDialog>p{font-size:12px;margin-top:0}.bigSquareButton{padding:20px;margin:10px 0;border:1px solid #ddd;background:#efefef;box-shadow:inset 6px 14px 30px #fafafa,inset -7px -12px 30px #ddd;border-radius:5px}.bigSquareButton>h1{font-size:18px}#deleteAccountDialog>p.deleteWarning{font-weight:bold;margin:0 0 20px;padding:15px;background:#FCC;border-radius:5px;color:black;border:1px solid red}#site_message>.nav{float:left;margin-right:10px}#site_message>.nav>span{font-weight:bold;display:inline-block;padding:0 3px}#site_message>.nav>span.inactive{opacity:.7}.notice{background:#FFD;padding:10px 20px;border:1px solid #DD8;border-radius:5px;margin-bottom:10px}#team-dialog>.notice{position:absolute;bottom:10px;left:20px;right:20px;line-height:18px}.hidden{display:none}body.no-parents .parent.project>.name{height:0;overflow:hidden}body.no-parents .selected.project{border-top:none}.contentLink--image:hover{position:relative;z-index:100}.contentLink--image:hover .contentEmbedContainer{opacity:1}.contentLink--image::after{content:'';width:1em;height:1em;top:-.1em;left:.2em;background:#333;border-radius:.2em;position:relative;display:inline-block;margin-right:.3em;background-size:100% 100%;opacity:.7}.contentEmbedContainer{display:inline-block;position:relative;width:1.25em;height:1em;margin:0 .2em;opacity:.7;transition:opacity .1s}.contentEmbedThumb{position:absolute;width:1em;background-size:100% 100%;height:1em;border-radius:.2em;transition:height .1s,top .1s,width .1s}.contentLink--image:hover .contentEmbedThumb{height:75px;width:75px;top:-40px}.contentPreviewPane{position:fixed;overflow:hidden;top:0;right:0;bottom:0;left:0;z-index:100;text-align:center;font-family:"Helvatica Neue",Helvetica,Arial,Sans-serif;font-weight:lighter;color:#fff}.contentPreviewPane__bg{background:#333;opacity:.7;position:absolute;top:0;right:0;bottom:0;left:0}.contentPreviewScroller{position:absolute;top:0;right:0;bottom:0;left:0;overflow-y:auto;padding-top:3em;padding-bottom:20em}.contentPreviewImageContainer{padding:2em 0}.contentPreview{border:10px solid #333;background-color:#333;margin:0 auto;min-height:24px;min-width:24px}.contentPreviewSourceLink{display:inline-block;margin-top:.5em;color:#ccc;max-width:300px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:12px}.contentPreviewSourceLink:hover{color:#ccc}#savedViewHUD{position:fixed;width:100%;height:206px;bottom:0;background-color:rgba(0,0,0,0.3);z-index:100;overflow-x:auto;overflow-y:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#savedViewHUD::-webkit-scrollbar{-webkit-appearance:none;height:6px}#savedViewHUD::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);-webkit-box-shadow:0 0 1px rgba(255,255,255,.5)}#savedViewHUDPageContainer{position:relative;padding:28px 20px 17px 20px;display:inline-block;white-space:nowrap}.noSavedViewsNotice{display:inline-block;width:300px;white-space:normal;color:#fff;background:rgba(100,100,100,0.6);margin-left:10px;padding:15px 17px;font-size:14px;line-height:19px;border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px}.noSavedViewsNoticeHeading{font-size:15px;font-weight:bold;margin-bottom:5px}.savedViewPage{display:inline-block;vertical-align:bottom;width:85px;height:110px;background:#e4e4e4;margin:0 12px;padding:20px;border:1px solid #999;white-space:normal;color:#333;position:relative;-moz-border-radius:4px;-webkit-border-radius:4px;border-radius:4px}.savedViewPageFader{position:absolute;width:15px;height:110px;top:20px;right:20px;background:-webkit-gradient(linear,left top,right top,color-stop(0%,rgba(228,228,228,0)),color-stop(100%,rgba(228,228,228,255)));background:-moz-linear-gradient(left,rgba(228,228,228,0) 0,rgba(228,228,228,255) 100%);background:-ms-linear-gradient(left,rgba(228,228,228,0) 0,rgba(228,228,228,255) 100%)}.savedViewPage.selectedSavedViewPage .savedViewPageFader{background:-webkit-gradient(linear,left top,right top,color-stop(0%,rgba(255,255,255,0)),color-stop(100%,rgba(255,255,255,255)));background:-moz-linear-gradient(left,rgba(255,255,255,0) 0,rgba(255,255,255,255) 100%);background:-ms-linear-gradient(left,rgba(255,255,255,0) 0,rgba(255,255,255,255) 100%)}.savedViewPage:hover{cursor:pointer;border:1px solid #666}.savedViewPageInnerContainer{overflow:hidden;height:100%;opacity:.85}.savedViewPage.selectedSavedViewPage{box-shadow:0 0 15px #444;background:#fff;position:relative;top:-1px}.savedViewPage.selectedSavedViewPage .savedViewPageInnerContainer{opacity:1}.savedViewPageName{font-size:15px;line-height:18px;max-height:73px;overflow:hidden}.savedViewPageSearchStringContainer{margin-top:10px;font-size:13px;line-height:14px}.savedViewPageSearchString{background-color:#ff9}#logo{background-image:url(/media/i/workflowy_logo.png);background-repeat:no-repeat;background-position:21px 3px;background-size:auto 20px}.pro_member #logo{background-image:url(/media/i/workflowy_pro_logo.png)}.ui-dialog{max-width:100%}.proPitch{display:block;position:absolute;bottom:0;right:0;opacity:.9}.proPitch:hover{opacity:1;cursor:pointer}.closeMeButton:hover{background-position:-16px -16px}.parentArrow{margin:0 5px}.parent>.name>.parentArrow{padding:0 2px 0 3px;color:#aaa}.parent>.name>.parentArrow:before{content:">"}.selected .parentArrow{position:absolute;display:block;right:-55px;top:0;width:800px;height:100%}#howTo>em:hover{cursor:pointer;cursor:hand;color:#333}#logo:hover{cursor:pointer}.saveButton.saveNow:hover,.showCompletedButton:hover,#buttonBar:hover,#helpButton:hover,#savedViewHUDButton:hover{background-color:#666;text-decoration:none;cursor:pointer}#savedViewHUDButton:active{opacity:.75}.menu-options>div:hover,.menu-options>div>a:hover{background:#333;text-decoration:none;cursor:pointer}.menu-options>.userEmail:hover{background:transparent;text-decoration:none;cursor:default}.saveButton.saving:hover,.saveButton.saved:hover{cursor:default}#searchForm:hover{cursor:text}#searchBox:hover,#searchForm:hover #searchPrompt{opacity:1}#searchCancel:hover{cursor:pointer}#searchCancel:hover>svg>line{stroke:#666}a.smallLink:hover{text-decoration:underline;color:#666;cursor:pointer}.add:hover *,.add a.smallLink:hover{color:#333;text-decoration:none;cursor:pointer;cursor:hand}.content .contentLink:hover{cursor:pointer}.content .contentTag:hover{cursor:pointer;background:#eee}.project.addedToSelection .content .contentTag:hover{background:inherit}.content .contentTag.contentTagDeleteHover:hover{background:rgba(255,0,0,0.15)}.content .contentTag.contentTagDeleteHover:hover .contentMatch{background:transparent}.project.addedShared>.name #controlsLeft a.share,.project.addedShared>.name #controlsLeft a.export,.project.addedShared>.name #controlsLeft a.duplicate,.project.addedShared>.name #controlsLeft a.delete{display:block!important}#controlsLeft>.mouse-helper{position:absolute}.selected .project #controlsLeft>.mouse-helper{top:-25px;left:0;height:25px;width:90px}.selected>.name #controlsLeft>.mouse-helper{top:0;right:-25px;width:25px;height:100%}.selected .project #controlsLeft>.mouse-helper:before{content:'';position:absolute;top:10px;left:50%;margin-left:-15px;height:0;width:0;border-bottom:15px solid #e8e8e8;border-left:15px solid transparent;border-right:15px solid transparent}.name:hover .bullet{z-index:9}#expandButton:hover,#add:hover,#note:hover,#delete:hover,#complete:hover{opacity:1;text-decoration:none}#message>.close:hover{cursor:pointer!important}.bullet,#bulletBucket .bulletBucketBullet{background-image:url(/media/i/bullet.svg)}.bullet:hover{cursor:pointer;text-decoration:none}.bullet:hover,.project.task>.name>.bullet:hover,.project.open>.name>.bullet:hover,.project.addedShared>.name>.bullet:hover,.page.showCompleted .project.halfOpenSearchMatchAncestorWhenCompletedVisible:not(.shared):not(.addedShared)>.name>.bullet:hover,.page:not(.showCompleted) .project.halfOpenSearchMatchAncestorWhenCompletedHidden:not(.shared):not(.addedShared)>.name>.bullet:hover{background-color:#aaa}.project.shared>.name>.bullet:hover{background-color:#ccf}.bullet.dragging{background-color:#aaa!important}.project.shared>.name>.bullet.dragging{background-color:#ccf!important}.project.addedToSelection .bullet{cursor:grab;cursor:-webkit-grab;cursor:-moz-grab}.name .content:hover{cursor:text;text-decoration:none}.parent>.name .content:hover{cursor:pointer;text-decoration:underline}a:hover{text-decoration:underline;cursor:pointer}a.register:hover{background:#004596}#share_buttons:hover{opacity:1;z-index:10}#share_buttons #free_workflowy_items:hover{cursor:pointer}#site_message .closeButton:hover{cursor:hand;cursor:pointer;opacity:1}#rateWithStars .star:hover{pointer:hand;cursor:pointer}#rateWithStars .star:hover p{color:#333}#rateWithStars .rating:hover>.star{background-position:0 -102px}#keyboardShortcutHelper .title:hover{pointer:hand;cursor:pointer}.undo-button.enabled:hover,.redo-button.enabled:hover{opacity:.8;cursor:pointer;background:#444}#autocompleteBox .autocompleteTag:hover{cursor:pointer}#premium-prompt-button:hover{pointer:hand;cursor:pointer;background:#236}.pro-settings-link:hover,.smallSettingsButton:hover{cursor:pointer}#premium-features-more-button:hover{pointer:hand;cursor:pointer}.addButton:hover{cursor:pointer;color:#333}.fancyButton:hover{cursor:pointer;border:1px solid #9D9D9D;-moz-box-shadow:0 0 8px rgba(0,0,0,0.15),0 1px 0 rgba(255,255,255,0.8) inset;-webkit-box-shadow:0 0 8px rgba(0,0,0,0.15),0 1px 0 rgba(255,255,255,0.8) inset;text-decoration:none}.fancyButton:active{color:#1c4257;border:1px solid #7096ab;background:url(images/bg_fallback.png) 0 -50px repeat-x;background:-webkit-gradient(linear,left bottom,left top,color-stop(1,#b9e0f5),color-stop(0,#92bdd6));background:-moz-linear-gradient(center top,#b9e0f5,#92bdd6)}#bottomLinks>a:hover{text-decoration:none}.option-thumb:hover,.galleryShowButton:hover,.closeMeButton:hover{cursor:pointer}#theme-gallery .option-thumb:hover{box-shadow:0 0 10px #999;border:1px solid #aaa}#theme-gallery .option-thumb:hover .option-pretty-name{opacity:.8}#font-gallery .option-thumb:not(.current):hover{background:#eee}#theme-gallery .option-thumb.current:hover{box-shadow:0 0 10px #666;border:1px solid #333;cursor:default}body.chrome_app #documentView{padding-top:39px}body.chrome_app #pageContainer{margin-top:0}body.chrome_app .page{max-width:none}body.chrome_app .corner,body.chrome_app .edge{display:none}body.chrome_app #searchForm{margin-left:7px;top:4px}body.chrome_app #savedViewHUDButton,body.chrome_app #backwardNavigationButton,body.chrome_app #forwardNavigationButton{top:1px}body.chrome_app #header{min-width:620px;height:30px;padding:3px 0 4px}body.chrome_app .selected>.name #controls{display:none}body.chrome_app #backgroundImage{display:none}body.chrome_app #keyboardShortcutHelper{left:auto;right:10px}.fixedPageBottomMessage.hiddenQuotaProgressContainer,.fixedPageBottomMessage.hiddenQuotaProgressContainer.visible{display:none}.chrome_app .fixedPageBottomMessage.hiddenQuotaProgressContainer.visible{display:block}.page{max-width:700px}.videojs:hover{cursor:pointer}.videoPlayButton:hover{opacity:.9;cursor:pointer}.mainTreeRoot{cursor:text}.mainTreeRoot>.children{cursor:auto}.addButton.visibleChildrenUnderSelected{display:none}.link:hover{cursor:pointer}.hoverHand:hover{cursor:pointer}#helpRadio>span:hover{cursor:pointer}#site_message>.nav>span:hover{cursor:pointer}.paymentPlan.inactive>h2:hover{cursor:pointer}.billing-team-container .remove-button:hover{cursor:pointer;color:#888}#proSettingsBox .grab-attention:hover{cursor:pointer}.pageStar:active{opacity:.75}.selected>.children>.project .addSiblingButton{display:block;position:absolute;left:-11px;bottom:0;width:21px;height:21px;opacity:0;background-image:url(/media/i/add-sibling-button.svg);background-origin:content-box;background-repeat:no-repeat}.selected>.children>.project .addSiblingButton:not(.clicked).hovered{cursor:pointer;opacity:.7}.selected>.children>.project .addSiblingButton:not(.clicked).hovered:active{opacity:1}.addSiblingButton.clicked{opacity:0}.onboarding-guide{position:fixed;z-index:1;display:none;width:250px;top:100px;border:1px solid #ccc;border-right:1px solid #777;border-bottom:1px solid #777;box-shadow:2px 2px 0 #777;border-radius:5px;background:#fff;font-size:14px;line-height:1.25em;transition:right .5s,margin-right .5s,top .5s}.onboarding-guide--center{top:200px;right:50%;margin-right:-125px}.onboarding-guide--right{right:20px;margin-right:0}.onboarding-guide--visible{display:block}.onboarding-guide__controls{position:relative;padding:10px 20px;background:#444;border-top:1px solid #ddd;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.onboarding-guide__button{float:right}.onboarding-guide__progress-bar{float:left;position:relative;top:7px}.onboarding-guide__steps{padding:20px}.onboarding-guide__step{display:none}.onboarding-guide__step--visible{display:block}.onboarding-guide__headline{font-size:1.25em;line-height:1em;margin-bottom:.3em}.onboarding-guide__hint{margin-top:.6em;font-size:.9em;line-height:1.3em;color:#777;font-style:italic}.onboarding-guide__hint:before{content:"Hint:";color:#5b6}.onboarding__step__button{margin-top:5px}.progress-bar{height:15px;width:100px;background:#ccc}.progress-bar__progress{width:5%;height:100%;background:#888;transition:width .5s;max-width:100%}.progress-bar__number{position:absolute;top:-1px;left:100%;margin-left:10px;font-size:12px;color:#ccc}.onboarding-guide__button{display:none}.onboarding-guide__button--visible{display:inline}.group:after{content:"";display:table;clear:both}.weekly-report__headline{font-size:2em;margin-bottom:.1em}.weekly-report__list{margin:1em}.weekly-report__item{margin:.5em 0}.weekly-report a{color:#38c!important}.weekly-report__filter-link:before{content:"view";font-size:.8em}.weekly-report__support{line-height:1.25em}body.chrome_app #exportPopup .formatOptionContainer>label{user-select:text;-webkit-user-select:text}.bounceInRight{-webkit-animation-name:bounceInRight;animation-name:bounceInRight}.animate{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;opacity:1}@-webkit-keyframes bounceInRight{0%{opacity:0;-webkit-transform:translateX(2000px);transform:translateX(2000px)}60%{opacity:1;-webkit-transform:translateX(-30px);transform:translateX(-30px)}80%{-webkit-transform:translateX(10px);transform:translateX(10px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes bounceInRight{0%{opacity:0;-webkit-transform:translateX(2000px);-ms-transform:translateX(2000px);transform:translateX(2000px)}60%{opacity:1;-webkit-transform:translateX(-30px);-ms-transform:translateX(-30px);transform:translateX(-30px)}80%{-webkit-transform:translateX(10px);-ms-transform:translateX(10px);transform:translateX(10px)}100%{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes bounceOutRight{0%{-webkit-transform:translateX(0);transform:translateX(0)}20%{opacity:1;-webkit-transform:translateX(-20px);transform:translateX(-20px)}100%{opacity:0;-webkit-transform:translateX(2000px);transform:translateX(2000px)}}@keyframes bounceOutRight{0%{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}20%{opacity:1;-webkit-transform:translateX(-20px);-ms-transform:translateX(-20px);transform:translateX(-20px)}100%{opacity:0;-webkit-transform:translateX(2000px);-ms-transform:translateX(2000px);transform:translateX(2000px)}}.bounceOutRight{-webkit-animation-name:bounceOutRight;animation-name:bounceOutRight}body.no-header #header{display:none}body.no-header #documentView{padding-top:0}</style>
      <style id="font_css">#documentView{font-family:'Helvetica Neue',Arial,Sans-serif;font-size:16px;font-weight:normal}.selected>.children>.project>.children>.project{font-size:15px}.selected>.children>.project>.name>.content{padding-top:4px}.selected>.children>.project>.children .project>.name>.content{padding-top:3px}#helpWindow h1.header{font-family:'Helvetica Neue',Arial,sans-serif}h1,h2,h3,h4,h5{font-family:'Helvetica Neue',Arial,sans-serif}.selected.project>.name{font-size:26px}.saveButton,.showCompletedButton,#buttonBar,#helpButton{font-family:'Helvetica Neue',Arial,sans-serif}#searchBox{font-family:'Helvetica Neue',Arial,sans-serif}#searchPrompt{font-family:'Helvetica Neue',Arial,sans-serif}.addButton>.text{font-family:'Helvetica Neue',Arial,sans-serif}.noted>.notes>.content{font-size:13px}.selected>.notes>.content{font-size:16px;line-height:20px}#controlsLeft,#itemSelectionControls{font-family:'Helvetica Neue',Arial,sans-serif}.name>.content{min-height:20px}.selected>.name>.content{min-height:34px}.selected .project>.name>.content{line-height:20px}.selected>.name>.content{line-height:34px}#shared_notice{font-family:'Helvetica Neue',Arial,sans-serif}#game_tooltip{font-family:'Helvetica Neue',Arial,sans-serif}#ratingDialog{font-family:'Helvetica Neue',Arial,sans-serif}#keyboardShortcutHelper{font-family:'Helvetica Neue',Arial,sans-serif}.ui-dialog{font-family:;font-weight:normal}#bottomLinks .bottomLink{font-family:'Helvetica Neue',Arial,sans-serif}#getMoreSpaceButtonTopLeft{font-family:'Helvetica Neue',Arial,sans-serif}#site_message{font-family:'Helvetica Neue',Arial,sans-serif}#savedViewHUD{font-family:'Helvetica Neue',Arial,sans-serif}#headerQuotaProgress{font-family:'Helvetica Neue',Arial,sans-serif}#dropdownMessages{font-family:'Helvetica Neue',Arial,sans-serif}</style>

      
      <style id="formatted_export_css">
      /* Separated from document_view.css to enable use in downloadable
   export files. #cutAndCopyBucket is included for every rule because
   we wwant cut/copied items to be formatted the same way as they
   would be when exported. */

.formattedExport,
#cutAndCopyBucket {
    font-family: 'Helvetica Neue', Arial, Sans-serif;
    color: #333;
    font-size: 13px;
    line-height: 17px;
    /* used to set white-space: pre-wrap here, but that messes up GMail's
       formatting of the export output, so moving that to the name and
       notes separately. */
}

.formattedExport .name, .formattedExport .note,
#cutAndCopyBucket .name, #cutAndCopyBucket .note {
    white-space: pre-wrap;
}

.formattedExport ul,
#cutAndCopyBucket ul{
    list-style: disc;
    /* Needed to reset browser defaults. */
    margin: 0;
    padding: 0;
}

.formattedExport li,
#cutAndCopyBucket li {
    margin: 4px 0 4px 20px;
    /* Needed to reset browser defaults. */
    padding: 0;
}

.formattedExport > .name,
#cutAndCopyBucket > .name {
    font-size: 16px;
    line-height: 21px;
}

.formattedExport > .note,
#cutAndCopyBucket > .note {
    font-size: 13px;
    line-height: 17px;
}

.formattedExport > ul,
#cutAndCopyBucket > ul {
    margin-top: 15px;
}

.formattedExport .name.done,
#cutAndCopyBucket .name.done {
    text-decoration:line-through;
    color:#999;
}

.formattedExport .note,
#cutAndCopyBucket .note {
    font-size: 12px;
    color:#666;
}

      </style>

      
      <style id="pageCursorCSS"></style>
      
      <style id="selectionInvisibleCSS"></style>
      
      <style id="pasteBucketSelectableCSS"></style>

      
      <link rel="stylesheet" type="text/css" media="print" href="/media/css/print.css">
      

      

      
      <meta name="ROBOTS" content="NOINDEX">
      

      <!-- WINDOWS 8: Create nice looking tile when pinned to home screen -->
      <meta name="msapplication-TileImage" content="/media/i/workflowy_icon_rounded_corners_144x144_embossed.png">
      <meta name="msapplication-TileColor" content="#333333">

      <!-- Disable Skype toolbar, which munges HTML -->
      <meta name="SKYPE_TOOLBAR" content="SKYPE_TOOLBAR_PARSER_COMPATIBLE">

      
      <title>Jiena's checklist! - WorkFlowy</title>
      

      
      

      
      <script id="twitter-wjs" src="//platform.twitter.com/widgets.js"></script><script type="text/javascript" async="" src="https://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-2.4.1-min.gz.js"></script><script type="text/javascript" async="" src="https://ssl.google-analytics.com/ga.js"></script><script type="text/javascript">
      

var MEDIA_URL = '/media/';
var URL_PRE_PATH_FOR_PACKAGED_APPS = '';

var APPCACHE_ENABLED = false;
var FULL_OFFLINE_ENABLED = false;

var APPCACHE_ID = "2016-02-13 23:52:54.124977";
var SOURCE_VERSION = "20160213020344";

var ON_DEVELOPMENT_SERVER = false;

var STRIPE_PUBLIC_KEY = "pk_CmKpB4xe07hPbOxu5RHgJu5kpaStP";

var LOG_DEBUG_MESSAGES = false;

var DEMO_MODE = false;
var EMBED = false;

var THEME_OPTIONS = [{"pretty_name": "Default", "font": "default", "type": "theme", "name": "default", "is_free": true}, {"pretty_name": "Dark", "font": "lucidagrande", "type": "theme", "name": "dark", "is_free": false}, {"pretty_name": "Wood", "font": "courier", "type": "theme", "name": "wood", "is_free": false}, {"pretty_name": "Steel", "font": "helvetica_light", "type": "theme", "name": "steel", "is_free": false}, {"pretty_name": "Minimal", "font": "helvetica_light", "type": "theme", "name": "light", "is_free": false}, {"pretty_name": "Space", "font": "helvetica_light", "type": "theme", "name": "space", "is_free": false}, {"pretty_name": "Hacker", "font": "andale", "type": "theme", "name": "hacker", "is_free": false}];
var FONT_OPTIONS = [{"pretty_name": "Sans-serif", "font_styles": "font-family:'Helvetica Neue', Arial, Sans-serif;font-weight:normal;", "type": "font", "name": "default", "is_free": true}, {"pretty_name": "Serif", "font_styles": "font-family:Georgia, Times, serif;font-weight:normal;", "type": "font", "name": "times", "is_free": true}, {"pretty_name": "Light", "font_styles": "font-family:'Helvetica Neue', Arial, Sans-serif;font-weight:300;", "type": "font", "name": "helvetica_light", "is_free": false}, {"pretty_name": "Typewriter", "font_styles": "font-family:Courier, Monospace;font-weight:normal;", "type": "font", "name": "courier", "is_free": false}, {"pretty_name": "Terminal", "font_styles": "font-family:\"Andale Mono\", Monospace;font-weight:normal;", "type": "font", "name": "andale", "is_free": false}, {"pretty_name": "Interface", "font_styles": "font-family:\"Lucida Grande\", \"Lucida Sans Unicode\";font-weight:normal;", "type": "font", "name": "lucidagrande", "is_free": false}];


var FIRST_LOAD_FLAGS = {
    showProWelcome: false,
    showFriendRecommendation: false,
    showPrivateSharingNotice: false,
    showNewUserTutorial: false,
    showUpgradeDialog: false,
    newTutorial: false,    
    isNewUser: false
};

// Data structure for holding settings. We overwrite the null 'value's
// with the actual settings when we get them in the initialization
// data.
var SETTINGS = {
    theme: { value: null, isFlag: false, saveToClient: true, saveToServer: true },
    font: { value: null, isFlag: false, saveToClient: true, saveToServer: true },
    show_keyboard_shortcuts: { value: null, isFlag: true, saveToClient: true, saveToServer: true },
    unsubscribe_from_summary_emails: { value: null, isFlag: true, saveToClient: true, saveToServer: true },
    backup_to_dropbox: { value: null, isFlag: true, saveToClient: true, saveToServer: true },
    email: { value: null, isFlag: false, saveToClient: true, saveToServer: false },
    username: { value: null, isFlag: false, saveToClient: true, saveToServer: false },
    last_seen_message_json_string: { value: null, isFlag: false, saveToClient: true, saveToServer: true },
    saved_views_json: { value: null, isFlag: false, saveToClient: true, saveToServer: true }
};

var IS_PACKAGED_APP = false;
var IS_CHROME_APP = false;
var IS_ANDROID_APP = false;

var NO_ANIMATIONS = false;
var READ_ONLY_MAIN_TREE = false;

var IS_MOBILE = false;
var IS_TABLET = false;
var IS_IOS = false;
var IOS_VERSION = null;
var IS_IE = false;
var IE_VERSION = null;
var IS_ANDROID = false;
var IS_FIREFOX = false;
var IS_CHROME = false;
var IS_SAFARI = true;

      </script>
      

      <script src="/media/js/jquery-1.5.1.min.js" type="text/javascript"></script>
      <script src="/media/js/jquery-ui-1.8.18.custom.min.js" type="text/javascript"></script>
      
      <script src="/media/js/jquery.address-1.3.1.min.js" type="text/javascript"></script>
      <script src="/media/js/jquery.transit.min.js" type="text/javascript"></script>
      <script src="/media/js/jquery.validate.min.js" type="text/javascript"></script>
      <script src="/media/js/xregexp-3.0.0-plus-min.js" type="text/javascript"></script>
      <script src="/media/js/md5-min.js" type="text/javascript"></script>
      <script src="/media/js/underscore-min.js" type="text/javascript"></script>
      <script src="/media/js/stripe-v2.js" type="text/javascript"></script>

      
      <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-11472180-1']);
        _gaq.push(['_trackPageview', '/app/']);
        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
      </script>
      
      <script type="text/javascript">
        (function(e,t){var r=e.amplitude||{};var n=t.createElement("script");n.type="text/javascript";
        n.async=true;n.src="https://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-2.4.1-min.gz.js";
        var s=t.getElementsByTagName("script")[0];s.parentNode.insertBefore(n,s);r._q=[];function a(e){
        r[e]=function(){r._q.push([e].concat(Array.prototype.slice.call(arguments,0)))}}var i=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties"];
        for(var o=0;o<i.length;o++){a(i[o])}e.amplitude=r})(window,document);

        amplitude.init("b901558d7845aca815d2b136a5bc469b");
      </script>
      


      
      <script src="/media/js/document_view.js?v=20160213020344" type="text/javascript"></script>
      

      
      <script>
	var EXPERIMENTS_INFO = {};
	// Setting user properties. We most likely want to do other stuff 
	metrics.setUserProperties(EXPERIMENTS_INFO);
      </script>
      
      
      
    <script type="text/javascript" charset="utf-8" async="" src="https://platform.twitter.com/js/button.b059c0eb61ea902a882e5c5b3c66a17a.js"></script><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow-x:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f6f7f8;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3a5795;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{width:auto;height:auto;min-height:initial;min-width:initial;background:none}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{color:#fff;display:block;padding-top:20px;clear:both;font-size:18px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #2f477a;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f8;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yD/r/t-wz8gw1xG1.png);background-repeat:no-repeat;background-position:50% 50%;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}</style></head>

    
    <body class="macos">

      
      <div id="loadingScreen" style="z-index: 1000; position: absolute; top: 0px; left: 0px; background-color: white; width: 100%; height: 100%; display: none; background-position: initial initial; background-repeat: initial initial;">
	<div id="loadingScreenDisplayBox" style="position: fixed; top: 40%; left: 50%; width: 200px; margin-top: -30px; margin-left: -100px; text-align: center;">
	  <div id="loadingScreenSpinner" style="display: inline-block; background: url(/media/i/ajax-loader.gif); width: 32px; height: 32px;"></div>
	  <div style="margin-top: 10px;">
	    <span id="loadingScreenMessage" style="font-family: 'Helvetica Neue', Arial, Sans-serif; font-size: 14px; color: #888; margin-left: 8px;">
	      Loading..
	    </span>
	  </div>
	</div>
      </div>

      
      <style>
        #loginRegisterScreen {
    z-index: 1000;
    position: absolute;
    top: 0;
    left: 0;
    background: #f6f6f6;
    width: 100%;
    height: 100%;
    box-sizing:border-box;
    font-family:"Helvetica Neue", Helvetica, sans-serif;
    border-top:1px solid #eee;
}

.loginScreen, .registerScreen{
    display:none;
}

#loginRegisterScreen .logo{
  width:250px;
  display: block;
  margin:0 auto;
}

#loginRegisterScreen .centerBox {
  position: relative;
}
body.chrome_app #loginRegisterScreen .centerBox {
  top: 200px;
}
body.android_app #loginRegisterScreen .centerBox {
  top: 60px;
}

.form{
  margin:20px auto 0;
  max-width:230px;
  z-index: 1;
}

.form input{
  width:100%;
  padding:8px 15px !important;
  font-size:18px;
  box-sizing:border-box;
  margin-top:8px;
}

#loginRegisterScreen .form .submit{
  background: #26a;
  color: #fff;
  border-radius: 4px;
  border: 1px solid #012;
  box-shadow: inset 0 2px 0 #48c;
  display:block;
  margin-top:10px;
}

#loginRegisterScreen .form .submit:active, #loginRegisterScreen .form .submit.tapped {
  background:#159;
}

#loginRegisterScreen .errors {
  padding: 4px 0px;
  text-align: left;
  color:#a00;
  font-size: 12px;
}

.form .submit, .form button{
   background: #ddd;
}

.form .link.passwordReset{
  display: block;
  text-align: right;
  margin-top: 5px;
}

#loginRegisterScreen .link{
  font-size:12px;
  color:#26a;

  /* Needed to turn of blue highlight on Android */
  -webkit-tap-highlight-color: rgba(255, 255, 255, 0);	
  -webkit-tap-highlight-color: transparent;
}

/* Don't want hover states in Android app. Would be cleaner/less-hacky
   to have separate sub-CSS files for desktop and mobile instead of doing
   this here. */
body.chrome_app #loginRegisterScreen .link:hover{
  text-decoration:underline;
  cursor:pointer;
}

.changeScreen{
  font-size:12px;
  margin: 18px 0;
  text-align: center;
}

.form button{
  border: 1px solid #cecece;
  border-radius: 2px;
  font-size: 18px;
  padding: 5px 10px;
  width:100%;
  text-align:center;
  margin-top:10px;
}

#loginRegisterScreen .helpNotice{
  position:fixed;
  bottom:20px;
  left:0;
  right:0;
  text-align:center;
  color:#999;
  font-size:12px;
}

      </style>
      <div id="loginRegisterScreen" style="display: none;"></div>
      <script id="loginRegisterScreenTemplate" type="text/x-inert-html">
        <div class="centerBox">
    <img src="/media/i/workflowy_logo_large.png" class="logo" />
    
    <div class="form loginScreen">
        <form class="loginForm" name="loginForm" method="post" action="/ajax_login">
            <input id="id_username" type="email" placeholder="Email" name="username" required autocorrect="off" autocapitalize="off" spellcheck="false">
            <input id="id_password" type="password" placeholder="Password" name="password" required>
            <a href="https://workflowy.com/accounts/password_reset/" class="link passwordReset" target="_blank">Forgot password?</a>
            <input type="submit" class="submit" value="Login">
        </form>
        <div class="changeScreen">
            <span class="link showRegisterScreen"><strong>Sign up</strong> for a new account</span>
        </div>

    </div>
    <div class="form registerScreen">
        <div class="form-container">
            <form id="register" class="registerForm" action="/accounts/register/" method="POST">
                <input id="id_email" type="email" placeholder="Email" name="email" maxlength="75" required autocorrect="off" autocapitalize="off" spellcheck="false">
                <input id="id_email2" type="email" placeholder="Confirm Email" name="email2" maxlength="75" required autocorrect="off" autocapitalize="off" spellcheck="false">
                <input type="password" placeholder="Password" name="password" id="id_password" required>
                <input type="submit" class="submit" value="Sign up">
            </form>
        </div>
        <div class="changeScreen">
            <span class="link showLoginScreen"><strong>Login</strong> to your account</span>
        </div>
    </div>
</div>





      </script>

      
      <div id="documentView">

      
      <div id="backgroundImage"></div>
      

      <div id="site_message" style="">
      	<div class="closeButton">
      		âœ–
      	</div>

      	<div class="message" data-messageid="mobile_moving" data-channel="mobile">
	       You can move items on WorkFlowy mobile. Just press, hold ... and drag.
      	</div>

      	<div class="message onboarding" data-messageid="mobile_notice_1" data-channel="desktop">
          Want WorkFlowy on your phone or tablet? Get the app for <a href="https://itunes.apple.com/us/app/workflowy/id551139514?mt=8" target="_blank">iOS</a> or <a href="https://play.google.com/store/apps/details?id=com.workflowy.android" target="_blank">Android</a>!
      	</div>

      	<div class="message onboarding current" data-messageid="3" data-channel="desktop">
      		You can use #tags and @tags to organize your WorkFlowy. <strong><a href="http://blog.workflowy.com/2011/07/27/tags-and-tags-in-workflowy/" target="_blank">Learn how Â»</a></strong>
      	</div>

      	<div class="message onboarding" data-messageid="2" data-channel="desktop">
      		You can share and collaborate in WorkFlowy! <strong><a href="http://blog.workflowy.com/2011/08/23/share-and-collaborate-on-your-workflowy-lists/" target="_blank">Learn how Â»</a></strong>
      	</div>

      </div>

      

      
      <div id="fb-root" class=" fb_reset"><script async="" src="https://connect.facebook.net/en_US/all.js"></script><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="https://staticxx.facebook.com/connect/xd_arbiter.php?version=42#channel=f2cbd50d0&amp;origin=https%3A%2F%2Fworkflowy.com" style="border: none;"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div></div>
      <script>
	  window.fbAsyncInit = function() {
	      FB.init({appId: '178263507018', status: true, cookie: true,
	        xfbml: true});
	      FB.Event.subscribe(
	        'edge.create',
	        function(response) {
	          _gaq.push(['_trackPageview', '/virtual/share_buttons/facebook/like']);
	      });
	    };

	    (function() {
	      var e = document.createElement('script'); e.async = true;
	      e.src = document.location.protocol +
	        '//connect.facebook.net/en_US/all.js';
	      document.getElementById('fb-root').appendChild(e);
	    }());
      </script>
      

      <div class="positionWrapper">
        <div id="getMoreSpaceButtonTopLeft" class="getMoreSpaceButton hoverHand">
    	  Get more space
        </div>
      </div>

      

      <div id="header" class="notSelectable">
        
        <h1 id="logo"></h1>
        
        
        
        

	
	<form id="searchForm">
	  
	  <input id="searchBox" name="searchBox" type="text" class="selectable" autocomplete="off" placeholder="Search">
	  <div id="searchCancel" title="Clear search">
            <svg viewBox="0 0 9 9" version="1.1" xmlns="http://www.w3.org/2000/svg">
              <line x1="1" y1="1" x2="8" y2="8"></line>
              <line x1="1" y1="8" x2="8" y2="1"></line>
            </svg>
          </div>
	</form>
	

	<div id="buttonBar">
	  <div class="menu-button button">
	    <div class="icon menu-icon"></div>
	  </div>
	  <div class="menu-options">
	    

	    
	    <div id="settingsButton" class="button">
              <div class="topBarButtonTextContainer">
                Settings
              </div>
            </div>
	    
	    
	    <div id="printButton" class="button">
              <div class="topBarButtonTextContainer">
                Print
              </div>
            </div>
	    <div id="exportAllButton" class="button">
              <div class="topBarButtonTextContainer">
                Export All
              </div>
            </div>
	    
	    
	    
	    <div class="button logout">
              <div class="topBarButtonTextContainer">
                Sign Out
              </div>
	    </div>
	    <div id="userEmail" class="userEmail">jienamc@icloud.com</div>
	    
	  </div>
	</div>

	
	<div class="saveButton button saved">
          <div class="topBarButtonTextContainer">
	    <span class="saveButton_saveNow">Save now</span>
	    <span class="saveButton_saving">Saving</span>
	    <span class="saveButton_saved">Saved</span>
          </div>
	</div>
	

	
	<div id="helpButton" class="button">
          <div class="topBarButtonTextContainer">
	    Help
          </div>
	</div>
	

	
        <div class="showCompletedButton button">
          <div class="topBarButtonTextContainer">
	    Completed: <span class="show" style="display: none;">Hidden</span><span class="hide hidden" style="display: inline;">Visible</span>
          </div>
	</div>
	

	
	<div id="savedViewHUDButton" class="button" title="Show starred pages"></div>
	

        
	
	<div class="redo-button" title="Redo (Control + Shift + Z)">
	  <div class="icon redo-icon">
	  </div>
	</div>
	<div class="undo-button" title="Undo (Control + Z)">
	  <div class="icon undo-icon">
	  </div>
	</div>
	

	

	<div id="dropdownMessages">
	  <div id="message"><div class="close">âœ–</div><div class="messageContent"></div></div>
	</div>

      </div>

      
      <div id="pageContainer"><div class="page active showCompleted"><div class="pageStar" title="Star this page"></div><div class="mainTreeRoot project open parent" projectid="None" style="min-height: 640px; padding-bottom: 142px;"><div class="name"><div class="content">Home</div><span class="parentArrow"></span></div><div class="notes"><div class="content"></div></div><div class="children"><div class="project selected" projectid="d211fe97-2192-7e11-6874-e30f784fe536"><div class="name "><a class="bullet" href="/#/e30f784fe536"></a><div class="content" contenteditable="">Jiena's checklist!</div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="project task  " projectid="23988615-0540-d995-6e06-a6eba3ae9780"><div class="name "><a class="bullet" href="/#/a6eba3ae9780"></a><div class="content" contenteditable="">Wake up mom and dad</div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="143930a7-e989-2917-9aaa-4cfafb41f9da"><div class="name "><a class="bullet" href="/#/4cfafb41f9da"></a><div class="content" contenteditable="">Give parents Valentine's Day drawing</div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="aa41fa8b-8f6a-8b48-340e-0a15050418fd"><div class="name "><a class="bullet" href="/#/0a15050418fd"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="a1c716cb-997e-e16f-2d6f-f53f234e3409"><div class="name "><a class="bullet" href="/#/f53f234e3409"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="a92db73d-9ca8-2e97-1f15-6e7d9c2e15ad"><div class="name "><a class="bullet" href="/#/6e7d9c2e15ad"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="c4420625-3ca0-6d3b-b703-213ec219a3e1"><div class="name "><a class="bullet" href="/#/213ec219a3e1"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="bdbca85a-e288-b97f-ab68-646dff063181"><div class="name "><a class="bullet" href="/#/646dff063181"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="ab7f7fd8-98e8-be99-db7c-802b89efaedb"><div class="name "><a class="bullet" href="/#/802b89efaedb"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="f8c342c9-4d11-2941-3101-f0e62b25a11f"><div class="name "><a class="bullet" href="/#/f0e62b25a11f"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="5244004b-f347-c8d3-9b23-2bcf3f770cfb"><div class="name "><a class="bullet" href="/#/2bcf3f770cfb"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="b90a6a18-a2c4-e7ae-9b45-da976bf8d13d"><div class="name "><a class="bullet" href="/#/da976bf8d13d"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="e7252b80-c20f-88b1-6cb8-c02e6b411bb7"><div class="name "><a class="bullet" href="/#/c02e6b411bb7"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="1974fc5a-d8df-5739-f307-110f958f943d"><div class="name "><a class="bullet" href="/#/110f958f943d"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="612fadf5-015b-cd69-36dc-1e703bb6f337"><div class="name "><a class="bullet" href="/#/1e703bb6f337"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="13b71c38-8b06-a337-c712-38cdd296b505"><div class="name "><a class="bullet" href="/#/38cdd296b505"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="b1c93bb5-4203-a661-0dd9-fbeebb6f849f"><div class="name "><a class="bullet" href="/#/fbeebb6f849f"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="f62bcfe3-0f38-6580-bebe-7beaf7a552d8"><div class="name "><a class="bullet" href="/#/7beaf7a552d8"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="2b5b4184-d5f5-8f69-6417-77ba69c4071d"><div class="name "><a class="bullet" href="/#/77ba69c4071d"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="53cbde08-d849-268f-a91c-5e3b08bedca1"><div class="name "><a class="bullet" href="/#/5e3b08bedca1"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="44efca96-ab09-9f20-2b2b-43cffa826767"><div class="name "><a class="bullet" href="/#/43cffa826767"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="519f5f11-b31f-736e-47d8-bdeaec615b85"><div class="name "><a class="bullet" href="/#/bdeaec615b85"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="74f3a665-7012-3eb8-d2d4-5568cfc4d7ea"><div class="name "><a class="bullet" href="/#/5568cfc4d7ea"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="185c8f92-1525-4d0f-ee03-3628899cf502"><div class="name "><a class="bullet" href="/#/3628899cf502"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="b8e6277f-12e4-584a-9263-4265b4b63f31"><div class="name "><a class="bullet" href="/#/4265b4b63f31"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="ec37cc43-a2b9-8cdf-9f00-5c341cccad71"><div class="name "><a class="bullet" href="/#/5c341cccad71"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="658f16cd-d306-9354-0c30-e78825ed5c0d"><div class="name "><a class="bullet" href="/#/e78825ed5c0d"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="3b9075c6-923a-cc81-cb5a-1938fc08da46"><div class="name "><a class="bullet" href="/#/1938fc08da46"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="0de9c9f8-45a2-7711-855a-eee88310abe6"><div class="name "><a class="bullet" href="/#/eee88310abe6"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="cdf01cd7-34ce-8cbb-28c0-b00a6141b01f"><div class="name "><a class="bullet" href="/#/b00a6141b01f"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="656672c0-9bd4-fc62-9df0-bdb2c009878f"><div class="name "><a class="bullet" href="/#/bdb2c009878f"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="00aca9a1-556c-df03-2930-068135d75080"><div class="name "><a class="bullet" href="/#/068135d75080"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="bca59be7-ce85-3d93-0f95-847636796ae9"><div class="name "><a class="bullet" href="/#/847636796ae9"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="0ee31254-7d4c-0b57-9fb3-74855995d4b6"><div class="name "><a class="bullet" href="/#/74855995d4b6"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="fcc33645-92ef-8420-e7ea-23b061afcff9"><div class="name "><a class="bullet" href="/#/23b061afcff9"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="bb61dde7-0737-dc5c-5b5f-a7dedbdd9d77"><div class="name "><a class="bullet" href="/#/a7dedbdd9d77"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="ede6cf57-149a-a60b-a999-5a64354a18d4"><div class="name "><a class="bullet" href="/#/5a64354a18d4"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="b8418659-f441-e64b-67f9-8ad81b21e252"><div class="name "><a class="bullet" href="/#/8ad81b21e252"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="8a32d665-1179-90a3-eb8a-afb0ec565bd5"><div class="name "><a class="bullet" href="/#/afb0ec565bd5"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="367c9d76-070f-32b6-b139-bc1b7e63957d"><div class="name "><a class="bullet" href="/#/bc1b7e63957d"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="13ce4e15-5057-c4fa-9a87-c89619249aba"><div class="name "><a class="bullet" href="/#/c89619249aba"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="28d8697e-0f22-4913-4cc5-a31422fc523c"><div class="name "><a class="bullet" href="/#/a31422fc523c"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="e69700c5-cdd0-ba02-63a3-c5aa458eb7f5"><div class="name "><a class="bullet" href="/#/c5aa458eb7f5"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="e778b08d-e171-5d21-568c-307be574b46c"><div class="name "><a class="bullet" href="/#/307be574b46c"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="16e7a3e8-c78a-b90d-5cac-5c5bb0d8ae05"><div class="name "><a class="bullet" href="/#/5c5bb0d8ae05"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="4981169d-d2c2-2233-2cca-bdaafea88a3e"><div class="name "><a class="bullet" href="/#/bdaafea88a3e"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="de749b70-bc91-ed48-2702-f67b46ead779"><div class="name "><a class="bullet" href="/#/f67b46ead779"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="c334ef08-0a7d-adea-7d57-c5ad4d57978f"><div class="name "><a class="bullet" href="/#/c5ad4d57978f"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="68360526-fa2e-a06d-f110-f3c4b532b7c9"><div class="name "><a class="bullet" href="/#/f3c4b532b7c9"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="c9178660-03da-a1e1-384e-7a3f002bc332"><div class="name "><a class="bullet" href="/#/7a3f002bc332"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="project task  " projectid="501770b0-4c40-01f5-91c9-1975f8d07543"><div class="name "><a class="bullet" href="/#/1975f8d07543"></a><div class="content" contenteditable=""></div><span class="parentArrow"></span></div><div class="notes "><div class="content" contenteditable="">
</div></div><div class="children"><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="childrenEnd"></div><div class="addSiblingButton"></div></div></div><div class="childrenEnd"></div><div class="addSiblingButton"></div></div><div class="addButton visibleChildrenUnderSelected" title="Add new item">+</div></div><div class="footer"><h3 class="siteSlogan">Make lists, not war.</h3></div><div class="bottomPadding"></div></div></div>

      
      <div id="headerQuotaProgress" class="progressBarContainer hiddenQuotaProgressContainer">
	<div class="monthlyUsage">Monthly Usage</div>
	<div class="quotaProgressBar progressBar" style="">
	  <div class="currentProgress" style="width: 28.000000000000004px;">
	  </div>
	</div>
	<div class="getFreeSpaceLinkContainer">
	  <span class="link free_items">Get Free Space</span>
	</div>

	<div class="quotaDetailedInformation">
	  <span class="quotaUsedThisMonth">70</span> of <span class="quotaMonthlyItems">250</span> monthly items used. For more, <a class="upgrade-button link">Go Pro</a>, or <span class="link free_items">Get Free Space</span>
	</div>
      </div>
      


      <div id="savedViewHUD" style="display: none;">
	<div id="savedViewHUDPageContainer"></div>
      </div>
      <script id="noSavedViewsNoticeTemplate" type="text/x-inert-html">
	<div class="noSavedViewsNotice">
	  <div class="noSavedViewsNoticeHeading">
	    You haven't starred any pages yet!
	  </div>
	  Click the star in the top right of the page, and it will
	  show up here. Each starred page remembers its zoom level
	  and search (if any).
	</div>
      </script>

      
      <div id="bottomLinks">
	<div class="bottomLinksVerticalSpacer"></div>
	
	
	<a class="facebookLike">
	  <fb:like href="http://www.workflowy.com" layout="button_count" class=" fb_iframe_widget" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=178263507018&amp;container_width=0&amp;href=http%3A%2F%2Fwww.workflowy.com%2F&amp;layout=button_count&amp;locale=en_US&amp;sdk=joey"><span style="vertical-align: bottom; width: 84px; height: 20px;"><iframe name="f81eba56" width="1000px" height="1000px" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" title="fb:like Facebook Social Plugin" src="https://www.facebook.com/plugins/like.php?app_id=178263507018&amp;channel=https%3A%2F%2Fstaticxx.facebook.com%2Fconnect%2Fxd_arbiter.php%3Fversion%3D42%23cb%3Df3b6bf521%26domain%3Dworkflowy.com%26origin%3Dhttps%253A%252F%252Fworkflowy.com%252Ff2cbd50d0%26relation%3Dparent.parent&amp;container_width=0&amp;href=http%3A%2F%2Fwww.workflowy.com%2F&amp;layout=button_count&amp;locale=en_US&amp;sdk=joey" class="" style="border: none; visibility: visible; width: 84px; height: 20px;"></iframe></span></fb:like>
	</a>
	<div style="display:inline; margin-right:8px;" class="">
	  <iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" class="twitter-follow-button twitter-follow-button-rendered" title="Twitter Follow Button" src="https://platform.twitter.com/widgets/follow_button.baa54ded21a982344c4ced326592f3de.en.html#dnt=false&amp;id=twitter-widget-0&amp;lang=en&amp;screen_name=WorkFlowy&amp;show_count=false&amp;show_screen_name=false&amp;size=m&amp;time=1455407576145" data-screen-name="WorkFlowy" style="position: static; visibility: visible; width: 65px; height: 20px;"></iframe>
	  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
	</div>
	
	<a class="bottomLink" href="http://blog.workflowy.com" target="_blank">WorkFlowy Blog</a>
	<a class="bottomLink" href="/privacy/" target="_blank">Privacy Policy</a>
      </div>
      
  <div id="fixedPageBottomMessages">
      <div id="quotaNotice" class="fixedPageBottomMessage hiddenQuotaProgressContainer">
        <div class="quotaProgressBar progressBar" style="">
          <div class="currentProgress" style="width: 28.000000000000004px;">
          </div>
        </div>
        <span class="quotaUsedThisMonth">70</span> of <span class="quotaMonthlyItems">250</span> monthly items used. <span class="getMoreSpaceButton link">Get more space</span>
      </div>

      <div id="offlineNotice" class="fixedPageBottomMessage" style="display: none;">
	       <strong>Offline</strong>. Last synced: <span class="lastSyncedString">0 minutes</span> ago
      </div>
  </div>
      

      <script id="exportPopupTemplate" type="text/x-inert-html">
	<div class="htmlContainer" style="display:none"></div>
	<div class="textContainer" style="display:none"></div>
	<div class="opmlContainer" style="display:none"></div>
	<div class="previewWindow" contenteditable></div>
	<form name="formatSelector">
	  <div class="formatOptionContainer">
	    <input id="id_html" class="htmlButton" type="radio" name="format" value="html" />
	    <label for="id_html">Formatted</label>
	  </div>
	  <div class="formatOptionContainer">
	    <input id="id_text" class="textButton" type="radio" name="format" value="text" />
	    <label for="id_text">Plain text</label>
	  </div>
	  <div class="formatOptionContainer">
	    <input id="id_opml" class="opmlButton" type="radio" name="format" value="opml" />
	    <label for="id_opml">OPML</label>
	  </div>
	</form>
	<div class="instructions">
	  Press <em><span class="showOnWindows showOnLinux showOnChromeOS">Control</span></span><span class="hideOnWindows hideOnLinux hideOnChromeOS">&#8984;</span> + C</em> to copy
          your list. You can paste it anywhere.
          <span class="downloadText" style="display: none;"><br />(Or <a class="downloadLink">click to download</a>.)</span>
	</div>
      </script>

      

      <script id="sharePopupTemplate" type="text/x-inert-html">
	<div class='sharePopupContentsContainer'>

	  <div class="share_prompt">
	    Select how you would like to share this list:
	    <form id="shareTypeSelector" name="shareTypeSelector">
	      <div id="urlShareTypeOption" class="shareTypeOption">
		<input id="id_share_type_url" class="shareTypeUrlButton" type="radio" name="share_type" value="url" />
		<div class="rightOfTheBullet">
		  <label for="id_share_type_url">
		    Via a secret shared link<br />
		    <span class="shareTypeOptionDescription">Anyone you give the link to can access the list. No login required.</span>
		  </label>
		  <div class="shareTypeAdditionalInfo">
		    Others can
		    <span class="is_editable buttonset smallButtonset">
		      <span class="buttons">
			<input type="radio" id="url_editable_false" name="url_editable" data-editable="false" /><label for="url_editable_false">view</label>
			<input type="radio" id="url_editable_true" name="url_editable"  data-editable="true" /><label for="url_editable_true">edit</label>
		      </span>
		    </span>
		    this list.
		  </div>
		</div>
	      </div>
	      <div id="emailShareTypeOption" class="shareTypeOption">
		<input id="id_share_type_email" class="shareTypeEmailButton" type="radio" name="share_type" value="email" />
		<div class="rightOfTheBullet">
		  <label for="id_share_type_email">
		    Privately to specific email addresses<br />
		    <span class="shareTypeOptionDescription">Only people you explicitly add can access the list. Login required.</span>
		  </label>
		  <div class="shareTypeAdditionalInfo">
		    <input class="emailListInput" type="text" name="emails" placeholder="Comma-separated email addresses"/> can
		    <span class="is_editable buttonset smallButtonset">
		      <span class="buttons">
			<input type="radio" id="email_editable_false" name="email_editable" data-editable="false" /><label for="email_editable_false">view</label>
			<input type="radio" id="email_editable_true" name="email_editable"  data-editable="true" /><label for="email_editable_true">edit</label>
		      </span>
		    </span>
		    this list.
		  </div>
		</div>
		<div class="nonProBlocker freeOnly"></div>
	      </div>
	      <div class="nonProMessage freeOnly">(Private sharing is a WorkFlowy Pro feature. <a class="upgrade-button">Upgrade Now &raquo;</a>)</div>
	    </form>
	  </div>

	  <div class="url_shared_settings">
	    <div class="section linkSection">
	      <em>Send this secret link to anyone you want to see this list.</em>
	      <input type="text" name="collabLink" class="collabLink" readonly>
	    </div>
	    <div class="section optionsSection">
	      Others can
	      <span class="is_editable buttonset">
		<span class="buttons">
		  <input type="radio" id="url_settings_editable_false" name="is_editable" data-editable="false" /><label for="url_settings_editable_false">view</label>
		  <input type="radio" id="url_settings_editable_true" name="is_editable"  data-editable="true" /><label for="url_settings_editable_true">edit</label>
		</span>
	      </span>
	      this list.
	    </div>
	  </div>

	  <div class="email_shared_settings">
	    <div class="sharedEmailsHeading">Who has access:</div>
	    <div id="sharedEmailsTableContainer">
              <table id="sharedEmailsTable">
                <tbody>
                </tbody>
              </table>
	    </div>
	    <div class="noSharedEmailsMessage">
	      You haven't shared this list with any email addresses yet.
	    </div>

	    <div class="sharedEmailsHeading sharedEmailsAddPeopleHeading">Add people:</div>
	    <div class="addPeopleWidget">
	      <form class="emailEntryForm">
		<input class="emailListInput" type="text" name="emails" placeholder="Comma-separated email addresses"/>
		<span class="is_editable buttonset smallButtonset">
		  <span class="buttons">
		    <input type="radio" id="shared_email_editable_false" name="email_settings_editable" data-editable="false" /><label for="shared_email_editable_false">view</label>
		    <input type="radio" id="shared_email_editable_true" name="email_settings_editable"  data-editable="true" /><label for="shared_email_editable_true">edit</label>
		  </span>
		</span>
		<div class="fancyButton emailEntryFormSubmitButton">Add</div>
	      </form>
	      <div class="addPeopleWidgetNotice">Everyone you add is sent an invitation link, which they must click to activate.</div>
	    </div>
	  </div>

	  <div class="embedded_settings">
	    <div class="section linkSection">
	      <em>Send this secret link to anyone you want to see this list.</em>
	      <input type="text" name="collabLink" class="collabLink" readonly>
	    </div>
	    <div class="section optionsSection">
	      You can <strong><span class="embeddedSettingsView">view</span><span class="embeddedSettingsEdit">edit</span></strong> this list.
	    </div>
	  </div>

	</div>
      </script>

      

      

      

      

      
      
      

    

      <div id="keyboardShortcutHelper" class="ui-dialog">
	<div class="title ui-dialog-titlebar ui-widget-header">
	  <div class="expand"><span class="down">â†“</span><span class="up">â†‘</span></div>
	  Keyboard Shortcuts
	</div>
	  <table class="shortcutList">
	    <tbody><tr>
	      <td class="commandName">Zoom in</td>
	      <td class="commandDescription">
		<span class="showOnWindows showOnLinux showOnChromeOS">Alt + Right</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜ + Shift + &gt;</span>
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Zoom out</td>
	      <td class="commandDescription">
		<span class="showOnWindows showOnLinux showOnChromeOS">Alt + Left</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜ + Shift + &lt;</span>
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Expand / collapse</td>
	      <td class="commandDescription">
		<span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + Down/Up
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Indent</td>
	      <td class="commandDescription">
		Tab
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Outdent</td>
	      <td class="commandDescription">
		Shift + Tab<br>
		(or press Enter on an empty line)
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Move</td>
	      <td class="commandDescription">
		<span class="showOnWindows showOnLinux">Alt</span><span class="showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + Shift + Up/Down
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Add a note </td>
	      <td class="commandDescription">
		Shift + Enter
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Complete</td>
	      <td class="commandDescription">
		<span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + Enter
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Delete</td>
	      <td class="commandDescription">
		<span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + Shift + <span class="showOnWindows showOnLinux showOnChromeOS">Backspace</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">Delete</span>
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Search</td>
	      <td class="commandDescription">
		Escape
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Show/hide completed</td>
	      <td class="commandDescription">
		<span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + O
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Star page</td>
	      <td class="commandDescription">
		<span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + Shift + <span class="commandAsterisk">âˆ—</span>
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Switch between pages</td>
	      <td class="commandDescription">
		<span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + ;<br>
		(hold <span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> while switching)
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Bold / italic / underline</td>
	      <td class="commandDescription">
		<span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + B/I/U
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Keyboard shortcuts</td>
	      <td class="commandDescription">
		<span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + ?
	      </td>
	    </tr>

	  </tbody></table>
      </div>

      <div id="cutAndCopyBucket" contenteditable=""></div>
      <div id="pasteBucket" contenteditable=""></div>
      
      <div id="cutAndCopyDetectionContainer" contenteditable="" tabindex="-1"></div>

      <div id="hidden">

	<div id="moveDropLine"></div>

        <div id="bulletBucket"></div>

        <div id="itemSelectionControls">
          <a class="complete">
            <span class="completeButtonCompleteText">Complete</span> All
	    <hr>
          </a>
          <a class="delete">
            Delete All
          </a>
          <div class="numSelectedItems">
            <span class="numSelectedItemsValue"></span> items
          </div>
        </div>

	

	<div id="autocompleteBox"></div>

	<div id="contentHtmlContainer"></div>

	<div id="loginPopupContents">
	  <form class="loginForm" name="loginForm" method="post">
	    <input type="hidden" name="username" value="jienamc@icloud.com">
	    <div class="loginFormErrorMessage"></div>
	    <label for="password" class="loginFormLabel">Enter your password:</label> <input class="loginFormPasswordInput" type="password" name="password">
	  </form>
	  <a href="/accounts/password_reset/" class="loginFormForgotPasswordLink" target="_blank">Forgot your password?</a>
	</div>

      <div id="controls">
	  <a id="expandButton" title="Expand/collapse children">
            <svg class="expandButtonMinus" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg">
              <line x1="5.5" y1="10" x2="14.5" y2="10"></line>
            </svg>
            <svg class="expandButtonPlus" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg">
              <line x1="5.5" y1="10" x2="14.5" y2="10"></line>
              <line x1="10" y1="5.5" x2="10" y2="14.5"></line>
            </svg>
          </a>
          <div id="controlsLeft" class="">
	    

            <div class="mouse-helper"></div>

	    
	    
	    <a class="complete">
	      Complete
	      <hr>
	    </a>
	    

	    <a class="note">
	      <span class="addNote">Add</span><span class="editNote">Edit</span> Note
	      <hr>
	    </a>

	    

            
            
	    <a class="share">
	      <span class="normalName">Share</span><span class="sharedName">Shared</span><span class="placeholderName">Embedded</span>
	      <hr>
	    </a>
            

	    <div id="moreControls">
	      <a class="export">
		Export
		<hr>
	      </a>
	      <a class="duplicate">
		Duplicate
		<hr>
	      </a>
	      <a class="delete">
		<span class="normalName">Delete</span><span class="sharedName">Delete</span><span class="placeholderName">Remove</span>
	      </a>
	    </div>
          </div>
	</div></div>

<!-- Rating & Recommendation Dialog -->

      <div id="ratingDialog" style="display:none;">
	<div id="rateWithStars">
	  <!-- The stars are nested to enable appropriate css based filling of the stars on hovering (ie: hover over the second star, it and the first should both be filled in.  -->
	  <p id="promptText">
	    Please click a star to rate WorkFlowy.
	  </p>
	  <div class="rating low" data-rating="low">
	    <div class="star"><p>It kinda stinks.</p></div>
	    <div class="rating med" data-rating="med">
	      <div class="star"><p>It's okay.</p></div>
	      <div class="rating high" data-rating="high">
		<div class="star"><p>I love it!</p></div>
	      </div>
	    </div>
	  </div>
	</div>
	<p id="promptContext"></p>
      </div>

      <script id="post-rating-dialog-text" type="text/x-inert-html">
        <p style="padding:10px; margin: 10px 0; background:#ffc; border-radius:5px; border: 1px solid #dda;">
          <strong>We'll give you both 250 more monthly WorkFlowy items when a friend signs up through your Facebook post</strong>.
          <br />
          <small style="font-size:11px;"> You currently have <span class="quotaMonthlyItems">0</span> WorkFlowy items per month.
        </small>
        </p>
      </script>
<!-- End Rating & Recommendation Dialog -->


<!-- Payments dialog -->


<!-- End Payments dialog -->














<img class="proPitch" id="proPitchBottomRight" src="/media/i/go-pro.png">








<div id="team-dialog"></div>

<div id="ios-browser-editing-notice" style="display:none;">
  <p>
    <strong>Warning:</strong> Your browser does not fully support editing in WorkFlowy. If you edit this document, you may notice a few glitches.
  </p>
  <div class="install-app-section" style="display:none;">
    <p>
      To get full offline access and other goodies, install the WorkFlowy iOS app.
    </p>
    <p>
      </p><div class="fancyButton">
        <a style="text-decoration:none; color:#4f4f4f;" href="https://itunes.apple.com/us/app/workflowy/id551139514?mt=8&amp;uo=4" target="itunes_store">Install App</a>
      </div>
    <p></p>
  </div>
</div>


<div class="onboarding-guide onboarding-guide--center">

    <div class="onboarding-guide__steps">
        <div class="onboarding-guide__step onboarding-guide__step--visible">
            <h2 class="onboarding-guide__headline">Welcome to WorkFlowy!</h2> You can organize your whole life with WorkFlowy. To get started, click "Next".
        </div>
        <div class="onboarding-guide__step">
            First, create two bullets, "Work" and "Personal".
        </div>
        <div class="onboarding-guide__step">
            Now, zoom in on "Work".
            <div class="onboarding-guide__hint">
                Click the bullet point to zoom
            </div>
        </div>
        <div class="onboarding-guide__step">
            Nice! Now, add the bullet "Projects".
        </div>
        <div class="onboarding-guide__step">
            Underneath "Projects," create an indented list of all the projects you are working on.
            <div class="onboarding-guide__hint">
                Hit [Tab] to indent. (to outdent, hold down [Shift] while hitting [Tab])
            </div>
        </div>
        <div class="onboarding-guide__step">
            Re-order the list of projects by importance.
            <div class="onboarding-guide__hint">
                Drag the bullet point to move
            </div>
        </div>
        <div class="onboarding-guide__step">
            Collapse and then expand the list of projects
            <div class="onboarding-guide__hint">
                Click the "-" that appears to the left of the bullet when you hover.
            </div>
        </div>
        <div class="onboarding-guide__step">
            Zoom in on the most important project in your list.
        </div>
        <div class="onboarding-guide__step">
            Write down your next steps on the project.
        </div>
        <div class="onboarding-guide__step">
            Mark the first step as complete.
            <div class="onboarding-guide__hint">
                Hover over the bullet point of the item to find the complete button.
            </div>
        </div>
        <div class="onboarding-guide__step">
            Zoom out to your "Projects" list, and share your most important project with anyone you are working on it with
            <div class="onboarding-guide__hint">
                Hover over the project's bullet point, then click "Share" when the menu pops up.
            </div>
        </div>
        <div class="onboarding-guide__step">
             <strong>Almost done!</strong> If you have a smartphone, download our iOS or Android app. Your data will automatically sync across all your devices.
             <div>
                 <a class="fancyButton onboarding__step__button" href="https://itunes.apple.com/us/app/workflowy/id551139514?mt=8" target="_blank">
                    Get iOS App
                 </a>
             </div>
             <div>
                 <a class="fancyButton onboarding__step__button" href="https://play.google.com/store/apps/details?id=com.workflowy.android&amp;hl=en" target="_blank">
                    Get Android App
                 </a>
             </div>
        </div>
        <div class="onboarding-guide__step">
           There's a lot more you can do with WorkFlowy. To explore more functionality, watch the videos in the "Help" popup.
            <div class="onboarding-guide__hint">
                Click the "Help" button in the top bar.
            </div>
        </div>
        <div class="onboarding-guide__step">
            Finally check out <strong>WorkFlowy Pro</strong>. Pro has all the goodness of WorkFlowy, plus additional features and unlimited usage.
            <div class="fancyButton upgrade-button onboarding__step__button">Learn More</div>
        </div>
        <div class="onboarding-guide__step onboarding-guide__step--final">
            <strong>Congratulations you're done!</strong> We hope you find WorkFlowy useful.
        </div>
    </div>

    <div class="onboarding-guide__controls group">
        <span class="onboarding-guide__button onboarding-guide__button--visible onboarding-guide__button--next fancyButton">
            Next
        </span>

        <span class="onboarding-guide__button onboarding-guide__button--done fancyButton">
            Done
        </span>

        <div class="onboarding-guide__progress-bar progress-bar">
            <div class="onboarding-guide__progress-bar__progress progress-bar__progress"></div>
            <div class="onboarding-guide__progress-bar__number progress-bar__number"></div>
        </div>
    </div>

    <div class="weekly-report" style="display:none;">
        <h1 class="weekly-report__headline">Your Past Week</h1>
        <small>You've used WorkFlowy for <span class="js-weekly-report__weeks-active">â€¦</span>.</small>
        <ul class="weekly-report__list">
            <li class="weekly-report__item">
                <b>Bullets Created:</b> <span class="js-weekly-report__created">â€¦</span>
            </li>
            <li class="weekly-report__item">
                <b>Bullets Changed:</b> <span class="js-weekly-report__changed">â€¦</span>
                <a class="weekly-report__filter-link" data-query="last-changed:7d" href="#/?q=last-changed:7d"></a>
            </li>
            <li class="weekly-report__item">
                <b>Bullets Completed:</b> <span class="js-weekly-report__completed">â€¦</span>
                <a class="weekly-report__filter-link" data-query="completed:7d" href="#/?q=completed:7d"></a>
            </li>
            <li class="weekly-report__item">
                <b>Total Bullets:</b> <span class="js-weekly-report__total">â€¦</span>
            </li>
            <li class="weekly-report__item">
                <b>Total Shared:</b> <span class="js-weekly-report__shared">â€¦</span>
                <a class="weekly-report__filter-link" data-query="is:shared" href="#/?q=is:shared"></a>
            </li>
            <li class="weekly-report__item">
                <b>Total Embedded:</b> <span class="js-weekly-report__embedded">â€¦</span>
                <a class="weekly-report__filter-link" data-query="is:embedded" href="#/?q=is:embedded"></a>
            </li>

            <li class="weekly-report__item">
                <b>Total Referrals:</b> <span class="js-weekly-report__referrals">â€¦</span>
                <a class="weekly-report__filter-link" href="/referrals/" target="_blank"></a>
            </li>
        </ul>
        <small class="weekly-report__support">
            <span class="">
                We hope WorkFlowy improves your life. If it does, please consider supporting the team by <a class="weekly-report__support-link " href="/referrals/" target="_blank">recommending us</a>, or <a class="weekly-report__support-link upgrade-button" href="#">upgrading</a>.
            </span>
            
        </small>
    </div>

</div>



</div>



<div class="ui-dialog ui-widget ui-widget-content ui-corner-all  ui-draggable" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-plan-upgrade-dialog" style="display: none; z-index: 1000; outline: 0px;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title" id="ui-dialog-title-plan-upgrade-dialog">Upgrade to WorkFlowy Pro</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a></div><div id="plan-upgrade-dialog" class="ui-dialog-content ui-widget-content" style="display: block;">
  <div id="payment-wrapper">
  <div id="payment-succeeded" style="display:none;">

  <div class="">
    <h1>
      You've successfully joined WorkFlowy Pro! 
    </h1>
    <p>
      To activate your subscription, just reload WorkFlowy.
    </p>
    <div class="fancyButton reloadButton">
      Reload WorkFlowy Now
    </div>
  </div>

  

</div>
<div id="payment-page">

  <div class="">
    <div id="payment-header">
      <p id="pro-thank-you-paragraph">
	Thanks for joining WorkFlowy Pro! Your purchase keeps WorkFlowy running and lets us make it better.
      </p>
    </div>
    <div id="about-wf-pro">
      <h3>Why should you upgrade?</h3>
      <div id="premium-features-description">
	<ol>
	  <li>
	    Unlimited Lists
	    <small>
	      Pro users can make as many lists and items as they want. Non-pro users are limited to <span class="js-base-quota">250</span> per month.
	    </small>
	  </li>
	  <li>
	    Backup to Dropbox
	    <small>
	      Never worry about losing your WorkFlowy data. Have full backups automatically uploaded to your Dropbox account every day.
	    </small>
	  </li>
	  <li>
	    Password Protected Collaboration 
	    <small>
	      Pro users can share parts of their WorkFlowy account with specific people, verified by email address and password.
	    </small>
	  </li>
	  <li>
	    Theme and Fonts
	    <small>
	      Pro users get to change the look and feel of WorkFlowy with a library of themes and fonts. Make your WorkFlowy more personal.
	    </small>
	  </li>
	  <li>
	    Premium Support
	    <small>
	      We answer emails from Pro members first.
	    </small>
	  </li>	  
	</ol>
      </div>    
    </div>
  </div>

  <div id="purchase-info">
    
    <form id="stripe-form" style="" data-freeaction="/plan" data-proaction="/change_card">
      <p class="globalerror" style="display:none;">
	<b>There was an error processing your card. Please refresh the page and try again.</b> If you are having repeated trouble upgrading your account, please contact <a href="mailto:billing@workflowy.com">billing@workflowy.com</a>
      </p>

      <div class="">
	<h3>Your Plan</h3>
	<div id="choose-your-plan">
	  <div id="individualPlan" class="paymentPlan">
	    <div class="detailsBox">
	      
	      <input type="radio" name="plan" value="monthly_5" id="monthly_5"> <label for="monthly_5">$4.99 per month</label> <br>
	      
	      <input type="radio" name="plan" value="yearly_50" checked="" id="yearly_50"> <label for="yearly_50">$49 per year (~20% off)</label> <br>
	      
	    </div>
	  </div>
      <div class="pro-dialog-teams-link">Work in an organization? Save 20% with <a href="https://workflowy.com/teams/" target="_blank">WorkFlowy For Teams</a></div>
	</div>
	<h3>Credit Card Info</h3>
      </div>

      <div class="payment-form">
	<table>
	  <tbody>
	    
	    <tr class="form-row">
	      <td>
		<label>We Accept</label>
	      </td>
	      <td>
		<img src="/media/i/cards.png" id="cards-accepted">
	      </td>
	    </tr>
	    
	    <tr class="form-row">
	      <td>
		<label for="name" class="stripeLabel">Cardholder's name</label>
	      </td>
	      <td>
		<input type="text" name="name" class="required text">
	      </td>
	    </tr>
	    
	    <tr class="form-row">
	      <td>
		<label>Card Number</label>
	      </td>
	      <td>
		<input type="text" maxlength="20" autocomplete="off" class="card-number stripe-sensitive required text" name="card-number">
	      </td>
	    </tr>
	    <tr class="form-row">
	      <td>
		<label>Expiration date</label>
	      </td>
	      <td>
		<div class="expiry-wrapper">
		  <select class="card-expiry-month stripe-sensitive required"><option value="1">1</option><option value="2" selected="">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option></select>
		  <span> / </span>
		  <select class="card-expiry-year stripe-sensitive required" name="card-expiry-year"><option value="2016" selected="">2016</option><option value="2017">2017</option><option value="2018">2018</option><option value="2019">2019</option><option value="2020">2020</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option><option value="2025">2025</option><option value="2026">2026</option><option value="2027">2027</option></select>
		</div>
	      </td>
	    </tr>

	    <tr class="form-row">
	      <td>
		<label>Security code</label>
	      </td>
	      <td>
		<input type="text" maxlength="4" autocomplete="off" class="card-cvc stripe-sensitive required" name="card-cvc">
	      </td>
	    </tr>

	    <tr class="form-row submit-row">
	      <td>
		<label>
		  <img src="/media/i/padlock.png" class="padlock">
		</label>
	      </td>
	      <td>
		
		<button type="submit" name="submit-button" class="fancyButton submit_button">Upgrade Account</button>
		
	      </td>
	    </tr>

	  </tbody>
	</table>
      </div>
      <span class="payment-errors"></span>

    </form>
  </div>
</div>
<div style="clear:both;"></div>

  </div>
</div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all  ui-draggable" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-proPitchDialog" style="display: none; z-index: 1000; outline: 0px;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title" id="ui-dialog-title-proPitchDialog">WorkFlowy Pro</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a></div><div id="proPitchDialog" class="hidden ui-dialog-content ui-widget-content" style="display: block;">
  <div class="videoPlaceholder" data-style="width:400px;height:220px;" data-src="https://www.youtube.com/embed/2J3SqpAKjKw?rel=0&amp;showinfo=0&amp;controls=1&amp;wmode=transparent&amp;fs=0"></div>
  <div class="fancyButton big upgrade-button" style="margin-top:10px;">
    Learn more Â»
  </div>
</div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all  ui-draggable" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-overQuotaDialog" style="display: none; z-index: 1000; outline: 0px;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title" id="ui-dialog-title-overQuotaDialog">Usage Quota Reached</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a></div><div id="overQuotaDialog" class="overQuotaDialog ui-dialog-content ui-widget-content" style="">
  <p>
  You've reached your monthly usage quota of <span class="quotaMonthlyItems">250</span> items. To continue adding items, please upgrade to WorkFlowy Pro.
  </p>
  <div class="upgrade-button fancyButton">
    Join WorkFlowy Pro
  </div>
</div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all  ui-draggable" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-sharedOverQuotaDialog" style="display: none; z-index: 1000; outline: 0px;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title" id="ui-dialog-title-sharedOverQuotaDialog">Usage Quota Reached</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a></div><div id="sharedOverQuotaDialog" class="overQuotaDialog ui-dialog-content ui-widget-content" style="">
  <p>
    The owner of the document you're editing has reached their free monthly usage quota. To add more items, they must upgrade to WorkFlowy Pro or earn more space.
  </p>
</div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all noClose ui-draggable" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-loginPopup" style="display: none; z-index: 1000; outline: 0px;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title" id="ui-dialog-title-loginPopup">Login required for jienamc@icloud.com</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a></div><div id="loginPopup" class="popup ui-dialog-content ui-widget-content" style="display: block;"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Login</span></button></div></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all  ui-draggable" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-exportPopup" style="display: none; z-index: 1000; outline: 0px; top: 150px; left: 333px; height: auto; width: 550px;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title" id="ui-dialog-title-exportPopup">Export List</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a></div><div id="exportPopup" class="popup ui-dialog-content ui-widget-content" style="display: block; width: auto; min-height: 4px; height: auto;"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Close</span></button></div></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all  ui-draggable" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-sharePopup" style="display: none; z-index: 1000; outline: 0px; top: 150px; left: 333px; height: auto; width: 500px;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title" id="ui-dialog-title-sharePopup">Share list</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a></div><div id="sharePopup" class="popup ui-dialog-content ui-widget-content" style="display: block; width: auto; min-height: 71px; height: auto;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all  ui-draggable" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-addSharedSubtreeToMyAccountPopup" style="display: none; z-index: 1000; outline: 0px;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title" id="ui-dialog-title-addSharedSubtreeToMyAccountPopup">Add shared list</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a></div><div id="addSharedSubtreeToMyAccountPopup" class="popup ui-dialog-content ui-widget-content" style="display: block;">
	<div class="messageContainer">
	  <div class="successMessage">
	    <strong>Added this shared list to your account!</strong> It will appear at
	    the bottom of your home view, but you can move it wherever
	    you want.
	  </div>
	  <div class="failureMessage"></div>
	</div>
      </div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all  ui-draggable" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-settingsPopup" style="display: none; z-index: 1000; outline: 0px;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title" id="ui-dialog-title-settingsPopup">Settings</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a></div><div id="settingsPopup" class="popup ui-dialog-content ui-widget-content" style="display: block;">
	
	<div id="settingsRight">
	  
	  <div id="settingsQuotaInfo" class="progressBarContainer">
	    <h2>Current Monthly Usage</h2>

	    <div class="quotaProgressBar progressBar" style="">
	      <div class="currentProgress" style="width: 58.800000000000004px;">
	      </div>
	    </div>
	    <div>
	      <span class="link free_items">Get Free Space</span>
	    </div>
	    <div class="quotaDetailedInformation">
	      You've used <span class="quotaUsedThisMonth">70</span> of <span class="quotaMonthlyItems">250</span> monthly items.<br>
	      For more space, upgrade to <a class="upgrade-button link">WorkFlowy&nbsp;Pro</a> or <span class="link free_items">Get Free Space</span>
	    </div>
	  </div>
	  

	  <div id="proSettingsBox">

	    <div class="">
	      <h2>WorkFlowy Pro</h2>
	      <p class="subtitle">Get the most out of WorkFlowy.</p>
              <div class="videoPlaceholder" data-style="width:185px;height:105px;" data-src="https://www.youtube.com/embed/2J3SqpAKjKw?rel=0&amp;showinfo=0&amp;controls=0&amp;wmode=transparent&amp;fs=0"></div>
	      <div class="fancyButton upgrade-button">
		Learn More Â»
	      </div>
	    </div>

	    

	  </div>
	</div>
	
	<div id="settings">
	  <div class="setting">
	    
	    <div class="gallerySelector" id="themeChooser">
	      Theme: <div id="currentTheme" class="fancyButton galleryShowButton"></div>
	      <div id="theme-gallery" class="gallery">
		<span class="closeMeButton themeCloseButton"></span>
		<div id="theme-scroller" class="galleryScroller"></div>
		<div id="theme-pro-notice" class="galleryProNotice">
		  <p>
		    To use this theme you must upgrade to WorkFlowy Pro.<br>
		    <a class="upgrade-button">Upgrade Now Â»</a>
		  </p>
		</div>
	      </div>
	    </div>
	    
	    <div class="gallerySelector" id="fontChooser">
	      Font: <div id="currentFont" class="fancyButton galleryShowButton"></div>
	      <div id="font-gallery" class="gallery">
		<div id="font-scroller" class="galleryScroller"></div>
		<div id="font-pro-notice" class="galleryProNotice">
		  <p>
		    <a class="upgrade-button">Go Pro Â»</a>
		  </p>
		</div>
	      </div>
	    </div>
	  </div>

	  
	  <div class="setting">
	    <label for="keyboardShortcutHelperCheckboxSettings">Help me learn the keyboard shortcuts:</label>
	    <input type="checkbox" id="keyboardShortcutHelperCheckboxSettings" name="keyboardShortcutHelper" class="keyboardShortcutHelper" value="keyboardShortcutHelper">
	  </div>
	  

	  <div class="setting">
	    <label for="summaryEmailsCheckboxSettings">Send email summaries of changes to my account:</label>
	    <input type="checkbox" id="summaryEmailsCheckboxSettings" name="summaryEmails" value="summaryEmails">
	  </div>

	  

      <div class="setting chromeAppOnly" style="display:none;">
        <label>Opt out of anonymous usage tracking
            <input type="checkbox" class="js-chrome-app-no-track" id="chromeAppNoTrack">
        </label>
      </div>

	  <div id="accountInfo">
	    <div>
	      Account: <span id="currentEmailAddress" class="userEmail">jienamc@icloud.com</span>
	    </div>
	    <span id="changeEmailLink" class="smallSettingsButton">
	      <span class="cancel">Cancel</span> <span class="text">Change email</span>
	    </span>
	    <form method="POST" action="/change_email" id="changeEmailForm" style="display:none;">
	      <div>
		<label for="email">New email:</label><br>
		<input type="text" name="email" value="">
	      </div>
	      <div>
		<label for="email2">Confirm new email:</label><br>
		<input type="text" name="email2" value="">
	      </div>
	      <div>
		<label for="password">Current Password:</label><br>
		<input type="password" name="password" value="">
	      </div>
	      <input class="submit fancyButton" type="submit" value="Change Email">
	    </form>

	    <span id="changePasswordLink" class="smallSettingsButton">
	      <span class="cancel">Cancel</span> <span class="text">Change password</span>
	    </span>
	    <form method="POST" action="/change_password" id="changePasswordForm" style="display:none;">
	      <div>
		<label for="old_password">Current Password:</label><br>
		<input type="password" name="old_password" value="">
	      </div>
	      <div>
		<label for="new_password1">New Password:</label><br>
		<input type="password" name="new_password1" value="">
	      </div>
	      <div>
		<label for="new_password2">Confirm New Password:</label><br>
		<input type="password" name="new_password2" value="">
	      </div>
	      <input class="submit fancyButton" type="submit" value="Change Password">
	    </form>

	    
	    
	    <span id="deleteAccountLink" class="smallSettingsButton">
	      <span class="text">Delete my account</span>
	    </span>
	    
	  </div>
      
	</div>
	<div style="clear:both;"></div>
      </div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Close</span></button></div></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all  ui-draggable" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-deleteAccountDialog" style="display: none; z-index: 1000; outline: 0px;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title" id="ui-dialog-title-deleteAccountDialog">Confirm Account Deletion</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a></div><div id="deleteAccountDialog" style="" class="ui-dialog-content ui-widget-content">
  <p class="deleteWarning">
    If enter your password below, and submit the form, it will permanently delete your account, all lists you've created, and all associated data. This cannot be undone, so do it with care.
  </p>
  
</div><script id="deleteAccountFormTemplate" type="text/janky-template">
    <form id="deleteAccountConfirmation" method="POST" action="/delete_account">
      <label for="deleteAccountPasswordConfirmation">Password: </label>
      <input id="deleteAccountPasswordConfirmation" name="delete_password" type="password" />
    </form>
  </script><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Permanently Delete Account</span></button><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Cancel</span></button></div></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all  ui-draggable" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-1" style="display: none; z-index: 1000; outline: 0px;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title" id="ui-dialog-title-1">Export your offline data</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a></div><div class="offline-export-dialog ui-dialog-content ui-widget-content" style="">
        <p>If you are having trouble syncing, follow these instructions.</p>

        <p>1. Copy the exported data below to your clipboard</p>
        <textarea class="exported-offline-data"></textarea>
        <p>2. Email the data to help@workflowy.com</p>
        <a href="mailto:help@workflowy.com" target="_blank" class="fancyButton big offline-export-email-button">Email Your Data</a>
    </div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button" aria-disabled="false"><span class="ui-button-text">Close</span></button></div></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all  ui-draggable" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-getMoreSpaceDialog" style="display: none; z-index: 1000; outline: 0px;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title" id="ui-dialog-title-getMoreSpaceDialog">Get More Space</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a></div><div id="getMoreSpaceDialog" class="hidden ui-dialog-content ui-widget-content" style="display: block;">
  <p>
    You can currently create <span class="quotaMonthlyItems">250</span> WorkFlowy items per month. There are two ways to get more space.
  </p>
  <div class="bigSquareButton referralButton hoverHand">
    <h1>
      Tell people about WorkFlowy
    </h1>
    <p>
      For every person who you tell about WorkFlowy, we'll give you both 250 more monthly items. <a href="#" class="referralButton">Tell people Â»</a>
    </p>
  </div>
  <div class="bigSquareButton upgrade-button hoverHand">
    <h1>
      Upgrade to WorkFlowy Pro
    </h1>
    <p>
      WorkFlowy Pro lets you create unlimited items, and also comes with a bunch of other cool stuff. <a href="#" class="upgrade-button">Learn More Â»</a>
    </p>
  </div>
</div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all  ui-draggable" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-helpWindow" style="display: none; z-index: 1000; outline: 0px; position: fixed;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title" id="ui-dialog-title-helpWindow">Help</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a></div><div id="helpWindow" style="display: block;" class="ui-dialog-content ui-widget-content">
	<div id="helpRadio">
	  <span id="video" class="current" data-pane="videos">How-to</span>
	  <span id="keyboardShortcuts" data-pane="shortcuts">Commands</span>
	  <span id="questions" data-pane="questions">Support</span>
	</div>

	
        <div id="libraryContainer" class="pane videos">
          <div class="contents">
            <div id="currentBook">
	      <div class="bookName"></div>
	      <div class="videoPlayer">
	        <div id="videoLibraryPlayer"></div>
                <div id="afterLibraryVideoCompleteBox">
	          <div id="nextVideoButton" class="fancyButton">
	            Next Video Â»
	          </div>
                </div>
	      </div>
            </div>
            <div id="bookList">
              <h3>Videos</h3>
              <div class="content"><a id="bookSOPYrxvojVo" class="book fancyButton done" href="#SOPYrxvojVo" data-bookid="0">Getting Started</a> <a id="bookHaqx-rWV_ek" class="book fancyButton " href="#Haqx-rWV_ek" data-bookid="1">Basics</a> <a id="bookHdini-H9faQ" class="book fancyButton " href="#Hdini-H9faQ" data-bookid="2">Zooming</a> <a id="book1oWUD6y8Wzg" class="book fancyButton " href="#1oWUD6y8Wzg" data-bookid="3">Tagging</a> <a id="bookE0ElhjtGoho" class="book fancyButton " href="#E0ElhjtGoho" data-bookid="4">Starring</a> <a id="bookDZ6E9HTedgM" class="book fancyButton " href="#DZ6E9HTedgM" data-bookid="5">Completing</a> <a id="bookOPcOgM9r_vY" class="book fancyButton " href="#OPcOgM9r_vY" data-bookid="6">Collaboration</a> <a id="bookAWKbj4kVS6s" class="book fancyButton " href="#AWKbj4kVS6s" data-bookid="7">Search</a> <a id="bookimUVGWglArQ" class="book fancyButton " href="#imUVGWglArQ" data-bookid="8">Move</a> <a id="bookyCm2rNLhGp4" class="book fancyButton " href="#yCm2rNLhGp4" data-bookid="9">Multi-select</a> <a id="book0g5UkwWI2lc" class="book fancyButton " href="#0g5UkwWI2lc" data-bookid="10">Delete</a> <a id="bookOVH5OM4aV5Y" class="book fancyButton " href="#OVH5OM4aV5Y" data-bookid="11">Duplicate</a> <a id="book8Nw0hUP58q0" class="book fancyButton " href="#8Nw0hUP58q0" data-bookid="12">Expand &amp; Collapse</a> <a id="booksYW5h7iUp_I" class="book fancyButton " href="#sYW5h7iUp_I" data-bookid="13">Import &amp; Export</a> <a id="book45M5xU3J_-0" class="book fancyButton " href="#45M5xU3J_-0" data-bookid="14">Indent</a> <a id="bookCYDKRLBzESY" class="book fancyButton " href="#CYDKRLBzESY" data-bookid="15">Print</a> <a id="bookJ4IlOOZmTwg" class="book fancyButton " href="#J4IlOOZmTwg" data-bookid="16">Undo</a> <a id="bookvvZcGKq0ptQ" class="book fancyButton " href="#vvZcGKq0ptQ" data-bookid="17">Settings</a> </div>
            </div>
            <div style="clear:both;"></div>
          </div>
        </div>
	

	<div id="howTo" class="pane shortcuts" style="display:none;">
	  <div class="darkPaddedContainer">
	    <label for="keyboardShortcutHelperCheckboxHowTo">Help me learn the keyboard shortcuts:</label>
	    <input type="checkbox" id="keyboardShortcutHelperCheckboxHowTo" name="keyboardShortcutHelper" class="keyboardShortcutHelper" value="keyboardShortcutHelper">
	  </div>

	  <table>
	    <tbody><tr>
	      <td class="commandName">Add and edit</td>
	      <td class="commandDescription">Type just as you would in a text editor or word processor. Press <em>Enter</em> to add new items.</td>
	    </tr>
	    <tr>
	      <td class="commandName">Show controls</td>
	      <td class="commandDescription">
		Hover over the bullet of an item.
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Zoom</td>
	      <td class="commandDescription">
		Zoom in: Click the bullet of an item.
		<br>( Shortcut: <em><span class="showOnWindows showOnLinux showOnChromeOS">Alt + Right</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜ + Shift + &gt;</span></em> )

		<br><br>

		Zoom out: Click on the WorkFlowy logo to fully zoom out. Click on individual ancestor items to zoom to them.
		<br>( Shortcut: <em><span class="showOnWindows showOnLinux showOnChromeOS">Alt + Left</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜ + Shift + &lt;</span></em> )
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Expand / collapse</td>
	      <td class="commandDescription"> Click the '+' or '-' that appears when you hover over an item. Double click it to expand all.  To expand all of the zoomed item, double click its name. Double click the WorkFlowy logo to expand all your lists.
		<br>( Shortcut: <em><span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + Down/Up</em> )</td>
	    </tr>
	    <tr>
	      <td class="commandName">Change indent</td>
	      <td class="commandDescription">
		Increase indent: <em>Tab</em>
		<br><br>
		Decrease indent: <em>Shift + Tab</em>
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Move</td>
	      <td class="commandDescription">
		Drag and drop an item's bullet point.
		<br> ( Shortcut: <em><span class="showOnWindows showOnLinux">Alt</span><span class="showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + Shift + Up/Down</em> )
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Add a note </td>
	      <td class="commandDescription">
		Click "Add Note" in the item controls.
		<br>( Shortcut: <em>Shift + Enter</em> )
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Complete</td>
	      <td class="commandDescription">
		Click "Complete" in the item controls.
		<br>( Shortcut: <em><span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + Enter</em> )
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Delete</td>
	      <td class="commandDescription">
		Click "Delete" in the item controls.
		<br>( Shortcut: <em><span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + Shift + <span class="showOnWindows showOnLinux showOnChromeOS">Backspace</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">Delete</span></em> )
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Search</td>
	      <td class="commandDescription">
		Type in the search box that's in the top bar. Click the "x" that appears in the box to exit search mode.
		<br>( Shortcut: <em>Escape</em> )
	      </td>
	    </tr>
            <tr>
	      <td class="commandName">Select multiple items</td>
	      <td class="commandDescription">
                Click and drag across multiple items to select
		them. Use the controls that pop up to manipulate them,
		or the normal keyboard shortcuts. Selected items can
		also be moved and cut, copied, and pasted.
		<br>( Selection shortcuts: <em>Shift + Up/Down, Shift + click, <span class="showOnWindows showOnLinux">Alt</span><span class="showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + click</em> )
	      </td>
            </tr>
	    <tr>
	      <td class="commandName">Show/hide completed items</td>
	      <td class="commandDescription">
		Click the button in the top bar.
		<br>( Shortcut: <em><span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + O</em> )
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Star and switch pages</td>
	      <td class="commandDescription">
		Click the star in the top right of the page to star the current page.
		<br>( Shortcut: <em><span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + Shift + <span class="commandAsterisk">âˆ—</span></em> )
		<br><br>
		Click the starred-page button in the top bar to show the list of starred pages. Click one to switch.
		<br>( Shortcut: <em><span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + ;</em> ) (Hold <span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> while repeatedly pressing ';' to select a page.)
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Bold / italic / underline</td>
	      <td class="commandDescription">
		Highlight text and use shortcuts below to toggle formatting, or use shortcuts while typing.
		<br>( Shortcuts: <em><span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + B/I/U</em> for Bold/Italic/Underline )
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Share and Collaborate</td>
	      <td class="commandDescription">
		Click "Share" in the item controls to share or
		collaborate over a sublist with others.
	      </td>
	    </tr>
            <tr>
              <td class="commandName">Duplicate</td>
              <td class="commandDescription">
		Click "Duplicate" in the item controls to duplicate a
		list. The duplicate copy will appear immediately below
		the original.
              </td>
            </tr>
	    <tr>
	      <td class="commandName">Export</td>
	      <td class="commandDescription">
		Click "Export" in the item controls, then copy the
		text of your list to another program of your
		choice. To export all of your lists, click "Export
		All" in the top-right menu.
	      </td>
	    </tr>
	    <tr>
	      <td class="commandName">Show keyboard shortcuts</td>
	      <td class="commandDescription">
                <em><span class="showOnWindows showOnLinux showOnChromeOS">Control</span><span class="hideOnWindows hideOnLinux hideOnChromeOS">âŒ˜</span> + ?</em>
	      </td>
	    </tr>
	  </tbody></table>
	</div>

	<div class="pane questions" style="display:none;">
	  <div id="faq">
	    <h1>
	      WorkFlowy Support 
	    </h1>
	    
	    <p>
              Please visit our <a href="http://workflowy.zendesk.com" target="_blank">customer support portal</a> to ask a question and view answers to common questions.
	    </p>
            <a href="http://workflowy.zendesk.com" target="_blank" class="fancyButton big">Get Support</a>
	  </div>
	</div>
      </div></div><iframe id="rufous-sandbox" scrolling="no" frameborder="0" allowtransparency="true" allowfullscreen="true" style="position: absolute; visibility: hidden; display: none; width: 0px; height: 0px; padding: 0px; border: none;"></iframe></body></html>         %   7   I   N   Q   \   r      §   ¶   È   Ò   Ø   í  d  …•  …˜  …£  …¬  ‡&  Ú¢  Ú¥  Ú°  ÚÃ  ÛŸ h h  h« hº hÆ iX ip iy i i˜ iÄ mÉ qm qv qº uÚ w € ¬ ² ] h  ‡ ± – yi yr y‹ yÒ E .š .£ .µ .Þ 3Ó Ü! Ü* ÜC Üx à¶ -È -Ñ -ê .* 2r Ò Û ô 1 v E… EŽ E§ EÞ J gs g| g• gÍ l ¾g ¾p ¾‰ ¾Ä Ã „Ü „å „þ …* ‰] ž ž ž& žY ¢” ×¦ ×¯ ×È ×ö Ü, 	˜ 	¡ 	º 	ý 	 J dc dn d‡ dÔ i° z‘ zœ z· zã €P 6 6 6" 6M :R =_ =h =’ A— N` Ni N• R› SË SÖ S× Sð             Œ              z